commit 9055b2f65d670c2b153c7492ca323188b84c3362
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-08-17 14:22:10 +0800

    [HUDI-4632] Remove the force active property for flink1.14 profile (#6415)

0	2	pom.xml

commit 1ad0e9560e4805b682fe661d78f2ad0f2fa1025b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-08-17 14:20:36 +0800

    [HUDI-4529] Tweak some default config options for flink (#6287)

5	5	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
3	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
15	19	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
15	4	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit 042241fa2ca5c90161dc6e062485eef4e0981962
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-08-17 11:26:19 +0530

    [MINOR] Update DOAP with 0.12.0 Release (#6413)

5	0	doap_HUDI.rdf

commit 642f87cc6b6b2971911d2f27619ee6e6f02e76a4
Author: wuwenchi <wuwenchihdu@hotmail.com>
Date:   2022-08-17 09:49:41 +0800

    [HUDI-4601] Read error from MOR table after compaction with timestamp partitioning (#6365)
    
    * read error from mor after compaction
    
    Co-authored-by: Œ‚Œƒ≥ÿ <wuwenchi@deepexi.com>

8	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java
8	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
23	6	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java

commit 8c02e90a9bc36bdd1f9aa115b792c0dc57ae7868
Author: Qi Ji <qjqqyy@users.noreply.github.com>
Date:   2022-08-17 00:53:46 +0800

    [HUDI-4354] Add --force-empty-sync flag to deltastreamer (#6027)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
6	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
21	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 9bbd3dacd775bc720b1ed235709d61dee33e1964
Author: wuwenchi <wuwenchihdu@hotmail.com>
Date:   2022-08-16 14:28:00 +0800

    [HUDI-4621] Add validation that bucket index fields should be subset of primary keys (#6396)
    
    * check bucket index fields
    
    Co-authored-by: Œ‚Œƒ≥ÿ <wuwenchi@deepexi.com>

15	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
41	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit bad954c3b27b9e5236b93c6b0e2be219337fa179
Author: novisfff <62633257+novisfff@users.noreply.github.com>
Date:   2022-08-16 10:40:09 +0800

    [HUDI-4574] Fixed timeline based marker thread safety issue (#6383)
    
    * fixed timeline based markers thread safety issue
    * add document for TimelineBasedMarkers thread safety issues

3	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/MarkerHandler.java
4	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerCreationDispatchingRunnable.java

commit f5bb78bbef23fe0f20b2e1348ddf1ad2836602b0
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-08-15 16:26:29 -0700

    [HUDI-4609] Improve usability of upgrade/downgrade commands in Hudi CLI (#6377)

24	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/UpgradeOrDowngradeCommand.java
14	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java

commit 2633e88a39dc0357141bff15dea734a839ecb9ad
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-08-15 13:44:34 -0700

    [HUDI-4608] Fix upgrade command in Hudi CLI (#6374)

3	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
51	17	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java

commit 997200f27f5ad64c11bc7b6dedc01ca4c898c890
Author: flashJd <47289660@qq.com>
Date:   2022-08-15 16:02:11 +0800

    [MINOR] fix progress field calculate logic in HoodieLogRecordReader (#6291)

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java

commit 553e280c6d7f3cc349bf7718104a66f7d2866a9b
Author: RexAn <bonean131@gmail.com>
Date:   2022-08-15 14:30:10 +0800

    [HUDI-3189] Fallback to full table scan with incremental query when files are cleaned up or achived for MOR table (#6141)
    
    * Spark support MOR read archived commits for incremental query

71	51	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala
53	15	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
0	83	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
187	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestIncrementalReadWithFullTableScan.scala

commit 0d0a4152cfd362185066519ae926ac4513c7a152
Author: feiyang_deepnova <736320652@qq.com>
Date:   2022-08-12 11:24:56 +0800

    [HUDI-4611] Fix the duplicate creation of config in HoodieFlinkStreamer (#6369)
    
    Co-authored-by: linfey <linfey2021@gmail.com>

2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
0	4	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 2ca1fdc1c8b85be7ebd0f8e857d706b5e6eba01e
Author: vamshigv <107005799+vamshigv@users.noreply.github.com>
Date:   2022-08-11 14:41:30 -0700

    [HUDI-4488] Improve S3EventsHoodieIncrSource efficiency (#6228)

42	23	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java

commit 71909f0f8299d86e25f7bfc82ae571e7c72e4fb9
Author: Manu <36392121+xicm@users.noreply.github.com>
Date:   2022-08-11 22:49:30 +0800

    fix bug in cli show fsview all (#6314)

7	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java

commit bd2f99976855e8701e250fb0b7d826b0c1af947b
Author: shaoxiong.zhan <31836510+microbearz@users.noreply.github.com>
Date:   2022-08-11 19:57:07 +0800

    [MINOR] fix potential npe in spark writer (#6363)
    
    Co-authored-by: zhanshaoxiong <shaoxiong0001@@gmail.com>

3	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 34f72fd0d089d0accbda1f2765600ca647d9b6f8
Author: BruceLin <brucekellan@gmail.com>
Date:   2022-08-10 20:25:02 +0800

    [HUDI-4590] Add hudi-aws dependency to hudi-flink-bundle. (#6356)

5	0	packaging/hudi-flink-bundle/pom.xml

commit f9eb91a9ef70f865c9e1496e1474c740649907dc
Author: KnightChess <981159963@qq.com>
Date:   2022-08-10 16:30:31 +0800

    [HUDI-3503] Support more feature to call procedure CleanCommand (#6353)

14	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCleanProcedure.scala
55	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala

commit 43d67102871e0cb5f38dfec41dc1b7fef58f6f64
Author: Xinyao Tian (Richard) <31195026+XinyaoTian@users.noreply.github.com>
Date:   2022-08-10 13:43:42 +0800

    [HUDI-4569][RFC-58] Claim RFC-58 for adding a new feature named 'Multiple event_time Fields Latest Verification in a Single Table' for Hudi (#6328)
    
    Co-authored-by: XinyaoTian <leontian1024@gmail.com>

2	1	rfc/README.md

commit 676b3817bf2042d441aa8abc69036760735efcfa
Author: YonghuaJian <47289660@qq.com>
Date:   2022-08-10 10:11:18 +0800

    [HUDI-4543] Support natural order when table schema contains a field named 'ts' (#6246)
    
    * be able to disable precombine field when table schema contains a field named ts
    
    Co-authored-by: jian yonghua <jianyonghua@163.com>

1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
24	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java
14	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit fdd0c30d3dfc0755a55cb331bdee8001c0b77cd1
Author: wuwenchi <wuwenchihdu@hotmail.com>
Date:   2022-08-10 10:00:57 +0800

    [HUDI-4558] lost 'hoodie.table.keygenerator.class' in hoodie.properties (#6320)
    
    Co-authored-by: Œ‚Œƒ≥ÿ <wuwenchi@deepexi.com>

3	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
3	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java

commit c75e2649d852e0538aaee5df6fc94bf40f3012e5
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-08-09 18:47:02 -0700

    [HUDI-4556] Improve functional test coverage of column stats index (#6319)

13	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/cow-updated2-column-stats-index-table.json
13	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/mor-updated2-column-stats-index-table.json
11	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/update-input-table-json/part-00000-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
119	98	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala

commit 96892b31e18a145e90cb842df804fdeacc498ab7
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-08-09 10:51:53 -0700

    [HUDI-4577] Adding test coverage for `DELETE FROM`, Spark Quickstart guide (#6318)

46	9	hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/HoodieSparkQuickstart.java
15	15	hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieSparkQuickstart.java
83	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteFromTable.scala
35	0	hudi-utilities/src/test/resources/hive-site.xml

commit 850d50b50132cdf6acdab8edbf061622ca3845a1
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2022-08-09 17:27:19 +0530

    [HUDI-4581] Claim RFC-58 for data skipping integration with query engines (#6346)

36	35	rfc/README.md

commit d2cca295462f5fc5d657477afa3c3c5330d3072d
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-08-09 05:24:29 -0500

    [MINOR] Fix wrong key to determine sync sql cascade (#6339)

1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java

commit 009259645fd3ac9736659f391034a70f743a881b
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-08-09 15:11:44 +0530

    [HUDI-4570] Add test for updating multiple partitions in hive sync (#6340)

15	7	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit 75f6266594245cee998a5530711f929023d87a44
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-08-09 12:10:53 +0530

    [HUDI-4571] Fix partition extractor infer function when partition field mismatch (#6333)
    
    Infer META_SYNC_PARTITION_FIELDS and
    META_SYNC_PARTITION_EXTRACTOR_CLASS
    from hoodie.table.partition.fields first.
    If not set, then from hoodie.datasource.write.partitionpath.field.
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

3	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java
20	10	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java
47	13	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/TestHoodieSyncConfig.java

commit 417cca94df8a0d87de6388b5a48b56462c832f18
Author: BruceLin <brucekellan@gmail.com>
Date:   2022-08-09 13:29:00 +0800

    [HUDI-4570] Fix hive sync path error due to reuse of storage descriptors. (#6329)

3	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java

commit f4b2782886b9f01f7b1cce1ef2c06752ff1573e4
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-08-09 10:10:30 +0800

    [HUDI-4572] Fix 'Not a valid schema field: ts' error in HoodieFlinkCompactor if precombine field is not ts (#6331)
    
    Co-authored-by: jian.feng <jian.feng@shopee.com>

2	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
14	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java

commit 8a1b2fe7de9de8f3eeefc754614a180fd8ecd18c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-08-08 23:57:30 +0530

    [HUDI-4568] Shade dropwizard metrics-core in hudi-aws-bundle (#6327)

5	0	packaging/hudi-aws-bundle/pom.xml
0	1	packaging/hudi-flink-bundle/pom.xml
0	1	packaging/hudi-kafka-connect-bundle/pom.xml
0	1	packaging/hudi-utilities-bundle/pom.xml
0	1	packaging/hudi-utilities-slim-bundle/pom.xml

commit 6b02877779efa5d800da8355a4ee1623be8fcf9b
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-08-08 17:28:15 +0800

    [MINOR] improve flink dummySink's parallelism (#6325)

3	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java

commit 59f652a19c51b9cc208728843c87eec32a7cac12
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-08-08 14:14:04 +0800

    [HUDI-4424] Add new compactoin trigger stratgy: NUM_COMMITS_AFTER_REQ°≠ (#6144)

2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/CompactionTriggerStrategy.java
23	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
74	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java
30	0	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java

commit 61fc3c03a69c76c47e65a1b2ee8d17bd9477c3a2
Author: RexXiong <lvshuang.tb@gmail.com>
Date:   2022-08-08 13:59:38 +0800

    [HUDI-4447] fix SQL metasync when perform delete table operation (#6180)

5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala

commit 2be7c3502dc58955a314a790ab31f1bb83db1cf4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-08-08 10:03:16 +0800

    [HUDI-4548] Unpack the column max/min to string instead of Utf8 for Mor table (#6311)

2	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
4	2	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java

commit da60f2acdce8242e7186c894dc02a7848f823c28
Author: 5herhom <543872547@qq.com>
Date:   2022-08-07 15:02:33 +0800

    [HUDI-4508] Repair the exception when reading optimized query for mor in hive and presto/trino (#6254)
    
    In MOR table, file slice may just have log file but no base file,
    before the file slice is compacted. In this case, read-optimized
    query will match the condition !baseFileOpt.isPresent() in HoodieCopyOnWriteTableInputFormat.createFileStatusUnchecked()
    and throw IllegalStateException.
    
    Instead of throwing exception,
    it is more suitable to query nothing in the file slice.
    
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

16	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java
12	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieMergeOnReadTableInputFormat.java

commit 0fa2609815ff2f817c606b0319f7e6ef54cf9ca4
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-08-07 00:33:11 -0500

    [MINOR] Update PR description template (#6323)

11	37	.github/PULL_REQUEST_TEMPLATE.md

commit 9796de9d4c9e173689a573c4ae384dee7792c982
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-08-07 13:30:03 +0800

    [HUDI-4464] Clear warnings in Azure CI (#6210)
    
    
    Co-authored-by: jian.feng <jian.feng@shopee.com>

13	13	azure-pipelines.yml
22	13	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
8	0	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java

commit 660177bce1cd82975d7c25715497e0d2fbb2a95e
Author: HunterXHunter <1356469429@qq.com>
Date:   2022-08-07 11:40:20 +0800

    [HUDI-3669] Add a remote request retry mechanism for 'Remotehoodietablefiles°≠ (#5884)
    
    - Adding request retry to RemoteHoodieTableFileSystemView. Users can enable using the new configs added.

5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
76	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
51	16	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
28	18	hudi-common/src/main/java/org/apache/hudi/common/util/RetryHelper.java
5	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
29	0	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java

commit 95d7489bc5712077eceef831de76a1ba2460641e
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-08-07 08:39:46 +0530

    [HUDI-4517] If no marker type file, fallback to timeline based marker (#6266)
    
    - If MARKERS.type file is not present, the logic assumes that the direct markers are stored, which causes the read failure in certain cases even where timeline server based marker is enabled. This PR handles the failure by falling back to timeline based marker in such cases.

30	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/MarkerBasedRollbackUtils.java
22	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/MarkerUtils.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java

commit 98f01666c740244a23f883ed4a754448fbea1d5b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-08-06 23:08:24 -0400

    [HUDI-4534] Fixing upgrade to reload Metaclient for deltastreamer writes (#6296)

6	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java

commit 78eeb02beb1d342bd86422cf6482129afde14012
Author: leesf <490081539@qq.com>
Date:   2022-08-07 10:52:54 +0800

    [HUDI-4546] Optimize catalog cast logic in HoodieSpark3Analysis (#6307)

4	7	hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala

commit 767c196631240aeda5a8ef4603c17f05a407d8f7
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-08-06 18:19:29 -0400

    [HUDI-4303] Adding 4 to 5 upgrade handler to check for old deprecated "default" partition value (#6248)
    
    - Added FourToFiveUpgradeHandler to detect hudi tables with "default" partition and throwing exception.
    - Added a new write config ("hoodie.skip.default.partition.validation") when enabled, will bypass the above validation. If users have a hudi table where "default" partition was created intentionally and not as sentinel, they can enable this config to get past the validation.

17	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
35	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/FiveToFourDowngradeHandler.java
74	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/FourToFiveUpgradeHandler.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
91	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestUpgradeOrDowngradeProcedure.scala

commit a76f694902db07e9aa5e3a3d9dfa090dfa56c2d1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-08-06 20:35:55 +0530

    [HUDI-4550] Fallback to listing based rollback for completed instant (#6313)
    
    Ideally, rollback is not triggered for completed instants.
    However, if it gets triggered due to some extraneous condition
    or forced while rollback strategy still configured to be marker-based,
    then fallback to listing-based rollback instead of failing.
    
    - CTOR changes in rollback plan and action executors.
    - Change in condition to determine whether to use marker-based rollback.
    - Added UT to cover the scenario.

0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java
0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java
1	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackPlanActionExecutor.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
55	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
6	18	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
2	17	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java

commit 4cc7d409242ec3281e5e9faab89115ce975e8f99
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-08-06 06:38:27 -0500

    [HUDI-4474] Fix inferring props for meta sync (#6310)
    
    - HoodieConfig#setDefaults looks up declared fields, so
      should pass static class for reflection, otherwise, subclasses
      of HoodieSyncConfig won't set defaults properly.
    - Pass all write client configs of deltastreamer to meta sync
    - Make org.apache.hudi.hive.MultiPartKeysValueExtractor
      default for deltastreamer, to align with SQL and flink

3	2	docker/demo/config/hoodie-incr.properties
3	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
2	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
3	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
13	2	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 56ee5205e6a2e8734e87001fc8509ecde4c8b799
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-08-06 18:29:34 +0800

    [HUDI-4514] optimize CTAS to adapt to saveAsTable api in different modes (#6295)

12	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
4	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
66	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala

commit 59527c35903ee76e89ecc3c2bdc5806ac40691d1
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-08-05 17:11:35 -0700

    [HUDI-4540] Cover different table types in functional tests of Spark structured streaming (#6317)

90	74	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala

commit b93f03ad0637c4ddf00378355a7f37c5e9a6169e
Author: Rahil Chertara <rchertar@amazon.com>
Date:   2022-08-02 15:27:40 -0700

    [HUDI-4470] Remove spark dataPrefetch disabled prop in DefaultSource

1	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala

commit ae7395df1e13112a1d99675edb04af05d0242703
Author: HunterXHunter <1356469429@qq.com>
Date:   2022-08-05 19:30:26 +0800

    [HUDI-4547] Fix SortOperatorGen sort indices (#6309)
    
    Signed-off-by: HunterXHunter <1356469429@qq.com>

3	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java

commit fcdd4cf06cd130bfb128e5060605924f13ae25cb
Author: Yonghua Jian_deepnova <47289660@qq.com>
Date:   2022-08-05 14:38:07 +0800

    [HUDI-4544] support retain hour cleaning policy for flink (#6300)

8	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
7	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
1	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit e03cd0a198f63df7fb7ba71d1c9a0b01ae33f021
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-08-05 14:16:53 +0800

    [HUDI-4545] Do not modify the current record directly for OverwriteNonDefaultsWithLatestAvroPayload (#6306)

6	2	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java
9	2	hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteNonDefaultsWithLatestAvroPayload.java

commit a75cc02273ae87c383ae1ed46f95006c366f70fc
Author: KnightChess <981159963@qq.com>
Date:   2022-08-05 09:28:08 +0800

    [HUDI-4530] fix default payloadclass in mor is different with cow (#6288)

1	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala

commit 1761b897ca2dbc2a5bbcbeb111e737e776f5131e
Author: HunterXHunter <1356469429@qq.com>
Date:   2022-08-04 20:28:28 +0800

    [HUDI-4385] Support online compaction in the flink batch mode write (#6093)
    
    * [HUDI-4385] Support online compaction in the flink batch mode write
    
    Signed-off-by: HunterXHunter <1356469429@qq.com>

5	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
8	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
4	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
18	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java

commit 706108e5ea2029148ca2796d7594acb933762a70
Author: Nicholas Jiang <programgeek@163.com>
Date:   2022-08-04 05:25:24 -0700

    [HUDI-4536] ClusteringOperator causes the NullPointerException when writing with BulkInsertWriterHelper in clustering (#6298)

1	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringOperator.java

commit b13cc76b5e2fdcc6ab82c91eaaa6a7b1584e3d68
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-08-04 12:32:08 +0800

    [HUDI-4533] Fix RunCleanProcedure's ArrayIndexOutOfBoundsException (#6293)

3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCleanProcedure.scala
4	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala

commit bab8254fb8f564fb4bda74870587b2c534dd7e15
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-08-04 11:05:24 +0800

    [HUDI-4487] support to create ro/rt table by spark sql (#6262)

4	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
25	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
8	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
132	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala

commit e22b6c12b00e047a8c03726c0e0c689229403293
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-08-04 09:53:09 +0800

    [HUDI-4531] Wrong partition path for flink hive catalog when the partition fields are not in the last (#6292)

26	5	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HiveSchemaUtils.java
20	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogUtil.java
13	19	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieHiveCatalog.java
6	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/TableOptionProperties.java
18	10	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieHiveCatalog.java

commit 345dd81ec86b08f44fa3076597aaabd8088a14e5
Author: shaoxiong.zhan <31836510+microbearz@users.noreply.github.com>
Date:   2022-08-04 09:41:10 +0800

    [HUDI-4520] Support qualified table 'db.table' in call procedures (#6274)

15	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCLIUtils.scala
3	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CommitsCompareProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ExportInstantsProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackToInstantTimeProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowArchivedCommitsProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitFilesProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitPartitionsProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitWriteStatsProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitsProcedure.scala
0	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestNestedSchemaPruningOptimization.scala
26	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/HoodieSparkProcedureTestBase.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestBootstrapProcedure.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestClusteringProcedure.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCommitsProcedure.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCompactionProcedure.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCopyToTableProcedure.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestExportInstantsProcedure.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestFsViewProcedure.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHdfsParquetImportProcedure.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHoodieLogFileProcedure.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestMetadataProcedure.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestRepairsProcedure.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestSavepointsProcedure.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestShowFsPathDetailProcedure.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestStatsProcedure.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestUpgradeOrDowngradeProcedure.scala

commit 7307ff3d5c6d843dbc94e15e57837955def2755e
Author: KnightChess <981159963@qq.com>
Date:   2022-08-04 06:56:51 +0800

    [HUDI-4447] fix no partitioned path extractor error when sync meta (#6263)

1	1	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java
6	0	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/TestHoodieSyncConfig.java

commit 3042b2c7c54c91578dba69a1a814563fb00718d5
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-08-03 14:27:21 -0700

    [HUDI-4525] Fixing Spark 3.3 `AvroSerializer` implementation (#6279)

1	1	.github/workflows/bot.yml
4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala
28	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala
25	2	hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala
15	20	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala
96	25	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala

commit e3dabbc3ad0a686c1bc526eb9b21586fe665812f
Author: HunterXHunter <1356469429@qq.com>
Date:   2022-08-03 16:49:51 +0800

    [HUDI-4298] Mor table reading for base and log files lost sequence of events (#6286)
    
    * [HUDI-4298] Mor table reading for base and log files lost sequence of events
    
    Signed-off-by: HunterXHunter <1356469429@qq.com>

8	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
13	6	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
26	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java

commit 8b35013658eb432dec1db2c0b487d8588e4f9c64
Author: F7753 <mabiaocas@gmail.com>
Date:   2022-08-03 12:32:32 +0800

    [HUDI-4477] Adjust partition number of flink sink task (#6218)
    
    Co-authored-by: lewinma <lewinma@tencent.com>

2	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java

commit 2ac48721157c883164a169a0f98b3f5db20979a7
Author: Œ‚œÈ∆Ω <408317717@qq.com>
Date:   2022-08-03 11:22:12 +0800

    remove test resources (#6147)
    
    Co-authored-by: root <root@TCN1004532-1.tcent.cn>

0	3	hudi-flink-datasource/hudi-flink/pom.xml

commit 4ec060129fb66dfd753a61266ef2436fa6748168
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-08-03 07:09:33 +0800

    [HUDI-4516] fix Task not serializable error when run HoodieCleaner after one failure (#6265)
    
    
    Co-authored-by: jian.feng <jian.feng@shopee.com>

3	1	hudi-common/src/main/java/org/apache/hudi/common/util/DefaultSizeEstimator.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java

commit cdbd1561e0df1f66d582aadd9d62b30a16fb04b0
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-08-02 18:20:38 -0400

    [HUDI-4501] Throwing exception when restore is attempted with hoodie.arhive.beyond.savepoint is enabled (#6239)

3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
57	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java

commit 0f88efb278f44626c443ebe49a553be63de42ab6
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-08-03 00:52:01 +0530

    [HUDI-4512][HUDI-4513] Fix bundle name for spark3 profile (#6261)

1	1	pom.xml
1	0	scripts/release/deploy_staging_jars.sh
1	0	scripts/release/validate_staged_bundles.sh

commit 5cb51220fecdd82e2651bbd1cc8b41533ec5008b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-08-02 10:08:38 -0400

    [HUDI-3848] Fixing minor bug in listing based rollback request generation (#6244)

3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java
67	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java

commit 84d195d4d4fbb1ca915d03999c704a910b6588fc
Author: 5herhom <35916131+5herhom@users.noreply.github.com>
Date:   2022-08-02 14:29:05 +0800

    [HUDI-4510] Repair config "hive_sync.metastore.uris" in flink sql hive schema sync is not effective (#6257)

3	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java

commit 251b63ef0bfc97a153a27d2eae55b04f22c89533
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-08-02 09:31:06 +0530

    [HUDI-4518] Free lock if allocated but not acquired (#6272)
    
    If the lock is not null but its state has not yet transitioned to
    ACQUIRED, retry fails because the lock is not de-allocated.
    See issue https://github.com/apache/hudi/issues/5702

2	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/transaction/lock/HiveMetastoreBasedLockProvider.java

commit 2996292f2baa4fce2fedb9a72f169fba24d8ae41
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-08-02 09:13:06 +0530

    [HUDI-4025] Add Presto and Trino query node to validate queries (#5578)
    
    * Add Presto and Trino query nodes to hudi-integ-test
    * Add yamls for query validation
    * Add presto-jdbc and trino-jdbc to integ-test-bundle

78	0	docker/demo/config/test-suite/deltastreamer-hive-sync-presto.yaml
10	0	hudi-integ-test/pom.xml
23	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
51	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
79	35	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java
62	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseQueryNode.java
12	34	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java
60	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/PrestoQueryNode.java
60	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/TrinoQueryNode.java
21	1	hudi-integ-test/src/test/resources/unit-test-cow-dag.yaml
2	0	packaging/hudi-integ-test-bundle/pom.xml
14	0	pom.xml

commit c72d895fed4b8f0ca899f15ff07d3446143811ac
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-07-31 20:02:21 +0530

    [MINOR] Add license header (#6247)
    
    Add license header to TestConfigUtils

18	0	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestConfigUtils.java

commit c9725899c3f9516412dcc683875d81ac226d9b45
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-07-29 19:26:30 -0700

    [MINOR] Fix convertPathWithScheme tests (#6251)

6	1	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit 0f703a7e15833493037f7f7a07882cd73044ee65
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-07-29 19:25:57 -0700

    [HUDI-4507] Improve file name extraction logic in metadata utils (#6250)

18	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
4	17	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
10	2	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java

commit e04b3188e2222465eabed71ba19342cb92d10963
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-29 23:32:19 +0800

    [HUDI-4505] Returns instead of throws if lock file exists for FileSystemBasedLockProvider (#6242)
    
    To avoid unnecessary exception throws

10	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/FileSystemBasedLockProvider.java

commit a1cf401350ee7f8a66b4e927bce22b45a11260fc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-29 20:06:24 +0800

    [HUDI-4504] Disable metadata table by default for flink (#6241)

2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java

commit 9335e4e487f3bc6d4d1025b4c91f53c9da6a21ed
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-07-29 15:40:12 +0530

    Moving to 0.13.0-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/base_java11/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	docker/hoodie/hadoop/trinobase/pom.xml
1	1	docker/hoodie/hadoop/trinocoordinator/pom.xml
1	1	docker/hoodie/hadoop/trinoworker/pom.xml
2	2	hudi-aws/pom.xml
1	1	hudi-cli/pom.xml
2	2	hudi-client/hudi-client-common/pom.xml
2	2	hudi-client/hudi-flink-client/pom.xml
2	2	hudi-client/hudi-java-client/pom.xml
2	2	hudi-client/hudi-spark-client/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-examples/hudi-examples-common/pom.xml
1	1	hudi-examples/hudi-examples-flink/pom.xml
1	1	hudi-examples/hudi-examples-java/pom.xml
1	1	hudi-examples/hudi-examples-spark/pom.xml
1	1	hudi-examples/pom.xml
2	2	hudi-flink-datasource/hudi-flink/pom.xml
2	2	hudi-flink-datasource/hudi-flink1.13.x/pom.xml
2	2	hudi-flink-datasource/hudi-flink1.14.x/pom.xml
2	2	hudi-flink-datasource/hudi-flink1.15.x/pom.xml
2	2	hudi-flink-datasource/pom.xml
1	1	hudi-gcp/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-integ-test/pom.xml
2	2	hudi-kafka-connect/pom.xml
2	2	hudi-spark-datasource/hudi-spark-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark/pom.xml
1	1	hudi-spark-datasource/hudi-spark2-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark2/pom.xml
1	1	hudi-spark-datasource/hudi-spark3-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark3.1.x/pom.xml
2	2	hudi-spark-datasource/hudi-spark3.2.x/pom.xml
2	2	hudi-spark-datasource/hudi-spark3.3.x/pom.xml
1	1	hudi-spark-datasource/pom.xml
1	1	hudi-sync/hudi-adb-sync/pom.xml
1	1	hudi-sync/hudi-datahub-sync/pom.xml
1	1	hudi-sync/hudi-hive-sync/pom.xml
1	1	hudi-sync/hudi-sync-common/pom.xml
1	1	hudi-sync/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-aws-bundle/pom.xml
1	1	packaging/hudi-datahub-sync-bundle/pom.xml
1	1	packaging/hudi-flink-bundle/pom.xml
1	1	packaging/hudi-gcp-bundle/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-sync-bundle/pom.xml
1	1	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-kafka-connect-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-trino-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	packaging/hudi-utilities-slim-bundle/pom.xml
1	1	pom.xml

commit 765dd2eae6937eae12e2bf0b9141b7bd388be73d
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-07-29 03:49:56 -0400

    [HUDI-4221] Optimzing getAllPartitionPaths  (#6234)
    
    - Levering spark par for dir processing

29	21	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java

commit ce4330d62b9f2ecd58d9c81b316a56ab3f4d6abe
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-29 15:01:29 +0800

    [HUDI-4499] Tweak default retry times for flink metadata table lock (#6238)

1	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit c39e88dcf0c196bca08aced6e16d47fc72f5e83e
Author: Udit Mehrotra <uditme@amazon.com>
Date:   2022-07-28 20:04:14 -0700

    [HUDI-4495] Fix handling of S3 paths incompatible with java URI standards (#6237)

5	2	hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java
17	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit cfd0c1ee34460332053491fd1e68c2607c14e958
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-07-28 15:36:03 -0700

    [HUDI-4081][HUDI-4472] Addressing Spark SQL vs Spark DS performance gap (#6213)

22	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystPlansUtils.scala
21	0	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
50	37	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala
146	97	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
15	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/HoodieSparkSqlTestBase.scala
29	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala
18	13	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala
16	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala
19	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala
22	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala
10	2	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystPlanUtils.scala
10	2	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3CatalystPlanUtils.scala

commit 70b5cf6dabf03ac54d5472b147bf52303de14e63
Author: Shawn Chang <42792772+CTTY@users.noreply.github.com>
Date:   2022-07-28 09:32:34 -0700

    [MINOR] Minor changes around Spark 3.3 support (#6231)
    
    Co-authored-by: Shawn Chang <yxchang@amazon.com>

1	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
1	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
1	1	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
1	1	hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala
1	1	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_3Adapter.scala

commit ea1fbc71ecf9eec20815e2bc51bb8489e4ca1804
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-07-28 22:15:01 +0800

    [HUDI-4494] keep the fields' order when data is written out of order (#6233)

9	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
16	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 07eedd3ef6a57467582c8abad3ef0f42b98a0044
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-28 20:57:13 +0800

    [HUDI-4484] Add default lock config options for flink metadata table (#6222)

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java
10	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
15	8	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
0	6	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
18	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	5	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java
7	10	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java
6	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java

commit 0a5ce000bfbd8a9696f08c763b1863939465627a
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date:   2022-07-27 19:55:06 -0700

    [HUDI-4490] Make AWSDmsAvroPayload class backwards compatible (#6229)
    
    Co-authored-by: Rahil Chertara <rchertar@amazon.com>

1	2	hudi-common/src/main/java/org/apache/hudi/common/model/AWSDmsAvroPayload.java
2	5	{hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/payload => hudi-common/src/test/java/org/apache/hudi/common/model}/TestAWSDmsAvroPayload.java
48	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java

commit 51599af2818562b6cea9bd01bd81af363209a2d2
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date:   2022-07-27 14:58:29 -0700

    [HUDI-4126] Disable file splits for Bootstrap real time queries (via InputFormat) (#6219)
    
    
    Co-authored-by: Udit Mehrotra <uditme@amazon.com>
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimePath.java
60	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieCopyOnWriteTableInputFormat.java
68	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieMergeOnReadTableInputFormat.java

commit cdaec5a8da060157eb7426b5b70419c5f8868e04
Author: Shawn Chang <42792772+CTTY@users.noreply.github.com>
Date:   2022-07-27 14:47:49 -0700

    [HUDI-4186] Support Hudi with Spark 3.3.0 (#5943)
    
    Co-authored-by: Shawn Chang <yxchang@amazon.com>

4	1	.github/workflows/bot.yml
15	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
14	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetWriteSupport.java
2	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
3	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala
39	9	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
2	0	hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieFlinkQuickstart.java
6	0	hudi-examples/hudi-examples-spark/pom.xml
12	5	hudi-spark-datasource/README.md
5	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
23	13	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
4	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
8	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieCommonSqlParser.scala
2	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/HoodieSparkSqlTestBase.scala
9	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala
1	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestNestedSchemaPruningOptimization.scala
7	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala
7	6	hudi-spark-datasource/{hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala => hudi-spark2/src/main/scala/org/apache/hudi/Spark2HoodieFileScanRDD.scala}
30	5	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
1	1	hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java
0	17	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala
35	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/hudi/Spark31HoodieFileScanRDD.scala
35	2	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
1	1	hudi-spark-datasource/{hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/NestedSchemaPruning.scala => hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/Spark31NestedSchemaPruning.scala}
1	1	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/{ResolveHudiAlterTableCommand312.scala => Spark312ResolveHudiAlterTableCommand.scala}
1	1	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/parser/{HoodieSpark312ExtendedSqlParser.scala => HoodieSpark3_1ExtendedSqlParser.scala}
335	0	hudi-spark-datasource/hudi-spark3.2.x/pom.xml
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/antlr4/imports/SqlBase.g4
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieVectorizedParquetRecordReader.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
35	0	hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/hudi/Spark32HoodieFileScanRDD.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystExpressionUtils.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystPlanUtils.scala
29	5	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/avro/AvroUtils.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroDeserializer.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroSerializer.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/TimeTravelRelation.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala
197	0	hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/execution/datasources/Spark32NestedSchemaPruning.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32DataSourceUtils.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala
1	1	hudi-spark-datasource/{hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommandSpark32.scala => hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/Spark32ResolveHudiAlterTableCommand.scala}
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala
367	0	hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlAstBuilder.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlParser.scala
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/test/resources/log4j-surefire-quiet.properties
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.2.x}/src/test/resources/log4j-surefire.properties
7	7	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.3.x}/pom.xml
1908	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/antlr4/imports/SqlBase.g4
33	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4
191	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark33HoodieVectorizedParquetRecordReader.java
19	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
35	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/hudi/Spark33HoodieFileScanRDD.scala
47	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala
85	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/HoodieSpark33CatalystExpressionUtils.scala
38	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/HoodieSpark33CatalystPlanUtils.scala
80	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_3Adapter.scala
499	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala
381	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala
228	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroUtils.scala
31	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_3AvroDeserializer.scala
29	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_3AvroSerializer.scala
33	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/TimeTravelRelation.scala
43	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala
195	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/execution/datasources/Spark33NestedSchemaPruning.scala
77	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark33DataSourceUtils.scala
505	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark33HoodieParquetFileFormat.scala
72	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/Spark33ResolveHudiAlterTableCommand.scala
222	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala
57	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala
1	1	hudi-spark-datasource/{hudi-spark3 => hudi-spark3.3.x}/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala
129	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala
98	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala
23	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java
347	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala
3351	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_3ExtendedSqlAstBuilder.scala
199	0	hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_3ExtendedSqlParser.scala
174	0	hudi-spark-datasource/hudi-spark3.3.x/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java
330	0	hudi-spark-datasource/hudi-spark3.3.x/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java
53	0	hudi-spark-datasource/hudi-spark3.3.x/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java
30	0	hudi-spark-datasource/hudi-spark3.3.x/src/test/resources/log4j-surefire-quiet.properties
31	0	hudi-spark-datasource/hudi-spark3.3.x/src/test/resources/log4j-surefire.properties
48	10	pom.xml

commit 924c30c7ea3236151cc3670e3f7e4b96d00d2d95
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-07-27 14:04:59 -0700

    [HUDI-4469] Flip reuse flag to true in HoodieBackedTableMetadata to improve file listing (#6214)

16	12	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java

commit 717f159bfd171299d6e748eaf31363321418cea0
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-27 05:30:44 -0500

    [HUDI-3730] Keep metasync configs backward compatible (#6221)

3	3	hudi-aws/src/main/java/org/apache/hudi/aws/sync/{AWSGlueCatalogSyncTool.java => AwsGlueCatalogSyncTool.java}
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
30	21	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
1	1	packaging/hudi-aws-bundle/pom.xml

commit e5faf2cc8470f83323b34305a135461c7e43d14e
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-07-26 18:09:17 +0800

    [HUDI-4210] Create custom hbase index to solve data skew issue on hbase regions (#5797)

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
38	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/RebalancedSparkHoodieHBaseIndex.java
7	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java

commit 1ea1e659c2862e512b3989038a4499bc33a67e6a
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-26 04:58:31 -0500

    [HUDI-4474] Infer metasync configs (#6217)
    
    - infer repeated sync configs from original configs
      - `META_SYNC_BASE_FILE_FORMAT`
        - infer from `org.apache.hudi.common.table.HoodieTableConfig.BASE_FILE_FORMAT`
      - `META_SYNC_ASSUME_DATE_PARTITION`
        - infer from `org.apache.hudi.common.config.HoodieMetadataConfig.ASSUME_DATE_PARTITIONING`
      - `META_SYNC_DECODE_PARTITION`
        - infer from `org.apache.hudi.common.table.HoodieTableConfig.URL_ENCODE_PARTITIONING`
      - `META_SYNC_USE_FILE_LISTING_FROM_METADATA`
        - infer from `org.apache.hudi.common.config.HoodieMetadataConfig.ENABLE`
    
    As proposed in https://github.com/apache/hudi/blob/master/rfc/rfc-55/rfc-55.md#compatible-changes

5	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
0	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
26	31	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java
76	0	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/TestHoodieSyncConfig.java

commit 74d7b4d751ac3d3d701db6a4c54e858d089a7e07
Author: Dongwook Kwon <dongwook@amazon.com>
Date:   2021-03-10 17:42:09 -0800

    [HUDI-4471] Relocate AWSDmsAvroPayload class to hudi-common

1	2	{hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/payload => hudi-common/src/main/java/org/apache/hudi/common/model}/AWSDmsAvroPayload.java
1	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/AWSDmsTransformer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestAWSDatabaseMigrationServiceSource.java

commit e7c8df7e8b886261a9b0da7696a75e73eca04f11
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-07-25 15:36:12 -0700

    [HUDI-4250][HUDI-4202] Optimize performance of Column Stats Index reading in Data Skipping  (#5746)
    
    We provide an alternative way of fetching Column Stats Index within the reading process to avoid the penalty of a more heavy-weight execution scheduled through a Spark engine.

30	2	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/util/JFunction.scala
9	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
9	3	hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java
28	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
42	40	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
2	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ColumnStatsIndices.java
319	162	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala
65	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCatalystUtils.scala
3	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetBulkInsertHelper.scala
0	45	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetUtils.scala
50	50	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
41	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/{HoodieUnsafeRDDUtils.scala => HoodieUnsafeUtils.scala}
7	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
88	80	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala
22	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
22	0	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala

commit 6e7ac457352e007939ba3c44c9dc197de7b88ed3
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-07-26 00:12:29 +0530

    [HUDI-3884] Support archival beyond savepoint commits (#5837)
    
    
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

38	17	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
18	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieArchivalConfig.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
129	15	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java
12	8	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
27	9	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
9	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
26	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieFileGroup.java
51	0	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
15	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
22	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
6	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/MockHoodieTimeline.java

commit eee6a02f77c625c86258a5e9b6ae5013c1268c5c
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-25 10:13:06 -0500

    [HUDI-4456] Clean up test resources (#6203)

1	1	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java
1	1	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/testutils/HoodieJavaClientTestHarness.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/MiniClusterUtil.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java
1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java

commit 71c2c3102b854a02116c7deb00dfa72b333b4382
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-25 08:35:34 -0500

    [HUDI-4455] Improve test classes for TestHiveSyncTool (#6202)
    
    Improve HiveTestService, HiveTestUtil, and related classes.

2	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
2	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
2	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
3	3	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java
26	36	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/{TestCluster.java => HiveTestCluster.java}
61	106	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
3	3	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
3	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
2	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 1fda9ee9bb100d78638467965d2d6dc09f3f07dc
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date:   2022-07-25 18:40:23 +0800

    [HUDI-4071] Match ROLLBACK_USING_MARKERS_ENABLE in sql as datasource (#6206)
    
    Co-authored-by: superche <superche@tencent.com>

0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackToInstantTimeProcedure.scala

commit b513232449a4d85648dfb4675c0bdb1073efbcf2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-25 17:49:01 +0800

    [HUDI-4458] Add a converter cache for flink ColumnStatsIndices (#6205)

18	8	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ColumnStatsIndices.java

commit f6e7227ed548ea5bac66e224df42e2985fb814a9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-07-24 22:08:33 -0700

    [MINOR] Only log stdout output for non-zero exit from commands in IT (#6199)

3	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java

commit 76a28daeb08e7192d75dfc447624c827643bef0d
Author: Tim Brown <tim@onehouse.ai>
Date:   2022-07-24 21:42:15 -0700

    [HUDI-4456] Close FileSystem in SparkClientFunctionalTestHarness  (#6201)

14	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java

commit 2a08a65f719b5c155dde85a0dc318af5033c31d5
Author: Vander <30547463+vanderzh@users.noreply.github.com>
Date:   2022-07-25 12:41:42 +0800

    [MINOR] Fix typos in Spark client related classes (#6204)

1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkInternalSchemaConverter.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java

commit 1a910fd47396e012b58477c709dd340f3a0281af
Author: simonsssu <barley0806@gmail.com>
Date:   2022-07-25 09:28:46 +0800

    [HUDI-3510] Add sync validate procedure (#6200)
    
    * [HUDI-3510] Add sync validate procedure
    
    Co-authored-by: simonssu <simonssu@tencent.com>

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/{HoodieSyncCommand.java => HoodieSyncValidateCommand.java}
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
208	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ValidateHoodieSyncProcedure.scala

commit a54c963543039cc6dce50d51830bb272f71baec2
Author: KnightChess <981159963@qq.com>
Date:   2022-07-24 21:29:47 +0800

    [HUDI-4348] fix merge into sql data quality in concurrent scene (#6020)

7	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala

commit 1a5a9f7f03ec114afa9182af072ea4110b1fdd0d
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date:   2022-07-23 21:08:21 -0700

    [HUDI-4439] Fix Amazon CloudWatch reporter for metadata enabled tables (#6164)
    
    Co-authored-by: Udit Mehrotra <uditme@amazon.com>
    Co-authored-by: Y Ethan Guo <ethan.guoyihua@gmail.com>

5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
42	22	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java

commit ba11082282d48af41126b94e233ea12fcf89c279
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-24 08:44:22 +0800

    [HUDI-4450] Revert the checkpoint abort notification (#6181)

0	9	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	8	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java

commit a0ffd05b7773c4c83714a60dcaa79332ee3aada3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-24 07:10:53 +0800

    [HUDI-4448] Remove the latest commit refresh for timeline server (#6179)

1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
0	14	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
0	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
2	21	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java
0	10	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java

commit 2d745057eae3f6644339ceaba2dfcb6450871442
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-07-23 14:59:16 -0700

    [HUDI-4420] Fixing table schema delineation on partition/data schema for Spark relations  (#5708)

1	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
17	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
93	69	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
10	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala
124	119	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
11	31	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
95	25	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala
1	1	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
3	3	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
3	3	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala

commit da28e38fe3d25e3ab212dc02312f0ae395371072
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-07-24 01:07:04 +0530

    [HUDI-4071] Make NONE sort mode as default for bulk insert (#6195)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java

commit f1f0109ab89f7317c89c6d1d51545a24f12b4692
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date:   2022-07-23 11:44:40 -0700

    [HUDI-4440] Treat boostrapped table as non-partitioned in HudiFileIndex if partition column is missing from schema (#6163)
    
    Co-authored-by: Ryan Pifer <rmpifer@umich.edu>

19	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
28	14	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala

commit f0e843249c4f64495ee8329ac4231237262c7bd1
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-23 10:07:51 -0500

    [MINOR] Bump CI timeout to 150m (#6198)

5	5	azure-pipelines.yml

commit 859157ec01125ee98d2c38bbe767ab7eb0452924
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date:   2022-07-23 17:18:38 +0800

    [MINOR] Fix Call Procedure code style (#6186)
    
    * Fix Call Procedure code style.
    Co-authored-by: superche <superche@tencent.com>

5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{MetadataCreateProcedure.scala => CreateMetadataTableProcedure.scala}
6	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{CreateSavepointsProcedure.scala => CreateSavepointProcedure.scala}
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteMarkerProcedure.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{MetadataDeleteProcedure.scala => DeleteMetadataTableProcedure.scala}
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{DeleteSavepointsProcedure.scala => DeleteSavepointProcedure.scala}
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ExportInstantsProcedure.scala
7	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HdfsParquetImportProcedure.scala
10	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
6	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{MetadataInitProcedure.scala => InitMetadataTableProcedure.scala}
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{RollbackSavepointsProcedure.scala => RollbackToSavepointProcedure.scala}
15	15	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunBootstrapProcedure.scala
4	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCleanProcedure.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowArchivedCommitsProcedure.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowBootstrapMappingProcedure.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitFilesProcedure.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitsProcedure.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowFileSystemViewProcedure.scala
13	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{ListMetadataFilesProcedure.scala => ShowMetadataTableFilesProcedure.scala}
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{ListMetadataPartitionsProcedure.scala => ShowMetadataTablePartitionsProcedure.scala}
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{ShowMetadataStatsProcedure.scala => ShowMetadataTableStatsProcedure.scala}
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/StatsFileSizeProcedure.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/UpgradeOrDowngradeProcedure.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/{ValidateMetadataFilesProcedure.scala => ValidateMetadataTableFilesProcedure.scala}
6	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestBootstrapProcedure.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCommitsProcedure.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestExportInstantsProcedure.scala
10	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHdfsParquetImportProcedure.scala
18	18	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestMetadataProcedure.scala
9	9	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestSavepointsProcedure.scala
3	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestStatsProcedure.scala
3	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestUpgradeOrDowngradeProcedure.scala

commit a5348cc6854e7b35b008fb922868d3b9b2a714f9
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date:   2022-07-22 22:47:47 -0700

    [HUDI-4436] Invalidate cached table in Spark after write (#6159)
    
    Co-authored-by: Ryan Pifer <rmpifer@umich.edu>

28	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 340c3dbbe17d70099400a2754e5abb0f4e6a0712
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-07-23 08:58:04 +0800

    [HUDI-4437] Fix test conflicts by clearing file system cache (#6123)
    
    Co-authored-by: jian.feng <fengjian428@gmial.com>
    Co-authored-by: jian.feng <jian.feng@shopee.com>
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
0	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java
3	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
3	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java

commit af10a97e7ac00271f05964818cc2d3311707e81d
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date:   2022-07-22 17:26:16 -0700

    [HUDI-4435] Fix Avro field not found issue introduced by Avro 1.10 (#6155)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

9	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java
17	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit d5c7c79d875125999a239392170399a90d04a5c6
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-22 19:18:45 -0500

    Revert "[HUDI-4324] Remove use_jdbc config from hudi sync (#6072)" (#6160)
    
    This reverts commit 046044c83d6382d455cfb0ff5c1130ddf926fcf3.

1	1	conf/hudi-defaults.conf.template
1	2	docker/demo/config/hoodie-incr.properties
0	2	docker/demo/sparksql-incremental.commands
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
1	1	hudi-common/src/test/resources/external-config/hudi-defaults.conf
6	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
2	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
4	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
1	0	hudi-kafka-connect/demo/config-sink-hive.json
1	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
10	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
5	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
10	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfigHolder.java
19	13	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncClient.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java
0	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitParams.java
1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
6	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDropPartitionsTool.java

commit a36762a8628ba743f773acb8e0d1de1d71575359
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-07-23 05:44:36 +0530

    [HUDI-4303] Use Hive sentinel value as partition default to avoid type caste issues (#5954)

1	1	hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
5	4	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
11	10	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java
14	10	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java
5	3	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
9	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
5	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
11	11	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala

commit 39f2a06c85d237c51c3bf2b1e2f6876e7eb65e06
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-07-22 15:32:44 -0700

    [HUDI-3979] Optimize out mandatory columns when no merging is performed (#5430)
    
    For MOR, when no merging is performed there is no point in reading either primary-key or pre-combine-key values (unless query is referencing these). Avoiding reading these allows to potentially save substantial resources wasted for reading it out.

2	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
59	41	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
14	10	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
16	13	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
94	15	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
0	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieRelations.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala
1	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 6b84384022f0ee6e709d215d66c07b718c4e8467
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-22 14:20:39 -0500

    Revert "[MINOR] Fix CI issue with TestHiveSyncTool (#6110)" (#6192)
    
    This reverts commit d5c904e10e04980d360129a2ed6b73432b1d2206.

0	4	azure-pipelines.yml
1	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
1	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
3	3	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java
101	58	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
2	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
36	25	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/{HiveTestCluster.java => TestCluster.java}
2	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
5	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 716dd3512b9ae6a519f083ccc601c4c6ff9a8ab1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-07-22 22:46:55 +0530

    [MINOR] Disable Flink compactor IT test (#6189)

3	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java

commit eea4a692c09694c778354c726fdcd4a3d75e13d0
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-07-22 08:35:07 -0700

    [HUDI-4039] Make sure all builtin `KeyGenerator`s properly implement Spark specific APIs (#5523)
    
    This set of changes makes sure that all builtin KeyGenerators properly implement Spark-specific APIs in a performant way (minimizing key-generators overhead)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
41	35	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java
27	38	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriterFactory.java
44	41	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetWriteSupport.java
511	83	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
18	15	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
34	11	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
14	13	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
21	13	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
0	59	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGenUtils.java
0	355	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
36	14	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
48	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SparkKeyGeneratorInterface.java
29	25	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
8	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/BaseBootstrapMetadataHandler.java
100	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/unsafe/UTF8StringBuilder.java
13	11	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieUnsafeRowUtils.scala
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieInternalRowParquetWriter.java
9	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java
0	102	hudi-client/hudi-spark-client/src/test/scala/org/apache/hudi/keygen/TestRowGeneratorHelper.scala
2	1	hudi-client/hudi-spark-client/src/test/scala/org/apache/spark/sql/TestHoodieUnsafeRowUtils.scala
2	2	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
11	1	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
13	1	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
2	12	hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java
1	1	hudi-common/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
2	3	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
4	5	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java
13	23	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java
3	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetBulkInsertHelper.scala
11	11	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
22	21	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
0	2	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteRecordGenerator.java
2	3	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java
19	14	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
8	7	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
1	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java
39	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/ScalaAssertionSupport.scala
345	370	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala

commit d5c904e10e04980d360129a2ed6b73432b1d2206
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-22 10:30:00 -0500

    [MINOR] Fix CI issue with TestHiveSyncTool (#6110)

4	0	azure-pipelines.yml
2	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
2	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
3	3	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java
25	36	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/{TestCluster.java => HiveTestCluster.java}
58	101	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
2	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
3	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
2	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 41653fc708854828bacb23ed624ca6b3a67d6737
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-07-22 06:25:58 -0700

    [MINOR] Fallback to default for hive-style partitioning, url-encoding configs (#6175)
    
    - Fixes broken ITTestHoodieDemo#testParquetDemo

2	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java

commit 51b578316102a42cd71f042425f14b4cc0689e6a
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-07-22 09:40:52 +0800

    [HUDI-4404] Fix insert into dynamic partition write misalignment (#6124)

27	31	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
150	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 8e0b47e3609be579da1b66deb9b077b83f87ea90
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date:   2022-07-22 07:25:22 +0800

    [MINOR] Fix result missing information issue in commits_compare Procedure (#6165)
    
    Co-authored-by: superche <superche@tencent.com>

4	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CommitsCompareProcedure.scala

commit 36e656aa7732f8cd30dbbbebc8c8e230e91d015a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-07-21 18:58:40 -0400

    [HUDI-4247] Upgrading protocol buffers version for presto bundle (#5852)

1	1	packaging/hudi-presto-bundle/pom.xml

commit 2e0dd297149f71bee2de0b7e52c86eb5f58a8894
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-07-21 18:57:34 -0400

    [HUDI-4204] Fixing NPE with row writer path and with OCC (#5850)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
14	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala

commit 50cdb867c733536d93a83fbbe86cf46af04784e1
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-07-21 11:38:25 -0700

    [HUDI-4400] Fix missing bloom filters in metadata table in non-partitioned table (#6113)
    
    Fixes the missing bloom filters in metadata table in the non-partitioned table due to incorrect record key generation, because of wrong file names when generating the metadata payload for the bloom filter.

169	34	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
6	3	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
12	11	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
3	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit f52b93fd1020946ed6a45a25b5e7df35716a0d65
Merge: 2bf7920bd9 473be87aa5
Author: wenningd <wenningding95@gmail.com>
Date:   2022-07-21 11:35:52 -0700

    Merge pull request #6154 from rahil-c/rahil-c/disable-emrSpark-properties
    
    [HUDI-4434] Disable EmrFS file metadata caching and EMR Spark's data prefetcher feature

commit 2bf7920bd9dcd1c357854c5aacba87251b60faf4
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date:   2022-07-21 09:57:18 -0700

    [MINOR] Add logger for HoodieCopyOnWriteTableInputFormat (#6161)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

4	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java

commit a33bdd32e37a0a7859256f9db32d2bef0a44c1fa
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-07-21 06:20:47 -0700

    [HUDI-3993] Replacing UDF in Bulk Insert w/ RDD transformation (#5470)

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java
126	125	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriter.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowParquetWriter.java
86	37	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java
0	64	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandleWithoutMetaFields.java
18	16	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetWriteSupport.java
19	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
6	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
6	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
59	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGenUtils.java
68	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SparkKeyGeneratorInterface.java
0	95	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java
120	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieUnsafeRowUtils.scala
30	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/model/TestHoodieInternalRow.java
27	14	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java
166	0	hudi-client/hudi-spark-client/src/test/scala/org/apache/spark/sql/TestHoodieUnsafeRowUtils.scala
0	35	hudi-common/src/main/java/org/apache/hudi/TypeUtils.java
8	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/BloomFilter.java
6	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/HoodieDynamicBoundedBloomFilter.java
7	2	hudi-common/src/main/java/org/apache/hudi/common/bloom/SimpleBloomFilter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/Either.java
11	1	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java
12	0	hudi-common/src/main/java/org/apache/hudi/common/util/TypeUtils.java
1	0	hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
4	5	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
0	189	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
0	72	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/SparkRowWriteHelper.java
71	49	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java
158	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetBulkInsertHelper.scala
5	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
57	41	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java
7	7	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java
2	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala
26	30	hudi-spark-datasource/hudi-spark3/pom.xml

commit c7fe3fd01dc0b7b3d1c4c579391337a0f9c609dd
Author: wenningd <wenningding95@gmail.com>
Date:   2022-07-21 02:42:17 -0700

    [HUDI-3764] Allow loading external configs while querying Hudi tables with Spark (#4915)
    
    Currently when doing Hudi queries w/ Spark, it won't
    load the external configurations. Say if customers enabled
    metadata listing in their global config file, then this would
    let them actually query w/o metadata feature enabled.
    This PR fixes this issue and allows loading global
    configs during the Hudi reading phase.
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

6	0	hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java
5	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
24	13	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSqlConf.scala

commit de37774e120e0c21354f0ae31326736d5023e786
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-07-21 02:36:06 -0700

    [HUDI-3896] Porting Nested Schema Pruning optimization for Hudi's custom Relations (#5428)
    
    Currently, all Hudi Relations bear performance gap relative to Spark's HadoopFsRelation
    and the reason to that is SchemaPruning optimization rule (pruning nested schemas)
    that is unfortunately predicated on usage of HadoopFsRelation, meaning that it's
    not applied in cases when any other relation is used.
    
    This change is porting this rule to Hudi relations (MOR, Incremental, etc)
    by the virtue of leveraging HoodieSparkSessionExtensions mechanism
    injecting modified version of the original SchemaPruning rule
    that is adopted to work w/ Hudi's custom relations.
    
    - Added customOptimizerRules to HoodieAnalysis
    - Added NestedSchemaPrunning Spark's Optimizer rule
    - Handle Spark's Optimizer pruned data schema (to effectively prune nested schemas)
    - Enable HoodieClientTestHarness to inject HoodieSparkSessionExtensions
    - Injecting Spark Session extensions for TestMORDataSource, TestCOWDataSource
    - Disabled fallback to HadoopFsRelation

19	54	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
77	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystPlansUtils.scala
14	55	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
1	0	hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/common/HoodieExampleSparkUtils.java
32	27	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
2	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
162	50	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
0	19	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
4	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
33	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/SchemaConverters.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala
2	0	hudi-spark-datasource/hudi-spark/pom.xml
7	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
19	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
56	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieRelations.scala
57	26	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
40	30	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala
61	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/avro/TestAvroSerDe.scala
40	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/avro/TestSchemaConverters.scala
121	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestNestedSchemaPruningOptimization.scala
73	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystPlanUtils.scala
6	57	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
77	0	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3CatalystPlanUtils.scala
0	45	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3SqlUtils.scala
4	64	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala
197	0	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/NestedSchemaPruning.scala
1	1	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/{HoodieSpark3_1CatalystExpressionUtils.scala => HoodieSpark31CatalystExpressionUtils.scala}
31	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark31CatalystPlanUtils.scala
4	5	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
1	0	hudi-spark-datasource/hudi-spark3/pom.xml
1	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/{HoodieSpark3_2CatalystExpressionUtils.scala => HoodieSpark32CatalystExpressionUtils.scala}
38	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystPlanUtils.scala
4	25	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala
25	3	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala

commit 2394c629731f3f1705517e1366e1cad3950ddec7
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-21 02:25:02 -0500

    [HUDI-4146][RFC-55] Update config changes proposal (#6162)

23	7	rfc/rfc-55/rfc-55.md

commit 348519f3cde1fba7a3c22f259f19ac6563f4db03
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-21 09:38:26 +0800

    [HUDI-4427] Add a computed column IT test (#6150)

28	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java

commit 473be87aa5d71939c2e8a367851b0e3b96744bc0
Author: Rahil Chertara <rchertar@amazon.com>
Date:   2022-07-20 17:04:00 -0700

    Disable EmrFS file metadata caching and EMR Spark's data prefetcher feature

3	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala

commit 2b828ccb98b48f122f2fcc5c268b8e2bf8fd8854
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-07-20 14:09:45 -0700

    [HUDI-4401] Skip HBase version check (#6114)

8	1	hudi-common/src/main/resources/hbase-site.xml

commit e3675fe9b014f0d6c24caeaa23578a54e194e92c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-20 16:10:19 +0800

    [HUDI-4372] Enable matadata table by default for flink (#6066)

29	7	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
11	7	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ExpressionEvaluator.java
4	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java
2	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
6	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java

commit 6c3578069e985a3ec2a115585bd0fa8753d50ff6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-19 15:38:47 +0800

    [HUDI-4416] Default database path for hoodie hive catalog (#6136)

13	12	hudi-flink-datasource/hudi-flink/pom.xml
18	14	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HiveSchemaUtils.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java
56	44	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieHiveCatalog.java
18	56	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/TypeInfoLogicalTypeVisitor.java
13	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
0	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java
1	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/HoodieCatalogTestUtils.java
2	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieHiveCatalog.java

commit 382d19e85b06d0fc7f4ad37bb4e4eae3f5e76b78
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-07-19 07:52:47 +0800

    [HUDI-4065] Add FileBasedLockProvider (#6071)

152	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/FileSystemBasedLockProvider.java
8	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
135	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestFileBasedLockProvider.java
52	35	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java

commit 1959b843b706babed8c16ee31c6fc266871d709f
Author: liujinhui <965147871@qq.com>
Date:   2022-07-18 22:45:52 +0800

    [HUDI-4409] Improve LockManager wait logic when catch exception (#6122)

5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java

commit 9282611baec5069156f627a2c96ee8cdd480bf90
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-07-18 11:46:23 +0800

    [HUDI-4098] Support HMS for flink HudiCatalog (#6082)
    
    * [HUDI-4098]Support HMS for flink HudiCatalog

6	0	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
42	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieCatalogException.java
36	1	hudi-flink-datasource/hudi-flink/pom.xml
9	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
18	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/CatalogOptions.java
203	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HiveSchemaUtils.java
26	10	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java
96	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogUtil.java
899	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieHiveCatalog.java
64	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/TableOptionProperties.java
236	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/TypeInfoLogicalTypeVisitor.java
4	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
15	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
42	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java
66	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/HoodieCatalogTestUtils.java
98	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalogFactory.java
182	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieHiveCatalog.java
30	0	hudi-flink-datasource/hudi-flink/src/test/resources/hive-site.xml
26	0	hudi-flink-datasource/hudi-flink/src/test/resources/test-catalog-factory-conf/hive-site.xml

commit 3964c476e01c6f4de339df0b4777f9587fb1e68c
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-07-17 18:49:29 -0700

    Fix file group count issue with metadata partitions (#5892)

7	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java
25	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java
58	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java

commit ded197800aaacd270ea601037caeb59f84af7788
Author: RexAn <bonean131@gmail.com>
Date:   2022-07-17 16:11:45 +0800

    [HUDI-4170] Make user can use hoodie.datasource.read.paths to read necessary files (#5722)
    
    * Rebase codes
    
    * Move listFileSlices to HoodieBaseRelation
    
    * Fix review
    
    * Fix style
    
    * Fix bug

12	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
37	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
11	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
2	18	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
34	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
90	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 4bda6afe0b2858d31337fe42979929523ba07f6d
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-07-16 16:26:48 -0700

    [HUDI-4249] Fixing in-memory `HoodieData` implementation to operate lazily  (#5855)

0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedHoodieBloomIndexHelper.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieBucketIndex.java
2	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
3	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
4	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java
1	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
1	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
2	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java
2	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
4	7	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java
3	2	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java
2	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java
3	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
4	4	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java
1	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java
3	5	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
2	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java
2	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java
14	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaPairRDD.java
10	22	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java
72	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieBaseListData.java
111	56	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java
0	178	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java
182	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieListData.java
201	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieListPairData.java
0	168	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieMapPair.java
46	24	hudi-common/src/main/java/org/apache/hudi/common/data/HoodiePairData.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java
14	0	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
93	0	hudi-common/src/main/java/org/apache/hudi/common/util/Either.java
19	2	hudi-common/src/test/java/org/apache/hudi/common/data/{TestHoodieList.java => TestHoodieListData.java}
50	30	hudi-common/src/test/java/org/apache/hudi/common/data/{TestHoodieMapPair.java => TestHoodieListDataPairData.java}
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java

commit 80368a049d0764b45ae0ce998a0e7d5897858615
Author: simonsssu <barley0806@gmail.com>
Date:   2022-07-16 22:33:26 +0800

    [HUDI-3503]  Add call procedure for CleanCommand (#6065)
    
    * [HUDI-3503] Add call procedure for CleanCommand
    Co-authored-by: simonssu <simonssu@tencent.com>

1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
95	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCleanProcedure.scala
64	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala

commit 6aec9d754f4a091136c2dba9643b27ae66db255b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-16 20:46:23 +0800

    [HUDI-4408] Reuse old rollover file as base file for flink merge handle (#6120)

20	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
1	11	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java

commit 0faa562b6fc4bf3368d099bf9b43381baf77dd1a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-16 12:02:17 +0800

    [HUDI-4403] Fix the end input metadata for bounded source (#6116)

11	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
14	9	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
8	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
13	9	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
4	21	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java

commit 726e8e3590bad14e2ab39bb733873a13d079a548
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-15 12:23:21 -0500

    [MINOR] Disable TestHiveSyncGlobalCommitTool (#6119)

2	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java

commit b781b310452f117dd11c2cd5322b0cb4bea5c423
Author: JerryYue-M <272614347@qq.com>
Date:   2022-07-15 12:21:50 +0800

    [HUDI-4397] Flink Inline Cluster and Compact plan distribute strategy changed from rebalance to hash to avoid potential multiple threads accessing the same file (#6106)
    
    Co-authored-by: jerryyue <jerryyue@didiglobal.com>

8	4	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java

commit 4898ea52f77758e682ca1ffc59c6f30d184c7638
Author: Tim Brown <tim.brown126@gmail.com>
Date:   2022-07-14 18:11:45 -0700

    [HUDI-4399][RFC-57] Claim RFC 57 for DeltaStreamer proto support (#6112)

1	0	rfc/README.md

commit 05606708fabdd3b6414cce04802ac85617976d04
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-14 16:00:08 +0800

    [HUDI-4393] Add marker file for target file when flink merge handle rolls over (#6103)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java
6	22	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java

commit aaccc63ad5afe6b15c379520722943b88df9c9f9
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-07-14 15:36:26 +0800

    [RFC-51] [HUDI-3478] Hudi to support Change-Data-Capture (#5436)
    
    
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

-	-	rfc/rfc-51/arch.jpg
-	-	rfc/rfc-51/points.jpg
-	-	rfc/rfc-51/query_cdc_on_mor.jpg
-	-	rfc/rfc-51/read_cdc_log_file.jpg
281	0	rfc/rfc-51/rfc-51.md
-	-	rfc/rfc-51/scenario-definition.jpg

commit e70a427956be8206e15aaf158680d2d7f4dbe215
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-14 15:19:26 +0800

    [HUDI-4391] Incremental read from archived commits for flink (#6096)

106	14	hudi-common/src/main/java/org/apache/hudi/common/table/log/InstantRange.java
8	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
42	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
155	26	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
8	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
34	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java
100	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
8	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java

commit ee956b8951f673bf69cd7104255cfef298d09a8c
Author: Luning (Lucas) Wang <rsl4@foxmail.com>
Date:   2022-07-12 15:03:24 +0800

    [HUDI-4379] Bump Flink versions to 1.14.5 and 1.15.1 (#6080)

2	2	pom.xml

commit 994c56148859a8b7d6b6b5c068a7715167e9bb70
Author: HunterXHunter <1356469429@qq.com>
Date:   2022-07-12 14:49:44 +0800

    [HUDI-4298] When reading the mor table with QUERY_TYPE_SNAPSHOT,Unabl°≠ (#5937)
    
    * [HUDI-4298] Add test case for reading mor table
    
    Signed-off-by: LinMingQiang <1356469429@qq.com>

4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
3	3	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java
3	3	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
57	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
3	3	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java
4	15	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java
105	41	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit a270eeeef97ebf87e1ab6c3595ff895b3692c946
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-07-11 13:04:25 +0530

    [MINOR] Update RFCs status (#6078)

8	8	rfc/README.md

commit 51244eba820b49cf5f5fbdfa6482482a74efaee7
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-10 23:33:31 -0500

    [HUDI-4323] Make database table names optional in sync tool (#6073)
    
    * [HUDI-4323] Make database table names optional in sync tool
    * Infer from these properties from the table config

0	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
10	14	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java
55	0	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/TestHoodieSyncConfig.java

commit 63f95ab801c0266bd4f03762b7a353f831b61784
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-07-10 14:12:34 +0800

    [HUDI-3730][RFC-55] Improve hudi-sync classes design and simplify configs (#5695)
    
    * [HUDI-4146] RFC for Improve Hive/Meta sync class design and hierarchies
    
    Co-authored-by: jian.feng <jian.feng@shopee.com>
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

-	-	rfc/rfc-55/hudi-sync-class-diagram.png
-	-	rfc/rfc-55/hudi-sync-flows.png
157	0	rfc/rfc-55/rfc-55.md

commit 046044c83d6382d455cfb0ff5c1130ddf926fcf3
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-10 00:46:09 -0500

    [HUDI-4324] Remove use_jdbc config from hudi sync (#6072)
    
    * [HUDI-4324] Remove use_jdbc config from hudi sync
    * Users should use HIVE_SYNC_MODE instead

1	1	conf/hudi-defaults.conf.template
2	1	docker/demo/config/hoodie-incr.properties
2	0	docker/demo/sparksql-incremental.commands
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
1	1	hudi-common/src/test/resources/external-config/hudi-defaults.conf
0	6	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
0	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
0	4	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
0	1	hudi-kafka-connect/demo/config-sink-hive.json
0	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
0	10	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
0	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
0	5	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
1	10	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfigHolder.java
13	19	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncClient.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java
2	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitParams.java
1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
3	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDropPartitionsTool.java

commit 10aec07fd2557c1b91d76ec5ab1a4902e918c488
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   2022-07-09 20:02:36 +0530

    [MINOR] Bump xalan from 2.7.1 to 2.7.2 (#6062)
    
    Bumps xalan from 2.7.1 to 2.7.2.
    
    ---
    updated-dependencies:
    - dependency-name: xalan:xalan
      dependency-type: direct:production
    ...
    
    Signed-off-by: dependabot[bot] <support@github.com>
    
    Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

1	1	pom.xml

commit 126b88b48ddf3af4ad6b48551cab09eea4c800c9
Author: liujinhui <965147871@qq.com>
Date:   2022-07-09 22:30:48 +0800

    [HUDI-2150] Rename/Restructure configs for better modularity (#6061)
    
    - Move clean related configuration to HoodieCleanConfig
    - Move Archival related configuration to HoodieArchivalConfig
    - hoodie.compaction.payload.class move this to HoodiePayloadConfig

2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
4	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
6	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
4	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java
194	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieArchivalConfig.java
297	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCleanConfig.java
3	394	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
20	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java
8	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
71	26	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
11	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
4	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java
7	7	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
21	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
47	26	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
17	17	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
15	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
6	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java
5	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestSparkHoodieHBaseIndex.java
18	12	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java
25	18	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
33	42	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java
5	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkCopyOnWriteTableArchiveWithReplace.java
7	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
5	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
2	2	hudi-examples/hudi-examples-java/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java
2	2	hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java
25	19	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
3	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
9	10	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java
3	2	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/UpgradeOrDowngradeProcedure.scala
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
11	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
9	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java
4	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java
8	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 6566fc6625072b76dd121f0b28ce7b1ef11b6259
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date:   2022-07-09 09:29:14 +0800

    [HUDI-3500] Add call procedure for RepairsCommand (#6053)

28	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DeDupeType.scala
245	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DedupeSparkJob.scala
134	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/SparkHelpers.scala
5	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
89	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairAddpartitionmetaProcedure.scala
86	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairCorruptedCleanFilesProcedure.scala
86	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairDeduplicateProcedure.scala
112	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairMigratePartitionMetaProcedure.scala
89	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairOverwriteHoodiePropsProcedure.scala
21	0	hudi-spark-datasource/hudi-spark/src/test/resources/table-config.properties
507	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestRepairsProcedure.scala

commit b686c07407bc4d84f7fb181628d373f35ff9f1de
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-07-09 03:08:38 +0800

    [HUDI-4276] Reconcile schema-inject null values for missing fields and add new fields (#6017)
    
    * [HUDI-4276] Reconcile schema-inject null values for missing fields and add new fields.
    
    * fix comments
    
    Co-authored-by: public (bdcee5037027) <mengtao0326@qq.com>

12	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java
5	4	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
21	21	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
7	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieCommonConfig.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
4	6	hudi-common/src/main/java/org/apache/hudi/internal/schema/action/InternalSchemaMerger.java
34	40	hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/AvroSchemaEvolutionUtils.java
5	2	hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/InternalSchemaUtils.java
30	0	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java
65	13	hudi-common/src/test/java/org/apache/hudi/internal/schema/utils/TestAvroSchemaEvolutionUtils.java
1	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
19	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
66	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala

commit fc8d96246a1a97ac1e569a19e58aefbfc33706eb
Author: Kumud Kumar Srivatsava Tirupati <kumudkumartirupati@users.noreply.github.com>
Date:   2022-07-08 20:17:49 +0530

    [HUDI-4335] Bug fixes in AWSGlueCatalogSyncClient post schema evolution. (#5995)
    
    * fix for updateTableParameters which is not excluding partition columns and updateTableProperties boolean check
    
    * Fix - serde parameters getting overrided on table property update
    
    * removing stale syncConfig

18	16	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java

commit f20acb8dc35f7107301b103140f28b92cc7b4983
Author: À’≥–œÈ <scx_white@aliyun.com>
Date:   2022-07-08 15:08:11 +0800

    [HUDI-4367] Support copyToTable on call (#6054)

128	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CopyToTableProcedure.scala
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
353	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCopyToTableProcedure.scala

commit a9985863967052783bad0e0a4381c9f602c31280
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-08 09:56:10 +0800

    [minor] following 4152, refactor the clazz about plan selection strategy (#6060)

14	17	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java
13	13	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
16	37	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
0	90	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/MultiCompactionPlanSourceFunction.java
0	35	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/AllPendingCompactionPlanSelectStrategy.java
74	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/CompactionPlanStrategies.java
10	6	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/{CompactionPlanSelectStrategy.java => CompactionPlanStrategy.java}
0	50	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/InstantCompactionPlanSelectStrategy.java
0	42	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/MultiCompactionPlanSelectStrategy.java
0	43	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/SingleCompactionPlanSelectStrategy.java
11	37	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java
30	29	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/{TestCompactionPlanSelectStrategy.java => TestCompactionPlanStrategy.java}

commit c744848c5915c6e8b50d77c2502e772e76107ca7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-08 09:55:07 +0800

    [HUDI-4366] Synchronous cleaning for flink bounded source (#6051)

8	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java

commit 5673819736571287c80568750bde0dde3b1c2b39
Author: KnightChess <981159963@qq.com>
Date:   2022-07-08 09:38:09 +0800

    [HUDI-4309] fix spark32 repartition error (#6033)

44	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTimeTravelTable.scala
1	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlAstBuilder.scala
22	10	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlParser.scala

commit e74ad324c33c3c51d762c4b3349b92a25888ed10
Author: Lanyuanxiaoyao <lanyuanxiaoyao@gmail.com>
Date:   2022-07-07 14:11:26 +0800

    [HUDI-4152] Flink offline compaction support compacting multi compaction plan at once (#5677)
    
    * [HUDI-4152] Flink offline compaction allow compact multi compaction plan at once
    
    * [HUDI-4152] Fix exception for duplicated uid when multi compaction plan are compacted
    
    * [HUDI-4152] Provider UT & IT for compact multi compaction plan
    
    * [HUDI-4152] Put multi compaction plans into one compaction plan source
    
    * [HUDI-4152] InstantCompactionPlanSelectStrategy allow multi instant by using comma
    
    * [HUDI-4152] Add IT for InstantCompactionPlanSelectStrategy

16	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
80	40	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
90	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/MultiCompactionPlanSourceFunction.java
35	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/AllPendingCompactionPlanSelectStrategy.java
34	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/CompactionPlanSelectStrategy.java
50	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/InstantCompactionPlanSelectStrategy.java
42	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/MultiCompactionPlanSelectStrategy.java
43	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/SingleCompactionPlanSelectStrategy.java
117	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java
149	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/TestCompactionPlanSelectStrategy.java

commit 7eeaff9ee0ee12e93e6bd7a6e8fa5f15a2081a0b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-06 13:42:58 +0800

    [HUDI-4357] Support flink 1.15.x (#6050)

6	6	hudi-client/hudi-flink-client/pom.xml
1	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
8	14	hudi-examples/hudi-examples-flink/pom.xml
3	2	hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/source/ContinuousFileSource.java
11	11	hudi-flink-datasource/hudi-flink/pom.xml
1	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
1	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java
14	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
3	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
3	5	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java
4	6	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
1	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java
51	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java
5	6	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/HoodiePipeline.java
1	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java
3	2	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java
23	0	hudi-flink-datasource/hudi-flink1.13.x/pom.xml
27	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/DataStreamScanProviderAdapter.java
27	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/DataStreamSinkProviderAdapter.java
12	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/Utils.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java
0	0	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java
3	3	hudi-flink-datasource/{hudi-flink => hudi-flink1.13.x}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java
29	0	hudi-flink-datasource/hudi-flink1.14.x/pom.xml
27	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/DataStreamScanProviderAdapter.java
27	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/DataStreamSinkProviderAdapter.java
12	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/Utils.java
523	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
70	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java
79	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java
46	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java
54	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java
325	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java
473	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java
313	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java
84	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java
119	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java
76	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java
385	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java
199	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java
304	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java
57	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java
304	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java
175	0	hudi-flink-datasource/hudi-flink1.15.x/pom.xml
27	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorAdapter.java
33	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorFactoryAdapter.java
34	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/DataStreamScanProviderAdapter.java
37	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/DataStreamSinkProviderAdapter.java
37	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/MailboxExecutorAdapter.java
40	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/RateLimiterAdapter.java
62	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/Utils.java
523	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
70	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java
79	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java
46	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java
54	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java
325	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java
473	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java
313	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java
84	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java
119	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java
76	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java
385	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java
199	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java
304	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java
57	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java
304	0	hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java
32	0	hudi-flink-datasource/hudi-flink1.15.x/src/test/java/org/apache/hudi/adapter/OutputAdapter.java
31	0	hudi-flink-datasource/hudi-flink1.15.x/src/test/java/org/apache/hudi/adapter/StateInitializationContextAdapter.java
43	0	hudi-flink-datasource/hudi-flink1.15.x/src/test/java/org/apache/hudi/adapter/StreamingRuntimeContextAdapter.java
52	0	hudi-flink-datasource/hudi-flink1.15.x/src/test/java/org/apache/hudi/adapter/TestTableEnvs.java
1	0	hudi-flink-datasource/pom.xml
1	1	hudi-kafka-connect/pom.xml
6	6	packaging/hudi-flink-bundle/pom.xml
1	1	packaging/hudi-kafka-connect-bundle/pom.xml
58	7	pom.xml

commit b18c32379ff167c8338b8d18e1f88bb88eb07618
Author: shenjiayu17 <54424149+shenjiayu17@users.noreply.github.com>
Date:   2022-07-06 09:10:35 +0800

    [HUDI-4219] Merge Into when update expression "col=s.col+2" on precombine cause exception (#5828)

34	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
181	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala

commit 3670e82af5b0298190def96a536fba553b745826
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-07-06 00:08:23 +0800

    [HUDI-4356] Fix the error when sync hive in CTAS (#6029)

1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala

commit 8570c3aab432c2313d20f80ace70704fbc61974c
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-07-05 23:56:32 +0800

    [HUDI-4359] Support show_fs_path_detail command on Call Produce Command (#6042)

1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
112	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowFsPathDetailProcedure.scala
54	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestShowFsPathDetailProcedure.scala

commit 23c9c5c2962e1ac053cb4395fa148b9015272990
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date:   2022-07-05 22:50:17 +0800

    [HUDI-3836] Improve the way of fetching metadata partitions from table (#5286)
    
    Co-authored-by: xicm <xicm@asiainfo.com>

1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
3	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
2	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
2	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/RunIndexActionExecutor.java
1	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java
13	14	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
1	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
2	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java
16	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java

commit fbda4ad5bd7cfb8a06badbaaefafafe95ea93b6b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-07-04 23:37:21 -0700

    [HUDI-4360] Fix HoodieDropPartitionsTool based on refactored meta sync (#6043)

16	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDropPartitionsTool.java

commit 45fdcf68a1ce7e780f472b4af67edb4946a4fbc3
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-07-05 10:24:18 +0800

    [HUDI-3116]Add a new HoodieDropPartitionsTool to let users drop table partitions through a standalone job. (#4459)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

396	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDropPartitionsTool.java

commit 6187622178e4e802f4a32a5fa8c856846bf12bd5
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-04 20:03:50 -0500

    [MINOR] Improve variable names (#6039)

3	3	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
19	19	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/SyncUtilHelpers.java

commit c091e4cc3029fcad734667068b7177ea6f871a33
Author: voonhous <voonhousu@gmail.com>
Date:   2022-07-05 06:07:19 +0800

    [HUDI-3730] Add ConfigTool#toMap UT (#6035)
    
    Co-authored-by: voonhou.su <voonhou.su@shopee.com>

4	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ConfigUtils.java
50	0	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestConfigUtils.java

commit e0954040a9ce490843a56d3497715bbc9eb7ffc0
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date:   2022-07-03 21:44:56 +0800

    [HUDI-3511] Add call procedure for MetadataCommand (#6018)

7	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
83	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ListMetadataFilesProcedure.scala
81	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ListMetadataPartitionsProcedure.scala
80	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/MetadataCreateProcedure.scala
71	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/MetadataDeleteProcedure.scala
84	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/MetadataInitProcedure.scala
75	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowMetadataStatsProcedure.scala
147	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ValidateMetadataFilesProcedure.scala
262	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestMetadataProcedure.scala

commit c0e15879668537d6de96db2994fc68209ad0baa5
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-07-03 04:17:25 -0500

    [HUDI-3730] Improve meta sync class design and hierarchies (#5854)
    
    * [HUDI-3730] Improve meta sync class design and hierarchies (#5754)
    * Implements class design proposed in RFC-55
    
    Co-authored-by: jian.feng <fengjian428@gmial.com>
    Co-authored-by: jian.feng <jian.feng@shopee.com>

9	9	docker/demo/sparksql-incremental.commands
22	42	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java
14	23	hudi-aws/src/main/java/org/apache/hudi/aws/sync/{AwsGlueCatalogSyncTool.java => AWSGlueCatalogSyncTool.java}
10	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java
16	0	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
9	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java
60	45	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
7	6	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestHiveSyncContext.java
102	94	hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/BigQuerySyncConfig.java
40	27	hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/BigQuerySyncTool.java
27	82	hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/HoodieBigQuerySyncClient.java
24	68	hudi-gcp/src/test/java/org/apache/hudi/gcp/bigquery/TestBigQuerySyncConfig.java
6	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java
7	9	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/HiveServiceProvider.java
8	5	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
4	67	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
39	39	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
3	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
11	12	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
36	51	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala
17	11	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/cli/BootstrapExecutorUtils.java
6	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
12	6	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java
12	6	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java
12	6	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
7	36	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
0	128	hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AbstractAdbSyncHoodieClient.java
96	127	hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AdbSyncConfig.java
93	76	hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AdbSyncTool.java
112	48	hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/HoodieAdbJdbcClient.java
58	33	hudi-sync/hudi-adb-sync/src/test/java/org/apache/hudi/sync/adb/TestAdbSyncConfig.java
13	70	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncClient.java
19	23	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncTool.java
40	30	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/DataHubSyncConfig.java
8	5	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/HoodieDataHubDatasetIdentifier.java
22	4	hudi-sync/hudi-datahub-sync/src/test/java/org/apache/hudi/sync/datahub/config/TestDataHubSyncConfig.java
0	142	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/AbstractHiveSyncHoodieClient.java
2	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveStylePartitionValueExtractor.java
124	246	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
128	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfigHolder.java
121	123	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
71	90	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/{HoodieHiveClient.java => HoodieHiveSyncClient.java}
8	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java
9	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java
9	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java
9	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedHourPartitionValueExtractor.java
2	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java
45	38	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java
17	17	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java
19	16	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java
36	28	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java
27	29	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java
19	21	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java
37	26	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/{HiveSyncGlobalCommitConfig.java => HiveSyncGlobalCommitParams.java}
25	23	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitTool.java
10	14	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/ReplicationStateSync.java
8	7	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/{ => transaction/lock}/HiveMetastoreBasedLockProvider.java
18	12	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HivePartitionUtil.java
17	11	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java
0	128	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncGlobalCommitTool.java
151	139	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java
154	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java
32	22	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveSyncFunctionalTestHarness.java
23	13	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
0	276	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
196	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieMetaSyncOperations.java
161	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncClient.java
88	52	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java
62	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncTool.java
83	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/model/FieldSchema.java
50	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/model/PartitionEvent.java
8	7	hudi-sync/{hudi-hive-sync/src/main/java/org/apache/hudi/hive => hudi-sync-common/src/main/java/org/apache/hudi/sync/common/model}/PartitionValueExtractor.java
14	2	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ConfigUtils.java
13	39	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/{AbstractSyncTool.java => util/SparkDataSourceTableUtils.java}
27	20	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/SyncUtilHelpers.java
51	24	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestSyncUtilHelpers.java
9	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
6	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
26	22	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java
17	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
10	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
28	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
1	1	packaging/hudi-aws-bundle/pom.xml

commit c00ea8498527d44de127ba34700dfe5000db3652
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date:   2022-07-03 08:47:48 +0800

    [HUDI-3505] Add call procedure for UpgradeOrDowngradeCommand (#6012)
    
    Co-authored-by: superche <superche@tencent.com>

2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
107	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/UpgradeOrDowngradeProcedure.scala
97	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestUpgradeOrDowngradeProcedure.scala

commit 47792a318656ecae0203d44f637742a152bbb0e4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-07-03 08:29:31 +0800

    [HUDI-4353] Column stats data skipping for flink (#6026)

9	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
7	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/HadoopConfigurations.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
4	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java
117	5	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java
13	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
3	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
377	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ColumnStatsIndices.java
552	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ExpressionEvaluator.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
33	42	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
4	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
32	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java
11	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java
180	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ExpressionUtils.java
8	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java
1	2	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestHiveSyncContext.java
3	3	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java
98	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/stats/TestColumnStatsIndices.java
374	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/stats/TestExpressionEvaluator.java
31	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java
7	11	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java
53	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestAvroSchemaConverter.java
3	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
1	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java
1	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java

commit bdf73b26501de62799c4968c197a6ab085019bb7
Author: JerryYue-M <272614347@qq.com>
Date:   2022-07-02 08:38:46 +0800

    [HUDI-3953]Flink Hudi module should support low-level source and sink api (#5445)
    
    Co-authored-by: jerryyue <jerryyue@didiglobal.com>

271	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/HoodiePipeline.java
126	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java

commit 62a0c962aceae5d1c803d48c943c2155ec3ef5f1
Author: RexAn <bonean131@gmail.com>
Date:   2022-07-01 02:07:40 +0800

    [HUDI-3634] Could read empty or partial HoodieCommitMetaData in downstream if using HDFS (#5048)
    
    Add the differentiated logic of creating immutable file in HDFS by first creating the file.tmp and then renaming the file

64	0	hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java
2	29	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
44	0	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java

commit 397fd3014225c2c2ac3b563541425f2ce51eba54
Author: miomiocat <284487410@qq.com>
Date:   2022-07-01 01:00:13 +0800

    [HUDI-3984] Remove mandatory check of partiton path for cli command (#5458)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
8	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java
95	26	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java

commit 8547899a39168c8399d32ee7ee22f35dfe3f7c84
Author: komao <masterwangzx@gmail.com>
Date:   2022-06-30 20:48:50 +0800

    [HUDI-4285] add ByteBuffer#rewind after ByteBuffer#get in AvroDeseria°≠ (#5907)
    
    * [HUDI-4285] add ByteBuffer#rewind after ByteBuffer#get in AvroDeserializer
    
    * add ut
    
    Co-authored-by: wangzixuan.wzxuan <wangzixuan.wzxuan@bytedance.com>

56	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionUtils.scala
2	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala
2	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala
2	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala

commit cdaaa3c4c7f31e7bfdcc9ecd06df347e037e34bd
Author: RexAn <bonean131@gmail.com>
Date:   2022-06-30 10:26:00 +0800

    [HUDI-4346] Fix params not update BULKINSERT_ARE_PARTITIONER_RECORDS_SORTED (#5999)

3	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 6a01f7029c0585f6bff88af5be0c85af6a5ba4be
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date:   2022-06-30 10:20:59 +0800

    [MINOR] Following #2070, Fix BindException when running tests on shared machines. (#5951)

3	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java

commit 3948b8935a79e0773e1e4d77bb1ded5edd7e8d4f
Author: luoyajun <luoyajun1010@gmail.com>
Date:   2022-06-30 09:12:00 +0800

    [HUDI-4336] Fix records overwritten bug with binary primary key (#5996)

5	1	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
15	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java

commit 03a94d9ff5bc673fc68da6681eea7b7d881e1881
Author: wenningd <wenningding95@gmail.com>
Date:   2022-06-29 17:04:34 -0700

    [HUDI-4331] Allow loading external config file from class loader (#5987)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

15	1	hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java

commit e71f04768e7ba9b6278298bbafd0182e9000e31b
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-06-30 01:12:46 +0800

    [MINOR] Make CLI 'commit rollback' using rollbackUsingMarkers false as default (#5174)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java

commit 637660b7aa0b5259af6b9ef943f8a8c76bc19924
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-06-29 16:43:31 +0800

    [HUDI-1575] Claim RFC-56: Early Conflict Detection For Multi-writer (#6002)
    
    Co-authored-by: yuezhang <yuezhang@yuezhang-mac.freewheelmedia.net>

1	0	rfc/README.md

commit e3eb14ad2d5bd25fcfd6bb2eb6e991558c0684ed
Author: Teng <teng_huo@outlook.com>
Date:   2022-06-29 06:13:29 +0800

    [HUDI-4334] close SparkRDDWriteClient after usage in Create/Delete/RollbackSavepointsProcedure (#5994)

2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CreateSavepointsProcedure.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteSavepointsProcedure.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackSavepointsProcedure.scala

commit fd7d25ab630cdd7a3adf21d8a30e03ab718d65d4
Author: bschell <bdscheller@gmail.com>
Date:   2022-06-28 14:54:23 -0500

    [HUDI-1176] Upgrade hudi to log4j2 (#5366)
    
    * Move to log4j2
    
    cr: https://code.amazon.com/reviews/CR-71010705
    
    * Upgrade unit tests to log4j2
    
    * update exclusion
    
    Co-authored-by: Brandon Scheller <bschelle@amazon.com>

10	2	hudi-aws/pom.xml
10	2	hudi-cli/pom.xml
10	2	hudi-client/hudi-client-common/pom.xml
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogHttpClient.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogReporter.java
23	15	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java
26	15	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java
16	9	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java
10	2	hudi-gcp/pom.xml
10	2	hudi-integ-test/pom.xml
10	2	hudi-kafka-connect/pom.xml
10	2	hudi-spark-datasource/hudi-spark/pom.xml
10	2	hudi-sync/hudi-adb-sync/pom.xml
10	2	hudi-sync/hudi-datahub-sync/pom.xml
10	2	hudi-sync/hudi-hive-sync/pom.xml
10	2	hudi-timeline-service/pom.xml
10	2	hudi-utilities/pom.xml
10	2	packaging/hudi-integ-test-bundle/pom.xml
10	2	packaging/hudi-kafka-connect-bundle/pom.xml
10	2	packaging/hudi-timeline-server-bundle/pom.xml
14	4	pom.xml

commit ed823f1c6f99fe1626a07b347d4ce063f47c42f8
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-06-28 12:27:32 -0700

    [HUDI-4320] Make sure `HoodieStorageConfig.PARQUET_WRITE_LEGACY_FORMAT_ENABLED` could be specified by the writer (#5970)
    
    Fixed sequence determining whether Parquet's legacy-format writing property should be overridden to only kick in when it has not been explicitly specified by the caller

7	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java
35	11	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
43	31	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
2	2	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
2	2	hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java

commit efb971901818479e37714fab3b655ed3dc57477b
Author: BruceLin <brucekellan@gmail.com>
Date:   2022-06-28 20:42:26 +0800

    [HUDI-4332] The current instant may be wrong under some extreme conditions in AppendWriteFunction. (#5988)

7	8	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java

commit 08eba914edf6c0c404fe0a9c88896a5dd0821c8f
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-06-28 15:08:48 +0800

    [HUDI-4333] fix HoodieFileIndex's listFiles method log print skipping percent NaN (#5990)

4	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala

commit 09dc001430dab2fef1d36d463538cfe403606e22
Author: KnightChess <981159963@qq.com>
Date:   2022-06-28 09:44:41 +0800

    [HUDI-4325] fix spark sql procedure cause ParseException with semicolon (#5982)
    
    * [HUDI-4325] fix saprk sql procedure cause ParseException with semicolon

1	1	hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4
20	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala

commit b14ed47f211b662e064941c2b9e2fc6c5db7ba9b
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date:   2022-06-28 09:43:36 +0800

    [HUDI-3506] Add call procedure for CommitsCommand (#5974)
    
    * [HUDI-3506] Add call procedure for CommitsCommand
    
    Co-authored-by: superche <superche@tencent.com>

81	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CommitsCompareProcedure.scala
6	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
183	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowArchivedCommitsProcedure.scala
123	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitFilesProcedure.scala
140	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitPartitionsProcedure.scala
115	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitWriteStatsProcedure.scala
293	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCommitsProcedure.scala

commit 8846849a03f559e3835a95a8ca672ec6ff00668d
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-06-27 17:27:16 +0530

    [HUDI-4291] Fix flaky TestCleanPlanExecutor#testKeepLatestFileVersions (#5930)

120	52	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java

commit 3a1fd22841ab40b98589f5dc17717548500bde4b
Author: Œ‚œÈ∆Ω <408317717@qq.com>
Date:   2022-06-27 16:09:44 +0800

    [HUDI-4311] Fix Flink lose data on some rollback scene (#5950)

1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
0	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java

commit 26c967bac60de394ca78e79d27647067680ed630
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-06-27 13:06:50 +0800

    [HUDI-3504] Support bootstrap command based on Call Produce Command (#5977)

254	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/cli/BootstrapExecutorUtils.java
58	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/cli/SchemaProvider.java
3	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
144	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunBootstrapProcedure.scala
117	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowBootstrapMappingProcedure.scala
75	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowBootstrapPartitionsProcedure.scala
89	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestBootstrapProcedure.scala

commit 8f4e2a189e0d89665aaa2a2487c13971ab87b1ef
Author: leesf <490081539@qq.com>
Date:   2022-06-27 12:50:58 +0800

    [HUDI-4315] Do not throw exception in BaseSpark3Adapter#toTableIdentifier (#5957)

44	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala
12	5	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala

commit 72fa19bcc9586e693f4afc99232c2467e93d2148
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date:   2022-06-27 11:09:30 +0800

    [HUDI-4316] Support for spillable diskmap configuration when constructing HoodieMergedLogRecordScanner (#5959)

2	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
2	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringOperator.java
1	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
7	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala

commit 7a6eb0f6e1cb14890506713d169b203ba87d6f42
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date:   2022-06-27 09:37:23 +0800

    [HUDI-4309] Spark3.2 custom parser should not throw exception (#5947)

12	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTimeTravelTable.scala
10	3	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlParser.scala

commit 0a9e568ff5436ee4f5443c91b6c6853dc0b4da3a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-06-26 16:54:57 -0700

    [HUDI-5246] Bumping mysql connector version due to security vulnerability (#5851)

1	1	hudi-sync/hudi-adb-sync/pom.xml

commit 559b26fb7c450bf1caa9f1845664ecee069d372d
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-06-26 10:34:05 -0500

    [MINOR] Remove -T option from CI build (#5972)

1	1	azure-pipelines.yml

commit 1c43c590aca7ac13f474eb5818b6f3859c5dbf40
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-06-26 11:27:14 +0800

    [HUDI-3502] Support hdfs parquet import command based on Call Produce Command (#5956)

325	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/cli/HDFSParquetImporterUtils.java
85	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HdfsParquetImportProcedure.scala
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
202	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHdfsParquetImportProcedure.scala

commit 142adf4ccbf92050dd14d1997c0438565fdfc2cd
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-06-25 21:03:19 +0800

    [HUDI-4296] Fix the bug that TestHoodieSparkSqlWriter.testSchemaEvolutionForTableType is flaky (#5973)

4	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala

commit c86edfc28e811c86d82f98ea07d44dae4f3c5cb1
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-06-24 20:52:28 -0700

    [HUDI-4319] Fixed Parquet's `PLAIN_DICTIONARY` encoding not being applied when bulk-inserting (#5966)
    
    * Fixed Dictionary encoding config not being properly propagated to Parquet writer (making it unable to apply it, substantially bloating the storage footprint)

2	3	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
9	10	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataFileWriterFactory.java
0	36	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetConfig.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetWriter.java
10	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriterFactory.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowParquetWriter.java
0	36	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetConfig.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieInternalRowParquetWriter.java
9	11	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieParquetDataBlock.java
0	42	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java
5	5	hudi-common/src/main/java/org/apache/hudi/io/storage/{HoodieBaseParquetConfig.java => HoodieParquetConfig.java}
1	1	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetStreamWriter.java

commit 360df576a9439b0ad79c32a95b58d53778c7e236
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-06-25 11:23:17 +0800

    Revert "[TEST][DO_NOT_MERGE]fix random failed for ci (#5948)" (#5971)
    
    This reverts commit e8fbd4daf49802f60f800ccc92e66369d44f07f6.

3	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala

commit e8fbd4daf49802f60f800ccc92e66369d44f07f6
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-06-25 10:15:08 +0800

    [TEST][DO_NOT_MERGE]fix random failed for ci (#5948)

4	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala

commit eeafaeacd21cc166a0a2d6419ab866258e9ebe69
Author: jiz <31836510+microbearz@users.noreply.github.com>
Date:   2022-06-25 09:43:23 +0800

    [HUDI-3512] Add call procedure for StatsCommand (#5955)
    
    Co-authored-by: zhanshaoxiong <shaoxiong0001@@gmail.com>

2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
108	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/StatsFileSizeProcedure.scala
85	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/StatsWriteAmplificationProcedure.scala
99	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestStatsProcedure.scala

commit 59978ef4a91fab67c4bb028f13de54fe8234a40d
Author: luokey <854194341@qq.com>
Date:   2022-06-24 15:05:03 +0800

    [HUDI-4260] Change KEYGEN_CLASS_NAME without default value (#5877)
    
    * Change KEYGEN_CLASS_NAME without default value
    
    Co-authored-by: 854194341@qq.com <loukey_7821>

1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java
4	4	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit 30ebdc708bcac5e08c7b1352d726d1c2909f548f
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date:   2022-06-24 14:47:36 +0800

    [HUDI-3735] TestHoodieSparkMergeOnReadTableRollback is flaky (#5874)

8	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java

commit 6456bd3a5199d60ff55d6c576e139025a1c940c7
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date:   2022-06-24 11:28:06 +0800

    [HUDI-4273] Support inline schedule clustering for Flink stream (#5890)
    
    * [HUDI-4273] Support inline schedule clustering for Flink stream
    
    * delete deprecated clustering plan strategy and add clustering ITTest

1	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
0	65	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkRecentDaysClusteringPlanStrategy.java
0	67	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkSelectedPartitionsClusteringPlanStrategy.java
25	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
50	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
9	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
9	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringCommitEvent.java
25	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringCommitSink.java
110	55	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringOperator.java
139	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringPlanOperator.java
6	7	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringPlanSourceFunction.java
19	11	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/FlinkClusteringConfig.java
247	100	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/HoodieFlinkClusteringJob.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
53	10	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
7	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
80	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ClusteringUtil.java
3	20	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
74	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java
28	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
42	3	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/cluster/ITTestHoodieFlinkClustering.java
121	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/ClusteringFunctionWrapper.java
33	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java
2	3	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
5	2	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java
10	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java

commit af9f09047d7324269cb00a7cb2547a6461c178f6
Author: jiz <31836510+microbearz@users.noreply.github.com>
Date:   2022-06-24 10:16:54 +0800

    [HUDI-3509] Add call procedure for HoodieLogFileCommand (#5949)
    
    Co-authored-by: zhanshaoxiong <jiimmyzhan@tencent.com>

2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
139	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowHoodieLogFileMetadataProcedure.scala
125	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowHoodieLogFileRecordsProcedure.scala
103	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHoodieLogFileProcedure.scala

commit eeb78f23e62998fe3238306c7983102f6f43d112
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-06-23 19:40:08 +0530

    [HUDI-4290] Fix fetchLatestBaseFiles to filter replaced filegroups (#5941)
    
    * [HUDI-4290] Fix fetchLatestBaseFiles to filter replaced filegroups
    
    * Separate out incremental sync fsview test with clustering

4	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
181	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFSViewWithClustering.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java

commit 38ff18a19902f3db3b1c497d153cd73e411e8622
Author: Forus <70357858+Forus0322@users.noreply.github.com>
Date:   2022-06-23 21:46:22 +0800

    [HUDI-4299] Fix problem about hudi-example-java run failed on idea. (#5936)

17	1	hudi-examples/hudi-examples-java/pom.xml

commit 1bb017d396562b891065187bac417c52edea24da
Author: jiz <31836510+microbearz@users.noreply.github.com>
Date:   2022-06-22 17:50:20 +0800

    [HUDI-3508] Add call procedure for FileSystemViewCommand (#5929)
    
    * [HUDI-3508] Add call procedure for FileSystemView
    
    * minor
    
    Co-authored-by: jiimmyzhan <jiimmyzhan@tencent.com>

2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
258	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowFileSystemViewProcedure.scala
95	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestFsViewProcedure.scala

commit 1dbd9d407a354f01380148dbf2754a10bc8d600e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-06-22 16:56:06 +0800

    [minor] following 4270, add unit tests for the keys lost case (#5918)

1	1	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
25	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
19	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit c9590790f8dc114ee827b5843c6be710b7819f1d
Author: LinMingQiang <1356469429@qq.com>
Date:   2022-06-22 10:32:21 +0800

    [HUDI-4279] Strength the remote fs view lagging check when latest commit refresh is enabled (#5917)
    
    Signed-off-by: LinMingQiang <1356469429@qq.com>

2	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
19	3	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java

commit c7e430bb46ab721e4716ac89e1067d75a79b3179
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date:   2022-06-21 16:58:50 +0800

    Revert master (#5925)
    
    * Revert "udate"
    
    This reverts commit 092e35c1e300f1eb1a7474136826fed26bc10ccd.
    
    * Revert "[HUDI-3475] Initialize hudi table management module."
    
    This reverts commit 4640a3bbb8e212030f94848a0112784d98772de8.

0	20	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanActionExecutor.java
0	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
0	333	hudi-table-management-service/pom.xml
0	194	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/RequestHandler.java
0	153	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/TableManagementServer.java
0	29	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/EnvConstant.java
0	117	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/ServiceConfig.java
0	78	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/ServiceContext.java
0	29	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/TableManagementServiceConfig.java
0	52	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Action.java
0	47	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/AssistQueryEntity.java
0	44	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Engine.java
0	92	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Instance.java
0	61	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/InstanceStatus.java
0	32	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/exception/HoodieTableManagementException.java
0	102	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/BaseActionExecutor.java
0	59	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/CompactionExecutor.java
0	82	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/submitter/ExecutionEngine.java
0	220	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/submitter/SparkEngine.java
0	71	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/ActionHandler.java
0	51	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/ClusteringHandler.java
0	66	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/CompactionHandler.java
0	29	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/BaseService.java
0	78	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/CleanService.java
0	102	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/ExecutorService.java
0	65	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/MonitorService.java
0	81	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/RetryService.java
0	116	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/ScheduleService.java
0	41	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/MetadataStore.java
0	70	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/impl/RelationDBBasedStore.java
0	38	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/HikariDataSourceFactory.java
0	156	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/InstanceDao.java
0	82	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/SqlSessionFactoryUtil.java
0	32	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/util/DateTimeUtils.java
0	34	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/util/InstanceUtil.java
0	20	hudi-table-management-service/src/main/resources/hikariPool.properties
0	41	hudi-table-management-service/src/main/resources/logback.xml
0	42	hudi-table-management-service/src/main/resources/mybatis-config.xml
0	165	hudi-table-management-service/src/main/resources/mybatis/Instance.xml
0	46	hudi-table-management-service/src/main/resources/table-management-service.sql
0	29	hudi-table-management-service/src/test/resources/log4j-surefire-quiet.properties
0	30	hudi-table-management-service/src/test/resources/log4j-surefire.properties
0	1	pom.xml

commit 092e35c1e300f1eb1a7474136826fed26bc10ccd
Author: ”˜’◊æ∏ <yuzhaojing@bytedance.com>
Date:   2022-06-21 15:22:04 +0800

    udate

0	1	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/TableManagementServer.java

commit 4640a3bbb8e212030f94848a0112784d98772de8
Author: ”˜’◊æ∏ <yuzhaojing@bytedance.com>
Date:   2022-06-08 09:54:31 +0800

    [HUDI-3475] Initialize hudi table management module.

20	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanActionExecutor.java
4	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
333	0	hudi-table-management-service/pom.xml
194	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/RequestHandler.java
154	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/TableManagementServer.java
29	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/EnvConstant.java
117	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/ServiceConfig.java
78	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/ServiceContext.java
29	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/TableManagementServiceConfig.java
52	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Action.java
47	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/AssistQueryEntity.java
44	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Engine.java
92	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Instance.java
61	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/InstanceStatus.java
32	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/exception/HoodieTableManagementException.java
102	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/BaseActionExecutor.java
59	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/CompactionExecutor.java
82	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/submitter/ExecutionEngine.java
220	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/submitter/SparkEngine.java
71	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/ActionHandler.java
51	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/ClusteringHandler.java
66	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/CompactionHandler.java
29	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/BaseService.java
78	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/CleanService.java
102	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/ExecutorService.java
65	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/MonitorService.java
81	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/RetryService.java
116	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/ScheduleService.java
41	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/MetadataStore.java
70	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/impl/RelationDBBasedStore.java
38	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/HikariDataSourceFactory.java
156	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/InstanceDao.java
82	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/SqlSessionFactoryUtil.java
32	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/util/DateTimeUtils.java
34	0	hudi-table-management-service/src/main/java/org/apache/hudi/table/management/util/InstanceUtil.java
20	0	hudi-table-management-service/src/main/resources/hikariPool.properties
41	0	hudi-table-management-service/src/main/resources/logback.xml
42	0	hudi-table-management-service/src/main/resources/mybatis-config.xml
165	0	hudi-table-management-service/src/main/resources/mybatis/Instance.xml
46	0	hudi-table-management-service/src/main/resources/table-management-service.sql
29	0	hudi-table-management-service/src/test/resources/log4j-surefire-quiet.properties
30	0	hudi-table-management-service/src/test/resources/log4j-surefire.properties
1	0	pom.xml

commit 7c4aaa9715cac6729c0809a92857b4aedbbbb24d
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-06-21 11:47:39 +0800

    [HUDI-4270] Bootstrap op data loading missing (#5888)

2	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java

commit 5c204f14161be0afd3eb1d377305ed0f6ed87546
Author: Shawn Chang <42792772+CTTY@users.noreply.github.com>
Date:   2022-06-20 19:54:12 -0700

    [HUDI-4177] Fix hudi-cli rollback with rollbackUsingMarkers method call (#5734)
    
    * Fix hudi-cli rollback with rollbackUsingMarkers method call
    * Add test for hudi-cli rollbackUsingMarkers
    
    Co-authored-by: Shawn Chang <yxchang@amazon.com>

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
17	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java

commit ba4d5bd847a3844796a3d176db26b494c84814b4
Author: Forus <70357858+Forus0322@users.noreply.github.com>
Date:   2022-06-21 07:03:58 +0800

    [HUDI-4251] Fix the problem that the command 'commits sync' description does not match. (#5881)

2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java

commit 17ac5a4573323c3d3391b841d28e7e3a667ab176
Author: RexAn <bonean131@gmail.com>
Date:   2022-06-21 01:32:34 +0800

    [HUDI-4173] Fix wrong results if the user read no base files hudi table by glob paths (#5723)

6	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
14	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
12	18	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
74	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/execution/datasources/HoodieInMemoryFileIndex.scala
2	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
5	1	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
5	1	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala

commit 7601e9e4c71f86a0aa9657d97f3bf51d51833ed0
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-06-20 09:27:35 -0700

    [MINOR] Update DOAP with 0.11.1 Release (#5908)

5	0	doap_HUDI.rdf

commit f1103281d2aebf177231b6c3b6df5cce299957cf
Author: Alexander Trushev <42293632+trushev@users.noreply.github.com>
Date:   2022-06-20 16:07:49 +0700

    [HUDI-4258] Fix when HoodieTable removes data file before the end of Flink job (#5876)
    
    * [HUDI-4258] Fix when HoodieTable removes data file before the end of Flink job

2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
12	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java
50	18	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java
38	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java

commit 7c6bedff252b3ccdb2de74fff438d2eafb489d9b
Author: luokey <854194341@qq.com>
Date:   2022-06-20 15:41:23 +0800

    [HUDI-4259]  Flink create avro schema not conformance to standards (#5878)
    
    * flink create avro schema not conformance to standards
    
    Co-authored-by: 854194341@qq.com <loukey_7821>

2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java

commit d7facb8cb8a8a4f0e2f53677839ea5cbe67baaa5
Author: felixYyu <felix2003@live.cn>
Date:   2022-06-20 15:21:49 +0800

    fix remove redundant Variable (#5806)

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java

commit 7481eacf23794a5957eba39c401100ad2219e887
Author: Shizhi Chen <107476116+chenshzh@users.noreply.github.com>
Date:   2022-06-20 15:19:32 +0800

    [HUDI-4277] supoort flink table source with computed column (#5897)
    
    Co-authored-by: chenshizhi <chenshizhi@bilibili.com>

1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java

commit efafb79eeb872b124c642143387c85cc51aaca59
Author: 5herhom <35916131+5herhom@users.noreply.github.com>
Date:   2022-06-20 15:15:23 +0800

    [MINOR] Add "spillable_map_path" in FlinkCompactionConfig. To avoid the disk space of "/tmp" full when compacting offline. (#5905)

6	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java

commit d4f0326b4bbbabefc5c75617b2b5d6b8bf55fe11
Author: huberylee <shibei.lh@foxmail.com>
Date:   2022-06-20 14:29:21 +0800

    [HUDI-4275] Refactor rollback inflight instant for clustering/compaction to reuse some code (#5894)

1	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
4	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
34	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
8	28	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/HoodieFlinkClusteringJob.java

commit c5c4cfec915fad198ccb57d00bc8d875a78e794b
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-06-19 18:48:22 +0800

    [HUDI-3507] Support export command based on Call Produce Command (#5901)

17	19	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java
239	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ExportInstantsProcedure.scala
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
52	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestExportInstantsProcedure.scala

commit fec49dc12b19801a75c3f61c9da0d47ef0c1d2f8
Author: huberylee <shibei.lh@foxmail.com>
Date:   2022-06-17 18:33:58 +0800

    [HUDI-4165] Support Create/Drop/Show/Refresh Index Syntax for Spark SQL (#5761)
    
    * Support Create/Drop/Show/Refresh Index Syntax for Spark SQL

119	0	hudi-common/src/main/java/org/apache/hudi/common/index/HoodieIndex.java
54	0	hudi-common/src/main/java/org/apache/hudi/common/index/HoodieIndexType.java
75	1	hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4
111	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/Index.scala
22	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
101	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/IndexCommands.scala
142	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieSqlCommonAstBuilder.scala
85	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/command/index/TestIndexSyntax.scala

commit 7689e62cd998036966a39a61187e6d6a812e3415
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-06-17 16:57:14 +0800

    [HUDI-4265] Deprecate useless targetTableName parameter in HoodieMultiTableDeltaStreamer (#5883)

12	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java

commit 0ff34b697416fc697dfa96a80496b74598a95263
Author: KnightChess <981159963@qq.com>
Date:   2022-06-16 17:58:37 +0800

    [HUDI-4214] improve repeat init write schema in ExpressionPayload (#5820)
    
    * [HUDI-4214] improve repeat init write schema in ExpressionPayload

14	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala

commit 2bf0a1906dc65bb676119729ad7e829c6bf6c2a4
Author: KnightChess <981159963@qq.com>
Date:   2022-06-15 20:21:28 +0800

    [HUDI-4217] improve repeat init object in ExpressionPayload (#5825)

38	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala
27	15	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala

commit c291b056996f7c5c2c25ad75f5ac57dd64028327
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-06-15 18:10:35 +0800

    [HUDI-4218] [HUDI-4218] Expose the real exception information when an exception occurs in the tableExists method (#5827)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit 7b946cf35142139ab90320d943c90d905722989f
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date:   2022-06-15 16:50:15 +0800

    [HUDI-3499] Add Call Procedure for show rollbacks (#5848)
    
    * Add Call Procedure for show rollbacks
    
    * fix
    
    * add ut for show_rollback_detail and exception handle
    
    Co-authored-by: superche <superche@tencent.com>

2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
147	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowRollbacksProcedure.scala
105	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala

commit 0811bb38fb61c19cb2759b96c268682a47516efe
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-06-15 14:23:23 +0800

    [HUDI-4255] Make the flink merge and replace handle intermediate file visible (#5866)

4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java
7	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java

commit 25bbff64cf9bb05adda36af4d830abd81655a2d7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-06-15 08:48:13 +0800

    [minor] Following HUDI-4207, remote the new wrapper #init method (#5865)

6	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit f16b1e898216fd722fb12faf2861eb213171c1c5
Author: felixYyu <felix2003@live.cn>
Date:   2022-06-14 14:30:17 +0800

    [MINOR] Fix typo of DisruptorExecutor in RFC 53 (#5860)

1	1	rfc/rfc-53/rfc-53.md

commit 264b15df87aa01fe06191f1499b422bcefaba4f7
Author: HunterXHunter <1356469429@qq.com>
Date:   2022-06-13 22:36:06 +0800

    [HUDI-4207] HoodieFlinkWriteClient.getOrCreateWriteHandle throws an e°≠ (#5788)
    
    Adding more logs to assist in debugging with HoodieFlinkWriteClient.getOrCreateWriteHandle throwing exception

20	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit 4774c4248f3ea2ce863c6f76679639ae1cdddf9c
Author: Qi Ji <qjqqyy@users.noreply.github.com>
Date:   2022-06-13 22:31:57 +0800

    [HUDI-4006] failOnDataLoss on delta-streamer kafka sources (#5718)
    
    add new config key hoodie.deltastreamer.source.kafka.enable.failOnDataLoss
    when failOnDataLoss=false (current behaviour, the default), log a warning instead of seeking to earliest silently
    when failOnDataLoss is set, fail explicitly

17	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
39	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java

commit 0d859fe58be8aded257593d9c6e407ce2be71be0
Author: luoyajun <luoyajun1010@gmail.com>
Date:   2022-06-13 22:29:32 +0800

    [HUDI-3863] Add UT for drop partition column in deltastreamer testsuite (#5727)

22	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit e89f5627e4f1824c36e2e60cfaee3e9f3e977e87
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date:   2022-06-13 22:22:12 +0800

    [HUDI-3682] testReaderFilterRowKeys fails in TestHoodieOrcReaderWriter (#5790)
    
    TestReaderFilterRowKeys needs to get the key from RECORD_KEY_METADATA_FIELD, but the writer in current UT does not populate the meta field and the schema does not contains meta fields.
    
    This fix writes data with schema which contains meta fields and calls writeAvroWithMetadata for writing.
    
    Co-authored-by: xicm <xicm@asiainfo.com>

5	5	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java
17	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieReaderWriterBase.java

commit 14d8735a1c1bd093624a0ef51a256733099d8516
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date:   2022-06-13 19:10:38 +0800

    Strip extra spaces when creating new configuration (#5849)
    
    Co-authored-by: superche <superche@tencent.com>

3	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java

commit c82e3462e3d56b1f6c92d80720a9503da8e57765
Author: sandyfog <154525105@qq.com>
Date:   2022-06-13 10:55:24 +0800

    [MINOR]  fix AvroSchemaConverter duplicate branch in 'switch' (#5813)

2	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java

commit 5aaac21d1dad8d462f96d47bca7d55494a8a8ae1
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-06-12 11:44:18 -0700

    [HUDI-4224] Fix CI issues (#5842)
    
    - Upgrade junit to 5.7.2
    - Downgrade surefire and failsafe to 2.22.2
    - Fix test failures that were previously not reported
    - Improve azure pipeline configs
    
    Co-authored-by: liujinhui1994 <965147871@qq.com>
    Co-authored-by: Y Ethan Guo <ethan.guoyihua@gmail.com>

84	32	azure-pipelines.yml
30	0	hudi-aws/pom.xml
62	4	hudi-cli/pom.xml
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/{testutils/SparkUtilTest.java => TestSparkUtil.java}
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java
5	4	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestClusteringCommand.java
22	10	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java
4	3	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCompactionCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestMarkersCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java
3	7	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/{AbstractShellIntegrationTest.java => HoodieCLIIntegrationTestBase.java}
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/{AbstractShellBaseIntegrationTest.java => HoodieCLIIntegrationTestHarness.java}
28	0	hudi-examples/hudi-examples-common/pom.xml
28	0	hudi-examples/hudi-examples-java/pom.xml
20	0	hudi-flink-datasource/hudi-flink/pom.xml
45	1	hudi-flink-datasource/hudi-flink1.13.x/pom.xml
45	1	hudi-flink-datasource/hudi-flink1.14.x/pom.xml
36	0	hudi-gcp/pom.xml
42	5	hudi-integ-test/pom.xml
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestFileDeltaInputWriter.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSAvroDeltaInputReader.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java
37	0	hudi-spark-datasource/hudi-spark-common/pom.xml
6	5	hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java
30	0	hudi-spark-datasource/hudi-spark-common/src/test/resources/log4j-surefire-quiet.properties
31	0	hudi-spark-datasource/hudi-spark-common/src/test/resources/log4j-surefire.properties
43	0	hudi-spark-datasource/hudi-spark2-common/pom.xml
60	0	hudi-spark-datasource/hudi-spark2/pom.xml
3	10	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java
0	1	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java
1	1	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java
36	0	hudi-sync/hudi-adb-sync/pom.xml
18	0	hudi-sync/hudi-datahub-sync/pom.xml
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
19	19	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestSqlSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestAbstractDebeziumSource.java
10	10	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractCloudObjectsSourceTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractDFSSourceTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestSqlFileBasedTransformer.java
1	0	packaging/hudi-aws-bundle/pom.xml
1	0	packaging/hudi-datahub-sync-bundle/pom.xml
1	0	packaging/hudi-flink-bundle/pom.xml
1	0	packaging/hudi-gcp-bundle/pom.xml
1	0	packaging/hudi-hadoop-mr-bundle/pom.xml
1	0	packaging/hudi-hive-sync-bundle/pom.xml
1	0	packaging/hudi-integ-test-bundle/pom.xml
1	0	packaging/hudi-kafka-connect-bundle/pom.xml
1	0	packaging/hudi-presto-bundle/pom.xml
1	0	packaging/hudi-spark-bundle/pom.xml
1	0	packaging/hudi-timeline-server-bundle/pom.xml
1	0	packaging/hudi-trino-bundle/pom.xml
1	0	packaging/hudi-utilities-bundle/pom.xml
1	0	packaging/hudi-utilities-slim-bundle/pom.xml
25	20	pom.xml

commit fd8f7c5f6c0bbfbed829f5d1a1d250ca4752d503
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-06-11 14:46:43 -0700

    [HUDI-4205] Fix NullPointerException in HFile reader creation (#5841)
    
    Replace SerializableConfiguration with SerializableWritable for broadcasting the hadoop configuration before initializing HFile readers

4	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala

commit 97ccf5dd184d1ff3578bdf8a1944cc15f8a5da97
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-06-11 13:19:24 -0700

    [HUDI-4223] Fix NullPointerException from getLogRecordScanner when reading metadata table (#5840)
    
    When explicitly specifying the metadata table path for reading in spark, the "hoodie.metadata.enable" is overwritten to true for proper read behavior.

3	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala

commit 08fe281091bf08af743b83a0786216cc2aadfa62
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-06-11 16:17:42 -0400

    [HUDI-4221] Fixing getAllPartitionPaths perf hit w/ FileSystemBackedMetadata (#5829)

22	17	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java

commit 2b3a85528a32405bad8aee16f19a849322b517b5
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date:   2022-06-10 07:23:51 +0800

    [HUDI-3889] Do not validate table config if save mode is set to Overwrite (#5619)
    
    
    Co-authored-by: xicm <xicm@asiainfo.com>

6	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
36	27	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
23	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala

commit ba47904fa2a5e089b245884107f86e4fff918e04
Author: yanenze <34880077+yanenze@users.noreply.github.com>
Date:   2022-06-10 05:48:20 +0800

    [HUDI-4139]improvement for flink write operator name to identify tables easily (#5744)
    
    
    Co-authored-by: yanenze <yanenze@keytop.com.cn>

9	5	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java

commit c608dbd6c2d00f29f350ad1ed0fd04f7eb3c1b6b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-06-09 20:37:58 +0800

    [HUDI-4213] Infer keygen clazz for Spark SQL (#5815)

20	14	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
5	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala

commit 8ff17b047091b4b90e6e972d8b43d416714a0613
Author: sandyfog <154525105@qq.com>
Date:   2022-06-09 15:13:27 +0800

    [MINOR] FlinkStateBackendConverter add more  exception message (#5809)
    
    * [MINOR] FlinkStateBackendConverter add more  exception message

1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java

commit f5ab921300654e61a448ac447eb4532a60e49b9c
Author: liuzhuang2017 <95120044+liuzhuang2017@users.noreply.github.com>
Date:   2022-06-09 08:45:00 +0800

    [MINOR][DOCS] Update the README.md file in hudi-examples (#5803)

1	1	hudi-examples/README.md

commit 35afdb4316d496bbb37ebb9e1598d84bd8a4000d
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-06-07 16:30:46 -0700

    [HUDI-4178] Addressing performance regressions in Spark DataSourceV2 Integration (#5737)
    
    There are multiple issues with our current DataSource V2 integrations: b/c we advertise Hudi tables as V2, Spark expects it to implement certain APIs which are not implemented at the moment, instead we're using custom Resolution rule (in HoodieSpark3Analysis) to instead manually fallback to V1 APIs.  This commit fixes the issue by reverting DSv2 APIs and making Spark use V1, except for schema evaluation logic.

3	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
33	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/util/JFunction.scala
6	12	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
29	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieCommonConfig.java
4	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
11	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
31	18	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
3	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
5	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala
5	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
3	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala
45	21	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
11	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
6	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/HoodieSparkSqlTestBase.scala
0	6	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
2	2	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala
0	13	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
5	2	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommand312.scala
9	8	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala
0	13	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala
32	27	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommandSpark32.scala
57	46	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala
62	46	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala
3	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala

commit 1349b596a1c18c6be75039c1c4644ecdf78411ff
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-06-07 07:51:31 -0700

    [HUDI-4198] Fix hive config for AWSGlueClientFactory (#5768)
    
    * HiveConf needs to load fs conf to allow instantiation via AWSGlueClientFactory
    
    * Resolve metastore uri config before loading fs conf
    
    * Skip hiveql due to CI issue
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

2	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
1	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit f85cd9b16d2bd0c49fb6a05a4be627dffb4c2065
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-06-07 08:19:52 -0400

    [HUDI-4200] Fixing sorting of keys fetched from metadata table (#5773)
    
    - Key fetched from metadata table especially from base file reader is not sorted. and hence may result in throwing NPE (key prefix search) or unnecessary seeks to starting of Hfile (full key look ups). Fixing the same in this patch. This is not an issue with log blocks, since sorting is taking care within HoodieHfileDataBlock.
    - Commit where the sorting was mistakenly reverted [HUDI-3760] Adding capability to fetch Metadata Records by prefix  #5208

10	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
3	5	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
13	6	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala

commit 4f5cad80293c9ac6232593f3c968c1369bb02c4c
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-06-07 08:28:28 +0800

    [MINOR][RFC-53] Fix typos (#5764)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

1	1	rfc/rfc-53/rfc-53.md

commit e5710a8e7c588c2a08cd57944be5cfcbc37402a5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-06-06 17:25:59 -0700

    [MINOR] Mark AWSGlueCatalogSyncClient experimental (#5775)

2	0	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java

commit 7da97c8096ad4eabb49b42c86013679ed5009451
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-06-06 15:48:21 -0400

    [HUDI-4171] Fixing Non partitioned with virtual keys in read path (#5747)
    
    - When Non partitioned key gen is used with virtual keys, read path could break since partition path may not exist.

10	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
4	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java
9	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieVirtualKeyInfo.java
8	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java
5	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
27	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
24	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit 21b903fddbc0522909ab924e0d774b75902826f6
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-06-06 15:47:11 -0400

    [HUDI-4197] Fix Async indexer to support building FILES partition (#5766)
    
    - When async indexer is invoked only with "FILES" partition, it fails. Fixing it to work with Async indexer. Also, if metadata table itself is not initialized, and if someone is looking to build indexes via AsyncIndexer, first they are expected to index "FILES" partition followed by other partitions. In general, we have a limitation of building only one index at a time w/ AsyncIndexer and hence. Have added guards to ensure these conditions are met.

49	29	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/RunIndexActionExecutor.java
4	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/ScheduleIndexActionExecutor.java
9	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java
82	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java

commit 4f6fc726d0d3d2dd427210228bbb36cf18893a92
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-06-06 13:21:00 -0400

    [HUDI-4140] Fixing hive style partitioning and default partition with bulk insert row writer with SimpleKeyGen and virtual keys (#5664)
    
    Bulk insert row writer code path had a gap wrt hive style partitioning and default partition when virtual keys are enabled with SimpleKeyGen.  This patch fixes the issue.

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
6	1	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java
5	0	hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java
48	0	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java

commit 4f7ea8c79a9d13accf72d094296993c588d87beb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-06-06 10:14:26 -0700

    [HUDI-4176] Fixing `TableSchemaResolver` to avoid repeated `HoodieCommitMetadata` parsing (#5733)
    
    As has been outlined in HUDI-4176, we've hit a roadblock while testing Hudi on a large dataset (~1Tb) having pretty fat commits where Hudi's commit metadata could reach into 100s of Mbs.
    Given the size some of ours commit metadata instances Spark's parsing and resolving phase (when spark.sql(...) is involved, but before returned Dataset is dereferenced) starts to dominate some of our queries' execution time.
    
    - Rebased onto new APIs to avoid excessive Hadoop's Path allocations
    - Eliminated hasOperationField completely to avoid repeatitive computations
    - Cleaning up duplication in HoodieActiveTimeline
    - Added caching for common instances of HoodieCommitMetadata
    - Made tableStructSchema lazy;

2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
11	0	hudi-common/src/main/java/org/apache/hudi/avro/AvroSchemaUtils.java
0	12	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
232	235	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
38	36	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
2	0	hudi-common/src/main/java/org/apache/hudi/util/Lazy.java
4	12	hudi-common/src/test/java/org/apache/hudi/common/table/TestTableSchemaResolver.java
2	11	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
14	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
5	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestTableSchemaResolverWithSparkSQL.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 132c0aa8c7cc34f462f5ab44e8db8b75c2ffba38
Author: HunterXHunter <1356469429@qq.com>
Date:   2022-06-06 21:53:55 +0800

    [HUDI-4101] When BucketIndexPartitioner take partition path for dispersion may cause the fileID of the task to not be loaded correctly (#5763)
    
    Co-authored-by: john.wick <john.wick@vipshop.com>

6	19	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteFunction.java

commit 21ab0ff8be73082b46fe83ab6a3546648b4d4eaa
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-06-06 16:49:03 +0530

    [HUDI-4195] Bulk insert should use right keygen for non-partitioned table (#5759)

2	2	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java

commit 22c45a7704cf4d5ec6fb56ee7cc1bf17d826315d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-06-06 12:12:48 +0800

    [HUDI-4188] Fix flaky ITTestDataSTreamWrite.testWriteCopyOnWrite (#5749)

1	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java

commit 73b0be3c962112efe541ae04fe0ea6f298558f17
Author: marchpure <marchpure@126.com>
Date:   2022-06-06 12:07:26 +0800

    [HUDI-4192] HoodieHFileReader scan top cells after bottom cells throw NullPointerException (#5755)
    
    SeekTo top cells avoid NullPointerException

32	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
6	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java

commit 5d18b80343bdb43c69d979da013752a5f8f11c07
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-06-05 17:42:16 -0700

    [HUDI-4190] Include hbase-protocol for shading in the bundles (#5750)

1	0	packaging/hudi-aws-bundle/pom.xml
1	0	packaging/hudi-datahub-sync-bundle/pom.xml
1	0	packaging/hudi-flink-bundle/pom.xml
1	0	packaging/hudi-gcp-bundle/pom.xml
1	0	packaging/hudi-hadoop-mr-bundle/pom.xml
1	0	packaging/hudi-hive-sync-bundle/pom.xml
1	0	packaging/hudi-integ-test-bundle/pom.xml
1	0	packaging/hudi-kafka-connect-bundle/pom.xml
1	0	packaging/hudi-presto-bundle/pom.xml
1	0	packaging/hudi-spark-bundle/pom.xml
1	0	packaging/hudi-timeline-server-bundle/pom.xml
1	0	packaging/hudi-trino-bundle/pom.xml
1	0	packaging/hudi-utilities-bundle/pom.xml
1	0	packaging/hudi-utilities-slim-bundle/pom.xml

commit bd26d633d71b7783000b3334573d791ac9108bcd
Author: Saisai Shao <sai.sai.shao@gmail.com>
Date:   2022-06-05 11:05:38 +0800

    [HUDI-4168] Add Call Procedure for marker deletion (#5738)
    
    * Add Call Procedure for marker deletion

78	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteMarkerProcedure.scala
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
40	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala

commit 80783c27f5211ae5cd01d692223a106df5dff4a2
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date:   2022-06-04 11:16:52 +0200

    [HUDI-4187] Fix partition order in aws glue sync (#5731)

7	4	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java

commit 3759a38b99cf9bb7540cd1881879cc0547a25e70
Author: leesf <490081539@qq.com>
Date:   2022-06-03 17:16:48 +0800

    [HUDI-4183] Fix using HoodieCatalog to create non-hudi tables (#5743)

31	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala
7	3	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala

commit 51602a34f7b2c296b1f1438e85ef2f12c4dff741
Author: KnightChess <981159963@qq.com>
Date:   2022-06-02 20:28:21 +0800

    [HUDI-4179] Cluster with sort cloumns invalid (#5739)

1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java

commit 7f8630cc57fbb9d29e8dc7ca87b582264da073fd
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-06-02 09:48:48 +0800

    [HUDI-4167] Remove the timeline refresh with initializing hoodie table (#5716)
    
    The timeline refresh on table initialization invokes the fs view #sync, which has two actions now:
    
    1. reload the timeline of the fs view, so that the next fs view request is based on this timeline metadata
    2. if this is a local fs view, clear all the local states; if this is a remote fs view, send request to sync the remote fs view
    
    But, let's see the construction, the meta client is instantiated freshly so the timeline is already the latest,
    the table is also constructed freshly, so the fs view has no local states, that means, the #sync is unnecessary totally.
    
    In this patch, the metadata lifecycle and data set fs view are kept in sync, when the fs view is refreshed, the underneath metadata
    is also refreshed synchronouly. The freshness of the metadata follows the same rules as data fs view:
    
    1. if the fs view is local, the visibility is based on the client table metadata client's latest commit
    2. if the fs view is remote, the timeline server would #sync the fs view and metadata together based on the lagging server local timeline
    
    From the perspective of client, no need to care about the refresh action anymore no matter whether the metadata table is enabled or not.
    That make the client logic more clear and less error-prone.
    
    Removes the timeline refresh has another benefit: if avoids unncecessary #refresh of the remote fs view, if all the clients send request to #sync the
    remote fs view, the server would encounter conflicts and the client encounters a response error.

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
12	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
7	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
0	10	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
1	1	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java
1	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
5	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
1	16	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
7	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
17	4	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
2	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java

commit 7276d0eaa662298b64a6aca7e7180556f03603b1
Author: Qi Ji <qjqqyy@users.noreply.github.com>
Date:   2022-06-01 22:35:40 +0800

    [HUDI-3670] free temp views in sql transformers (#5080)

4	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlFileBasedTransformer.java
4	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java

commit dfcd6d9a8605e93fcb21b8cc27ac474d4ffa2a76
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-06-01 18:00:29 +0530

    [HUDI-4011] Add hudi-aws-bundle (#5674)
    
    
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

295	0	packaging/hudi-aws-bundle/pom.xml
29	0	packaging/hudi-aws-bundle/src/main/java/org/apache/hudi/aws/bundle/Main.java
0	1	packaging/hudi-integ-test-bundle/pom.xml
0	1	packaging/hudi-spark-bundle/pom.xml
0	1	packaging/hudi-utilities-bundle/pom.xml
0	1	packaging/hudi-utilities-slim-bundle/pom.xml
1	0	pom.xml

commit 0d069b5e57e96984d508434a9b76c48a282bd45b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-06-01 16:17:36 +0800

    [HUDI-4174] Add hive conf dir option for flink sink (#5725)

6	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
14	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/HadoopConfigurations.java
9	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
3	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java

commit 795a99ba73183b5f7697bb3964843a43a64e74e9
Author: Kumud Kumar Srivatsava Tirupati <kumudkumartirupati@users.noreply.github.com>
Date:   2022-05-31 20:27:50 +0530

    [HUDI-4107] Added --sync-tool-classes config option in HoodieMultiTableDeltaStreamer (#5597)
    
    * added --sync-tool-classes config option in multitable delta streamer
    
    * added a testcase to assert if syncClientToolClassNames is getting picked to the deltastreamer execution context

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
7	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
5	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
9	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit 918c4f4e0ba5dd30fc733cc3e208650e2154dd5c
Author: Jin Xing <jinxing.corey@gmail.com>
Date:   2022-05-30 19:09:26 +0800

    [HUDI-4149] Drop-Table fails when underlying table directory is broken (#5672)

43	30	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
26	20	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala
2	0	hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql
111	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDropTable.scala

commit 329da34ee0f8d935fa7ec1853104addfb5b45400
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-30 13:08:02 +0800

    [HUDI-4163] Catch general exception instead of IOException while fetching rollback plan during rollback (#5703)
    
    If the avro file is corrupted, an InvalidAvroMagicException throws.

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java

commit 7e86884604057c0a7a373d4e84d8f3e112170ca7
Author: À’≥–œÈ <scx_white@aliyun.com>
Date:   2022-05-29 13:35:47 +0800

    [HUDI-4086] Use CustomizedThreadFactory in async compaction and clustering (#5563)
    
    Co-authored-by: À’≥–œÈ <sucx@tuya.com>

4	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java
6	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java

commit 0a72458291ace85faec5155a2d7865b95f420b9b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-05-28 12:13:37 -0700

    [HUDI-3551] Fix testStorageSchemes for oci storage (#5711)

1	1	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit 62d792368bd1ebf2dead648b436e623e9a1a003e
Author: Carter Shanklin <cartershanklin@users.noreply.github.com>
Date:   2022-05-28 08:26:14 -0700

    [HUDI-3551] Add the Oracle Cloud Infrastructure (oci) Object Storage URI scheme (#4952)

3	1	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit 48062a570817ba776f23ff95963d540fddbe1eac
Author: uday08bce <uday08bce@gmail.com>
Date:   2022-05-28 17:20:52 +0200

    [HUDI-4166] Added SimpleClient plugin for integ test (#5710)

6	0	packaging/hudi-integ-test-bundle/pom.xml

commit 8fa8f2603199638e2467fba0db8948a84455213e
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-05-28 22:56:39 +0800

    [MINOR] Fix Hive and meta sync config for sql statement (#5316)

5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala

commit 58014c147af677a426e0dd22fb59b8d92d0dd18a
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-05-28 11:13:24 +0400

    [HUDI-4160] Make database regex of MaxwellJsonKafkaSourcePostProcessor optional (#5697)

11	10	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/maxwell/MaxwellJsonKafkaSourcePostProcessor.java
14	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSourcePostProcessor.java

commit 93fe5a497e8f2f97d90f3dd66d966f9f4cc24bc9
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-05-28 08:37:34 +0800

    [HUDI-4151] flink split_reader supports rocksdb (#5675)
    
    * [HUDI-4151] flink split_reader supports rocksdb

16	19	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
4	4	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java

commit 554caa34218e477bbd5eb9b724836f2c365c896d
Author: RexAn <anh131@126.com>
Date:   2022-05-27 19:45:09 +0800

    [MINOR] Fix the issue when handling conf hoodie.datasource.write.operation=bulk_insert in sql mode (#5679)
    
    
    
    Co-authored-by: Rex An <bonean131@gmail.com>

3	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala

commit 1767ff5e7c7d7a06d0267380eb3b830392a3bf28
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-05-27 02:36:30 -0700

    [HUDI-4161] Make sure partition values are taken from partition path (#5699)

10	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
1	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
14	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
7	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 57dbe57bed963f529b2921b6bb6253a90a1a45af
Author: watermelon12138 <49849410+watermelon12138@users.noreply.github.com>
Date:   2022-05-27 14:08:54 +0800

    [HUDI-4162] Fixed some constant mapping issues. (#5700)
    
    Co-authored-by: y00617041 <yangxuan42@huawei.com>

2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit 85962ee55d098d457a598bc19d5597ff1b361ed5
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-05-26 23:03:09 +0800

    [HUDI-3963][RFC-53] Use Lock-Free Message Queue Disruptor Improving Hoodie Writing Efficiency (#5567)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

-	-	rfc/rfc-53/DisruptorExecutor.png
160	0	rfc/rfc-53/rfc-53.md

commit 8d2f00904882b9946331bfb325c0033f72aa29fe
Author: komao <masterwangzx@gmail.com>
Date:   2022-05-26 20:21:28 +0800

    [HUDI-4124] Add valid check in Spark Datasource configs (#5637)
    
    
    
    Co-authored-by: wangzixuan.wzxuan <wangzixuan.wzxuan@bytedance.com>

11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
27	8	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigProperty.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
22	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit 31e13db1f0e12e107cc02c60dec3e52a8914a5b2
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-05-26 11:28:49 +0530

    [HUDI-4023] Decouple hudi-spark from hudi-utilities-slim-bundle (#5641)

0	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
86	3	packaging/hudi-utilities-slim-bundle/README.md
16	127	packaging/hudi-utilities-slim-bundle/pom.xml
7	0	pom.xml

commit 98c5c6c6543177ff4320b73b13bc153938300fe4
Author: RexAn <anh131@126.com>
Date:   2022-05-26 13:09:04 +0800

    [HUDI-4040] Bulk insert Support CustomColumnsSortPartitioner with Row (#5502)
    
    * Along the lines of RDDCustomColumnsSortPartitioner but for Row

4	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java
60	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RowCustomColumnsSortPartitioner.java
48	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitionerForRows.java

commit 4e42ed5eae36f706ec35e5d09d8dc206b7fea130
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-26 11:21:39 +0800

    [HUDI-4145] Archives the metadata file in HoodieInstant.State sequence (part2) (#5676)

30	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java

commit cf837b49008fd351a3f89beb5e4e5c17c30b9a3c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-05-25 19:38:56 +0530

    [HUDI-3193] Decouple hudi-aws from hudi-client-common (#5666)
    
    Move HoodieMetricsCloudWatchConfig to hudi-client-common

1	1	hudi-aws/src/main/java/org/apache/hudi/aws/cloudwatch/CloudWatchReporter.java
1	0	hudi-client/hudi-client-common/pom.xml
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
24	23	{hudi-aws/src/main/java/org/apache/hudi/config => hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics}/HoodieMetricsCloudWatchConfig.java
0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsConfig.java
6	0	hudi-flink-datasource/hudi-flink/pom.xml

commit a6bc9e8e818be42f26995f927c406ab1c3ddb7d6
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-05-25 20:31:39 +0800

    [HUDI-4146] Claim RFC-55 for Improve Hive/Meta sync class design and hierachies (#5682)

1	0	rfc/README.md

commit f30b3aef3e5e12e9119d6b5294c94a0282719e00
Author: luoyajun <luoyajun1010@gmail.com>
Date:   2022-05-25 02:13:18 +0800

    [MINOR] Fix a potential NPE and some finer points of hudi cli (#5656)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/UpgradeOrDowngradeCommand.java
11	8	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
11	0	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/SparkUtilTest.java

commit 18635b533ebbae9f89959f0a93f3ab5cc8461e9a
Merge: 10363c1412 c20db99a7b
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date:   2022-05-25 00:47:28 +0800

    Merge pull request #3599 from yuzhaojing/HUDI-2207
    
    [HUDI-2207] Support independent flink hudi clustering function

commit 10363c1412b8f9b5b16b3e2e075b895e0cc9a293
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-24 08:17:15 -0400

    [HUDI-4132] Fixing determining target table schema for delta sync with empty batch (#5648)

9	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit c20db99a7b79b9545e6fae0d762250ceb55a8b79
Author: ”˜’◊æ∏ <yuzhaojing@bytedance.com>
Date:   2022-05-21 21:25:15 +0800

    [HUDI-2207] Support independent flink hudi clustering function

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
9	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java
11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java
68	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
65	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkRecentDaysClusteringPlanStrategy.java
67	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkSelectedPartitionsClusteringPlanStrategy.java
129	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkSizeBasedClusteringPlanStrategy.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaCustomColumnsSortPartitioner.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaGlobalSortPartitioner.java
67	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java
77	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringCommitEvent.java
174	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringCommitSink.java
318	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringOperator.java
73	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringPlanEvent.java
91	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringPlanSourceFunction.java
148	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/FlinkClusteringConfig.java
191	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/HoodieFlinkClusteringJob.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
19	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
184	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/cluster/ITTestHoodieFlinkClustering.java

commit 0caa55ecb42cdecbc027521535200540a2467832
Author: liujinhui <965147871@qq.com>
Date:   2022-05-24 18:56:28 +0800

    [HUDI-4135] remove netty and netty-all (#5663)

0	13	hudi-spark-datasource/hudi-spark2/pom.xml

commit eb219010d2491165dbdc00a6b9547a9072e012ac
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-24 17:33:30 +0800

    [HUDI-4145] Archives the metadata file in HoodieInstant.State sequence (#5669)

8	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java

commit c05ebf2417f4b170c396dfb60c738ca55bd52309
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-24 03:33:21 -0400

    [HUDI-2473] Fixing compaction write operation in commit metadata (#5203)

2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java

commit 676d5cefe0294f495db04ec6476afdc00cbf0dd2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-24 13:07:55 +0800

    [HUDI-4138] Fix the concurrency modification of hoodie table config for flink (#5660)
    
    * Remove the metadata cleaning strategy for flink, that means the multi-modal index may be affected
    * Improve the HoodieTable#clearMetadataTablePartitionsConfig to only update table config when necessary
    * Remove the modification of read code path in HoodieTableConfig

6	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
0	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
6	13	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java

commit af1128acf95ade0e52920638c2a7a0badaf53869
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-23 23:05:56 -0400

    [HUDI-4084] Add support to test async table services with integ test suite framework (#5557)
    
    * Add support to test async table services with integ test suite framework
    
    * Make await time for validation configurable

2	0	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml
2	0	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml
2	0	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml
2	0	docker/demo/config/test-suite/deltastreamer-medium-clustering.yaml
2	0	docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml
2	0	docker/demo/config/test-suite/detlastreamer-long-running-example.yaml
2	0	docker/demo/config/test-suite/spark-long-running-non-partitioned.yaml
2	0	docker/demo/config/test-suite/spark-long-running.yaml
50	0	hudi-integ-test/README.md
157	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieContinousTestSuiteWriter.java
225	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieInlineTestSuiteWriter.java
8	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
32	174	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
5	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
42	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java
62	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java
15	8	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java

commit 47b764ec333d1fcaf13ec94d013424faf3b42584
Author: Heap <35054152+h1ap@users.noreply.github.com>
Date:   2022-05-24 06:28:48 +0800

    [HUDI-4134] Fix Method naming consistency issues in FSUtils (#5655)

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/HoodieTestCommitGenerator.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java
1	1	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
4	4	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
82	82	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestClusteringUtils.java
5	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
2	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java
9	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java

commit 716e995a3869f1b84e4182957948c704aa2a162b
Author: felixYyu <felix2003@live.cn>
Date:   2022-05-24 06:26:36 +0800

    [MINOR] Removing redundant semicolons and line breaks (#5662)

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java
1	2	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/sql/InsertMode.java
1	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveSyncMode.java

commit 752f956f036e5aaf8dcc480ab0baf0c1e3d7cec9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-05-23 06:48:09 -0700

    [HUDI-3933] Add UT cases to cover different key gen (#5638)

32	34	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala

commit 42c7129e25ef42a74dd32d17d2816946cd818ab9
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-05-23 18:10:07 +0530

    [HUDI-4142] Claim RFC-54 for new table APIs (#5665)

1	1	rfc/README.md

commit 3ef137d1565dd1aa21456d06c52b930337987c5b
Author: YuangZhang <z_yuang@foxmail.com>
Date:   2022-05-23 09:57:34 +0800

    [HUDI-4129] Initializes a new fs view for WriteProfile#reload (#5640)
    
    Co-authored-by: zhangyuang <zhangyuang@corp.netease.com>

5	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java

commit 271d1a79c0bf486d8a11c39e4569ec70cba25cd1
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-05-22 00:47:51 -0700

    [HUDI-4051] Allow nested field as primary key and preCombineField in spark sql (#5517)
    
    * [HUDI-4051] Allow nested field as preCombineField in spark sql
    
    * relax validation for primary key

3	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
33	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 32a5d268f54b781e7893ffe08a8767987e153e04
Author: uday08bce <uday08bce@gmail.com>
Date:   2022-05-21 18:22:55 +0200

    [HUDI-3890] fix rat plugin issue with sql files (#5644)

15	0	hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql
0	1	pom.xml

commit 922f765ead3c471aa0d9aa44b1782d381bbfa9d9
Author: Jin Xing <jinxing.corey@gmail.com>
Date:   2022-05-21 22:41:18 +0800

    [HUDI-4100] CTAS failed to clean up when given an illegal MANAGED table definition (#5588)

18	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala
39	21	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala
9	10	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala

commit 8ec625d4d53be9ca7987c86484ac459fafbd8ecc
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-05-21 21:16:14 +0800

    [HUDI-3858] Shade javax.servlet for Spark bundle jar (#5295)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

19	0	packaging/hudi-spark-bundle/pom.xml

commit b5adba3e55e57b67618e114f29397912a9f7f7c0
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-05-21 05:34:08 -0700

    [MINOR] remove unused gson test dependency (#5652)

0	7	pom.xml

commit 2af98303d3881e5d1da7d2e08f904b18f8b79488
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-05-21 07:12:53 +0400

    [HUDI-4122] Fix NPE caused by adding kafka nodes (#5632)

39	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit 7d02b1fd3c74abfbd118f69a10a8c106cc900a3e
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-20 19:27:35 -0400

    [MINOR] Minor fixes to exception log and removing unwanted metrics flush in integ test (#5646)

0	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 85b146d3d508e68b2f1ff10f232c37c6a474b77b
Author: huberylee <shibei.lh@foxmail.com>
Date:   2022-05-20 22:25:32 +0800

    [HUDI-3985] Refactor DLASyncTool to support read hoodie table as spark datasource table (#5532)

1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
1	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala
1	1	hudi-sync/{hudi-dla-sync => hudi-adb-sync}/pom.xml
0	0	hudi-sync/{hudi-dla-sync => hudi-adb-sync}/src/assembly/src.xml
128	0	hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AbstractAdbSyncHoodieClient.java
240	0	hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AdbSyncConfig.java
283	0	hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AdbSyncTool.java
440	0	hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/HoodieAdbJdbcClient.java
29	0	hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/HoodieAdbSyncException.java
65	0	hudi-sync/hudi-adb-sync/src/test/java/org/apache/hudi/sync/adb/TestAdbSyncConfig.java
0	0	hudi-sync/{hudi-dla-sync => hudi-adb-sync}/src/test/resources/log4j-surefire-quiet.properties
0	0	hudi-sync/{hudi-dla-sync => hudi-adb-sync}/src/test/resources/log4j-surefire.properties
0	111	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java
0	213	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java
0	428	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
0	77	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/util/Utils.java
0	55	hudi-sync/hudi-dla-sync/src/test/java/org/apache/hudi/dla/TestDLASyncConfig.java
4	80	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestParquet2SparkSchemaUtils.java
82	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncTool.java
1	1	hudi-sync/{hudi-hive-sync/src/main/java/org/apache/hudi/hive => hudi-sync-common/src/main/java/org/apache/hudi/sync/common}/util/ConfigUtils.java
1	1	hudi-sync/{hudi-hive-sync/src/main/java/org/apache/hudi/hive => hudi-sync-common/src/main/java/org/apache/hudi/sync/common}/util/Parquet2SparkSchemaUtils.java
1	1	hudi-sync/pom.xml

commit c7576f7613ba76ab7db6608598182d8970ce1bd9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-20 21:31:23 +0800

    [HUDI-4130] Remove the upgrade/downgrade for flink #initTable (#5642)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
8	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java

commit 1da0b21edd6693e9025e45889cc7b1c37658a4e1
Author: aliceyyan <104287562+aliceyyan@users.noreply.github.com>
Date:   2022-05-20 18:10:24 +0800

    [HUDI-4119] the first read result is incorrect when Flink upsert- Kafka connector is used in HUDi (#5626)
    
    * HUDI-4119 the first read result is incorrect when Flink upsert- Kafka connector is used in HUDi
    
    Co-authored-by: aliceyyan <aliceyyan@tencent.com>

15	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java

commit 6f37863ba8ded3f5550cf608b3e42fe197331ed4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-19 10:59:05 +0800

    [HUDI-4114] Remove the unnecessary fs view sync for BaseWriteClient#initTable (#5617)
    
    No need to #sync actively because the table instance is instantiated freshly,
    its view manager has empty fiew instantces, the fs view would be synced lazily when
    is it requested.

0	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java

commit 6573469e73ea51ed6d1c24504e8be5abfa91c642
Author: huberylee <shibei.lh@foxmail.com>
Date:   2022-05-19 09:48:03 +0800

    [HUDI-4116] Unify clustering/compaction related procedures' output type (#5620)
    
    * Unify clustering/compaction related procedures' output type
    
    * Address review comments

13	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCLIUtils.scala
2	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala
4	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala
2	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodiePathCommand.scala
3	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala
29	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala
20	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCompactionProcedure.scala
31	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowClusteringProcedure.scala
8	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCompactionProcedure.scala
73	30	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestClusteringProcedure.scala
62	16	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCompactionProcedure.scala

commit 551aa959c57721a5cc4d3f63f79e0201978980a2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-18 20:30:54 +0800

    Revert "[HUDI-3870] Add timeout rollback for flink online compaction (#5314)" (#5622)
    
    This reverts commit 6f9b02decb5bb2b83709b1b6ec04a97e4d102c11.

3	10	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java

commit 199f64255e9996813d6c0b43949ec93a00ac1952
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date:   2022-05-18 19:18:52 +0800

    [HUDI-4111] Bump ANTLR runtime version in Spark 3.x (#5606)

3	0	pom.xml

commit 008616c4f68a134290c46b0a258e92f2be67b4c3
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date:   2022-05-18 18:43:48 +0800

    [HUDI-3942] [RFC-50] Improve Timeline Server (#5392)

-	-	rfc/rfc-50/ComparisonDiagram.png
-	-	rfc/rfc-50/CurrentDesign.png
-	-	rfc/rfc-50/Design.png
-	-	rfc/rfc-50/SchematicDiagram.png
93	0	rfc/rfc-50/rfc-50.md

commit a1017c66aaa377dad7e5e62f773bb714d53fc353
Author: luokey <854194341@qq.com>
Date:   2022-05-18 11:21:14 +0800

    Clean the marker files for flink compaction (#5611)
    
    Co-authored-by: 854194341@qq.com <loukey_7821>

4	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java

commit f1f8a1abb7636b43463ee86bf6db453ddb1256e1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-18 10:17:00 +0800

    [HUDI-4109] Copy the old record directly when it is chosen for merging (#5603)

3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit ebbe56e8622441a57fda63b0392cd6f7c265ec1e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-18 09:30:09 +0800

    [minor] Some code refactoring for LogFileComparator and Instant instantiation (#5600)

1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/CompactHelpers.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
5	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
8	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/HadoopConfigurations.java

commit f8b939961553fc3f647862c65d0040783eb726b4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-17 09:58:18 -0400

    [MINOR] Fixing spark long running yaml for non-partitioned (#5607)

5	6	docker/demo/config/test-suite/spark-long-running-non-partitioned.yaml

commit 99555c897acf9bdd576e7ab233dc448d537e7aea
Author: BruceLin <brucekellan@gmail.com>
Date:   2022-05-17 21:09:27 +0800

    [HUDI-4110] Clean the marker files for flink compaction (#5604)

3	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java

commit d422f69a0dd51694c035db0e15b8127e1ebed277
Author: Jin Xing <jinxing.corey@gmail.com>
Date:   2022-05-17 14:12:50 +0800

    [HUDI-4087] Support dropping RO and RT table in DropHoodieTableCommand (#5564)
    
    * [HUDI-4087] Support dropping RO and RT table in DropHoodieTableCommand
    
    * Set hoodie.query.as.ro.table in serde properties

34	45	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala
166	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDropTable.scala

commit d52d13302db2eba94b25ddb680c58682760076e1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-17 10:34:57 +0800

    [HUDI-4101] BucketIndexPartitioner should take partition path for better dispersion (#5590)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java
5	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java
5	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java
5	4	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java

commit fdd96cc97ef6a5033b9657e22278bdffd71a41f3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-17 10:34:15 +0800

    [HUDI-4104] DeltaWriteProfile includes the pending compaction file slice when deciding small buckets (#5594)

1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java

commit ad773b3d9622ebed9a8419eb5095aa6dbb8d08f0
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2022-05-17 09:47:10 +0800

    [HUDI-3654] Preparations for hudi metastore. (#5572)
    
    * [HUDI-3654] Preparations for hudi metastore.
    
    Co-authored-by: gengxiaoyu <gengxiaoyu@bytedance.com>

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieClient.java
3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
10	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
93	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetastoreConfig.java
41	9	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
14	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java

commit a7a42e4490cc8a96b12b8ebbecb4b90d8e8ecbdb
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-05-16 23:26:23 +0800

    [HUDI-4103] [HUDI-4001] Filter the properties should not be used when create table for Spark SQL

3	2	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala

commit 43e08193ef712c19bf986c65a184991c6de960b6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-05-16 17:40:08 +0800

    [HUDI-4098] Metadata table heartbeat for instant has expired, last heartbeat 0 (#5583)

5	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
45	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java

commit 61030d8e7a5a05e215efed672267ac163b0cbcf6
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date:   2022-05-16 11:07:01 +0800

    [HUDI-3123] consistent hashing index: basic write path (upsert/insert) (#4480)
    
     1. basic write path(insert/upsert) implementation
     2. adapt simple bucket index

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/LazyIterableIterator.java
36	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java
32	17	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java
35	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIndexLocationMapper.java
104	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/ConsistentBucketIdentifier.java
43	76	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieBucketIndex.java
99	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieSimpleBucketIndex.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/WriteHandleFactory.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
68	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieConsistentBucketLayout.java
5	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieDefaultLayout.java
8	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieLayoutFactory.java
16	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/{HoodieBucketLayout.java => HoodieSimpleBucketLayout.java}
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieStorageLayout.java
122	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java
79	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/index/bucket/TestConsistentBucketIdIdentifier.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
5	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java
13	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndexFactory.java
210	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bucket/HoodieSparkConsistentBucketIndex.java
250	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestConsistentBucketIndex.java
3	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
11	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java
11	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/{TestHoodieBucketIndex.java => TestHoodieSimpleBucketIndex.java}
4	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
9	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
78	0	hudi-common/src/main/java/org/apache/hudi/common/model/ConsistentHashingNode.java
7	16	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
142	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieConsistentHashingMetadata.java
4	13	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieReplaceCommitMetadata.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
38	0	hudi-common/src/main/java/org/apache/hudi/common/util/JsonUtils.java
9	0	hudi-common/src/main/java/org/apache/hudi/common/util/hash/HashID.java
31	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieConsistentHashingMetadata.java
4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java
0	67	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java

commit 1fded18dff5bae064479d52b4e44f9fcf5bbb1b7
Author: ≥¬∫∆ <bettermouse94@gmail.com>
Date:   2022-05-16 09:51:24 +0800

    fix hive sync no partition table error (#5585)

3	1	hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java

commit 75f847691f0bdaf226d4713a8cb8c7639cffd5e5
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-05-16 09:50:29 +0800

    [HUDI-4001] Filter the properties should not be used when create table for Spark SQL (#5495)

3	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
1	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala
4	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
18	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
101	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala

commit 6e16e719cd614329018cd34a7c57d342fe2fa376
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date:   2022-05-14 19:37:31 +0800

    [HUDI-3980] Suport kerberos hbase index (#5464)
    
    - Add configurations in HoodieHBaseIndexConfig.java to support kerberos hbase connection.
    
    Co-authored-by: xicm <xicm@asiainfo.com>

52	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
20	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
24	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java

commit 52e63b39d6189beb3b381944ed553bb0052b12c9
Author: wqwl611 <67826098+wqwl611@users.noreply.github.com>
Date:   2022-05-14 09:01:15 +0800

    [HUDI-4097] add table info to jobStatus (#5529)
    
    
    Co-authored-by: wqwl611 <wqwl611@gmail.com>

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseWriteHelper.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPartitioner.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java

commit 5c4813f1011baaa00856f88c69873923baafdba4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-13 08:26:47 -0400

    [HUDI-4072] Fix NULL schema for empty batches in deltastreamer (#5543)

22	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java
28	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit a704e3740c7b45fa080ff5e57ff14d32530300a1
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-05-13 19:52:55 +0800

    [HUDI-3336][HUDI-FLINK]Support custom hadoop config for flink (#5574)
    
    * [HUDI-3336][HUDI-FLINK]Support custom hadoop config for flink

1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java

commit 7fb436d3cf66748f32776cf3db2d943f97b52160
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-05-13 14:32:48 +0800

    [HUDI-4078][HUDI-FLINK]BootstrapOperator contains the pending compact°≠ (#5545)
    
    * [HUDI-4078][HUDI-FLINK]BootstrapOperator contains the pending compaction files

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/util/Functions.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
5	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
23	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
6	4	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit 8ad0bb97453ee2d625cf2b41374d781d186aef5d
Author: Xingcan Cui <xcui@wealthsimple.com>
Date:   2022-05-13 00:20:40 -0400

    [MINOR] Fix a NPE for Option (#5461)

1	1	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java

commit 701f8c039d1cd0104cff4d04f60b159c9e38d84e
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-05-13 09:50:11 +0800

    [HUDI-3336][HUDI-FLINK]Support custom hadoop config for flink (#5528)
    
    * [HUDI-3336][HUDI-FLINK]Support custom hadoop config for flink

6	14	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
48	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/HadoopConfigurations.java
4	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
7	5	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
3	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java
0	12	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
3	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java
7	18	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
7	4	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java
3	2	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
2	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/meta/TestCkpMetadata.java
2	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java
2	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java
2	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
2	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
1	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java
6	5	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java
6	4	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java

commit 0cec955fa26b2370a0ada56e6909a39cdd445047
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-12 21:01:55 -0400

    [HUDI-4018][HUDI-4027] Adding integ test yamls for immutable use-cases. Added delete partition support to integ tests (#5501)
    
    - Added pure immutable test yamls to integ test framework. Added SparkBulkInsertNode as part of it.
    - Added delete_partition support to integ test framework using spark-datasource.
    - Added a single yaml to test all non core write operations (insert overwrite, insert overwrite table and delete partitions)
    - Added tests for 4 concurrent spark datasource writers (multi-writer tests).
    - Fixed readme w/ sample commands for multi-writer.

53	0	docker/demo/config/test-suite/deltastreamer-immutable-dataset.yaml
38	0	docker/demo/config/test-suite/deltastreamer-pure-bulk-inserts.yaml
38	0	docker/demo/config/test-suite/deltastreamer-pure-inserts.yaml
1	2	docker/demo/config/test-suite/insert-overwrite.yaml
1	1	docker/demo/config/test-suite/multi-writer-1-ds.yaml
52	0	docker/demo/config/test-suite/multi-writer-1-sds.yaml
2	2	docker/demo/config/test-suite/multi-writer-2-sds.yaml
52	0	docker/demo/config/test-suite/multi-writer-3-sds.yaml
52	0	docker/demo/config/test-suite/multi-writer-4-sds.yaml
57	0	docker/demo/config/test-suite/multi-writer-local-3.properties
57	0	docker/demo/config/test-suite/multi-writer-local-4.properties
57	0	docker/demo/config/test-suite/spark-delete-partition.yaml
53	0	docker/demo/config/test-suite/spark-immutable-dataset.yaml
204	0	docker/demo/config/test-suite/spark-non-core-operations.yaml
38	0	docker/demo/config/test-suite/spark-pure-bulk-inserts.yaml
38	0	docker/demo/config/test-suite/spark-pure-inserts.yaml
72	0	hudi-integ-test/README.md
12	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieMultiWriterTestSuiteJob.java
10	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
6	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
4	35	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala
70	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkDeletePartitionNode.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
0	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala

commit ecd47e7aae39455262470410ab73c13c0287ad36
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-05-12 19:26:00 +0800

    [HUDI-3963][Claim RFC number 53] Use Lock-Free Message Queue Improving Hoodie Writing Efficiency. (#5562)
    
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

2	0	rfc/README.md

commit b10ca7e69f43cf2f14b09d0a610102ab058b1511
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-11 16:02:54 -0400

    [HUDI-4085] Fixing flakiness with parquet empty batch tests in TestHoodieDeltaStreamer (#5559)

2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
17	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
12	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSourceEmptyBatch.java

commit 7f0c1f3ddfe5e80453b0e34f7938824106a7e25e
Author: Jin Xing <jinxing.corey@gmail.com>
Date:   2022-05-11 22:28:58 +0800

    [HUDI-4079] Supports showing table comment for hudi with spark3 (#5546)

23	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala
15	13	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala

commit 4a8589f22254851b55dfce06bd91db57659df8c9
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-05-11 05:08:31 -0700

    [HUDI-4038] Avoid calling `getDataSize` after every record written (#5497)
    
    - getDataSize has non-trivial overhead in the current ParquetWriter impl, requiring traversal of already composed Column Groups in memory. Instead we can sample these calls to getDataSize to amortize its cost.
    
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

2	3	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
14	47	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/{HoodieParquetWriter.java => HoodieAvroParquetWriter.java}
87	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetWriter.java
3	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java
4	5	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
3	2	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
4	29	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowParquetWriter.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java

commit 4258a715174e0a97271112148ab20ef9307e2bd8
Author: Lanyuanxiaoyao <lanyuanxiaoyao@gmail.com>
Date:   2022-05-11 06:45:53 +0800

    [HUDI-4003] Try to read all the log file to parse schema (#5473)

19	9	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java

commit 6fd21d0f1043d0a06b93332d86e63d7b708fcbe8
Author: aliceyyan <104287562+aliceyyan@users.noreply.github.com>
Date:   2022-05-10 10:25:13 +0800

    [HUDI-4044] When reading data from flink-hudi to external storage, the °≠ (#5516)
    
    
    Co-authored-by: aliceyyan <aliceyyan@tencent.com>

1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
12	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java

commit 6285a239a35c5808ba2eea00193a51564c716ab6
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-09 12:40:22 -0400

    [HUDI-3995] Making perf optimizations for bulk insert row writer path (#5462)
    
    - Avoid using udf for key generator for SimpleKeyGen and NonPartitionedKeyGen.
    - Fixed NonPartitioned Key generator to directly fetch record key from row rather than involving GenericRecord.
    - Other minor fixes around using static values instead of looking up hashmap.

7	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java
29	74	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
6	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
32	25	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
8	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
12	12	hudi-client/hudi-spark-client/src/test/scala/org/apache/hudi/keygen/TestRowGeneratorHelper.scala
2	2	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
47	24	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
2	3	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java
1	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
45	8	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java
1	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
2	2	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteRecordGenerator.java
1	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java
2	2	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java

commit 6b47ef6ed223e10a05b91acc3331cff2fa069d87
Author: xicm <36392121+xicm@users.noreply.github.com>
Date:   2022-05-09 16:35:50 +0800

    [HUDI-4053] Flaky ITTestHoodieDataSource.testStreamWriteBatchReadOpti°≠ (#5526)
    
    * [HUDI-4053] Flaky ITTestHoodieDataSource.testStreamWriteBatchReadOptimized
    
    Co-authored-by: xicm <xicm@asiainfo.com>

9	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java
12	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit 4c708402758545c5097579d1a92e8d710ef1f61d
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-05-09 15:17:24 +0800

    [MINOR] Fixing close for HoodieCatalog's test (#5531)
    
    * [MINOR] Fixing close for HoodieCatalog's test

8	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalog.java

commit 75eaa0bffe86306c5df7a52c42ee41b7c7dc24c1
Author: guanziyue <30882822+guanziyue@users.noreply.github.com>
Date:   2022-05-09 10:27:37 +0800

    [HUDI-4055]refactor ratelimiter to avoid stack overflow (#5530)

10	7	hudi-common/src/main/java/org/apache/hudi/common/util/RateLimiter.java

commit 569a76a9a5389efb74ec88b81c616f8ead58df5c
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-07 15:37:20 -0400

    [MINOR] fixing flaky tests in deltastreamer tests (#5521)

2	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java

commit 80f99893a06b984da7332d7db05d6ac309810da0
Author: BruceLin <brucekellan@gmail.com>
Date:   2022-05-07 20:03:18 +0800

    [MINOR] Fixing class not found when using flink and enable metadata table (#5527)

1	0	packaging/hudi-flink-bundle/pom.xml

commit 9625d16937954a54420384b41f964e48cba8cc2f
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date:   2022-05-07 15:39:14 +0800

    [HUDI-3849] AvroDeserializer supports AVRO_REBASE_MODE_IN_READ configuration (#5287)

3	2	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroDeserializer.scala

commit 52fe1c9faeb83fe51b520e18d0c37b67ad3fcfe4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-05-06 09:27:29 -0400

    [HUDI-3675] Adding post write termination strategy to deltastreamer continuous mode (#5073)
    
    - Added a postWriteTerminationStrategy to deltastreamer continuous mode. One can enable by setting the appropriate termination strategy using DeltastreamerConfig.postWriteTerminationStrategyClass. If not, continuous mode is expected to run forever.
    - Added one concrete impl for termination strategy as NoNewDataTerminationStrategy which shuts down deltastreamer if there is no new data to consume from source for N consecutive rounds.

16	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
56	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/NoNewDataTerminationStrategy.java
39	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/PostWriteTerminationStrategy.java
45	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/TerminationStrategyUtils.java
45	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
8	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java

commit c319ee9cea78544406e30dd36cc603fd0a0283db
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-05-06 05:52:06 -0700

    [HUDI-4017] Improve spark sql coverage in CI (#5512)
    
    Add GitHub actions tasks to run spark sql UTs under spark 3.1 and 3.2.

8	0	.github/workflows/bot.yml
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestSqlStatement.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchmark.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/{TestHoodieSqlBase.scala => HoodieSparkSqlTestBase.scala}
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCompactionTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDropTable.scala
3	17	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoLogOnlyTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSqlConf.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTimeTravelTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTruncateTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestClusteringProcedure.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCompactionProcedure.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestSavepointsProcedure.scala

commit 248b0591b031ef5d017bc4f710b9b0496e751c39
Author: Jin Xing <jinxing.corey@gmail.com>
Date:   2022-05-06 15:29:47 +0800

    [HUDI-4042] Support truncate-partition for Spark-3.2 (#5506)

12	11	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala

commit abb4893b25df47328d01890f0d01fbc4e5d99135
Author: guanziyue <30882822+guanziyue@users.noreply.github.com>
Date:   2022-05-06 04:49:34 +0800

    [HUDI-2875] Make HoodieParquetWriter Thread safe and memory executor exit gracefully (#4264)

3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieConcatHandle.java
3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieUnboundedCreateHandle.java
10	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
4	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java
1	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java
4	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
1	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/JavaLazyInsertIterable.java
4	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/OrcBootstrapMetadataHandler.java
5	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/ParquetBootstrapMetadataHandler.java
45	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutorInSpark.java
23	1	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java
6	4	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java

commit d794f4fbf9d8ce4c90507e4de36121ac1fc2fd4b
Author: qianchutao <72595723+qianchutao@users.noreply.github.com>
Date:   2022-05-06 00:33:06 +0800

    [MINOR] Optimize code logic (#5499)

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit f66e83dc6521a57a52385d61d7905fd34ff0e2f2
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-05-04 23:39:18 -0700

    [HUDI-3667] Run unit tests of hudi-integ-tests in CI (#5078)

18	0	azure-pipelines.yml
4	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
27	13	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java
17	10	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java
1	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestDeleteConverter.java
9	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java
6	5	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadEstimator.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
12	7	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java

commit 1562bb658f8f29f57763eaa6f9bd5a2ed7e80a7c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-05-04 19:47:11 +0530

    [HUDI-4031] Avoid clustering update handling when no pending replacecommit (#5487)

4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java

commit 8c9209db28c10f211272bf0a18bdcb5b18f5440f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-05-04 07:15:54 -0700

    [HUDI-4005] Update release scripts to help validation (#5479)

1	1	scripts/release/deploy_staging_jars.sh
66	0	scripts/release/validate_staged_bundles.sh
10	3	scripts/release/validate_staged_release.sh

commit 3343cbb47b75b9d65a73a7a98ed9dae0b5ec58a9
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-05-03 21:27:18 +0530

    [MINOR] Update RFC status (#5486)

3	3	rfc/README.md

commit 9732ba12dac5a79fae7c74cbf61cdb2f2db908c3
Author: Todd Gao <todd.gao.2013@gmail.com>
Date:   2022-05-03 00:35:23 +0800

    [HUDI-3211][RFC-44] Add RFC for Hudi Connector for Presto (#4563)
    
    * Add RFC doc
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>
    
    * Add note regarding catalog naming
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

-	-	rfc/rfc-44/presto-connector.png
158	0	rfc/rfc-44/rfc-44.md

commit 6af1ff7a663da57438db8847ca0dfda5a6e381f5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-30 10:51:16 -0700

    [MINOR] Update DOAP for release 0.11.0 (#5467)

5	0	doap_HUDI.rdf

commit 33ff4752baa80a0092d1fbb3692974b7fa6a7781
Author: Wangyh <763941163@qq.com>
Date:   2022-04-30 11:58:54 +0800

    [HUDI-3978] Fix use of partition path field as hive partition field in flink (#5434)
    
    * Fix partition path fields as hive sync partition fields error

4	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
13	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
62	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestHiveSyncContext.java

commit f492c52ee4d2f3d6dfbbf574833f837322166fbd
Author: xicm <36392121+xicm@users.noreply.github.com>
Date:   2022-04-30 07:21:52 +0800

    [HUDI-3862] Fix default configurations of HoodieHBaseIndexConfig (#5308)
    
    Co-authored-by: xicm <xicm@asiainfo.com>

2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java

commit a1d82b4dc5050b67668e5de5aacf62cdcbd4cb2b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-29 11:19:07 -0700

    [MINOR] Fix CI by ignoring SparkContext error (#5468)
    
    Sets spark.driver.allowMultipleContexts = true when constructing Spark conf in UtilHelpers

1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit e421d536eae236d0b2e29d9a4f59ed65822fd883
Author: Œ‚œÈ∆Ω <408317717@qq.com>
Date:   2022-04-29 14:10:20 +0800

    [HUDI-3758] Fix duplicate fileId error in MOR table type with flink bucket hash Index  (#5185)
    
    * fix duplicate fileId with bucket Index
    * replace to load FileGroup from FileSystemView

3	9	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteFunction.java

commit b27e8b51d80efe556d8166fe37ac82ffc8572893
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2022-04-29 09:48:44 +0800

    [MINOR] support different cleaning policy for flink (#5459)

14	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
12	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 4e928a6fe1ddd7e126ab155bb1c03f8630bb873d
Author: LiChuang <64473732+CodeCooker17@users.noreply.github.com>
Date:   2022-04-29 06:18:56 +0800

    [HUDI-3943] Some description fixes for 0.10.1 docs (#5447)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
8	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java

commit 52953c8f5e8d9d62a6913649235891be8960d50f
Author: Ibson <pushengli@163.com>
Date:   2022-04-28 07:09:44 +0800

    [HUDI-3815] Fix docs description of metadata.compaction.delta_commits default value error (#5368)
    
    Co-authored-by: pusheng.li01 <pusheng.li01@liulishuo.com>

1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java

commit cacbd9868733d2e990b7859a6f2c443ee4900997
Author: watermelon12138 <49849410+watermelon12138@users.noreply.github.com>
Date:   2022-04-27 21:16:09 +0800

    [HUDI-3945] After the async compaction operation is complete, the task should exit. (#5391)
    
    Co-authored-by: y00617041 <yangxuan42@huawei.com>

3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java

commit 924e2e96a63eb5c1b24496ec302e91b6f7a65953
Author: huberylee <shibei.lh@foxmail.com>
Date:   2022-04-27 14:07:29 +0800

    Claim RFC 52 for Introduce Secondary Index to Improve HUDI Query Performance (#5441)

1	0	rfc/README.md

commit e1ccf2e00b1aefbed64b8071c6bc54bd64610daa
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-04-27 13:19:55 +0800

    [HUDI-3977] Flink hudi table with date type partition path throws HoodieNotSupportedException (#5432)

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
15	5	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
38	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java
31	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java
0	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
19	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
10	0	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java

commit 6ec039ba4202bcb881044189f52210430a7d33b8
Author: KnightChess <981159963@qq.com>
Date:   2022-04-27 10:39:51 +0800

    [MINOR] Update alter rename command class type for pattern matching (#5381)

3	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
1	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala

commit 77e333298d0323a374e735f59beb2aaf0d89e99e
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-04-26 23:26:47 +0800

    [HUDI-3478] Claim RFC 51 For CDC (#5437)

1	0	rfc/README.md

commit 762623a15cfeba6f3fe936c238d660685ae62b50
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-25 23:03:10 -0400

    [HUDI-3972] Fixing hoodie.properties/tableConfig for no preCombine field with writes (#5424)
    
    Fixed instantiation of new table to set the null for preCombine if not explicitly set by the user.

3	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
20	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
22	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
82	65	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala

commit f2ba0fead24072e37c68477d0cfc3489fa098938
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date:   2022-04-25 18:42:17 +0800

    [HUDI-3085] Improve bulk insert partitioner abstraction (#4441)

27	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseBulkInsertHelper.java
6	5	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java
8	9	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java
6	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java
5	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveSortPartitioner.java
8	16	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java

commit 9054b85961f6822125c6a45729869d9285247ab4
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-04-25 12:58:27 +0800

    Revert "[HUDI-3951]support generan parameter 'sink.parallelism' for flink-hudi (#5405)" (#5421)
    
    This reverts commit bda3db078e927421c10932cfcb3019cfddb125b6.

0	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit d994c58cc020e645e3cc4f71511e5bb5ff8dc3c3
Author: Ruguo Yu <jiang7chengzitc@163.com>
Date:   2022-04-25 10:13:47 +0800

    [HUDI-3946] Validate option path in flink hudi sink (#5397)

5	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java

commit bda3db078e927421c10932cfcb3019cfddb125b6
Author: hehuiyuan <471627698@qq.com>
Date:   2022-04-24 19:09:39 +0800

    support generan parameter 'sink.parallelism' for flink-hudi (#5405)
    
    Co-authored-by: hehuiyuan1 <hehuiyuan@jd.com>

3	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit 5e5c177e4b95d73e95cb89e9c03665a9a69a631a
Author: miomiocat <284487410@qq.com>
Date:   2022-04-23 20:12:54 +0800

    [HUDI-3923] Fix cast exception while reading boolean type of partitioned field (#5373)

2	1	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala

commit 8633bd6e065291956ef9c521cfb830a2552784c2
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-23 01:33:55 -0700

    [HUDI-3948] Fix presto bundle missing HBase classes (#5398)

1	1	packaging/hudi-flink-bundle/pom.xml
6	1	packaging/hudi-presto-bundle/pom.xml
0	1	packaging/hudi-trino-bundle/pom.xml

commit 505ee672ac0af0d491725763ca5ab8ab403141ab
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-22 20:59:49 -0700

    [HUDI-3950] add parquet-avro to gcp-bundle (#5399)

1	0	packaging/hudi-gcp-bundle/pom.xml

commit 7523542c1daff5569ed1cb16fb78ffd1b22f4186
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-22 22:20:05 -0400

    [HUDI-3947] Fixing Hive conf usage in HoodieSparkSqlWriter (#5401)

1	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 20781a5fa6cfcb0069855e57a1974db435de37c9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-22 01:51:07 -0700

    [DOCS] Add commit activity, twitter badgers, and Hudi logo in README (#5336)

9	3	README.md

commit c05a4e7b6fd5ea4b4c161b7698173f991dd8ed21
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-21 18:00:38 -0700

    [HUDI-3934] Fix `Spark32HoodieParquetFileFormat` not being compatible w/ Spark 3.2.0 (#5378)
    
    - Due to the fact that Spark 3.2.1 is non-BWC w/ 3.2.0, we have to handle all these incompatibilities in Spark32HoodieParquetFileFormat. This PR is addressing that.
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

5	3	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
2	2	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
17	14	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/{Spark312HoodieParquetFileFormat.scala => Spark31HoodieParquetFileFormat.scala}
77	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32DataSourceUtils.scala
128	29	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala

commit c4bc2deea0b856107cd8a4293b7577a5a3ea1358
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-21 17:17:57 -0700

    [HUDI-3936] Fix projection for a nested field as pre-combined key (#5379)
    
    This PR fixes the projection logic around a nested field which is used as the pre-combined key field. The fix is to only check and append the root level field for projection, i.e., "a", for a nested field "a.b.c" in the mandatory columns.
    
    - Changes the logic to check and append the root level field for a required nested field in the mandatory columns in HoodieBaseRelation.appendMandatoryColumns

22	10	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
7	0	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java
3	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
12	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
18	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSourceStorage.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala

commit 037f89ee7c823b2b45befd9706fadfae6e21e5c1
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-04-22 06:27:54 +0800

    [HUDI-3921] Fixed schema evolution cannot work with HUDI-3855 (#5376)
    
    - when columns names are renamed (schema evolution enabled), while copying records from old data file with HoodieMergeHande, renamed columns wasn't handled well.

10	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
11	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java
61	9	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
24	2	hudi-common/src/main/java/org/apache/hudi/internal/schema/action/InternalSchemaMerger.java
16	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/InternalSchemaUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/internal/schema/utils/TestAvroSchemaEvolutionUtils.java
11	20	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala

commit de5fa1fe03a9f2805316069cf9523c0e3be83dfc
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-22 02:22:05 +0530

    [HUDI-3940] Fix retry count increment in lock manager (#5387)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java

commit 4e1ac467da0047b04fd6ad02f194c523e2e49f3e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-21 04:35:44 -0700

    [MINOR] Increase azure CI timeout to 120m (#5384)

5	5	azure-pipelines.yml

commit 4b296f79ccfbb3cbd4465c6f02912024fb6b68b4
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-21 01:36:19 -0700

    [HUDI-3935] Adding config to fallback to enabled Partition Values extraction from Partition path (#5377)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
9	17	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
11	11	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
35	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
35	9	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
0	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
6	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/HoodieParquetFileFormat.scala
31	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit a9506aa545b724547401ff1060efc75d5ba3ded1
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-21 04:08:43 -0400

    [HUDI-3938] Fix default value for num retries to acquire lock (#5380)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java

commit f7544e23ac6899b2d8b28a01c79caad1facd1379
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-20 04:30:27 -0700

    [HUDI-3204] Fixing partition-values being derived from partition-path instead of source columns (#5364)
    
     - Scaffolded `Spark24HoodieParquetFileFormat` extending `ParquetFileFormat` and overriding the behavior of adding partition columns to every row
     - Amended `SparkAdapter`s `createHoodieParquetFileFormat` API to be able to configure whether to append partition values or not
     - Fallback to append partition values in cases when the source columns are not persisted in data-file
     - Fixing HoodieBaseRelation incorrectly handling mandatory columns

19	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystExpressionUtils.scala
2	2	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
112	0	hudi-common/src/main/java/org/apache/hudi/avro/AvroSchemaUtils.java
7	73	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
8	9	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/table/TestTableSchemaResolver.java
20	9	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
29	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
124	84	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
13	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
3	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala
5	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
5	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
3	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
18	12	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/{SparkHoodieParquetFileFormat.scala => HoodieParquetFileFormat.scala}
19	9	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
0	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala
3	3	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
229	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark24HoodieParquetFileFormat.scala
7	15	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
275	232	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark312HoodieParquetFileFormat.scala
3	10	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala
253	196	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala

commit 408663c42b93dfffd55547e6e0262d3ef0388c78
Author: Œ‚œÈ∆Ω <408317717@qq.com>
Date:   2022-04-20 19:23:39 +0800

    [HUDI-3912] Fix lose data when rollback in flink async compact (#5357)
    
    * stop add event when has failed compact event
    
    Co-authored-by: wxp <wxp4532@outlook.com>

12	5	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java

commit 6a3ce928b16d4060b5af94f4c92802da9510406b
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date:   2022-04-20 14:31:21 +0800

    [HUDI-3904] Claim RFC number for Improve timeline server (#5354)

1	0	rfc/README.md

commit 7a9e411e9d7c687efa1309c53ac2615e37c29cf9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-04-20 12:48:24 +0800

    [HUDI-3917] Flink write task hangs if last checkpoint has no data input (#5360)

31	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java
8	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java

commit 28fdddfee093bee38c99ab07545df71ade00d383
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-19 16:40:09 -0700

    [HUDI-3920] Fix partition path construction in metadata table validator (#5365)

4	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit 6f3fe880d2008b760bf96e30612cc5ea9a8c2d95
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-19 15:08:28 -0700

    [HUDI-3905] Add S3 related setup in Kafka Connect quick start (#5356)

17	4	hudi-kafka-connect/README.md

commit 81bf771e56cb091a4f0f98746b93d146866729ef
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-19 10:40:20 -0700

    [HUDI-3902] Fallback to `HadoopFsRelation` in cases non-involving Schema Evolution (#5352)
    
    
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

48	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
33	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
10	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
43	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/SparkDatasetMixin.scala
9	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala
5	15	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
6	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala

commit 9af7b09aecc5e3e7bee8cda129d139fecc550887
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-18 21:47:10 -0700

    [HUDI-3894] Fix gcp bundle to include HBase dependencies and shading (#5349)

117	0	packaging/hudi-gcp-bundle/pom.xml

commit 4f44e6aeb5adbcb45861f2c2f8011a6bf616b69c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-19 07:58:46 +0530

    [HUDI-3899] Drop index to delete pending index instants from timeline if applicable (#5342)
    
    
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

34	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java
165	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java
25	0	hudi-utilities/src/test/resources/delta-streamer-config/indexer-only-bloom.properties

commit 52d878c52bdc2c65fd154aa731d70b311a0db8a1
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-18 18:17:53 -0700

    [HUDI-3903] Fix NoClassDefFoundError with Kafka Connect bundle (#5353)

1	1	packaging/hudi-kafka-connect-bundle/pom.xml

commit ef6c5611dc66755dc8a1fac0986d638e7d3e7dd8
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-18 16:20:50 -0700

    [HUDI-3894] Fix datahub to include HBase dependencies and shading (#5338)
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

118	0	packaging/hudi-datahub-sync-bundle/pom.xml

commit 7ecb47cd21a2c387e46d600aea628f0ded27e302
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-18 13:06:52 -0700

    [HUDI-3895] Fixing file-partitioning seq for base-file only views to make sure we bucket the files efficiently (#5337)

15	12	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala

commit 1718bcab847962ce65237ebddd90034bd065d4da
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-18 23:04:04 +0530

    [HUDI-3707] Fix target schema handling in HoodieSparkUtils while creating RDD (#5347)

13	6	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
0	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit b00d03fd62795f739076423994841bf8cc1151d4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-18 10:37:03 -0400

    [HUDI-3886] Adding default null for some of the fields in col stats in MDT schema (#5329)

10	5	hudi-common/src/main/avro/HoodieMetadata.avsc

commit 05dfc39c296c74e2a667cb92e7ef7798f9ea1cd7
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-18 08:08:33 -0400

    Fixing async clustering job test in TestHoodieDeltaStreamer (#5317)

16	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit b8e465fdfcac1961fe05ed44993c8c6139e13b31
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-04-16 04:33:37 +0800

    [MINOR] Fix typos in log4j-surefire.properties (#5212)

2	2	hudi-client/hudi-client-common/src/test/resources/log4j-surefire.properties
2	2	hudi-client/hudi-flink-client/src/main/resources/log4j-surefire.properties
2	2	hudi-client/hudi-flink-client/src/test/resources/log4j-surefire.properties
2	2	hudi-client/hudi-java-client/src/test/resources/log4j-surefire.properties
2	2	hudi-client/hudi-spark-client/src/test/resources/log4j-surefire.properties
2	2	hudi-common/src/test/resources/log4j-surefire.properties
2	2	hudi-examples/hudi-examples-flink/src/test/resources/log4j-surefire.properties
2	2	hudi-examples/hudi-examples-spark/src/test/resources/log4j-surefire.properties
2	2	hudi-flink-datasource/hudi-flink/src/test/resources/log4j-surefire.properties
2	2	hudi-hadoop-mr/src/test/resources/log4j-surefire.properties
2	2	hudi-integ-test/src/test/resources/log4j-surefire.properties
2	2	hudi-kafka-connect/src/test/resources/log4j-surefire.properties
2	2	hudi-spark-datasource/hudi-spark/src/test/resources/log4j-surefire.properties
2	2	hudi-spark-datasource/hudi-spark2/src/test/resources/log4j-surefire.properties
2	2	hudi-spark-datasource/hudi-spark3/src/test/resources/log4j-surefire.properties
2	2	hudi-sync/hudi-datahub-sync/src/test/resources/log4j-surefire.properties
2	2	hudi-sync/hudi-dla-sync/src/test/resources/log4j-surefire.properties
2	2	hudi-sync/hudi-hive-sync/src/test/resources/log4j-surefire.properties
2	2	hudi-sync/hudi-sync-common/src/test/resources/log4j-surefire.properties
2	2	hudi-timeline-service/src/test/resources/log4j-surefire.properties
2	2	hudi-utilities/src/test/resources/log4j-surefire.properties

commit 99dd1cb6e63600681aa11b3a03bc16d1401d8055
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-04-16 03:03:48 +0800

    [HUDI-3835] Add UT for delete in java client (#5270)

85	1	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java

commit e8ab915aff8afc831e06f6d358ad649e91d486c2
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-15 14:50:07 -0400

    [MINOR] Removing invalid code to close parquet reader iterator (#5182)

1	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala

commit 57612c5c323a2caab5e9c25d2b6617b0105d38e8
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-15 14:47:53 -0400

    [HUDI-3848] Fixing restore with cleaned up commits (#5288)

9	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java
88	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java

commit 9e8664f4d2503940881ee97280e2b9bb61dc2b9e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-14 12:35:20 -0700

    [HOTFIX] add missing license (#5322) (#5324)

17	1	hudi-utilities/src/test/resources/delta-streamer-config/schema_registry.source_schema_tab.sql
17	1	hudi-utilities/src/test/resources/delta-streamer-config/schema_registry.target_schema_tab.sql

commit d6a64f765ee150e9d415efc55b6b4cc5c8e770ec
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-14 12:28:27 -0700

    Revert "[HUDI-3652] Make ObjectSizeCalculator threadlocal to reduce memory footprint (#5060)" (#5323)
    
    This reverts commit f0ab4a6e9ef433ac943d2409051418f7f80a6902.

1	3	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java

commit f0ab4a6e9ef433ac943d2409051418f7f80a6902
Author: sekaiga <zhoujianhui818@163.com>
Date:   2022-04-14 18:08:14 +0800

    [HUDI-3652] Make ObjectSizeCalculator threadlocal to reduce memory footprint (#5060)
    
    Co-authored-by: zhouhuidong <zhouhuidong@bilibili.co>

3	1	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java

commit 6621f3cdbba1d913a4bc7f534c4837d010f45fd9
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-04-14 16:49:00 +0800

    [HUDI-3845] Fix delete mor table's partition with urlencode's error (#5282)

1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
47	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala

commit 44b3630b5dc5748ea27e65614cb37e9fd9e3f07b
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-04-14 15:53:05 +0800

    [HUDI-3826] Make truncate partition use delete_partition operation (#5272)
    
    Make truncate partition and drop partition behave as drop partition with purge, which delete all records via Hudi DELETE_PARTITION; partition removed from metastore

3	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala
8	19	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
47	78	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
27	12	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala

commit a081c2b9b54dcf5720230a2c7e0229c765208e24
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-14 00:03:05 -0400

    [HUDI-3876] Fixing fetching partitions in GlueSyncClient (#5318)

13	7	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java

commit 571cbe4c119012d53a919e556d6419ce7894bf16
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-13 14:37:07 -0700

    [MINOR] Code cleanup in test utils (#5312)

13	3	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit bab691692e31ae3e432bb6cf4c90436fba408a2c
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-13 14:33:26 -0700

    [HUDI-3686] Fix inline and async table service check in HoodieWriteConfig (#5307)

6	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
36	38	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java

commit c7f41f9018e62354cb1df335a5a8c6fd07aa261a
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-13 14:25:31 -0700

    [HUDI-3869] Improve error handling of loading Hudi conf (#5311)

10	2	hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java

commit 6f9b02decb5bb2b83709b1b6ec04a97e4d102c11
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-04-13 20:05:48 +0800

    [HUDI-3870] Add timeout rollback for flink online compaction (#5314)

10	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java

commit 0281725c6bc3d5bc0c2a94a53a819fe6949976ba
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-04-13 19:24:39 +0800

    [MINOR] Inline the partition path logic into the builder (#5310)

0	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
0	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
7	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
3	18	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
3	9	hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartData.java
12	26	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
3	9	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
10	21	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java

commit 43de2b470288aa3914ba712b7d2a1a806e317e53
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-04-13 14:21:08 +0800

    [HUDI-3868] Disable the sort input for flink streaming append mode (#5309)

11	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit 434e782b7d0d631e2106375ffa46332b67fcac1d
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-12 22:51:12 -0700

    [HUDI-3867] Disable Data Skipping by default (#5306)

1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit 7b78dff45f646597d442e3a2b950c5917eea92f6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-12 17:42:15 -0700

    [HUDI-3855] Fixing `FILENAME_METADATA_FIELD` not being correctly updated in `HoodieMergeHandle` (#5296)
    
    Fixing FILENAME_METADATA_FIELD not being correctly updated in HoodieMergeHandle, in cases when old-record is carried over from existing file as is.
    
    - Revisited HoodieFileWriter API to accept HoodieKey instead of HoodieRecord
    - Fixed FILENAME_METADATA_FIELD not being overridden in cases when simply old record is carried over
    - Exposing standard JVM's debugger ports in Docker setup

28	5	docker/compose/docker-compose_hadoop284_hive233_spark244.yml
3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieConcatHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
14	14	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
4	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java
13	14	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
20	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java
7	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
3	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
22	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java

commit 2e6e302efec2fa848ded4f88a95540ad2adb7798
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-12 15:33:08 -0700

    [HUDI-3859] Fix spark profiles and utilities-slim dep (#5297)

5	32	.github/workflows/bot.yml
17	16	README.md
0	8	packaging/hudi-utilities-slim-bundle/pom.xml
4	2	pom.xml

commit 2d46d5287eceafee9b52c2ff5b245721114f5b99
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2022-04-12 15:03:00 -0700

    [HUDI-3838] Moved the getPartitionColumns logic to driver. (#5303)

2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 25dce94ba21750f5cc06212cd53aab4be804f0a7
Author: satishm <84978833+data-storyteller@users.noreply.github.com>
Date:   2022-04-12 21:45:17 +0530

    [MINOR] Integ Test Reducing partitions for log running multi partition yaml (#5300)

6	6	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml
6	6	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml

commit 84783b9779b528ab85298a4630f62fe9c2299560
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-12 08:33:48 -0700

    [HUDI-3843] Make flink profiles build with scala-2.11 (#5279)

12	0	README.md
4	0	scripts/release/deploy_staging_jars.sh

commit d16740976e3aa89f2d934b0f1c48208dfe40bc5f
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2022-04-12 05:40:30 -0700

    [HUDI-3838] Implemented drop partition column feature for delta streamer code path (#5294)
    
    * [HUDI-3838] Implemented drop partition column feature for delta streamer code path
    
    * Ensure drop partition table config is updated in hoodie.props
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

11	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
30	0	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java
29	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 101b82a6797bb3d1ffb3b4ff61cbfdf99916f029
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-12 01:07:52 -0700

    [HUDI-3839] Fixing incorrect selection of MT partitions to be updated (#5274)
    
    * Fixing incorrect selection of MT partitions to be updated
    
    * Ensure that metadata partitions table config is inherited correctly
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
28	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java

commit f91e9e63e136ea558bc5c5fdfd97641dcbbc6813
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-11 21:02:43 -0700

    [HUDI-3799] Fixing not deleting empty instants w/o archiving (#5261)

12	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
40	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java
18	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
7	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
6	5	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 3d8fc78c6675cf2df79bd359276bc1ba3440befd
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-12 03:46:06 +0530

    [HUDI-3844] Update props in indexer based on table config (#5293)

18	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/ScheduleIndexActionExecutor.java
18	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java
81	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java

commit 458fdd5611e4f246cc35a6e5436731eb5d526ab5
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-11 12:45:53 -0700

    [HUDI-3841] Fixing Column Stats in the presence of Schema Evolution (#5275)
    
    Currently, Data Skipping is not handling correctly the case when column-stats are not aligned and, for ex, some of the (column, file) combinations are missing from the CSI.
    
    This could occur in different scenarios (schema evolution, CSI config changes), and has to be handled properly when we're composing CSI projection for Data Skipping. This PR addresses that.
    
    - Added appropriate aligning for the transposed CSI projection

61	31	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/another-input-table-json/part-00000-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/another-input-table-json/part-00001-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/another-input-table-json/part-00002-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/another-input-table-json/part-00003-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/column-stats-index-table.json
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/input-table-json/part-00000-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/input-table-json/part-00001-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/input-table-json/part-00002-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/input-table-json/part-00003-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-another-input-table-json/part-00000-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-another-input-table-json/part-00001-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-another-input-table-json/part-00002-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-another-input-table-json/part-00003-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
4	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-column-stats-index-table.json
0	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/{zorder => colstats}/updated-column-stats-index-table.json
8	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/updated-partial-column-stats-index-table.json
158	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala

commit 52ea1e496496ddf3e8a55e0d0144251464d8cb1b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-11 07:14:51 -0700

    [MINOR] fixing timeline server for integ tests (#5289)

1	0	docker/demo/config/test-suite/test-aggressive-clean-archival-inline-compact.properties
1	0	docker/demo/config/test-suite/test-aggressive-clean-archival.properties
1	0	docker/demo/config/test-suite/test-clustering-aggressive-clean-archival-inline-compact.properties
1	0	docker/demo/config/test-suite/test-clustering-aggressive-clean-archival.properties
2	0	docker/demo/config/test-suite/test-clustering-inline-compact.properties
1	0	docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival-inline-compact.properties
1	0	docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival.properties
2	0	docker/demo/config/test-suite/test-clustering.properties
1	0	docker/demo/config/test-suite/test-inline-compact.properties
1	0	docker/demo/config/test-suite/test-metadata-aggressive-clean-archival-inline-compact.properties
1	0	docker/demo/config/test-suite/test-metadata-aggressive-clean-archival.properties
1	0	docker/demo/config/test-suite/test-metadata-inline-compact.properties
1	0	docker/demo/config/test-suite/test-metadata.properties
1	0	docker/demo/config/test-suite/test-nonpartitioned-inline-compact.properties
1	0	docker/demo/config/test-suite/test-nonpartitioned-metadata-inline-compact.properties
1	0	docker/demo/config/test-suite/test-nonpartitioned-metadata.properties
1	0	docker/demo/config/test-suite/test-nonpartitioned.properties
1	0	docker/demo/config/test-suite/test.properties

commit 5c41e30ac5c29629ab1f993aa20b692ae3565d92
Author: RexXiong <lvshuang.tb@gmail.com>
Date:   2022-04-11 20:44:46 +0800

    [HUDI-3817] shade parquet dependency for hudi-hadoop-mr-bundle (#5250)
    
    
    Co-authored-by: lvshuang.xjs <lvshuang.xjs@alibaba-inc.com>

15	3	packaging/hudi-hadoop-mr-bundle/pom.xml

commit 2245a9515f1d048b3f0a832c5087c227fbab132e
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-10 21:46:07 -0700

    [HUDI-3798] Fixing ending of a transaction by different owner and removing some extraneous methods in trxn manager (#5255)

10	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
7	20	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/RunIndexActionExecutor.java
53	21	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java

commit 63a099c5b73d47abbf99e757c860953c013e106f
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-10 17:59:29 -0700

    [HUDI-3847] Fix NPE due to null schema in HoodieMetadataTableValidator (#5284)

12	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit 12731f5b891b41ecbbf6f79e5b33b6eb581771e8
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-10 17:09:48 -0700

    [HUDI-3842] Integ tests for non partitioned datasets (#5276)
    
    - Adding non-partitioned support to integ tests
    - Fixing some of the test yamls and properties

4	4	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml
4	4	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml
4	4	docker/demo/config/test-suite/deltastreamer-medium-clustering.yaml
4	4	docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml
25	16	docker/demo/config/test-suite/{cow-spark-simple.yaml => deltastreamer-non-partitioned.yaml}
1	1	docker/demo/config/test-suite/insert-overwrite-table.yaml
8	8	docker/demo/config/test-suite/{cow-spark-long-running.yaml => spark-long-running-non-partitioned.yaml}
56	0	docker/demo/config/test-suite/test-aggressive-clean-archival-inline-compact.properties
4	4	docker/demo/config/test-suite/test-aggressive-clean-archival.properties
63	0	docker/demo/config/test-suite/test-clustering-aggressive-clean-archival-inline-compact.properties
4	4	docker/demo/config/test-suite/test-clustering-aggressive-clean-archival.properties
58	0	docker/demo/config/test-suite/test-clustering-inline-compact.properties
64	0	docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival-inline-compact.properties
4	4	docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival.properties
4	4	docker/demo/config/test-suite/test-clustering.properties
53	0	docker/demo/config/test-suite/test-inline-compact.properties
57	0	docker/demo/config/test-suite/test-metadata-aggressive-clean-archival-inline-compact.properties
4	4	docker/demo/config/test-suite/test-metadata-aggressive-clean-archival.properties
57	0	docker/demo/config/test-suite/test-metadata-inline-compact.properties
4	4	docker/demo/config/test-suite/test-metadata.properties
60	0	docker/demo/config/test-suite/test-nonpartitioned-inline-compact.properties
60	0	docker/demo/config/test-suite/test-nonpartitioned-metadata-inline-compact.properties
59	0	docker/demo/config/test-suite/test-nonpartitioned-metadata.properties
59	0	docker/demo/config/test-suite/test-nonpartitioned.properties
4	4	docker/demo/config/test-suite/test.properties
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java
3	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java
13	9	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/SparkDataSourceContinuousIngest.scala

commit 976840e8eb5fee9bfb2ed029e65aec5b7033faf2
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-10 10:43:47 -0700

    [HUDI-3812] Fixing Data Skipping configuration to respect Metadata Table configs (#5244)
    
    Addressing the problem of Data Skipping not respecting Metadata Table configs which might differ b/w write/read paths. More details could be found in HUDI-3812.
    
    - Fixing Data Skipping configuration to respect MT configs (on the Read path)
    - Tightening up DS handling of cases when no top-level columns are in the target query
    - Enhancing tests to cover all possible case

3	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala
32	15	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
51	30	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
36	31	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala

commit 7a9d48d126b1474f1bb7cfbe8b1c0b0391ef49d2
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-10 10:42:06 -0700

    [HUDI-3834] Fixing performance hits in reading Column Stats Index (#5266)
    
    Fixing performance hits in reading Column Stats Index:
    
    [HUDI-3834] There's substantial performance degradation in Avro 1.10 default generated Builder classes: they by default rely on SpecificData.getForSchema that load corresponding model's class using reflection, which takes a hit when executed on the hot-path (this was bringing overall runtime to read full Column Stats Index of 800k records to 60s, whereas now it's taking mere 3s)
    
    Addressing memory churn by over-used Hadoop's Path creation: Path ctor is not a lightweight sequence and produces quite a bit of memory churn adding pressure on GC. Cleaning such avoidable allocations up to make sure there's no unnecessarily added pressure on GC.

5	10	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestClusteringCommand.java
5	5	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java
5	10	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCompactionCommand.java
16	8	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java
23	10	hudi-common/src/main/java/org/apache/hudi/common/model/BaseFile.java
36	38	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
41	3	hudi-common/src/main/java/org/apache/hudi/hadoop/{FileNameCachingPath.java => CachingPath.java}
69	0	hudi-common/src/main/java/org/apache/hudi/hadoop/SerializablePath.java
40	12	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java

commit 15c264535ffbe73eac4dee6f15e0d2e65a8d4c78
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-04-10 08:51:58 +0800

    [MINOR] Fix typos in the comments of HoodieMergeHandle (#5271)

1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit 3e97c88c4ff9cbeb312805daf6d52da5f1bcb0bd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-09 12:30:11 -0700

    [HUDI-3807] Add a new config to control the use of metadata index in HoodieBloomIndex (#5268)

13	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
6	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
9	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java

commit 5e65aefc61e973a959c11f08c2aa9f19fefc09fc
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-09 11:01:18 -0700

    [HUDI-3837] Fix license and rat check settings (#5273)
    
    - add missing licenses
    - fix CI setting to run rat plugin
    - fix deploy script to include integ test modules

1	1	.github/workflows/bot.yml
1	1	docker/README.md
-	-	docker/{ => images}/push_to_docker_hub.png
17	1	hudi-examples/hudi-examples-dbt/README.md
17	1	hudi-spark-datasource/hudi-spark2-common/pom.xml
19	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/SyncUtilHelpers.java
9	7	pom.xml
16	0	rfc/rfc-34/rfc-34.md
1	0	scripts/release/create_source_release.sh
1	1	scripts/release/deploy_staging_jars.sh
7	7	scripts/release/validate_staged_release.sh

commit 81b25c543a5eabd6d0dfe460ad7f9776d8cf5573
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-08 23:14:08 -0700

    [HUDI-3825] Fixing Column Stats Index updating sequence (#5267)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
7	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
14	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
6	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
9	12	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
6	22	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
12	6	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
8	25	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
4	4	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
61	42	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
18	13	hudi-common/src/main/java/org/apache/hudi/metadata/MetadataRecordsGenerationParams.java
21	8	hudi-common/src/main/java/org/apache/hudi/util/{LazyRef.java => Lazy.java}
5	16	hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java
1	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
0	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala
0	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit 1cc7542357af201c88b8e55ff2055c354ee38b88
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-08 16:12:25 -0700

    [MINOR] Update README of docker build setup (#5256)

13	3	docker/README.md

commit 26eb7b8183767c1275aaeaa4c7cd39aee0a10792
Author: satishm <84978833+data-storyteller@users.noreply.github.com>
Date:   2022-04-08 16:46:01 +0530

    [HUDI-3571] Spark datasource continuous checkpoint should have own fs variable (#5265)

3	2	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/SparkDataSourceContinuousIngest.scala

commit d7cc767dbc7687a03bf3701267e683a96d8dfab9
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-08 03:28:31 -0700

    [HUDI-3825] Fixing non-partitioned table Partition Records persistence in MT (#5259)
    
    * Filter out empty string (for non-partitioned table) being added to "__all_partitions__" record
    
    * Instead of filtering, transform empty partition-id to `NON_PARTITIONED_NAME`
    
    * Cleaned up `HoodieBackedTableMetadataWriter`
    
    * Make sure REPLACE_COMMITS are handled as well

29	34	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
2	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
27	20	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java

commit 67215abaf0bff74b85ffc51b2e674a37b0a124c1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-04-08 14:33:56 +0800

    [HUDI-3827] Promote the inetAddress picking strategy for NetworkUtils#getHostname (#5260)

43	17	hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java

commit 7a6272fba150fa9d7acd0b57cc4041ec49019faf
Author: KnightChess <981159963@qq.com>
Date:   2022-04-08 14:26:40 +0800

    [HUDI-3781] fix spark delete sql can not delete record (#5215)

4	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala
47	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala

commit df87095ef03b73b779bcddb65b7ac372686eade2
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-08 09:59:36 +0530

    [HUDI-3454] Fix partition name in all code paths for LogRecordScanner (#5252)
    
    * Depend on FSUtils#getRelativePartitionPath(basePath, logFilePath.getParent)
    to get the partition.
    
    * If the list of log file paths in the split is empty, then fallback to usual behaviour.

5	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
3	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
18	3	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
9	3	hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartData.java
26	12	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
9	3	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
21	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java

commit 672974c4129135eac6e9d62dd23cc5d3e7a10863
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-07 17:30:33 -0700

    [HUDI-3823] Fix hudi-hive-sync-bundle to include HBase dependencies and shading (#5257)

116	1	packaging/hudi-hive-sync-bundle/pom.xml

commit ef06e4a5261008a7c64cc84a3cb62e106e121f93
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-07 15:40:51 -0700

    [HUDI-3810] Fixing lazy read for metadata log record readers (#5241)

1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java

commit cd2c346df670b4b8b46066ae097edd8e95bcc6f4
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-07 13:03:03 -0700

    [HUDI-3637] Exclude uncommitted log files from metadata table validation (#5234)

137	19	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit b3c834a2426197b69e9ce2120e8e404a99e4dd88
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-07 11:13:46 -0700

    [HUDI-3571] Spark datasource continuous ingestion tool (#5156)

167	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/SparkDataSourceContinuousIngestTool.java
92	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/SparkDataSourceContinuousIngest.scala

commit 6a8396420c12bbac46b1cad46f1a5a88769959f6
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-04-07 19:21:03 +0800

    [HUDI-3643] Fix hive count exception when the table is empty and the path depth is less than 3 (#5051)

0	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java
15	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
15	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieHFileInputFormat.java
15	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
18	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java

commit 9d744bb35ce54d347c5ef50adeba3f2a8840d043
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-07 03:02:34 -0700

    [HUDI-3805] Delete existing corrupted requested rollback plan during rollback (#5245)

30	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
106	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java

commit 531381faffe634e0976a756d4213f5ff0ebd54f4
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-04-07 17:21:25 +0800

    [HUDI-3096] fixed the bug that the cow table(contains decimalType) write by flink cannot be read by spark. (#4421)

13	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java
6	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java

commit e33149be9a5b8718f3b97e335ae249db0cef4b2d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-04-07 15:17:39 +0800

    [HUDI-3808] Flink bulk_insert timestamp(3) can not be read by Spark (#5236)

11	0	hudi-client/hudi-flink-client/pom.xml
11	8	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java
21	4	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/io/storage/row/parquet/TestParquetSchemaConverter.java
1	1	hudi-flink-datasource/hudi-flink/pom.xml
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
2	2	packaging/hudi-flink-bundle/pom.xml
1	0	pom.xml

commit d43b4cd95e2d23aafcd3aef390b94bb255354e97
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-06 12:17:36 -0700

    [HUDI-3739] Fix handling of the `isNotNull` predicate in Data Skipping (#5224)
    
    - Fix handling of the isNotNull predicate in Data Skipping

21	17	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala
4	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
11	19	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/ColumnStatsIndexHelper.java
4	4	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/column-stats-index-table.json
8	8	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/updated-column-stats-index-table.json
161	153	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
4	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala

commit b2f09a1feeb90e33ee2e6b65a9ee906cc3022a63
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-06 12:14:23 -0700

    [HUDI-3340] Fix deploy_staging_jars command (#5243)

1	1	scripts/release/deploy_staging_jars.sh

commit 939b3d1b07f9c0a11050be0f45e0c5843bc5422e
Author: rkkalluri <rkalluri@gmail.com>
Date:   2022-04-06 12:35:32 -0500

    [HUDI-3726] Switching from non-partitioned to partitioned key gen does not throw any exception (#5205)

4	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
26	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
138	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala

commit ca273274b0b37c9c7025c5e2bf7befa871f8aa5a
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-06 09:42:11 -0700

    [HUDI-3340] Fix deploy_staging_jars for different profiles (#5240)

43	25	scripts/release/deploy_staging_jars.sh

commit 9e87d164b3f39d795ef70a1f22ba57353d6e198f
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-06 09:11:08 -0700

    [HUDI-3760] Adding capability to fetch Metadata Records by prefix  (#5208)
    
    - Adding capability to fetch Metadata Records by key prefix so that Data Skipping could fetch only Column Stats
    - Index records pertaining to the columns being queried by, instead of reading out whole Index.
    - Fixed usages of HFileScanner in HFileReader. few code paths uses cached scanner if available. Other code paths uses its own HFileScanner w/ positional read.
    
    Brief change log
    - Rebasing ColumnStatsIndexSupport to rely on HoodieBackedTableMetadata in lieu of reading t/h Spark DS
    - Adding methods enabling key-prefix lookups to HoodiFileReader, HoodieHFileReader
    - Wiring key-prefix lookup t/h LogRecordScanner impls
    - Cleaning up HoodieHFileReader impl
    
    Co-authored-by: sivabalan <n.siva.b@gmail.com>
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
90	28	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
2	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieReaderWriterBase.java
8	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieConversionUtils.scala
152	15	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
5	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
43	23	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
3	9	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
9	12	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
19	9	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java
15	8	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
13	0	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
27	15	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java
426	286	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
6	5	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcReader.java
9	10	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
7	0	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
232	97	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
40	57	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java
2	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
13	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
4	4	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
64	0	hudi-common/src/main/java/org/apache/hudi/util/LazyRef.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
94	19	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala
6	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
5	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
9	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
2	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
0	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
1	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
5	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
12	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala
7	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala
9	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala

commit 7612549bcccbed37072677b3efda631f4c0cbc14
Author: BruceLin <brucekellan@gmail.com>
Date:   2022-04-06 16:07:20 +0800

    [MINOR] Fixing build failure when using flink-1.13 (#5214)

commit 8683fb1d49b408a5012185104b13ae59c376a709
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-06 00:56:53 -0700

    [HUDI-3800] Fixed preserve commit metadata for compaction for untouched records (#5232)

10	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java

commit e96f08f355ddf1437b3a62c8e0fb8a87f3a04e64
Author: Raymond Xu <xu.shiyan.raymond@gmail.com>
Date:   2022-04-06 15:24:10 +0800

    Moving to 0.12.0-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/base_java11/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	docker/hoodie/hadoop/trinobase/pom.xml
1	1	docker/hoodie/hadoop/trinocoordinator/pom.xml
1	1	docker/hoodie/hadoop/trinoworker/pom.xml
2	2	hudi-aws/pom.xml
1	1	hudi-cli/pom.xml
2	2	hudi-client/hudi-client-common/pom.xml
2	2	hudi-client/hudi-flink-client/pom.xml
2	2	hudi-client/hudi-java-client/pom.xml
2	2	hudi-client/hudi-spark-client/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-examples/hudi-examples-common/pom.xml
1	1	hudi-examples/hudi-examples-flink/pom.xml
1	1	hudi-examples/hudi-examples-java/pom.xml
1	1	hudi-examples/hudi-examples-spark/pom.xml
1	1	hudi-examples/pom.xml
2	2	hudi-flink-datasource/hudi-flink/pom.xml
2	2	hudi-flink-datasource/hudi-flink1.13.x/pom.xml
2	2	hudi-flink-datasource/hudi-flink1.14.x/pom.xml
2	2	hudi-flink-datasource/pom.xml
1	1	hudi-gcp/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-integ-test/pom.xml
2	2	hudi-kafka-connect/pom.xml
2	2	hudi-spark-datasource/hudi-spark-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark/pom.xml
1	1	hudi-spark-datasource/hudi-spark2-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark2/pom.xml
1	1	hudi-spark-datasource/hudi-spark3-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark3.1.x/pom.xml
2	2	hudi-spark-datasource/hudi-spark3/pom.xml
1	1	hudi-spark-datasource/pom.xml
1	1	hudi-sync/hudi-datahub-sync/pom.xml
1	1	hudi-sync/hudi-dla-sync/pom.xml
1	1	hudi-sync/hudi-hive-sync/pom.xml
1	1	hudi-sync/hudi-sync-common/pom.xml
1	1	hudi-sync/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-datahub-sync-bundle/pom.xml
1	1	packaging/hudi-flink-bundle/pom.xml
1	1	packaging/hudi-gcp-bundle/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-sync-bundle/pom.xml
1	1	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-kafka-connect-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-trino-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	packaging/hudi-utilities-slim-bundle/pom.xml
1	1	pom.xml

commit 8baeb816d553f202c7bd4b6564d6955be46d74b5
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-05 20:12:13 -0700

    [HUDI-3723] Fixed stack overflows in Record Iterators (#5235)

16	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala

commit 898be6174a62e8079cdc33648e73787829ee6963
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-06 08:36:52 +0530

    [HUDI-3782] Fixing table config when any of the index is disabled (#5222)

64	34	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
66	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
3	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
3	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
126	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
4	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit 92ca426ab7ef54c8ce928f770783f4f83510d8ae
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2022-04-05 08:58:13 -0700

    [HUDI-2319] dbt example models to demonstrate hudi dbt integration (#5220)
    
    * dbt example models to demonstrate hudi dbt integration
    
    * Fixed readme text

8	0	hudi-examples/hudi-examples-dbt/.gitignore
118	0	hudi-examples/hudi-examples-dbt/README.md
49	0	hudi-examples/hudi-examples-dbt/dbt_project.yml
37	0	hudi-examples/hudi-examples-dbt/models/example/hudi_insert_overwrite_table.sql
42	0	hudi-examples/hudi-examples-dbt/models/example/hudi_insert_table.sql
40	0	hudi-examples/hudi-examples-dbt/models/example/hudi_upsert_partitioned_cow_table.sql
40	0	hudi-examples/hudi-examples-dbt/models/example/hudi_upsert_partitioned_mor_table.sql
38	0	hudi-examples/hudi-examples-dbt/models/example/hudi_upsert_table.sql
104	0	hudi-examples/hudi-examples-dbt/models/example/schema.yml

commit 3195f51562b8cd7e62a46d41ae91e6d25be77988
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-04-05 16:31:41 +0800

    [HUDI-3748] write and select hudi table when enable hoodie.datasource.write.drop.partition.columns (#5201)

3	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
21	3	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
12	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
14	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
70	18	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
1	1	hudi-common/src/main/java/org/apache/hudi/exception/HoodieIncompatibleSchemaException.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableConfig.java
70	0	hudi-common/src/test/java/org/apache/hudi/common/table/TestTableSchemaResolver.java
3	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
4	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
84	11	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
3	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
11	18	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
33	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 325b3d610a285aa6442b6db325c43379dfd63c6c
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-04-05 16:10:11 +0800

    [HUDI-3795] Fix hudi-examples checkstyle and maven enforcer error (#5221)
    
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

12	2	.github/workflows/bot.yml
8	8	hudi-examples/hudi-examples-common/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java
4	4	hudi-examples/hudi-examples-flink/pom.xml
5	4	hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieFlinkQuickstart.java
18	17	hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartData.java
57	56	hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/HoodieSparkQuickstart.java
7	6	hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieSparkQuickstart.java

commit 3449e86989f86121a9b9a93de602bc8497021a27
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-04-05 11:52:33 +0800

    [HUDI-3780] improve drop partitions (#5178)

1	1	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java
0	19	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
18	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
6	6	hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/HoodieBigQuerySyncClient.java
5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
145	28	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala
4	37	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
6	38	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
13	11	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
2	2	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncClient.java
2	2	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
12	14	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java

commit b28f0d6ceb7750075be82b7bd4160a4475801159
Author: Prashant Wason <pwason@uber.com>
Date:   2022-04-04 08:08:20 -0700

    [HUDI-3290] Different file formats for the partition metadata file. (#5179)
    
    * [HUDI-3290] Different file formats for the partition metadata file.
    
    Partition metadata files are stored in each partition to help identify the base path of a table. These files are saved in the properties file format. Some query engines do not work when non Parquet/ORC files are found in a partition.
    
    Added a new table config 'hoodie.partition.metafile.use.data.format' which when enabled (default false for backward compatibility) ensures that partition metafiles will be saved in the same format as the base files of a dataset.
    
    For new datasets, the config can be set via hudi-cli. Deltastreamer has a new parameter --partition-metafile-use-data-format which will create a table with this setting.
    
    * Code review comments
    
    - Adding a new command to migrate from text to base file formats for meta file.
    - Reimplementing readFromFS() to first read the text format, then base format
    - Avoid extra exists() checks in readFromFS()
    - Added unit tests, enabled parquet format across hoodie-hadoop-mr
    - Code cleanup, restructuring, naming consistency.
    
    * Wiring in all the other Spark code paths to respect this config
    
     - Turned on parquet meta format for COW data source tests
     - Removed the deltastreamer command line to keep it shorter
    
    * populate HoodiePartitionMetadata#format after readFromFS()
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

2	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
65	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java
6	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java
52	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
11	6	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
170	26	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
16	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
12	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
15	8	hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java
23	16	hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
93	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodiePartitionMetadata.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
20	9	hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java
4	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
11	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
4	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 8add740d2257214fb3b6238091b0c526dee88a26
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2022-04-03 03:53:25 -0700

    [HUDI-3534] [RFC-34] Added the implementation details for the BigQuery integration (#4503)

1	1	rfc/README.md
-	-	rfc/rfc-34/big-query-arch.png
166	0	rfc/rfc-34/rfc-34.md

commit c34eb07598adfd975fa1b9f5235dfc48a7a247bd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-03 03:42:14 -0700

    [MINOR] Reuse deleteMetadataTable for disabling metadata table (#5217)

6	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
16	11	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java

commit 84064a9b081c246f306855ae125f0dae5eb8f6d0
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-02 23:44:10 -0700

    [HUDI-3772] Fixing auto adjustment of lock configs for deltastreamer (#5207)

47	32	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
44	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
3	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
8	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit cc3737be506475c11c12471be6d0296ea14c7f39
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-04-02 17:15:52 -0700

    [HUDI-3664] Fixing Column Stats Index composition  (#5181)
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

11	11	azure-pipelines.yml
8	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
8	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
7	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
14	21	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	2	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
8	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
72	24	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
13	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java
18	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java
29	15	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
6	0	hudi-common/pom.xml
182	4	hudi-common/src/main/avro/HoodieMetadata.avsc
144	0	hudi-common/src/main/java/org/apache/hudi/avro/ConvertingGenericData.java
90	16	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
12	2	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
0	34	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
4	16	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDeltaWriteStat.java
29	0	hudi-common/src/main/java/org/apache/hudi/common/util/DateTimeUtils.java
160	17	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
265	133	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
2	0	hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java
42	1	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java
58	58	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
9	10	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
6	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
216	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala
7	57	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
9	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/{ => sql}/HoodieSparkTypeUtils.scala
14	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/{ => sql}/HoodieUnsafeRDDUtils.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
15	50	{hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats => hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi}/ColumnStatsIndexHelper.java
4	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/column-stats-index-table.json
8	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/updated-column-stats-index-table.json
0	8	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table-merged.json
0	4	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table.json
24	28	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
90	146	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala
13	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchmark.scala
1	1	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystExpressionUtils.scala
54	6	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala
1	1	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark3_1CatalystExpressionUtils.scala
52	7	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala
1	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark3_2CatalystExpressionUtils.scala
54	5	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala
9	26	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit 74eb09be9b40a205365bf920ed98cfff564f79cf
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-03 03:52:57 +0530

    [HUDI-3776] Fix BloomIndex incorrectly using ColStats to lookup records locations (#5213)

26	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
60	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
12	8	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java

commit 20964df7707b0cdb460cecfaa724537244adb0a4
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2022-04-02 13:18:06 -0700

    [HUDI-3357] MVP implementation of BigQuerySyncTool (#5125)
    
    
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

117	0	hudi-gcp/pom.xml
46	0	hudi-gcp/src/assembly/src.xml
131	0	hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/BigQuerySyncConfig.java
119	0	hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/BigQuerySyncTool.java
243	0	hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/HoodieBigQuerySyncClient.java
43	0	hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/HoodieBigQuerySyncException.java
118	0	hudi-gcp/src/test/java/org/apache/hudi/gcp/bigquery/TestBigQuerySyncConfig.java
29	0	hudi-gcp/src/test/resources/log4j-surefire-quiet.properties
29	0	hudi-gcp/src/test/resources/log4j-surefire.properties
0	141	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ManifestFileUtil.java
156	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ManifestFileWriter.java
0	73	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestManifestFileUtil.java
80	0	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestManifestFileWriter.java
178	0	packaging/hudi-gcp-bundle/pom.xml
37	0	packaging/hudi-gcp-bundle/src/main/java/org/apache/hudi/gcp/bigquery/bundle/Main.java
2	0	pom.xml

commit c19f505b5ad8c292d259b68c57f6d768a2a1dbf4
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-02 13:16:17 -0700

    [HUDI-3784] Improve docs and logs of HoodieMetadataTableValidator (#5216)

34	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit eef3f9c74acfe0ebec77694044b416696cfc7c2d
Author: todd5167 <313328862@qq.com>
Date:   2022-04-02 21:16:10 +0800

    [HUDI-3771] flink supports sync table information to aws glue (#5202)

1	1	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AwsGlueCatalogSyncTool.java
6	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
4	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveSyncMode.java

commit 020786a5f9d25bf140decf24d65e07dd738e4f9d
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-04-02 19:01:06 +0800

    [HUDI-3451] Delete metadata table when the write client disables MDT (#5186)
    
    * Add checks for metadata table init to avoid possible out-of-sync
    
    * Revise the logic to reuse existing table config
    
    * Revise docs and naming
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>
    Co-authored-by: Y Ethan Guo <ethan.guoyihua@gmail.com>

50	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
3	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
75	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
5	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java

commit b1e7e1f14eb093e50f74f23a7622c4e38886553a
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-01 20:17:02 -0700

    [HUDI-3708] Fix failure with HoodieMetadataRecord due to schema compatibility check (#5204)

2	1	hudi-common/src/main/avro/HoodieMetadata.avsc

commit fb45fc9cb9581abc40922ddcbee21dfc016d4edc
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-04-01 20:14:07 -0700

    [HUDI-3773] Fix parallelism used for metadata table bloom filter index (#5209)

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
15	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit 444ff496a444ff82385421844aef5b4db01d8892
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-04-02 04:20:24 +0800

    [RFC-33] [HUDI-2429][Stacked on HUDI-2560] Support full Schema evolution for Spark (#4910)
    
    * [HUDI-2560] introduce id_based schema to support full schema evolution.
    
    * add test for FileBasedInternalSchemaStorageManger and rebase code
    
    * add support for change column type and fix some test case
    
    * fix some bugs encountered in the production env and delete useless code
    
    * fix test error
    
    * rebase code
    
    * fixed some nested schema change bugs
    
    * [HUDI-2429][Stacked On HUDI-2560]Support full schema evolution for spark
    
    * [use dummyInternalSchema instead of null]
    
    * add support for spark3.1.x
    
    * remove support for spark3.1.x , sicne some compile fail
    
    * support spark3.1.x
    
    * rebase and prepare solve all comments
    
    * address all comments
    
    * rebase code
    
    * fixed the count(*) bug
    
    * try to get internalSchema by parser commit file/history file directly, not use metaclient which is time cost
    address some comments
    
    * fixed all comments
    
    * fix new comments
    
    * rebase code,fix UT failed
    
    * fixed mistake
    
    * rebase code ,fixed new comments
    
    * rebase code , and prepare for address new comments
    
    * address commits
    
    * address new comments
    
    * fix new issues
    
    * control fallback original write logical

180	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
50	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
9	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
42	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java
19	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
19	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java
502	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkInternalSchemaConverter.java
28	12	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
13	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
6	0	hudi-common/pom.xml
284	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
14	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
58	8	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
39	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
12	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
11	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
10	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
35	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
22	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java
23	19	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
17	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
212	0	hudi-common/src/main/java/org/apache/hudi/common/util/InternalSchemaCache.java
44	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/HoodieSchemaException.java
291	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/InternalSchema.java
272	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/InternalSchemaBuilder.java
78	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/Type.java
716	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/Types.java
164	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/action/InternalSchemaChangeApplier.java
197	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/action/InternalSchemaMerger.java
252	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/action/TableChange.java
398	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/action/TableChanges.java
79	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/action/TableChangesHelper.java
436	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/convert/AvroInternalSchemaConverter.java
51	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/io/AbstractInternalSchemaStorageManager.java
184	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/io/FileBasedInternalSchemaStorageManager.java
142	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/AvroSchemaEvolutionUtils.java
270	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/InternalSchemaUtils.java
305	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/SchemaChangeUtils.java
351	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/SerDeHelper.java
86	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/visitor/InternalSchemaVisitor.java
113	0	hudi-common/src/main/java/org/apache/hudi/internal/schema/visitor/NameToIDVisitor.java
2	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java
117	0	hudi-common/src/test/java/org/apache/hudi/internal/schema/TestSerDeHelper.java
88	0	hudi-common/src/test/java/org/apache/hudi/internal/schema/action/TestMergeSchema.java
229	0	hudi-common/src/test/java/org/apache/hudi/internal/schema/action/TestTableChanges.java
110	0	hudi-common/src/test/java/org/apache/hudi/internal/schema/io/TestFileBasedInternalSchemaStorageManager.java
422	0	hudi-common/src/test/java/org/apache/hudi/internal/schema/utils/TestAvroSchemaEvolutionUtils.java
100	0	hudi-common/src/test/java/org/apache/hudi/internal/schema/utils/TestInternalSchemaUtils.java
2	1	hudi-spark-datasource/hudi-spark-common/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
2	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
8	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
19	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
20	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
5	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
49	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
8	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
34	9	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
48	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/SparkHoodieParquetFileFormat.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala
4	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala
16	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
472	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala
13	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
18	0	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala
37	1	hudi-spark-datasource/hudi-spark3.1.x/pom.xml
188	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark312HoodieVectorizedParquetRecordReader.java
28	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
66	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/HStatments.scala
365	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark312HoodieParquetFileFormat.scala
282	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommand312.scala
324	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand312.scala
29	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark312ExtendedSqlParser.scala
125	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark312SqlAstBuilder.scala
76	2	hudi-spark-datasource/hudi-spark3/pom.xml
191	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieVectorizedParquetRecordReader.java
27	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala
349	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala
67	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommandSpark32.scala
347	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala
1	0	packaging/hudi-integ-test-bundle/pom.xml
1	0	packaging/hudi-spark-bundle/pom.xml
1	0	packaging/hudi-utilities-bundle/pom.xml
10	0	pom.xml

commit 9275b8fc7e2920a49ccf0b472e49c783e6c933d1
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-04-01 12:27:01 -0700

    [HUDI-3468][RFC-49] Support sync with DataHub (#5022)

64	51	rfc/README.md
-	-	rfc/rfc-49/DatasetProfile.png
-	-	rfc/rfc-49/DatasetProperties.png
-	-	rfc/rfc-49/SchemaMetadata.png
90	0	rfc/rfc-49/rfc-49.md

commit dfdd2de99ced45424131915a036a0eb2b96b2ca6
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-02 00:19:23 +0530

    [HUDI-3225] [RFC-45] for async metadata indexing (#4640)
    
    * Add RFC for async metadata indexing
    
    Add more details
    
    * Add changes since last discussion
    
    * Add another race condition handling
    
    * Update rfc

1	1	rfc/README.md
-	-	rfc/rfc-45/async_metadata_index.png
376	0	rfc/rfc-45/rfc-45.md

commit 7dfb1680031cae8f0803786d406854f005156537
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-04-01 08:27:40 -0700

    [HUDI-3763] Fixing hadoop conf class loading for inline reading (#5194)

1	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java

commit 23b31225df4e7cd7f7e5013ea30b482bc0ebb09d
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-04-01 21:17:49 +0800

    [HUDI-3769] Optimize the logs of HoodieMergeHandle and BufferedConnectWriter (#5200)

3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
3	3	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java

commit 6df14f15a3761580085d38bffceca9d19c7ad24e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-04-01 20:46:51 +0800

    [HUDI-2752] The MOR DELETE block breaks the event time sequence of CDC (#4880)

10	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
107	0	hudi-common/src/main/java/org/apache/hudi/common/model/DeleteRecord.java
10	6	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java
12	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
26	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java
22	10	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
7	0	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
4	4	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java
131	14	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
1	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/{TestGlobalDeleteKeyGenerator.java => TestGlobalDeleteRecordGenerator.java}
6	9	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 98b4e9796e1e3e1f69954afa698ace5b28bde4a0
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-04-01 10:01:41 +0800

    [HUDI-3406] Rollback incorrectly relying on FS listing instead of Com°≠ (#4957)
    
    * [HUDI-3406] Rollback incorrectly relying on FS listing instead of Commit Metadata
    
    * [HUDI-3406] Rollback incorrectly relying on FS listing instead of Commit Metadata
    
    * [HUDI-3406] Rollback incorrectly relying on FS listing instead of Commit Metadata
    
    * fix comments
    
    * fix comments
    
    * fix comments

15	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java
0	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java
0	150	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
284	18	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java
0	167	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
26	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/SerializablePathFilter.java
11	23	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
2	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
13	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java

commit a048e940fd6e3f62e443bca5831e99144900a33f
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-01 06:59:17 +0530

    [HUDI-3743] Support DELETE_PARTITION for metadata table (#5169)
    
    In order to drop any metadata partition (index), we can reuse the DELETE_PARTITION operation in metadata table. Subsequent to this, we can support drop index (with table config update) for async metadata indexer.
    
    - Add a new API in HoodieTableMetadataWriter
    - Current only supported for Spark metadata writer

8	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java
3	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
15	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
6	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
16	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
68	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
25	7	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
27	8	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
0	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala

commit 28dafa774ee058a4d00fc15b1d7fffc0c020ec3e
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-04-01 01:33:12 +0530

    [HUDI-2488][HUDI-3175] Implement async metadata indexing (#4693)
    
    - Add a new action called INDEX, whose state transition is described in the RFC.
    - Changes in timeline to support the new action.
    - Add an index planner in ScheduleIndexActionExecutor.
    - Add index plan executor in RunIndexActionExecutor.
    - Add 3 APIs in HoodieTableMetadataWriter; a) scheduleIndex: will generate an index plan based on latest completed instant, initialize file groups and add a requested INDEX instant, b) index: executes the index plan and also takes care of writes that happened after indexing was requested, c) dropIndex: will drop index by removing the given metadata partition.
    - Add 2 new table configs to serve as the source of truth for inflight and completed indexes.
    - Support upgrade/downgrade taking care of the newly added configs.
    - Add tool to trigger indexing in HoodieIndexer.
    - Handle corner cases related to partial failures.
    - Abort gracefully after deleting partition and instant.
    - Handle other actions in timeline to consider before catching up

13	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
51	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
18	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
19	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
172	39	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
41	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java
23	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
390	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/RunIndexActionExecutor.java
152	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/ScheduleIndexActionExecutor.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/FourToThreeDowngradeHandler.java
11	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ThreeToFourUpgradeHandler.java
13	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
15	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
15	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
3	0	hudi-common/pom.xml
8	0	hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc
54	0	hudi-common/src/main/avro/HoodieIndexCommitMetadata.avsc
48	0	hudi-common/src/main/avro/HoodieIndexPartitionInfo.avsc
43	0	hudi-common/src/main/avro/HoodieIndexPlan.avsc
2	2	hudi-common/src/main/java/org/apache/hudi/common/bloom/SimpleBloomFilter.java
58	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
23	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
66	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
4	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
24	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
44	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
18	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java
16	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
33	1	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
5	5	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
71	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
13	1	hudi-common/src/main/java/org/apache/hudi/metadata/MetadataRecordsGenerationParams.java
47	8	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
22	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java
18	34	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
307	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java
27	15	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
122	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java
1	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
72	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
25	0	hudi-utilities/src/test/resources/delta-streamer-config/indexer.properties

commit 1da196c1e81bff60386b9404b252451531ab9ca9
Author: liuhe0702 <76084319+liuhe0702@users.noreply.github.com>
Date:   2022-04-01 03:48:47 +0800

    [HUDI-2777] Improve HoodieSparkSqlWriter write performance (#5187)

1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 51a701cef18024f07217906e4684529ad4b5d580
Author: codejoyan <48707638+codejoyan@users.noreply.github.com>
Date:   2022-03-31 19:52:03 +0530

    [HUDI-3020] Utility to create manifest file (#5153)
    
    
    
    Co-authored-by: joyan <joyan.sil@walmart.com>

8	0	hudi-sync/hudi-sync-common/pom.xml
141	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ManifestFileUtil.java
73	0	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestManifestFileUtil.java

commit 7889c7852f0b8aa0a449e56f9d41fd6dbd648882
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-03-31 20:09:26 +0800

    [HUDI-3729][SPARK] fixed the per regression by enable vectorizeReader for parquet file (#5168)
    
    * [MINOR][SPARK] fixed the per regression by enable vectorizeReader for parquet file
    
    * address comments
    
    * add perf result

5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
9	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/hudi/benchmark/HoodieBenchmarkBase.scala
136	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/CowTableReadBenchmark.scala

commit 73a21092f8f708d6c90ff2ab95b677b58237be9a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-31 04:55:24 -0700

    [HUDI-3732] Fixing rollback validation (#5157)
    
    * Fixing rollback validation
    
    * Adding tests

3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
6	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
35	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 80011df995f6a610a30799eb3b11cdd8a2703630
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-31 15:35:39 +0800

    [HUDI-3135] Make delete partitions lazy to be executed by the cleaner  (#4489)
    
    As of now, delete partitions will ensure all file groups are deleted, but the partition as such is not deleted. So, get all partitions might be returning the deleted partitions as well. but no data will be served since all file groups are deleted. With this patch, we are fixing it. We are letting cleaner take care of deleting the partitions when all file groups pertaining to a partitions are deleted.
    
    - Fixed the CleanPlanActionExecutor to return meta info about list of partitions to be deleted. If there are no valid file groups for a partition, clean planner will include the partition to be deleted.
    - Fixed HoodieCleanPlan avro schema to include the list of partitions to be deleted
    - CleanActionExecutor is fixed to delete partitions if any (as per clean plan)
    - Same info is added to HoodieCleanMetadata
    - Metadata table when applying clean metadata, will check for partitions to be deleted and will update the "all_partitions" record for the deleted partitions.
    
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

35	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieDeletePartitionException.java
13	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
11	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java
23	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java
42	15	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeletePartitionCommitActionExecutor.java
66	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkCopyOnWriteTableArchiveWithReplace.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
2	1	hudi-common/src/main/avro/HoodieCleanPartitionMetadata.avsc
8	0	hudi-common/src/main/avro/HoodieCleanerPlan.avsc
19	4	hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV1MigrationHandler.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV2MigrationHandler.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
17	9	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
17	10	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
3	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
38	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala

commit 3cdb590e153c77c85c0d3d6365ada132079c300a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-31 00:30:49 -0700

    [HUDI-3733] Adding HoodieFailedWritesCleaningPolicy for restore with hudi-cli (#5158)
    
    * Adding HoodieFailedWritesCleaningPolicy for restore with hudi-cli
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

3	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
18	13	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java

commit ce45f7f129e4d83705fc6a2a3dc6cfd7414480e1
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date:   2022-03-31 14:24:59 +0800

    [HUDI-3692] MetadataFileSystemView includes compaction in timeline (#5110)

56	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableCompaction.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java

commit 4569734d60cdf1bd0d7187bfeb5d3ac5f0be8191
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-30 22:44:31 -0700

    [HUDI-3713] Guarding archival for multi-writer  (#5138)

12	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
25	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
3	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
96	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java

commit f6ff95f97cc49d8db690bc2d27b716b34618938d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-30 21:48:54 -0700

    [MINOR][DOCS] Update hudi-utilities-slim-bundle docs (#5184)

1	7	README.md
22	0	packaging/hudi-utilities-slim-bundle/README.md

commit 2dbb273d26ea38ecf28af704876861554250449c
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-03-31 11:26:37 +0800

    [HUDI-3721] Delete MDT if necessary when trigger rollback to savepoint (#5173)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

53	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java
36	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
7	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java

commit 2c4554fadaf296fbb58e806b5191d123d1202a8e
Author: KnightChess <wlqfzs@163.com>
Date:   2022-03-31 10:19:05 +0800

    [HUDI-3750] Fix NPE when build HoodieFileIndex (#5134)
    
    Co-authored-by: wulingqi <wulingqi@baijiahulian.com>

1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala

commit d80c80699f46e052e0745e90fc8ab32a17b3640f
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-30 19:07:22 -0700

    [MINOR] Fixing flakiness in TestHoodieSparkMergeOnReadTableRollback.testRollbackWithDeltaAndCompactionCommit (#5183)

3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java

commit 4fb1a590b181a495178c36233362eea2952501cb
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-30 18:08:35 -0700

    [HUDI-3700] Add hudi-utilities-slim-bundle excluding hudi-spark-datasource modules (#5176)

6	0	README.md
477	0	packaging/hudi-utilities-slim-bundle/pom.xml
36	0	packaging/hudi-utilities-slim-bundle/src/main/java/org/apache/hudi/utilities/bundle/Main.java
1	0	pom.xml

commit 9830005e9b74f74defcd9d761b6d9d9689b89da9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-30 17:35:56 -0700

    [HUDI-3681] Provision additional hudi-spark-bundle with different versions (#5171)

15	9	.github/workflows/bot.yml
22	15	README.md
49	22	pom.xml

commit 2d73c8ae86f493c8ccfffca2bc5f5f90e9fe4f10
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-03-31 06:54:25 +0800

    [HUDI-3355] Issue with out of order commits in the timeline when ingestion writers using SparkAllowUpdateStrategy (#4962)

5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
44	23	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java
4	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
152	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestSimpleConcurrentFileWritesConflictResolutionStrategy.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
7	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 9ff6a48f6083c70ea5f0cb74fd83bb8dfa3d2071
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date:   2022-03-31 00:11:26 +0200

    [HUDI-3736] Fix null pointer when key not specified (#5167)

3	3	hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java

commit 31d4a16deb5144d02baf0f1a1afeb103205267b1
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-03-30 14:38:02 -0700

    [HUDI-3536] Add hudi-datahub-sync implementation (#5155)

150	0	hudi-sync/hudi-datahub-sync/pom.xml
234	0	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncClient.java
74	0	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncTool.java
34	0	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/HoodieDataHubSyncException.java
32	0	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/DataHubEmitterSupplier.java
93	0	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/DataHubSyncConfig.java
48	0	hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/HoodieDataHubDatasetIdentifier.java
61	0	hudi-sync/hudi-datahub-sync/src/test/java/org/apache/hudi/sync/datahub/config/TestDataHubSyncConfig.java
29	0	hudi-sync/hudi-datahub-sync/src/test/resources/log4j-surefire-quiet.properties
29	0	hudi-sync/hudi-datahub-sync/src/test/resources/log4j-surefire.properties
4	3	hudi-sync/pom.xml
148	0	packaging/hudi-datahub-sync-bundle/pom.xml
37	0	packaging/hudi-datahub-sync-bundle/src/main/java/org/apache/hudi/datahub/bundle/Main.java
1	0	pom.xml

commit 17d11f4839753553f7a58052a01f94bc653e1a55
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-03-31 05:30:06 +0800

    [MINOR] Repeated execution of update status (#5089)

0	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java

commit 2b60641d17f60fc0d90ad470d6dead95805495fa
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-03-31 05:23:37 +0800

    [HUDI-3635] Fix HoodieMetadataTableValidator around comparison of partition path listing (#5100)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

18	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
16	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit eae8488536c711a104c9e4f3429af3ad5c420841
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-03-31 05:18:08 +0800

    [HUDI-3647] HoodieMetadataTableValidator: check MDT was initialized at first (#5152)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

22	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit 8b796e96865c44982b4dd8314e60573594e9f153
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-30 10:01:43 -0700

    [HUDI-3653] Cleaning up bespoke Column Stats Index implementation (#5062)

85	330	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java
0	41	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/columnstats/TestColumnStatsIndexHelper.java
29	76	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala
6	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/{SpaceCurveOptimizeBenchMark.scala => SpaceCurveOptimizeBenchmark.scala}

commit 04478a45d9ec0817a88ce9464e8c63c285a108b4
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-03-30 20:03:14 +0530

    [MINOR] Fix dates as per UTC in TestDataSkippingUtils (#5166)
    
    * Fix timezone in test

73	70	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala

commit b9fbada2f2974f516e9541359892b905af19710e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-30 20:45:29 +0800

    [minor] Follow 3178, fix the flink metadata table compaction (#5175)

7	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
13	11	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java

commit 7fa363923cb14ec5b4e930a1ff3dcaa91a770634
Author: harshal <harshal.j.patil@gmail.com>
Date:   2022-03-30 11:04:49 +0530

    [HUDI-3745] Support for spark datasource options in S3EventsHoodieIncrSource (#5170)

31	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java

commit 4fed8dd31996bdd3e16e4921237628588195653f
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-29 18:27:45 -0700

    [HUDI-3485] Adding scheduler pool configs for async clustering (#5043)

11	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncClusteringService.java
5	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/engine/EngineProperty.java
3	2	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/async/SparkStreamingAsyncClusteringService.java
2	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
8	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkConfigs.scala
15	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
10	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
14	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java

commit 5c1b482a1bb46ca879472547a0c6f94f5294a83d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-30 08:18:36 +0800

    [HUDI-3741] Fix flink bucket index bulk insert generates too many small files (#5164)

8	5	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketBulkInsertWriterHelper.java
13	8	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
1	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java

commit 941c254c33a83909c58dea6b7eb2b1ffa7b5aaec
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-30 03:25:31 +0800

    [HUDI-2520] Fix CTAS statment issue when sync to hive (#5145)

4	9	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala

commit e5a2baeed0861e332000cb0fe3e3f263e82c15fc
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-29 11:44:47 -0700

    [HUDI-3549] Removing dependency on "spark-avro"  (#4955)
    
    Hudi will be taking on promise for it bundles to stay compatible with Spark minor versions (for ex 2.4, 3.1, 3.2): meaning that single build of Hudi (for ex "hudi-spark3.2-bundle") will be compatible with ALL patch versions in that minor branch (in that case 3.2.1, 3.2.0, etc)
    
    To achieve that we'll have to remove (and ban) "spark-avro" as a dependency, which on a few occasions was the root-cause of incompatibility b/w consecutive Spark patch versions (most recently 3.2.1 and 3.2.0, due to this PR).
    
    Instead of bundling "spark-avro" as dependency, we will be copying over some of the classes Hudi depends on and maintain them along the Hudi code-base to make sure we're able to provide for the aforementioned guarantee. To workaround arising compatibility issues we will be applying local patches to guarantee compatibility of Hudi bundles w/in the Spark minor version branches.
    
    Following Hudi modules to Spark minor branches is currently maintained:
    
    "hudi-spark3" -> 3.2.x
    "hudi-spark3.1.x" -> 3.1.x
    "hudi-spark2" -> 2.4.x
    Following classes hierarchies (borrowed from "spark-avro") are maintained w/in these Spark-specific modules to guarantee compatibility with respective minor version branches:
    
    AvroSerializer
    AvroDeserializer
    AvroUtils
    Each of these classes has been correspondingly copied from Spark 3.2.1 (for 3.2.x branch), 3.1.2 (for 3.1.x branch), 2.4.4 (for 2.4.x branch) into their respective modules.
    
    SchemaConverters class in turn is shared across all those modules given its relative stability (there're only cosmetical changes from 2.4.4 to 3.2.1).
    All of the aforementioned classes have their corresponding scope of visibility limited to corresponding packages (org.apache.spark.sql.avro, org.apache.spark.sql) to make sure broader code-base does not become dependent on them and instead relies on facades abstracting them.
    
    Additionally, given that Hudi plans on supporting all the patch versions of Spark w/in aforementioned minor versions branches of Spark, additional build steps were added to validate that Hudi could be properly compiled against those versions. Testing, however, is performed against the most recent patch versions of Spark with the help of Azure CI.
    
    Brief change log:
    - Removing spark-avro bundling from Hudi by default
    - Scaffolded Spark 3.2.x hierarchy
    - Bootstrapped Spark 3.1.x Avro serializer/deserializer hierarchy
    - Bootstrapped Spark 2.4.x Avro serializer/deserializer hierarchy
    - Moved ExpressionCodeGen,ExpressionPayload into hudi-spark module
    - Fixed AvroDeserializer to stay compatible w/ both Spark 3.2.1 and 3.2.0
    - Modified bot.yml to build full matrix of support Spark versions
    - Removed "spark-avro" dependency from all modules
    - Fixed relocation of spark-avro classes in bundles to assist in running integ-tests.

2	14	README.md
0	1	docker/demo/config/test-suite/templates/spark_command.txt.template
0	4	hudi-cli/pom.xml
5	21	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
0	9	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
0	9	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
0	5	hudi-client/hudi-spark-client/pom.xml
0	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
0	70	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
25	20	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
33	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSchemaConverters.scala
6	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
0	1	hudi-examples/bin/hudi-delta-streamer
0	4	hudi-examples/hudi-examples-spark/pom.xml
1	4	hudi-integ-test/README.md
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/command/ITTestHoodieSyncCommand.java
0	7	hudi-spark-datasource/hudi-spark-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
39	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieSparkAvroSchemaConverters.scala
211	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/SchemaConverters.scala
0	7	hudi-spark-datasource/hudi-spark/pom.xml
0	0	hudi-spark-datasource/{hudi-spark-common => hudi-spark}/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala
0	0	hudi-spark-datasource/{hudi-spark-common => hudi-spark}/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
0	0	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java
0	0	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java
0	8	hudi-spark-datasource/hudi-spark2/pom.xml
6	4	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
8	2	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/{PatchedAvroDeserializer.scala => AvroDeserializer.scala}
244	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala
2	6	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/{HoodieSpark2AvroDeserializer.scala => HoodieSpark2_4AvroDeserializer.scala}
1	1	hudi-spark-datasource/{hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieSparkAvroSerializer.scala => hudi-spark2/src/main/scala/org/apache/spark/sql/avro/HoodieSpark2_4AvroSerializer.scala}
0	8	hudi-spark-datasource/hudi-spark3-common/pom.xml
3	9	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala
9	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
493	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala
344	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala
103	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroUtils.scala
29	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_1AvroDeserializer.scala
29	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_1AvroSerializer.scala
10	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala
510	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala
377	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala
117	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroUtils.scala
2	10	hudi-spark-datasource/{hudi-spark3-common/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3AvroDeserializer.scala => hudi-spark3/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroDeserializer.scala}
29	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroSerializer.scala
0	6	hudi-utilities/pom.xml
0	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDataTableValidator.java
0	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java
0	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieRepairTool.java
7	0	packaging/hudi-integ-test-bundle/pom.xml
8	20	packaging/hudi-spark-bundle/pom.xml
7	0	packaging/hudi-utilities-bundle/pom.xml
1	11	pom.xml

commit 0802510ca9d55554e87e9aee9cbf9e694dd8a785
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-30 02:28:19 +0800

    [HUDI-2520] Fix drop partition issue when sync to hive (#5147)

5	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java
6	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java
25	3	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HivePartitionUtil.java

commit fcb003ec767f56cbfc56b10711b373d9a477a628
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-29 08:39:56 -0700

    [HUDI-3731] Fixing Column Stats Index record Merging sequence missing `columnName` (#5159)
    
    * Added `DataSkippingFailureMode` to control how DS handles failures in the flow (either "strict", when exception would be thrown, or "fallback" when it will just fallback to the full-scan)
    
    * Make sure tests execute in `DataSkippingFailureMode.Strict`
    
    * Fixed Column Stats Index record merging sequence missing `columnName`

5	3	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
18	12	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
26	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
4	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
5	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala

commit 1b2fb71afcc515b8efe3fd20416137049c87cc1e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-03-28 21:07:59 -0700

    [MINOR] Move Experiemental to javadoc (#5161)

2	2	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AwsGlueCatalogSyncTool.java

commit 7c7ecb11d5359690a42f0e427605760f13a5b196
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date:   2022-03-29 05:31:46 +0200

    [HUDI-3736] Fix default dynamodblock url default value (#4967)

2	2	hudi-aws/src/main/java/org/apache/hudi/config/DynamoDbBasedLockConfig.java

commit 8f8a8158e2ced440918735cbf42f9b8d4a0f804c
Author: leesf <490081539@qq.com>
Date:   2022-03-29 10:34:12 +0800

    [HUDI-2520] Fix drop table issue when sync to Hive (#5143)

0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala
15	14	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala

commit 3bf9c5ffe80e84e9b0ba34e115e1a7a417f343e8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-29 09:52:35 +0800

    [HUDI-3728] Set the sort operator parallelism for flink bucket bulk insert (#5154)

26	41	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteFunction.java
4	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java

commit 72e0b52b18a7383158cfa91b9a61ec16fa7d2576
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-29 09:44:18 +0800

    [HUDI-3722] Fix truncate hudi table's error (#5140)

56	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala
1	56	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
77	12	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala
97	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTruncateTable.scala

commit d074089c62db9aabe3b6c47ec8323f4487fa2b0b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-28 14:05:00 -0700

    [HUDI-2566] Adding multi-writer test support to integ test (#5065)

65	0	docker/demo/config/test-suite/multi-writer-1-ds.yaml
58	0	docker/demo/config/test-suite/multi-writer-1.properties
52	0	docker/demo/config/test-suite/multi-writer-2-sds.yaml
58	0	docker/demo/config/test-suite/multi-writer-2.properties
57	0	docker/demo/config/test-suite/multi-writer-local-1.properties
57	0	docker/demo/config/test-suite/multi-writer-local-2.properties
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsConfig.java
241	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieMultiWriterTestSuiteJob.java
26	11	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
8	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DFSDeltaConfig.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DeleteNode.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/UpsertNode.java
35	26	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala
10	24	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkDeleteNode.scala
21	10	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala
41	2	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/BaseSparkSqlNode.scala
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlCreateTableNode.scala
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlDeleteNode.scala
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlMergeNode.scala
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlUpdateNode.scala
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java

commit 6ccbae4d2ac13d1e6b0a7c87fcb072319f410451
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-03-28 11:54:59 -0700

    [HUDI-2757] Implement Hudi AWS Glue sync (#5076)

33	0	hudi-aws/pom.xml
479	0	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java
70	0	hudi-aws/src/main/java/org/apache/hudi/aws/sync/AwsGlueCatalogSyncTool.java
33	0	hudi-aws/src/main/java/org/apache/hudi/aws/sync/HoodieGlueSyncException.java
27	0	hudi-aws/src/main/java/org/apache/hudi/aws/utils/S3Utils.java
25	0	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
34	0	hudi-common/src/main/java/org/apache/hudi/common/util/MapUtils.java
56	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestCollectionUtils.java
3	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java
2	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java
27	4	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
142	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/AbstractHiveSyncHoodieClient.java
38	28	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
43	98	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
0	11	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncException.java
13	14	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java
0	4	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java
35	35	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
17	3	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
42	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/model/Partition.java
27	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/TableUtils.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 4ed84b216db335521bd4c51169c40e63dc86f27d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-28 11:54:31 -0700

    [HUDI-3720] Fix the logic of reattempting pending rollback (#5148)

15	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
33	12	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java

commit 2e2d08cb7260e3316fdc9116c4061aed0ceb5214
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2022-03-28 19:50:36 +0800

    [HUDI-3539] Flink bucket index bucketID bootstrap optimization. (#5093)
    
    * [HUDI-3539] Flink bucket index bucketID bootstrap optimization.
    
    Co-authored-by: gengxiaoyu <gengxiaoyu@bytedance.com>

57	40	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteFunction.java

commit 1d0f4ccfe0e81f1b83ff6f0fb1e3383da9802e62
Author: huberylee <shibei.lh@foxmail.com>
Date:   2022-03-28 14:11:35 +0800

    [HUDI-3538] Support Compaction Command Based on Call Procedure Command for Spark SQL (#4945)
    
    * Support Compaction Command Based on Call Procedure Command for Spark SQL
    
    * Addressed review comments

16	76	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala
3	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala
11	20	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodiePathCommand.scala
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala
46	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedureUtils.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
144	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCompactionProcedure.scala
90	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCompactionProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/{TestRunClusteringProcedure.scala => TestClusteringProcedure.scala}
133	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCompactionProcedure.scala

commit d31cde284c4992f81bb989ce92f646a0d382634c
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-28 11:13:44 +0800

    [MINOR] Fix call command parser use spark3.2 (#5144)

9	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala

commit f2a93ead3b5a6964a72b3543ada58aa334edef9c
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-27 18:36:15 -0700

    [HUDI-3724] Fixing closure of ParquetReader (#5141)

9	1	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java
9	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala

commit 9da2dd416ec76ec68393e38f8e1e94c7de141eb0
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2022-03-28 02:01:43 +0800

    [HUDI-3719] High performance costs of AvroSerizlizer in DataSource wr°≠ (#5137)
    
    * [HUDI-3719] High performance costs of AvroSerizlizer in DataSource writing
    
    * add benchmark framework which modify from spark
    add avroSerDerBenchmark

6	3	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
239	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/hudi/benchmark/HoodieBenchmark.scala
87	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/hudi/benchmark/HoodieBenchmarkBase.scala
143	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/hudi/benchmark/HoodieBenchmarks.scala
99	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/AvroSerDerBenchmark.scala

commit 85c4a6cfc1ecc4d5eb15c9e059e59c6cb2a9a0a8
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-27 09:26:24 -0700

    [MINOR] Relaxing cleaner and archival configs (#5142)

1	1	docker/demo/config/test-suite/cow-spark-long-running.yaml
1	1	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml
1	1	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml
1	1	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml
1	1	docker/demo/config/test-suite/simple-clustering-hive.yaml
1	1	docker/demo/config/test-suite/simple-clustering.yaml
55	0	docker/demo/config/test-suite/spark-long-running.yaml
54	0	docker/demo/config/test-suite/spark-simple.yaml
3	3	docker/demo/config/test-suite/test-aggressive-clean-archival.properties
3	3	docker/demo/config/test-suite/test-clustering-aggressive-clean-archival.properties
3	3	docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival.properties
3	3	docker/demo/config/test-suite/test-metadata-aggressive-clean-archival.properties

commit 484b3407e00ce0d0c646bf6b8f7f2145070d2d2c
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-26 22:37:44 -0700

    [HUDI-3604] Adjust the order of timeline changes in rollbacks (#5114)

9	6	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
30	15	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
0	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java
0	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
5	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java

commit 4d940bbf8a934087e606e2a9a9ba698a0911caa3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-27 09:13:58 +0800

    [HUDI-3716] OOM occurred when use bulk_insert cow table with flink BUCKET index (#5135)

6	6	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
46	10	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketBulkInsertWriterHelper.java
4	4	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java
16	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
1	1	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java

commit 189d5297b8826f5345fcb132dc7318fc4253c94e
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-26 14:51:36 -0700

    [HUDI-3709] Fixing `ParquetWriter` impls not respecting Parquet Max File Size limit (#5129)

0	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java
0	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
0	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java
1	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
1	1	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowParquetWriter.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java

commit 57b4f39c3121f84f2455990f6825f6ad372c0d42
Author: RexAn <anh131@126.com>
Date:   2022-03-26 18:46:03 +0800

    [HUDI-3612] Clustering strategy should create new TypedProperties when modifying it (#5027)

3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
5	7	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaSortAndSizeExecutionStrategy.java
2	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java
5	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java
5	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java

commit 0c09a973fb0470a47411f734d2d5e1429e3522e2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-26 11:42:54 +0800

    [HUDI-3435] Do not throw exception when instant to rollback does not exist in metadata table active timeline (#4821)

16	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
13	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
42	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java
13	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
24	3	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java

commit 51034fecf12c6f5cd90cf12540babfcda5f5e667
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-25 09:32:03 -0700

    [HUDI-3396] Refactoring `MergeOnReadRDD` to avoid duplication, fetch only projected columns (#4888)

0	11	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
4	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
50	32	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
0	22	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
4	53	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala
282	223	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
2	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieUnsafeRDD.scala
3	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
11	17	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
1	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieUnsafeRDDUtils.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
95	56	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala

commit 12cc8e715bfcd71a6b9232a37bd42aa237ab09d9
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-25 22:34:35 +0800

    [MINOR] fix QuickstartUtils move (#5133)

1	0	hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/HoodieSparkQuickstart.java
1	1	hudi-examples/hudi-examples-spark/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala
1	1	hudi-examples/hudi-examples-spark/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala
1	1	{hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart => hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi}/QuickstartUtils.java
1	1	{hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart => hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi}/TestQuickstartUtils.java

commit e5c3f9089b63800767ec88e269a98bbbd6b1e5e1
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-25 16:37:17 +0800

    [HUDI-3563] Make quickstart examples covered by CI tests (#5082)

44	15	.github/workflows/bot.yml
3	2	azure-pipelines.yml
109	0	hudi-examples/hudi-examples-common/pom.xml
1	2	hudi-examples/{ => hudi-examples-common}/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java
364	0	hudi-examples/hudi-examples-flink/pom.xml
211	0	hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/HoodieFlinkQuickstart.java
178	0	hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/factory/CollectSinkTableFactory.java
72	0	hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/factory/ContinuousFileSourceFactory.java
185	0	hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/source/ContinuousFileSource.java
317	0	hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/utils/QuickstartConfigurations.java
71	0	hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/utils/SchemaBuilder.java
18	0	hudi-examples/hudi-examples-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory
8	0	hudi-examples/hudi-examples-flink/src/main/resources/source-file.json
68	0	hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieFlinkQuickstart.java
422	0	hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartData.java
18	0	hudi-examples/hudi-examples-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.Factory
30	0	hudi-examples/hudi-examples-flink/src/test/resources/log4j-surefire-quiet.properties
31	0	hudi-examples/hudi-examples-flink/src/test/resources/log4j-surefire.properties
129	0	hudi-examples/hudi-examples-java/pom.xml
0	0	hudi-examples/{ => hudi-examples-java}/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java
283	0	hudi-examples/hudi-examples-spark/pom.xml
0	1	hudi-examples/{ => hudi-examples-spark}/src/main/java/org/apache/hudi/examples/common/ExampleDataSchemaProvider.java
0	0	hudi-examples/{ => hudi-examples-spark}/src/main/java/org/apache/hudi/examples/common/HoodieExampleSparkUtils.java
0	0	hudi-examples/{ => hudi-examples-spark}/src/main/java/org/apache/hudi/examples/common/IdentityTransformer.java
0	0	hudi-examples/{ => hudi-examples-spark}/src/main/java/org/apache/hudi/examples/common/RandomJsonSource.java
227	0	hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/HoodieSparkQuickstart.java
2	2	{hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi => hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart}/QuickstartUtils.java
0	0	hudi-examples/{ => hudi-examples-spark}/src/main/java/org/apache/hudi/examples/spark/HoodieSparkBootstrapExample.java
0	0	hudi-examples/{ => hudi-examples-spark}/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java
0	0	hudi-examples/{ => hudi-examples-spark}/src/main/resources/delta-streamer-config/dfs/source-file.json
0	0	hudi-examples/{ => hudi-examples-spark}/src/main/resources/delta-streamer-config/kafka/kafka-source.properties
3	3	hudi-examples/{ => hudi-examples-spark}/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala
2	1	hudi-examples/{ => hudi-examples-spark}/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala
115	0	hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieSparkQuickstart.java
1	1	{hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi => hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart}/TestQuickstartUtils.java
30	0	hudi-examples/hudi-examples-spark/src/test/resources/log4j-surefire-quiet.properties
31	0	hudi-examples/hudi-examples-spark/src/test/resources/log4j-surefire.properties
7	198	hudi-examples/pom.xml

commit f20c9867d7c347c43b22f70270aefb9b7f658461
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-03-25 11:02:54 +0400

    [HUDI-3711] Fix typo in MaxwellJsonKafkaSourcePostProcessor.Config#PRECOMBINE_FIELD_TYPE_PROP (#5096)

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/maxwell/MaxwellJsonKafkaSourcePostProcessor.java

commit 8b38ddedc2fd1ef048a756faa3531afc06b2c26b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-24 22:27:15 -0700

    [HUDI-3594] Supporting Composite Expressions over Data Table Columns in Data Skipping flow (#4996)

46	38	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java
2	2	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala
127	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystExpressionUtils.scala
8	3	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
2	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
12	13	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
38	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieSparkTypeUtils.scala
0	88	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/HoodieCatalystExpressionUtils.scala
278	129	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
12	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala
271	25	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
84	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystExpressionUtils.scala
5	3	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
4	4	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/{Spark3Adapter.scala => BaseSpark3Adapter.scala}
84	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark3_1CatalystExpressionUtils.scala
31	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala
83	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark3_2CatalystExpressionUtils.scala
6	3	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala

commit 8896864d7b8e8c1a9bf0e2a05353f70a1fabdf22
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-25 11:48:50 +0800

    [HUDI-3678] Fix record rewrite of create handle when 'preserveMetadata' is true (#5088)

10	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
8	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
4	14	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java

commit 2fd9a4de5ca8b35ca0260f10915f6a4703abbd18
Author: Surya Prasanna <prasannakumar006@gmail.com>
Date:   2022-03-24 20:26:04 -0700

    [HUDI-3580] Claim RFC number 48 for LogCompaction action RFC (#5128)

1	0	rfc/README.md

commit 483ee843e62511f6d5bc487d90aba1a636ebac22
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date:   2022-03-25 10:18:28 +0800

    [HUDI-3703] Reset taskID in restoreWriteMetadata (#5122)

2	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java

commit eaa4c4f2e2ccdb42f62d91c001a0350de183e4dc
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-24 19:04:53 -0700

    [HUDI-1180] Upgrade HBase to 2.4.9 (#5004)
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
15	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
5	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
175	42	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
36	197	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java
250	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieReaderWriterBase.java
-	-	hudi-client/hudi-client-common/src/test/resources/hudi_0_10_hbase_1_2_3_bootstrap_index_partitions.hfile
-	-	hudi-client/hudi-client-common/src/test/resources/hudi_0_10_hbase_1_2_3_complex.hfile
-	-	hudi-client/hudi-client-common/src/test/resources/hudi_0_10_hbase_1_2_3_simple.hfile
-	-	hudi-client/hudi-client-common/src/test/resources/hudi_0_11_hbase_2_4_9_bootstrap_index_partitions.hfile
-	-	hudi-client/hudi-client-common/src/test/resources/hudi_0_11_hbase_2_4_9_complex.hfile
-	-	hudi-client/hudi-client-common/src/test/resources/hudi_0_11_hbase_2_4_9_simple.hfile
-	-	hudi-client/hudi-client-common/src/test/resources/hudi_0_9_hbase_1_2_3_bootstrap_index_partitions.hfile
-	-	hudi-client/hudi-client-common/src/test/resources/hudi_0_9_hbase_1_2_3_complex.hfile
-	-	hudi-client/hudi-client-common/src/test/resources/hudi_0_9_hbase_1_2_3_simple.hfile
6	0	hudi-client/hudi-spark-client/pom.xml
7	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
2	3	hudi-common/pom.xml
9	9	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
25	15	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
2	2	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHBaseKVComparator.java
48	61	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
87	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileUtils.java
2185	0	hudi-common/src/main/resources/hbase-site.xml
39	35	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystemHFileInLining.java
6	1	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
5	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
117	63	packaging/hudi-flink-bundle/pom.xml
101	46	packaging/hudi-hadoop-mr-bundle/pom.xml
110	2	packaging/hudi-integ-test-bundle/pom.xml
112	15	packaging/hudi-kafka-connect-bundle/pom.xml
104	56	packaging/hudi-presto-bundle/pom.xml
100	54	packaging/hudi-spark-bundle/pom.xml
101	2	packaging/hudi-timeline-server-bundle/pom.xml
104	64	packaging/hudi-trino-bundle/pom.xml
100	47	packaging/hudi-utilities-bundle/pom.xml
5	3	pom.xml

commit 5e86cdd1e95511424e354d99816d9495e13ae6ae
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-25 09:01:42 +0800

    [HUDI-3701] Flink bulk_insert support bucket hash index (#5118)

7	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java
73	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketBulkInsertWriterHelper.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/{ => bucket}/BucketStreamWriteFunction.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/{ => bucket}/BucketStreamWriteOperator.java
1	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
9	9	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java
39	0	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/WriterHelpers.java
2	3	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java
15	4	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
2	2	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
2	1	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java
16	2	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java

commit 608d4bf32d65cac2829c79994bd3a43c0d2db03b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-24 17:59:47 -0700

    [HUDI-3638] Make ZookeeperBasedLockProvider serializable (#5112)

11	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/ZookeeperBasedLockProvider.java

commit 9b3dd2e0b7d89228a64f1162a50c5c96a27786de
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-24 17:13:58 -0700

    [HUDI-3624] Check all instants before starting a commit in metadata table (#5098)

19	13	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
19	11	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
94	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
89	75	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java

commit 4ddd094ba2a805116f63c04805a08bf9c2651fc8
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-24 16:42:44 -0700

    [HUDI-3689] Disable flaky tests in TestHoodieDeltaStreamer (#5127)

2	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit ff136658a0a513f888a142e77380131a41801db9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-03-24 14:19:53 -0700

    [HUDI-3689] Fix delta streamer tests (#5124)

18	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
4	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit 44ab3b73ed8510e28c2c115da25aa66c0ce9d7b7
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-24 09:31:46 -0700

    [HUDI-3706] Downgrade maven surefire and failsafe version (#5123)

2	2	pom.xml

commit 686da41696e17daa182f84796cd2721b945d71b1
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-03-24 09:10:33 -0700

    [HUDI-3689] Fix UT failures in TestHoodieDeltaStreamer (#5120)

0	133	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestHiveSyncGlobalCommitTool.java
0	97	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestUtilHelpers.java
15	15	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java
2	2	pom.xml

commit b14706502b56e257224018616cd5e7e7966bff43
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-03-24 05:39:11 -0700

    [HUDI-3689] Remove Azure CI cache (#5121)

5	38	azure-pipelines.yml

commit ccc3728002533978cb35b3b4c22cb4d0ef087347
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-24 05:07:38 -0700

    [HUDI-3684] Fixing NPE in `ParquetUtils` (#5102)
    
    * Make sure nulls are properly handled in `HoodieColumnRangeMetadata`

47	11	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java
22	7	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
4	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit fe2c3989e364e323f73552dbb9128d9662089eef
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-03-24 15:48:35 +0530

    [HUDI-3689] Fix glob path and hive sync in deltastreamer tests (#5117)
    
    * Remove glob pattern basePath from the deltastreamer tests.
    
    * [HUDI-3689] Fix file scheme config
    
    for CI failure in TestHoodieRealTimeRecordReader
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

32	27	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
79	74	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
9	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java
8	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit a1c42fcc0708f1838391e3e5c3cb7541b1fcd78f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-24 14:10:43 +0800

    [minor] Checks the data block type for archived timeline (#5106)

14	10	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
0	29	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java

commit 52f0498330cc6e2112d9e5228386436babdb9133
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-23 19:26:39 -0700

    Fixing non partitioned all files record in MDT (#5108)

2	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java

commit f96ba7abf043246e98f550f858e047411a12c550
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-03-24 00:43:02 +0530

    [HUDI-3642] Handle NPE due to empty requested replacecommit metadata (#5090)

36	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/ConcurrentOperation.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java

commit 5f570ea151d0212ab1bb2d1f5693035626b76d31
Author: Rajesh Mahindra <76502047+rmahindra123@users.noreply.github.com>
Date:   2022-03-21 19:56:31 -0700

    [HUDI-2883] Refactor hive sync tool / config to use reflection and standardize configs (#4175)
    
    - Refactor hive sync tool / config to use reflection and standardize configs
    
    Co-authored-by: sivabalan <n.siva.b@gmail.com>
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

18	16	docker/demo/sparksql-incremental.commands
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
18	0	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
16	13	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java
9	10	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java
11	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/HiveServiceProvider.java
5	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
0	31	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java
4	43	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java
7	1	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
98	203	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
22	86	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
16	15	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
11	10	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
4	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
10	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
12	11	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java
12	11	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java
11	10	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
7	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceOptions.scala
0	49	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala
7	5	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java
4	4	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/util/Utils.java
160	81	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
52	33	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
11	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java
2	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java
349	423	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
57	47	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
59	0	hudi-sync/hudi-sync-common/pom.xml
18	4	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncTool.java
188	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java
72	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/SyncUtilHelpers.java
124	0	hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestSyncUtilHelpers.java
29	0	hudi-sync/hudi-sync-common/src/test/resources/log4j-surefire-quiet.properties
30	0	hudi-sync/hudi-sync-common/src/test/resources/log4j-surefire.properties
12	9	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
12	34	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
26	24	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java
11	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java

commit 9b6e138af27e600410a63f96065baf057300c071
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-21 17:35:06 -0700

    [HUDI-3640] Set SimpleKeyGenerator as default in 2to3 table upgrade for Spark engine (#5075)

9	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java
20	6	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/upgrade/TestTwoToThreeUpgradeHandler.java
5	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaSortAndSizeExecutionStrategy.java
70	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java

commit ca0931d332234d0b743b4a035901a3bc9325d47c
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2022-03-22 05:36:30 +0530

    [HUDI-1436]: Provide an option to trigger clean every nth commit (#4385)
    
    - Provided option to trigger clean every nth commit with default number of commits as 1 so that existing users are not affected.
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

22	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
13	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
28	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java
24	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleaningTriggerStrategy.java
4	4	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestHoodieConcatHandle.java
2	2	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
30	361	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
396	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java
2	10	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 26e5d2e6fcc399e7886594a5454a16d29aaa8702
Author: wxp4532 <wxp4532@ly.com>
Date:   2022-03-11 14:07:52 +0800

    [HUDI-3559] Flink bucket index with COW table throws NoSuchElementException
    
    Actually method FlinkWriteHelper#deduplicateRecords does not guarantee the records sequence, but there is a
    implicit constraint: all the records in one bucket should have the same bucket type(instant time here),
    the BucketStreamWriteFunction breaks the rule and fails to comply with this constraint.
    
    close apache/hudi#5018

4	7	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
25	7	hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java
84	74	hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java

commit a118d56b071bad6a4701c3578e43e5fdfe416e6c
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-20 21:56:30 -0700

    [MINOR] Fixing sparkUpdateNode for record generation (#5079)

5	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala
5	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala

commit 799c78e6888ef6a375c6779c3cfe7067756d4be9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-21 10:34:50 +0800

    [HUDI-3665] Support flink multiple versions (#5072)

4	4	azure-pipelines.yml
2	2	hudi-client/hudi-flink-client/pom.xml
364	0	hudi-flink-datasource/hudi-flink/pom.xml
2	2	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/schema/SchemaProvider.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/schema/SchemaRegistryProvider.java
7	6	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java
2	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/BucketStreamWriteOperator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/CleanFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/append/AppendWriteOperator.java
3	3	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bootstrap/IndexRecord.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteOperator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
1	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/common/AbstractWriteFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/common/AbstractWriteOperator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/common/WriteOperatorFactory.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/compact/CompactionPlanEvent.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/meta/CkpMessage.java
2	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java
2	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/partitioner/profile/EmptyWriteProfile.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
6	5	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/transform/ChainedTransformer.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java
3	3	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctionWithRateLimit.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctions.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/transform/Transformer.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java
25	25	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/sink/utils/TimeWait.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/source/FileIndex.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
14	24	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/source/StreamReadOperator.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
8	8	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/HoodieTableSink.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/HoodieTableSource.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/catalog/CatalogOptions.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/catalog/TableOptionProperties.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
1	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/FormatUtils.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java
1	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java
1	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java
2	2	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/ChangelogModes.java
3	3	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/CompactionUtil.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/DataTypeUtils.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/FlinkTables.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/InputFormats.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/RowDataProjection.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java
1	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/StringToRowDataConverter.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/java/org/apache/hudi/util/ViewStorageProperties.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory
1	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java
9	8	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
1	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/meta/TestCkpMetadata.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java
13	26	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/CollectorOutput.java
2	39	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/MockCoordinatorExecutor.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/MockMapState.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/MockOperatorStateStore.java
3	9	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/MockStateInitializationContext.java
3	8	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/MockStreamingRuntimeContext.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/MockValueState.java
36	41	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/TestFunctionWrapper.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/source/TestFileIndex.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
2	20	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java
2	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalog.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/SchemaBuilder.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java
11	11	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/TestConfigurations.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/TestData.java
11	11	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/TestHoodieRowData.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/TestSQL.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/TestStringToRowDataConverter.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/TestUtils.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/META-INF/services/org.apache.flink.table.factories.Factory
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/debezium_json.data
0	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/log4j-surefire-quiet.properties
0	1	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/log4j-surefire.properties
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/test_read_schema.avsc
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/test_source.data
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/test_source_2.data
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/test_source_3.data
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/test_source_4.data
0	0	{hudi-flink => hudi-flink-datasource/hudi-flink}/src/test/resources/test_source_5.data
90	0	hudi-flink-datasource/hudi-flink1.13.x/pom.xml
262	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/ColumnarArrayData.java
71	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/ColumnarMapData.java
223	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/ColumnarRowData.java
28	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/vector/MapColumnVector.java
28	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/vector/RowColumnVector.java
136	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/vector/VectorizedColumnBatch.java
35	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorAdapter.java
50	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorFactoryAdapter.java
37	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/MailboxExecutorAdapter.java
40	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/RateLimiterAdapter.java
48	0	hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/Utils.java
27	0	hudi-flink-datasource/hudi-flink1.13.x/src/test/java/org/apache/hudi/adapter/OutputAdapter.java
26	0	hudi-flink-datasource/hudi-flink1.13.x/src/test/java/org/apache/hudi/adapter/StateInitializationContextAdapter.java
43	0	hudi-flink-datasource/hudi-flink1.13.x/src/test/java/org/apache/hudi/adapter/StreamingRuntimeContextAdapter.java
34	0	hudi-flink-datasource/hudi-flink1.13.x/src/test/java/org/apache/hudi/adapter/TestTableEnvs.java
102	0	hudi-flink-datasource/hudi-flink1.14.x/pom.xml
27	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorAdapter.java
33	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorFactoryAdapter.java
37	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/MailboxExecutorAdapter.java
40	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/RateLimiterAdapter.java
48	0	hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/Utils.java
32	0	hudi-flink-datasource/hudi-flink1.14.x/src/test/java/org/apache/hudi/adapter/OutputAdapter.java
32	0	hudi-flink-datasource/hudi-flink1.14.x/src/test/java/org/apache/hudi/adapter/StateInitializationContextAdapter.java
43	0	hudi-flink-datasource/hudi-flink1.14.x/src/test/java/org/apache/hudi/adapter/StreamingRuntimeContextAdapter.java
52	0	hudi-flink-datasource/hudi-flink1.14.x/src/test/java/org/apache/hudi/adapter/TestTableEnvs.java
41	0	hudi-flink-datasource/pom.xml
0	349	hudi-flink/pom.xml
1	1	hudi-kafka-connect/pom.xml
9	3	packaging/hudi-flink-bundle/pom.xml
39	3	pom.xml

commit 15d1c186255ced3a8e08020ed68de9cd380dc250
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-20 15:58:30 -0700

    [MINOR] Remove flaky assert in TestInLineFileSystem (#5069)

0	1	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java

commit 1b6e201160ef18b0c7d86d1cafd104609489dad7
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-19 21:54:13 -0700

    [HUDI-3663] Fixing Column Stats index to properly handle first Data Table commit (#5070)
    
    * Fixed metadata conversion util to extract schema from `HoodieCommitMetadata`
    
    * Fixed failure to fetch columns to index in empty table
    
    * Abort indexing seq in case there are no columns to index
    
    * Fallback to index at least primary key columns, in case no writer schema could be obtained to index all columns
    
    * Fixed `getRecordFields` incorrectly ignoring default value
    
    * Make sure Hudi metadata fields are also indexed

12	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
3	5	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
14	2	hudi-common/src/main/java/org/apache/hudi/common/util/Option.java
90	52	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java

commit 099c2c099ad842f18b76bc2529b6eeb968f328eb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-18 22:32:16 -0700

    [HUDI-3457] Refactored Spark DataSource Relations to avoid code duplication (#4877)
    
    Refactoring Spark DataSource Relations to avoid code duplication.
    
    Following Relations were in scope:
    
    - BaseFileOnlyViewRelation
    - MergeOnReadSnapshotRelaation
    - MergeOnReadIncrementalRelation

29	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieConversionUtils.scala
0	5	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
1	1	hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java
8	11	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
0	53	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
94	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala
0	141	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
170	34	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
2	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala
0	14	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
4	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
119	159	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
59	108	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
3	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
370	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieHadoopFSUtils.scala
102	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/execution/datasources/HoodieInMemoryFileIndex.scala
60	0	hudi-spark-datasource/hudi-spark-common/src/test/scala/org/apache/spark/execution/datasources/TestHoodieInMemoryFileIndex.scala
0	29	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
25	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala

commit 316e38c71e2fec9d7a13417d409374f28875c4f1
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-18 09:45:33 -0700

    [HUDI-3659] Reducing the validation frequency with integ tests (#5067)

2	6	docker/demo/config/test-suite/cow-spark-long-running.yaml
2	6	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml
1	0	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml
1	0	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml
1	0	docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml
2	6	docker/demo/config/test-suite/detlastreamer-long-running-example.yaml
5	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
73	70	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java

commit 2551c26183cd11d47598128dfd08811fd3d83c69
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-18 09:44:56 -0700

    [HUDI-3656] Adding medium sized dataset for clustering and minor fixes to integ tests (#5063)

73	0	docker/demo/config/test-suite/deltastreamer-medium-clustering.yaml
59	0	docker/demo/config/test-suite/spark-medium-clustering.yaml
20	15	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateAsyncOperations.java

commit 6fe4d6e2f645db47b94f5c4d7743747308ef3d86
Author: JerryYue-M <272614347@qq.com>
Date:   2022-03-18 10:47:29 +0800

    [HUDI-3598] Row Data to Hoodie Record Operator parallelism needs to always be consistent with input operator (#5049)
    
    for chaining purpose
    
    Co-authored-by: jerryyue <jerryyue@didiglobal.com>

2	1	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java

commit 9ece77561a673fbfd666c5c57dac1a36e6cedce6
Author: RexAn <anh131@126.com>
Date:   2022-03-18 03:53:45 +0800

    [MINOR] HoodieFileScanRDD could print null path (#5056)
    
    Co-authored-by: Rex An <bonean131@gmail.com>

1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala

commit 7446ff95a7b099d8016b7ca48fdeed9b290d710f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-03-17 19:17:56 +0800

    [HUDI-2439] Replace RDD with HoodieData in HoodieSparkTable and commit executors (#4856)
    
    - Adopt HoodieData in Spark action commit executors
    - Make Spark independent DeleteHelper, WriteHelper, MergeHelper in hudi-client-common
    - Make HoodieTable in WriteClient APIs have raw type to decouple with Client's generic types

21	20	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/UpdateStrategy.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseBulkInsertHelper.java
30	38	hudi-client/{hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieDeleteHelper.java}
10	11	hudi-client/{hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java}
16	24	hudi-client/{hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieWriteHelper.java}
13	11	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
3	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
11	10	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java
3	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertCommitActionExecutor.java
3	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertPreppedCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
62	49	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
17	16	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
4	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/BaseSparkUpdateStrategy.java
2	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkAllowUpdateStrategy.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java
12	12	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java
4	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SparkPreCommitValidator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryEqualityPreCommitValidator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryInequalityPreCommitValidator.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryPreCommitValidator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQuerySingleResultPreCommitValidator.java
6	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaPairRDD.java
22	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java
28	28	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
26	28	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
2	11	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
26	27	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapDeltaCommitActionExecutor.java
2	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
53	52	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
8	9	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertCommitActionExecutor.java
31	28	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java
6	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertPreppedCommitActionExecutor.java
5	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteCommitActionExecutor.java
8	11	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeletePartitionCommitActionExecutor.java
5	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertCommitActionExecutor.java
14	11	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java
11	15	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java
4	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertPreppedCommitActionExecutor.java
5	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertCommitActionExecutor.java
4	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertPreppedCommitActionExecutor.java
3	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/BaseSparkDeltaCommitActionExecutor.java
8	9	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertDeltaCommitActionExecutor.java
6	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertPreppedDeltaCommitActionExecutor.java
6	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkDeleteDeltaCommitActionExecutor.java
6	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertDeltaCommitActionExecutor.java
4	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertPreppedDeltaCommitActionExecutor.java
7	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitActionExecutor.java
4	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertPreppedDeltaCommitActionExecutor.java
24	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
10	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
0	194	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java
26	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieMapPair.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodiePairData.java
50	0	hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieList.java
29	0	hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieMapPair.java

commit bf191f8d4662fd1e9c28f3cacce9179dc8cab561
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-03-17 16:50:28 +0800

    [HUDI-3645] Fix NPE caused by multiple threads accessing non-thread-safe HashMap (#5028)
    
    - Change HashMap in HoodieROTablePathFilter to ConcurrentHashMap

2	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java

commit 5ba2d9ab2f9f22cf81968a68e0303d750a2bd9e9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-16 22:28:11 -0700

    [HUDI-3494] Consider triggering condition of MOR compaction during archival (#4974)

31	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
14	15	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
164	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java
75	8	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
116	4	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java

commit 95e6e538109af9fe60aa99219e4aa1d7ce9511e2
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-16 22:25:04 -0700

    [HUDI-3404] Automatically adjust write configs based on metadata table and write concurrency mode (#4975)

58	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
214	66	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java

commit 8ca9a54db016fc644070085fe2d596b0e5643e00
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-03-17 09:31:00 +0800

    [Hudi-3376] Add an option to skip under deletion files for HoodieMetadataTableValidator (#4994)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

146	30	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit 91849c3d666a363c535610bc24be54c5d9aaa913
Author: that's cool <1059023054@qq.com>
Date:   2022-03-16 14:07:31 +0800

    [HUDI-3607] Support backend switch in HoodieFlinkStreamer (#5032)
    
    * [HUDI-3607] Support backend switch in HoodieFlinkStreamer
    
    * [HUDI-3607] Support backend switch in HoodieFlinkStreamer
    1. checkstyle fix
    
    * [HUDI-3607] Support backend switch in HoodieFlinkStreamer
    1. change the msg

6	0	hudi-flink/pom.xml
7	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
2	2	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
41	0	hudi-flink/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java

commit 296a0e6bcf6f390288941e5ab8683390dcb6a788
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-15 18:49:30 -0700

    [HUDI-3588] Remove hudi-common and hudi-hadoop-mr jars in Presto Docker image (#4997)

20	20	docker/compose/docker-compose_hadoop284_hive233_spark244.yml
1	1	docker/hoodie/hadoop/pom.xml
10	1	docker/hoodie/hadoop/prestobase/Dockerfile

commit 55dca969f9d25ea352dc0e343ef1f1e8539630fd
Author: todd5167 <313328862@qq.com>
Date:   2022-03-16 03:56:37 +0800

    [HUDI-3589] flink sync hive metadata supports table properties and serde properties (#4995)

12	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
2	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java

commit d514570e909c7ca6eb1d41623029979ca3612806
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-03-16 00:03:22 +0530

    [HUDI-3633] Allow non-string values to be set in TypedProperties (#5045)
    
    * [HUDI-3633] Allow non-string values to be set in TypedProperties
    
    * Override getProperty to ignore instanceof string check

14	2	hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java
22	0	hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java

commit 5e8ff8d793f5c50edef2865bb8733301a43f495c
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-15 10:38:36 -0700

    [HUDI-3514] Rebase Data Skipping flow to rely on MT Column Stats index (#4948)

11	12	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java
15	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java
8	0	hudi-common/src/main/avro/HoodieMetadata.avsc
1	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
8	1	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
21	12	hudi-common/src/main/java/org/apache/hudi/common/util/TablePathUtils.java
11	8	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
3	6	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
4	7	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
14	6	hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java
8	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java
2	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
45	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetUtils.scala
117	87	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
21	50	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
63	12	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
3	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala

commit 9bdda2a312bd830bc1659a5305fc28b4469d07be
Author: l-shen <lijieliang@cmss.chinamobile.com>
Date:   2022-03-15 20:34:31 +0800

    [HUDI-3619] Fix HoodieOperation fromValue using wrong constant value (#5033)
    
    Co-authored-by: root <l-shen@localhost.localdomain>

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieOperation.java

commit 6ed7106e5904ce5bf4741b368245101b9ec5836d
Author: Thinking Chen <cdmikechen@hotmail.com>
Date:   2022-03-15 19:06:50 +0800

    [HUDI-3606] Add `org.objenesis:objenesis` to hudi-timeline-server-bundle pom (#5017)

1	0	packaging/hudi-timeline-server-bundle/pom.xml

commit 3b59b769528e0953bf921bd96ffb68e12c3524d4
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-03-15 15:06:30 +0400

    [HUDI-3547] Introduce MaxwellSourcePostProcessor to extract data from Maxwell json string (#4987)
    
    * [HUDI-3547] Introduce MaxwellSourcePostProcessor to extract data from Maxwell json string
    
    * add ut
    
    * Address comment

17	0	hudi-common/src/main/java/org/apache/hudi/common/util/DateTimeUtils.java
190	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/maxwell/MaxwellJsonKafkaSourcePostProcessor.java
44	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/maxwell/PreCombineFieldType.java
130	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSourcePostProcessor.java

commit d40adfa2d717da683787afbc6bb58e409b9430c5
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-14 16:14:00 -0700

    [HUDI-3620] Adding spark3.2.0 profile (#5038)

30	0	pom.xml

commit 30cf39301e311e26b29a65b3e4a229da92f925d1
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-14 15:39:26 -0700

    [HUDI-3623] Removing hive sync node from non hive yamls (#5040)

2	14	docker/demo/config/test-suite/cow-spark-long-running.yaml
2	14	docker/demo/config/test-suite/cow-spark-simple.yaml
1	7	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml
1	7	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml
1	7	docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml
2	16	docker/demo/config/test-suite/detlastreamer-long-running-example.yaml
2	14	docker/demo/config/test-suite/insert-overwrite-table.yaml
2	14	docker/demo/config/test-suite/insert-overwrite.yaml
2	14	docker/demo/config/test-suite/simple-clustering.yaml
2	14	docker/demo/config/test-suite/simple-deltastreamer.yaml
1	7	docker/demo/config/test-suite/spark-clustering.yaml

commit 22c3ce73dbaca70ec0eceee721bb9fbd344c2331
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-14 15:34:17 -0700

    [HUDI-3621] Fixing NullPointerException in DeltaStreamer (#5039)

5	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 003c6ee73e6809f90347e2e81696d2eb8ab2af2d
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-03-14 18:24:06 +0400

    [MINODR] Remove repeated kafka-clients dependencies (#5034)

0	1	packaging/hudi-utilities-bundle/pom.xml

commit 4b75cb6f23a0708fd55659cadf691d30086f5f13
Author: peanut-chenzhong <58263343+peanut-chenzhong@users.noreply.github.com>
Date:   2022-03-14 16:40:38 +0800

    fix NPE when run schdule using spark-sql if the commits time < hoodie.compact.inline.max.delta.commits (#4976)
    
    * Update CompactionHoodiePathCommand.scala
    
    fix NPE when run schdule using spark-sql if the commits time < hoodie.compact.inline.max.delta.commits
    
    * Update CompactionHoodiePathCommand.scala
    
    fix IndexOutOfBoundsException when there`s no schedule for compaction
    
    * Update CompactionHoodiePathCommand.scala
    
    fix CI issue

7	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala

commit 465d553df8c2b157a49e837e1a91cee46ba889d4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-14 14:22:07 +0800

    [HUDI-3600] Tweak the default cleaning strategy to be more streaming friendly for flink (#5010)

6	6	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
12	10	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit 1ba82206176b10c0c7392225de75756fcde70192
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-13 18:11:37 -0700

    [HUDI-3613] Adding/fixing yamls for metadata (#5029)

0	2	docker/demo/config/test-suite/cow-spark-long-running.yaml
0	2	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml
76	0	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml
0	2	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml
0	2	docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml

commit 6c8224cae6e4cd849fe01bd9b647fe69b7fd188b
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-13 20:58:21 +0800

    [HUDI-3501] Support savepoints command based on Call Produce Command (#5025)

0	18	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala
88	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CreateSavepointsProcedure.scala
88	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteSavepointsProcedure.scala
6	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
88	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackSavepointsProcedure.scala
69	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowSavepointsProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/{ => procedure}/TestCallCommandParser.scala
3	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/{ => procedure}/TestCallProcedure.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/{ => procedure}/TestRunClusteringProcedure.scala
178	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestSavepointsProcedure.scala

commit e60acc12582372634c51c5fd35e56d474bf6c1e3
Author: liujinhui <965147871@qq.com>
Date:   2022-03-13 15:00:50 +0800

    [HUDI-3583] Fix MarkerBasedRollbackStrategy NoSuchElementException (#4984)
    
    Co-authored-by: Y Ethan Guo <ethan.guoyihua@gmail.com>

14	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java
14	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java

commit eee96e9af3990809df9cc2e7f874d875596d9df1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-03-13 07:58:55 +0530

    [HUDI-3593] Restore TypedProperties and flush checksum in table config (#5013)
    
    Create new TypedProperties while performing clustering
    
    Add OrderedProperties and minor refactoring
    
    Add javadoc and remove getters from OrderedProperties

100	0	hudi-common/src/main/java/org/apache/hudi/common/config/OrderedProperties.java
0	58	hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java
38	25	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
81	0	hudi-common/src/test/java/org/apache/hudi/common/properties/TestOrderedProperties.java
5	54	hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java

commit e7bb0413af889c3a595e9fb3ea41145da992d8c9
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-11 15:40:13 -0800

    [HUDI-3556] Re-use rollback instant for rolling back of clustering and compaction if rollback failed mid-way (#4971)

24	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
10	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
32	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
56	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java

commit e8918b6c2c30968caccc4fc3c166082503b4cc9d
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-03-12 02:49:30 +0400

    [HUDI-3569] Introduce ChainedJsonKafkaSourePostProcessor to support setting multi processors at once (#4969)

13	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
47	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/ChainedJsonKafkaSourcePostProcessor.java
36	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSourcePostProcessor.java

commit 93277b2bcd9e5140c99c734784e3c89e9a9d1e7f
Author: RexAn <anh131@126.com>
Date:   2022-03-12 06:45:40 +0800

    [HUDI-3592] Fix NPE of DefaultHoodieRecordPayload if Property is empty (#4999)
    
    Co-authored-by: Rex An <bonean131@gmail.com>

12	3	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
20	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java

commit 5d59bf67aeecafb65a2231d808b538878eca49fb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-11 14:39:22 -0800

    [HUDI-3513] Make sure Column Stats does not fail in case it fails to load previous Index Table state (#5015)

34	15	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java

commit 56cb49485d74c28500101b81afe2cc41d90fb431
Author: huberylee <shibei.lh@foxmail.com>
Date:   2022-03-12 05:23:19 +0800

    [HUDI-3567] Refactor HoodieCommonUtils to make code more reasonable (#4982)

4	16	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala
49	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCLIUtils.scala
0	286	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCommonUtils.scala
6	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
183	9	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
88	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/HoodieCatalystExpressionUtils.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala
26	45	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala
4	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
0	225	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallProcedure.scala
344	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestRunClusteringProcedure.scala

commit b00180342e9e8e8e783731e698fecc02a3c1b0e2
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-03-11 15:03:42 +0400

    [HUDI-3575] Use HoodieTestDataGenerator#TRIP_SCHEMA as example schema in TestSchemaPostProcessor (#5019)

14	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java

commit faed6996eed1196c81bbcc39dda78628ade8a9eb
Author: À’≥–œÈ <scx_white@aliyun.com>
Date:   2022-03-11 18:58:49 +0800

    [HUDI-3566] Add thread factory in BoundedInMemoryExecutor (#4926)
    
    Co-authored-by: À’≥–œÈ <sucx@tuya.com>

56	0	hudi-common/src/main/java/org/apache/hudi/common/util/CustomizedThreadFactory.java
19	13	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java
79	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestCustomizedThreadFactory.java

commit 18cdad92068d299307a7ebd94703dab04b52690c
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date:   2022-03-11 14:41:01 +0800

    [HUDI-2999] [RFC-42] RFC for consistent hashing index (#4326)
    
    * [HUDI-2999] rfc for consistent hashing index
    
    * [HUDI-2999] review: add metadata table & non-dual-write solution (virtual log file) for resizing
    
    Co-authored-by: xiaoyuwei <xiaoyuwei.yw@alibaba-inc.com>

-	-	rfc/rfc-42/basic_bucket_hashing.png
-	-	rfc/rfc-42/bucket_resizing.png
-	-	rfc/rfc-42/bucket_resizing_virtual_log_file.png
-	-	rfc/rfc-42/consistent_hashing.png
230	0	rfc/rfc-42/rfc-42.md

commit 83cff3afee15e129034eb51e68a1734c55d85da2
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-03-11 09:30:37 +0400

    [HUDI-3522] Introduce DropColumnSchemaPostProcessor to support drop columns from schema (#4972)
    
    * [HUDI-3522] Introduce DropColumnSchemaPostProcessor to support drop columns from schema
    
    * Fix case sensitivity

88	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DropColumnSchemaPostProcessor.java
25	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java

commit 9dc6df5dca27ec4d543001e03f0cd3718e6b9232
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-10 19:52:55 -0800

    [HUDI-3595] Fixing NULL schema provider for empty batch (#5002)

4	1	hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java
27	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
49	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSourceEmptyBatch.java

commit fa5e75068e661400eac037d676e20d556f3b0fc4
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-03-10 18:17:32 -0800

    [HUDI-3586] Add Trino Queries in integration tests (#4988)

23	0	docker/demo/trino-batch1.commands
21	0	docker/demo/trino-batch2-after-compaction.commands
20	0	docker/demo/trino-table-check.commands
22	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
63	5	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java

commit 4e09545be4aedea231f5d8f512ba53181ca12e33
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-03-10 16:08:27 +0530

    [HUDI-3602][DOCS] Update docker README to build multi-arch images using buildx (#5011)

95	1	docker/README.md

commit ec244071919f71984f278d328c7f0d5c70e2f2a5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-10 15:55:15 +0800

    [HUDI-3581] Reorganize some clazz for hudi flink (#4983)

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java
9	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java
4	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/{ => vector}/ParquetDecimalVector.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/{ => vector/reader}/AbstractColumnReader.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java
1	2	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/{ => vector/reader}/FixedLenBytesColumnReader.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/{ => vector/reader}/Int64TimestampColumnReader.java
3	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/{ => vector/reader}/ParquetColumnarRowSplitReader.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/{ => vector/reader}/RunLengthDecoder.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/{StreamWriteITCase.java => ITTestDataStreamWrite.java}
1	1	hudi-flink/src/test/java/org/apache/hudi/table/{HoodieDataSourceITCase.java => ITTestHoodieDataSource.java}

commit 034addaef5834eff09cfd9ac5cc2656df95ca0e8
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-09 18:45:25 -0800

    [HUDI-3396] Make sure `BaseFileOnlyViewRelation` only reads projected columns (#4818)
    
    NOTE: This change is first part of the series to clean up Hudi's Spark DataSource related implementations, making sure there's minimal code duplication among them, implementations are consistent and performant
    
    This PR is making sure that BaseFileOnlyViewRelation only reads projected columns as well as avoiding unnecessary serde from Row to InternalRow
    
    Brief change log
    - Introduced HoodieBaseRDD as a base for all custom RDD impls
    - Extracted common fields/methods to HoodieBaseRelation
    - Cleaned up and streamlined HoodieBaseFileViewOnlyRelation
    - Fixed all of the Relations to avoid superfluous Row <> InternalRow conversions

3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
14	4	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
2	8	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/{HoodieAvroDeserializerTrait.scala => HoodieAvroDeserializer.scala}
1	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/{HoodieAvroSerializerTrait.scala => HoodieAvroSerializer.scala}
5	5	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
27	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
91	44	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala
69	9	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
1	38	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
16	44	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala
6	10	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
68	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieUnsafeRDD.scala
8	21	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
7	46	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
44	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieUnsafeRDDUtils.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/{HoodieAvroSerializer.scala => HoodieSparkAvroSerializer.scala}
3	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala
3	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSourceStorage.scala
355	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala
5	5	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
6	4	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/{Spark2HoodieAvroDeserializer.scala => HoodieSpark2AvroDeserializer.scala}
5	5	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala
3	3	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/avro/{Spark3HoodieAvroDeserializer.scala => HoodieSpark3AvroDeserializer.scala}
7	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java

commit ca0b8fccee72de897a6019de470fc11f1638bdeb
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-10 10:04:36 +0800

    [MINOR] Add IT CI Test timeout option (#5003)

2	0	azure-pipelines.yml

commit 8859b48b2a13494c89603799684f317f8777726a
Author: MrSleeping123 <75006165+MrSleeping123@users.noreply.github.com>
Date:   2022-03-10 09:44:39 +0800

    [HUDI-3383] Sync column comments while syncing a hive table (#4960)
    
    Desc: Add a hive sync config(hoodie.datasource.hive_sync.sync_comment). This config defaults to false.
    While syncing data source to hudi, add column comments to source avro schema, and the sync_comment is true, syncing column comments to the hive table.

18	11	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
27	0	hudi-common/src/test/resources/simple-test-doced.avsc
2	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
216	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionUtils.scala
5	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
16	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
49	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
10	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java
23	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java
19	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java
76	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit 548000b0d635067acf7574c4cf5122759e79b52b
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-03-09 11:16:22 +0400

    [HUDI-3568] Introduce ChainedSchemaPostProcessor to support setting multi processors at once (#4968)

25	11	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
34	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSchemaPostProcessException.java
52	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/ChainedSchemaPostProcessor.java
39	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/DummySchemaPostProcessor.java
28	14	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java

commit 4324e874ae58774fb3b0af98907123b7e6317b6f
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-08 21:04:42 -0800

    [HUDI-3587] Making SupportsUpgradeDowngrade serializable (#4991)

3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/SupportsUpgradeDowngrade.java

commit 08fd80c913aec05f36042111ef82d78bc0f55ad8
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-09 02:02:34 +0800

    [HUDI-3221] Support querying a table as of a savepoint (#4720)

3	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala
10	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
18	0	hudi-spark-datasource/README.md
36	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
241	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTimeTravelTable.scala
1	0	hudi-spark-datasource/hudi-spark2/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4
14	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
14	0	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala
18	0	hudi-spark-datasource/hudi-spark3/pom.xml
1908	0	hudi-spark-datasource/hudi-spark3/src/main/antlr4/imports/SqlBase.g4
33	0	hudi-spark-datasource/hudi-spark3/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4
54	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala
33	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/TimeTravelRelation.scala
3342	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlAstBuilder.scala
176	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlParser.scala
2	2	style/scalastyle.xml

commit 575bc6346825796e091a12be5a53b04980f82637
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-03-08 21:09:04 +0530

    [HUDI-3356][HUDI-3203] HoodieData for metadata index records; BloomFilter construction from index based on the type param (#4848)
    
    Rework of #4761
    This diff introduces following changes:
    
    - Write stats are converted to metadata index records during the commit. Making them use the HoodieData type so that the record generation scales up with needs.
    - Metadata index init support for bloom filter and column stats partitions.
    - When building the BloomFilter from the index records, using the type param stored in the payload instead of hardcoded type.
    - Delta writes can change column ranges and the column stats index need to be properly updated with new ranges to be consistent with the table dataset. This fix add column stats index update support for the delta writes.
    
    Co-authored-by: Manoj Govindassamy <manoj.govindassamy@gmail.com>

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
20	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
4	34	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
91	72	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
2	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
2	1	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java
3	10	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/HoodieMetadataBloomIndexCheckFunction.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
81	32	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
137	23	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
117	22	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
6	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieSparkWriteableTestTable.java
15	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
33	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java
24	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDeltaWriteStat.java
18	11	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
3	3	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
25	25	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
5	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
368	263	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
72	0	hudi-common/src/main/java/org/apache/hudi/metadata/MetadataRecordsGenerationParams.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java

commit ed26c5265c0d442740ecf110b4c87de865f4f3d9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-03-08 06:32:04 -0800

    [HUDI-3584] Skip integ test modules by default (#4986)

13	4	pom.xml

commit 25385805aab3ff00ca9accc406d0f7b0cf2d9e55
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-08 17:01:05 +0800

    [HUDI-3574] Improve maven module configs for different spark profiles (#4970)

1	6	.github/workflows/bot.yml
0	5	hudi-spark-datasource/pom.xml
21	0	pom.xml

commit fe53bd2dea4915a34eafe3c8cebf11ddc1b2a3bd
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-08 15:43:21 +0800

    [HUDI-2677] Add DFS based message queue for flink writer[part3] (#4961)

1	3	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java
28	0	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
5	3	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
9	9	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
9	2	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
113	0	hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMessage.java
226	0	hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java
1	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
2	2	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
4	5	hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java
75	0	hudi-flink/src/test/java/org/apache/hudi/sink/meta/TestCkpMetadata.java

commit b6bdb46f7fe85faa79b96a008a51648872cc1c4f
Author: Bo <cuibo0108@163.com>
Date:   2022-03-06 10:55:04 +0800

    [MINOR][HUDI-3460]Fix HoodieDataSourceITCase
    
    close #4959

0	7	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
0	5	hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
0	5	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
1	11	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
0	1	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
0	2	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java
0	1	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java

commit 34bc75285312a74e146369418ee82d87708ae1ba
Author: todd5167 <313328862@qq.com>
Date:   2022-03-08 11:53:54 +0800

    [HUDI-3573]  flink cleanFuntion execute clean on initialization (#4936)
    
    For flink insert overwrite operation, do the cleaning each time before the write.

13	1	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java

commit 29040762fa511f89e678dc15ca5ae7f9f097fb8a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-07 17:01:49 -0500

    [HUDI-3576] Configuring timeline refreshes based on latest commit (#4973)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
9	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java
9	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java

commit 53826d69e4120fd2a67986237fa85795209d9dab
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-03-08 05:57:03 +0800

    [HUDI-2747] support set --sparkMaster for MDT cli (#4964)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

13	8	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java

commit a66fd40692dba064dfa71d277ef5f25e067e702b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-07 12:38:27 -0800

    [HUDI-3365] Make sure Metadata Table records are updated appropriately on HDFS (#4739)
    
    - This change makes sure MT records are updated appropriately on HDFS: previously after Log File append operations MT records were updated w/ just the size of the deltas being appended to the original files, which have been found to be the cause of issues in case of Rollbacks that were instead updating MT with records bearing the full file-size.
    
    - To make sure that we hedge against similar issues going f/w, this PR alleviates this discrepancy and streamlines the flow of MT table always ingesting records bearing full file-sizes.

124	37	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
9	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
12	29	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
14	27	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
51	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/upgrade/JavaUpgradeDowngradeHelper.java
22	63	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
4	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
2	15	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
67	21	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
49	30	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
2	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
11	9	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
38	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/SparkRDDWriteClientOverride.java
3	3	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java
3	3	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java

commit f0bcee3c014cf59bdad3eaf8212d94a589073f0b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-07 10:42:03 -0800

    [HUDI-3561] Avoid including whole `MultipleSparkJobExecutionStrategy` object into the closure for Spark to serialize (#4954)
    
    - Avoid including whole MultipleSparkJobExecutionStrategy object into the closure for Spark to serialize

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
29	23	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java

commit 3539578ccbcca4738a3e22a63635f96b313234c0
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-07 07:32:05 -0500

    [HUDI-3213] Making commit preserve metadata to true for compaction (#4811)
    
    * Making commit preserve metadata to true
    
    * Fixing integ tests
    
    * Fixing preserve commit metadata for metadata table
    
    * fixed bootstrap tests
    
    * temp diff
    
    * Fixing merge handle
    
    * renaming fallback record
    
    * fixing build issue
    
    * Fixing test failures

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
10	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
34	10	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
4	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	0	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
11	9	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java
11	9	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java
3	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
1	1	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
1	1	hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 6f57bbfac4881388d73a9e0768498fe47fe6bb5a
Author: À’≥–œÈ <scx_white@aliyun.com>
Date:   2022-03-07 14:35:55 +0800

    [HUDI-3069] Improve HoodieMergedLogRecordScanner avoid putting unnecessary hoodie records (#4932)
    
    * log scanner optimization
    * payload equals switches to `=`
    
    Co-authored-by: À’≥–œÈ <sucx@tuya.com>

8	9	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java

commit c9ffdc493eb8d1971b281e3b84275f4ef5905e4b
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-03-07 00:41:01 +0400

    [HUDI-3525] Introduce JsonkafkaSourceProcessor to support data preprocess before it is transformed to DataSet (#4930)

10	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
35	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSourcePostProcessException.java
25	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
40	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/JsonKafkaSourcePostProcessor.java
5	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java
115	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSourcePostProcessor.java

commit 4b471772aa130dc4bb577edbd42f2a617f205da0
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-03-07 00:37:09 +0400

    [HUDI-3520] Introduce DeleteSupportSchemaPostProcessor to support adding _hoodie_is_deleted column to schema (#4921)

66	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DeleteSupportSchemaPostProcessor.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SparkAvroPostProcessor.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/DummySchemaProvider.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/SparkAvroSchemaProvider.java
10	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java

commit 051ad0b033993fcc7c68bdc96368fc6f0b822a55
Author: Aditya Tiwari <aditya63700@gmail.com>
Date:   2022-03-06 07:51:35 +0530

    [HUDI-3130] Fixing Hive getSchema for RT tables addressing different partitions having different schemas (#4468)
    
    * Fixing Hive getSchema for RT tables
    
    * Addressing feedback
    
    * temp diff
    
    * fixing tests after spark datasource read support for metadata table is merged to master
    
    * Adding multi-partition schema evolution tests to HoodieRealTimeRecordReader
    
    Co-authored-by: Aditya Tiwari <aditya.tiwari@flipkart.com>
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java
29	0	hudi-common/src/test/resources/simple-test-evolved-compatible.avsc
11	18	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
19	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java
94	28	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
6	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
9	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala

commit 6a46130037e6be48d6c014e513dbca6e940b83d8
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-04 21:04:16 -0500

    [HUDI-2761] Fixing timeline server for repeated refreshes (#4812)
    
    * Fixing timeline server for repeated refreshes

5	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
1	4	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
6	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java

commit 0986d5a01d7f83bd1b049e8acb7e9250ba43b9f3
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-03-04 19:29:29 +0800

    [HUDI-3460] Add reader merge memory option for flink (#4911)
    
    * flink TM memory Optimization

7	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
5	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
5	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
1	3	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
4	4	hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
17	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
2	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java
1	0	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java

commit b4362fac45cfa75655869603e8c9a7a3a106fa98
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-03-03 23:19:16 -0800

    [HUDI-3348] Add UT to verify HoodieRealtimeFileSplit serde (#4951)

21	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java

commit f44980763030663d8f6ee72555cbb4c280945267
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date:   2022-03-04 15:09:39 +0800

    [MINOR] fix UTC timezone config (#4950)

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java

commit 6faed3d90ab99844017465e63c6a0604bdc3a68c
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-04 12:02:46 +0800

    [HUDI-3161][RFC-47] Add Call Produce Command for Spark SQL (#4607)

1	0	rfc/README.md
1	1	rfc/rfc-46/rfc-46.md
-	-	rfc/rfc-47/process.png
111	0	rfc/rfc-47/rfc-47.md

commit 62f534d00228653059c4fed944d444632bc07091
Author: shibei <shibei.lh@foxmail.com>
Date:   2022-03-04 09:33:16 +0800

    [HUDI-3445] Support Clustering Command Based on Call Procedure Command for Spark SQL (#4901)
    
    * [HUDI-3445] Clustering Command Based on Call Procedure Command for Spark SQL
    
    * [HUDI-3445] Clustering Command Based on Call Procedure Command for Spark SQL
    
    * [HUDI-3445] Clustering Command Based on Call Procedure Command for Spark SQL
    
    Co-authored-by: shibei <huberylee.li@alibaba-inc.com>

12	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
12	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanPartitionFilter.java
12	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/action/cluster/strategy/TestPartitionAwareClusteringPlanStrategy.java
8	3	hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java
286	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCommonUtils.scala
5	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
9	173	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
17	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
3	17	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala
53	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackToInstantTimeProcedure.scala
176	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala
69	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowClusteringProcedure.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitsProcedure.scala
7	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieSqlCommonAstBuilder.scala
3	26	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
225	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallProcedure.scala

commit be9a26488566891766cafae879efd3687d74095e
Author: RexAn <anh131@126.com>
Date:   2022-03-04 08:14:07 +0800

    [HUDI-3548] Fix if user specify key "hoodie.datasource.clustering.async.enable" directly, async clustering not work (#4905)
    
    
    Co-authored-by: Rex An <bonean131@gmail.com>

0	6	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
1	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
26	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java

commit a4ba0fff07861bdff338074fb5d84726f430883f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-03 21:11:08 +0800

    [HUDI-3552] Strength the NetworkUtils#getHostname by checking network interfaces first (#4942)
    
    * In some complex network environment, the current code returns wildcard address 0.0.0.0 which is not desired.

19	0	hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java

commit 876a891979a3f88664c41560d35fd6225ea51258
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-03 06:32:25 -0500

    [HUDI-3544] Fixing "populate meta fields" update to metadata table (#4941)
    
    * Fixing populateMeta fields update to metadata table
    
    * Fix checkstyle violations
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

23	14	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
30	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java

commit 51ee5005a63da7f2c7677c80bec50f9729e13685
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2022-03-03 02:26:22 -0800

    [HUDI-2973] RFC-27: Data skipping index to improve query performance (#4728)
    
    - Updating the schema used for data skipping index

77	55	rfc/rfc-27/rfc-27.md

commit 907e60c252e80be5ef3a848d773e0f866eb609f9
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2022-03-03 02:00:41 +0530

    [HUDI-3264]: made schema registry urls configurable with MTDS (#4779)

26	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java
17	12	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java
3	1	hudi-utilities/src/test/resources/delta-streamer-config/short_trip_uber_config.properties
3	1	hudi-utilities/src/test/resources/delta-streamer-config/uber_config.properties

commit 527bd34b1c5b757c6e13236455888797ac6d5b45
Author: liujinhui <965147871@qq.com>
Date:   2022-03-02 23:40:28 +0800

    [MINOR] RFC-38 markdown content error (#4933)
    
    * Minor content error
    
    * Minor content error

1	1	rfc/rfc-38/rfc-38.md

commit f8945eca088ec0c87cc6ecb6a8a3536ab02c0bf4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-03-02 08:10:43 -0500

    [MINOR] Adding more test props to integ tests (#4935)

61	0	docker/demo/config/test-suite/test-clustering-aggressive-clean-archival.properties
63	0	docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival.properties
56	0	docker/demo/config/test-suite/test-metadata-aggressive-clean-archival.properties

commit 1d57bd17c2da860df1d5f03e1bb8c181ae7bfa14
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-03-02 17:44:52 +0800

    [minor] Cosmetic changes following HUDI-3315 (#4934)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java
14	5	hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java
5	0	hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteOperator.java
9	3	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java
6	5	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java

commit 10d866f083248d37923d694165e362a21f3d529d
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2022-03-02 15:14:44 +0800

    [HUDI-3315] RFC-35 Part-1 Support bucket index in Flink writer (#4679)
    
    * Support bucket index in Flink writer
    * Use record key as default index key

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java
12	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
22	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
5	0	hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
158	0	hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java
34	0	hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteOperator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
40	0	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java
19	6	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
6	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
0	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
8	2	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
11	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit 85f47b53df9eb676565ced6205a980cba60e410d
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-03-01 22:15:26 -0800

    [HUDI-3469] Refactor `HoodieTestDataGenerator` to provide for reproducible Builds (#4866)

1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
9	17	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
120	71	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
2	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	3	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java
1	3	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java
16	9	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala
3	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java

commit 3b2da9f13847475be3dcef13b3d25df8818cecc7
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2022-03-02 11:18:17 +0800

    [HUDI-2631] In CompactFunction, set up the write schema each time with the latest schema (#4000)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

17	6	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
13	0	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java

commit 3cfb52c413b49840f17d00e2ee6be7d4224a0ac1
Author: stayrascal <stayrascal@users.noreply.github.com>
Date:   2022-03-02 11:16:19 +0800

    [MINOR] fix get builtin function issue from Hudi catalog (#4917)

2	2	hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java
42	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
37	6	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java
6	6	hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java

commit 3fdc9332e58930aa8e4fef0d0f85ffbec78c6e7b
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-03-02 10:19:36 +0800

    [HUDI-3516] Implement record iterator for HoodieDataBlock (#4909)
    
    *  Use iterator to void eager materialization to be memory friendly

5	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
40	37	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java
14	9	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
20	17	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
9	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
9	12	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
65	34	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
100	22	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java
43	12	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
16	21	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieParquetDataBlock.java
12	10	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
73	6	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
44	22	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java

commit a81a6326d5e61b18b804632a8b6411906291d23c
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-03-01 16:03:53 +0800

    [HUDI-3441] Add support for "marker delete" in hudi-cli (#4922)

58	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MarkersCommand.java
24	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
77	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestMarkersCommand.java

commit f7088a957c1381ceb4ee1ac613292cfc07938032
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-28 22:46:32 -0500

    [HUDI-3497] Adding Datatable validator tool (#4902)

50	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDataTableUtils.java
396	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDataTableValidator.java
1	18	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieRepairTool.java

commit 257052a94d4e177bdf7269e000a8e02e94a20e90
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-02-28 18:49:30 -0800

    [HUDI-3465] Add validation of column stats and bloom filters in HoodieMetadataTableValidator (#4878)

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java
17	15	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
302	63	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java
104	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/util/BloomFilterData.java

commit 44b8ab6048feac431d2c22a5762872bb4d16d86c
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2022-03-01 04:16:40 +0800

    [HUDI-3418] Save timeout option for remote RemoteFileSystemView (#4809)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

6	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
3	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
2	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java

commit 18dc89cf7908e000a545acf4aa161c242c415dd5
Author: wenningd <wenningding95@gmail.com>
Date:   2022-02-28 08:37:24 -0800

    [HUDI-3450] Avoid passing empty string spark master to hudi cli (#4844)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

3	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
35	0	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/SparkUtilTest.java

commit 05e395ae5f56ca2e99e3e5e0838c14da74d2eedd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-02-28 08:14:35 -0800

    [HUDI-3341] Fix log file reader for S3 with hadoop-aws 2.7.x (#4897)

21	16	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java

commit 8f1e4f5b3e4e32e34f98191abb475f95f3690390
Author: stayrascal <stayrascal@users.noreply.github.com>
Date:   2022-02-28 23:45:47 +0800

    [HUDI-3528] Fix String convert issue and overwrite putAll method in TypedProperties.java (#4920)

13	1	hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java
30	1	hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java

commit 4a59876c8b6045fad55777c5eb241ef5d5aa401b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-28 08:13:17 -0500

    [HUDI-2917] rollback insert data appended to log file when using Hbase Index (#4840)
    
    
    Co-authored-by: guanziyue <guanziyue@gmail.com>

46	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadProfile.java
18	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadStat.java
22	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
20	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
16	16	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
27	8	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPartitioner.java
9	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBucketIndexPartitioner.java
25	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
152	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java

commit 193215201cfff5f686a70d5054c0a3a3d91d25a6
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-02-28 10:45:28 +0800

    [MINOR] Change MINI_BATCH_SIZE to 2048 (#4862)
    
    ParquetColumnarRowSplitReader#batchSize is 2048, so Changing MINI_BATCH_SIZE to 2048 will reduce memory cache.

1	1	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java

commit d5444ff7ff832a2e14b5c78449713fdf82bcaec4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-27 11:59:23 -0500

    [HUDI-3018] Adding validation to dataframe scheme to ensure reserved field does not have diff data type (#4852)

0	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
1	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
11	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
20	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit 2f99e8458ac3cd51000227fce90576e8e1e056be
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-27 11:13:13 -0500

    [HUDI-3521] Fixing kakfa key and value serializer value type from class to string (#4919)

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/DebeziumSource.java

commit c77b2591d057fdc1c014a80284024e19254e3606
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-02-26 05:02:12 -0800

    [HUDI-2439] Remove SparkBoundedInMemoryExecutor (#4860)

14	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java
0	56	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkBoundedInMemoryExecutor.java
4	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java
13	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
2	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/OrcBootstrapMetadataHandler.java
2	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/ParquetBootstrapMetadataHandler.java
2	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java
16	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/{TestSparkBoundedInMemoryExecutor.java => TestBoundedInMemoryExecutorInSpark.java}
5	0	hudi-common/src/main/java/org/apache/hudi/common/util/Functions.java
20	12	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java
5	2	hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
14	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java

commit 1379300b5b4357243ab7279f9a39011296731741
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-26 08:00:15 -0500

    [HUDI-3483] Adding insert override nodes to integ test suite and few clean ups (#4895)

104	0	docker/demo/config/test-suite/insert-overwrite-table.yaml
106	0	docker/demo/config/test-suite/insert-overwrite.yaml
73	0	docker/demo/config/test-suite/spark-clustering.yaml
56	0	docker/demo/config/test-suite/test-metadata.properties
2	4	docker/demo/config/test-suite/test.properties
10	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
60	47	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java
56	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DeleteInputDatasetNode.java
4	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
6	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala
31	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertOverwriteNode.scala
30	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertOverwriteTableNode.scala
4	36	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala

commit 6a5cfb45b9f4784757d2f2d49495d72e23375309
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-02-26 00:21:53 +0530

    [MINOR] Fix table type in input format test (#4912)

1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit 92cdc5987a2b5a6faecec96224f545ab49ee6ef2
Author: À’≥–œÈ <scx_white@aliyun.com>
Date:   2022-02-26 00:30:10 +0800

    [HUDI-3515] Making rdd unpersist optional at the end of writes (#4898)
    
    
    Co-authored-by: À’≥–œÈ <sucx@tuya.com>

16	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
6	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
46	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java

commit b50f4b491c969675d00cec9655f70855de4db88a
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-02-25 05:39:43 -0800

    [HUDI-3042] Refactor clustering executors (#4847)

3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/{BaseClusteringPlanActionExecutor.java => ClusteringPlanActionExecutor.java}
76	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
6	4	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java
4	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
0	43	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/cluster/JavaClusteringPlanActionExecutor.java
8	65	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/cluster/JavaExecuteClusteringCommitActionExecutor.java
6	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
6	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
0	44	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java
9	72	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java

commit 742810070bf43bbc13f22ee5514dd997c27b1db2
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-02-25 19:16:27 +0800

    [HUDI-3421]Pending clustering may break AbstractTableFileSystemView#getxxBaseFile() (#4810)

6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
18	5	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
233	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit a4ee7463aee936b6160e529814016a7cb2f06694
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-02-25 19:08:51 +0800

    [HUDI-3474] Add more document to Pipelines for the usage of this tool to build a write pipeline (#4906)

101	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java

commit 45d1216e91babcfb92470a7b5c314fefa27fce0d
Author: todd5167 <313328862@qq.com>
Date:   2022-02-25 12:31:29 +0800

    [HUDI-3401] fix NPE caused by incorrect  beforeKeyGenClassName validation (#4774)

2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala

commit 36944856096c8ae2085bf0dbd9c635eb5cc750e1
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-02-25 12:28:38 +0800

    [HUDI-3429] Support clustering scheduleAndExecute for hudi-cli and add clustering-cli Tests (#4817)
    
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

36	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ClusteringCommand.java
18	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
199	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestClusteringCommand.java

commit aa1810d73766937426690f296e2889f314c43f36
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-02-25 09:04:44 +0800

    [HUDI-3493] Not table to get execution plan (#4894)

3	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala

commit 85e8a5c4de8fa59b769676149060eca13809cba6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-02-24 13:23:13 -0800

    [HUDI-1296] Support Metadata Table in Spark Datasource (#4789)
    
    * Bootstrapping initial support for Metadata Table in Spark Datasource
    
    - Consolidated Avro/Row conversion utilities to center around Spark's AvroDeserializer ; removed duplication
    - Bootstrapped HoodieBaseRelation
    - Updated HoodieMergeOnReadRDD to be able to handle Metadata Table
    - Modified MOR relations to be able to read different Base File formats (Parquet, HFile)

8	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java
8	12	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
8	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
0	380	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
92	7	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
42	43	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
35	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializerTrait.scala
28	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializerTrait.scala
15	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
7	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java
52	21	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
4	5	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
5	6	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
7	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
77	49	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
16	7	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
17	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java
38	2	hudi-common/src/test/resources/timestamp-test-evolved.avsc
3	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
10	19	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/SparkRowWriteHelper.java
110	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
10	14	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
125	98	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
72	61	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
74	63	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
7	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializer.scala
1	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
22	9	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala
2	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala
4	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
5	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala
7	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
1	2	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
2	3	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
1	2	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java
1	2	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java
1	2	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
70	56	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
0	0	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java
0	0	{hudi-client/hudi-spark-client => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java
3	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionHelper.scala
3	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
27	28	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala
4	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
34	22	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
98	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala
9	0	hudi-spark-datasource/hudi-spark2/pom.xml
9	1	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
398	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/PatchedAvroDeserializer.scala
33	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/Spark2HoodieAvroDeserializer.scala
9	0	hudi-spark-datasource/hudi-spark3-common/pom.xml
11	4	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala
5	15	hudi-spark-datasource/{hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializer.scala => hudi-spark3-common/src/main/scala/org/apache/spark/sql/avro/Spark3HoodieAvroDeserializer.scala}
1	0	hudi-spark-datasource/hudi-spark3/pom.xml
1	0	pom.xml

commit 521338b4d9fafb4f1f43c45be30d6ee1dc3d298f
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-02-24 23:45:37 +0800

    [HUDI-3161] Add Call Produce Command for Spark SQL (#4535)

153	15	hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4
47	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/Call.scala
51	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
35	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CallProcedureHoodieCommand.scala
99	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala
41	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala
60	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/Procedure.scala
27	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ProcedureArgs.scala
22	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ProcedureBuilder.scala
71	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ProcedureParameter.scala
42	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ProcedureParameterImpl.scala
85	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackToInstantTimeProcedure.scala
163	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitsProcedure.scala
80	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieSqlCommonAstBuilder.scala
116	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallCommandParser.scala
132	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallProcedure.scala
1	1	hudi-spark-datasource/hudi-spark3-common/pom.xml

commit 943b99775b7b0cf4340a9af76b6dd235cf91e350
Author: yanenze <34880077+yanenze@users.noreply.github.com>
Date:   2022-02-24 14:45:03 +0800

    [HUDI-3488] The flink small file list should exclude file slices with pending compaction (#4893)
    
    # this happens when the async-compaction has been configured
    
    Co-authored-by: yanenze <yanenze@keytop.com.cn>

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java

commit 62605be413b72e1b476367e86a481178c740efc1
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-23 15:56:35 -0500

    [HUDI-3480][HUDI-3481] Enchancements to integ test suite (#4884)

1	12	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml
81	0	docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml
54	0	docker/demo/config/test-suite/test-aggressive-clean-archival.properties
57	0	docker/demo/config/test-suite/test-clustering.properties

commit 2a93b8efb278bcb4463f88660b21824f7cfc902f
Author: leesf <490081539@qq.com>
Date:   2022-02-23 21:14:30 +0800

    [HUDI-3489] Unify config to avoid duplicate code (#4883)

15	15	hudi-spark-datasource/{hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog => hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi}/ProvidesHoodieConfig.scala
3	120	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
3	43	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
2	2	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala
1	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala
1	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala

commit 4e8accc179d8f60c874d748167018196900b7d12
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-02-22 20:57:02 -0800

    [HUDI-3486] Fix wrong field order for constructing HoodieMetadataColumnStats (#4875)

10	10	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java

commit dabae8042386503bd16d4c5e3a3bf836125f2f7e
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2022-02-23 10:49:47 +0800

    [HUDI-3420] Remove duplicates type in HoodieClusteringGroup.avsc (#4808)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

0	1	hudi-common/src/main/avro/HoodieClusteringGroup.avsc

commit 01cbddef78f5c66c15f22937f078dd7dbde203e8
Author: ¥”¥Û ˝æ›µΩ»Àπ§÷«ƒ‹ <xiaozhch5@mail2.sysu.edu.cn>
Date:   2022-02-23 09:16:21 +0800

    Add hive-standalone-metastore dependency to hudi-flink-bundle module (#4870)

8	1	packaging/hudi-flink-bundle/pom.xml

commit 9678c3fbcf7e0de0fc84f2f50badac626d02a7ed
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-22 09:15:16 -0500

    [MINOR] Fixing checkpoint management in S3IncrSource (#4871)

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java

commit b87e95d621e9fd2d1aebca4c49f599b6437aaf83
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-02-22 19:21:57 +0800

    [HUDI-3476] Remove the shade pattern for parquet for flink bundle jar (#4869)

0	4	packaging/hudi-flink-bundle/pom.xml

commit 4affdd0c8f02ccca4705515dcb6492c199e2cede
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-02-22 15:54:29 +0800

    [HUDI-3461] The archived timeline for flink streaming reader should not be reused (#4861)
    
    * Before the patch, the flink streaming reader caches the meta client thus the archived timeline,
      when fetching the instant details from the reused timeline, the exception throws
    * Add a method in HoodieTableMetaClient to return a fresh new archived timeline each time

16	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
30	4	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
3	13	hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java

commit 4d1f74ebeaee857380f69d7c596eaaf0135ca59e
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-02-22 10:20:20 +0400

    [HUDI-3464] Fix wrong exception thrown from HiveSchemaProvider (#4865)

32	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSchemaProviderException.java
27	22	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/HiveSchemaProvider.java

commit 14dbbdf4c7a45ab5a10889f8e558984455315829
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-22 00:01:30 -0500

    [HUDI-2189] Adding delete partitions support to DeltaStreamer (#4787)

4	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
56	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 7e1ea06eb98419af74385fe967bcbdf1fe3ca953
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-02-21 19:36:20 -0800

    [MINOR] Fix typos and improve docs in HoodieMetadataConfig (#4867)

19	14	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit 0dee8edc9741ee99e1e2bf98efd9673003fcb1e7
Author: Prashant Wason <pwason@uber.com>
Date:   2022-02-21 18:53:03 -0800

    [HUDI-2925] Fix duplicate cleaning of same files when unfinished clean operations are present using a config. (#4212)
    
    
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

19	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
12	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
6	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
68	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java

commit 0c950181aabc371caa9a1508a8086ec931d763ae
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-02-22 08:52:21 +0800

    [HUDI-3423] upgrade spark to 3.2.1 (#4815)

1	1	README.md
1	7	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
7	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
3	2	pom.xml

commit 801fdab55c97d1abd815f90ae64c0ecbe8e84f94
Author: RexAn <anh131@126.com>
Date:   2022-02-21 22:53:09 +0800

    [HUDI-3042] Abstract Spark update Strategy to make code more clean and remove duplicates (#4845)
    
    
    
    Co-authored-by: Hui An <hui.an@shopee.com>

53	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/BaseSparkUpdateStrategy.java
3	11	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkAllowUpdateStrategy.java
3	10	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java

commit bf16bc122a2135ad3bc3f84d55a91f25d2543d55
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2022-02-21 19:34:42 +0530

    [HUDI-349]: Added new cleaning policy based on number of hours  (#3646)

0	15	hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java
11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
51	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
131	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java

commit d36fe24c9e5cbd5a20d14818671c28eca6f364ff
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-21 08:19:57 -0500

    [HUDI-3455] Fixing checkpoint management in hoodie incr source (#4850)

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
14	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java

commit 17cb5cb43377746763722a8f96741e7d521a702d
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-21 07:55:30 -0500

    [HUDI-3432] Fixing restore with metadata enabled (#4849)
    
    * Fixing restore with metadata enabled
    
    * Fixing test failures

2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
4	2	hudi-common/src/main/avro/HoodieMetadata.avsc
14	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala

commit 76b6ad649135ec0ed425c3c173d91f1e0ce67c5d
Author: leesf <490081539@qq.com>
Date:   2022-02-21 20:14:07 +0800

    [HUDI-2732][RFC-38] Spark Datasource V2 Integration (#3964)

1	1	rfc/README.md
-	-	rfc/rfc-38/1.png
283	0	rfc/rfc-38/rfc-38.md

commit 359fbfde798b50edc06ee1d0520efcd971a289bc
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-02-21 04:31:31 +0800

    [HUDI-2648] Retry FileSystem action instead of failed directly. (#3887)
    
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

2	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieClient.java
7	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
142	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FileSystemRetryConfig.java
257	0	hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieRetryWrapperFileSystem.java
30	3	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
129	0	hudi-common/src/main/java/org/apache/hudi/common/util/RetryHelper.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
210	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtilsWithRetryWrapperEnable.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java

commit 0938f55a2b033745b5e2dafad8ce31e60bb394ac
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-02-20 10:51:58 -0800

    [HUDI-3458] Fix BulkInsertPartitioner generic type (#4854)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseBulkInsertHelper.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java
4	5	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertPreppedCommitActionExecutor.java
6	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
4	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertCommitActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java
5	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertPreppedCommitActionExecutor.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertDeltaCommitActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertPreppedDeltaCommitActionExecutor.java

commit 66ac1446dd0688968a4991e92abfa38ad92a3d1d
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-20 13:49:18 -0500

    [MINOR] Moving spark scheduling configs out of DataSourceOptions (#4843)

0	26	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
50	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkConfigs.scala
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
5	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/deltastreamer/TestSchedulerConfGenerator.java

commit 83279971a183c68225dde737149467624f915c2e
Author: Bo Cui <cuibo0108@163.com>
Date:   2022-02-19 21:21:48 +0800

    [HUDI-3446] Supports batch reader in BootstrapOperator#loadRecords (#4837)
    
    * [HUDI-3446] Supports batch Reader in BootstrapOperator#loadRecords

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java
21	4	hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java
11	7	hudi-common/src/main/java/org/apache/hudi/common/util/OrcReaderIterator.java
69	59	hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java
7	4	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetReaderIterator.java
79	36	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
5	11	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java

commit f15125c0cd6e7d2ec1acfaa1d6a814793f03c853
Author: stayrascal <stayrascal@users.noreply.github.com>
Date:   2022-02-19 10:56:41 +0800

    [HUDI-3389] fix ColumnarArrayData ClassCastException issue (#4842)
    
    * [HUDI-3389] fix ColumnarArrayData ClassCastException issue
    
    * [HUDI-3389] remove MapColumnVector.java, RowColumnVector.java, and add test case for array<int> field

2	3	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetColumnarRowSplitReader.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
0	272	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarArrayData.java
0	75	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarMapData.java
0	232	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarRowData.java
1	2	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java
2	2	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java
3	2	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java
0	29	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/MapColumnVector.java
0	30	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/RowColumnVector.java
0	148	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/VectorizedColumnBatch.java
4	3	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
3	3	hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java

commit 5009138d044b4d859237f0f581aeeb71065dc526
Author: RexAn <anh131@126.com>
Date:   2022-02-18 21:57:04 +0800

    [HUDI-3438] Avoid getSmallFiles if hoodie.parquet.small.file.limit is 0 (#4823)
    
    
    Co-authored-by: Hui An <hui.an@shopee.com>

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
6	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPartitioner.java
6	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
4	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitPartitioner.java
8	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java

commit fba5822ee34167b07e65eefc63d7e3d43abd9387
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-02-18 05:44:56 -0800

    [HUDI-3430] Fix Deltastreamer to properly shut down the services upon failure (#4824)

7	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java
7	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java
13	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java
17	9	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit de8161ae96c4cec1e4c9e40069f286439f0c3261
Author: luokey <854194341@qq.com>
Date:   2022-02-18 17:31:38 +0800

    HoodieSortedMergeHandle#close write data disorder (#4841)
    
    Co-authored-by: 854194341@qq.com <loukey_7821>

3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java

commit ed106f671e929d2a6277ae189242201a02a7b58f
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-02-18 10:17:06 +0530

    [HUDI-2809] Introduce a checksum mechanism for validating hoodie.properties (#4712)
    
    Fix dependency conflict
    
    Fix repairs command
    
    Implement putIfAbsent for DDB lock provider
    
    Add upgrade step and validate while fetching configs
    
    Validate checksum for latest table version only while fetching config
    
    Move generateChecksum to BinaryUtil
    
    Rebase and resolve conflict
    
    Fix table version check

3	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
22	10	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
0	1	hudi-client/hudi-client-common/pom.xml
38	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/FourToThreeDowngradeHandler.java
41	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ThreeToFourUpgradeHandler.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java
3	3	hudi-client/hudi-spark-client/pom.xml
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
37	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
46	0	hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java
70	3	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/util/BinaryUtil.java
1	10	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java
23	0	hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableConfig.java
2	0	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
0	1	hudi-integ-test/pom.xml
6	0	pom.xml

commit 2844a77b43cfe4926f3a67d17695be1d6c141ba3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-02-17 22:42:39 +0800

    [HUDI-3439] Remove the hive shade pattern for flink bundle jar (#4833)

0	40	packaging/hudi-flink-bundle/pom.xml

commit 433c2573ef5d1f25cba42f169679a4afe5ff2e24
Author: zhangxiang17 <zhang_xiang_per@163.com>
Date:   2022-02-17 11:04:09 +0800

    [HUDI-3442]Duplicate code calls for 'FlinkOptions.flatOptions' (#4832)

1	2	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java

commit ba0afe142672b61d291a7cc8ac3a85394e90af7d
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-02-17 05:32:49 +0530

    [HUDI-3426] Sync datasource clustering config (#4828)

4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
5	13	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit aaddaf524a07daa1ffad6d6f5e04f6b130e5b069
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-02-16 15:36:37 -0800

    [HUDI-3280] Cleaning up Hive-related hierarchies after refactoring (#4743)

27	5	hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java
10	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
10	9	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
0	123	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BaseFileWithLogsSplit.java
1	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BootstrapBaseFileSplit.java
1	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HiveHoodieTableFileIndex.java
31	104	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java
0	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormatBase.java
72	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieTableInputFormat.java
0	112	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithLogFilePath.java
43	43	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RealtimeFileStatus.java
156	36	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieMergeOnReadTableInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
48	39	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/{RealtimeBootstrapBaseFileSplit.java => HoodieRealtimeBootstrapBaseFileSplit.java}
73	32	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
110	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimePath.java
10	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
36	21	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java
2	39	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java
16	87	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
7	244	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
11	12	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
3	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java
40	38	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
5	12	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
1	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala

commit 3363c664681b8b58238d54776671428fbaac3365
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-02-16 14:41:25 +0800

    [HUDI-3394] Check isWriteLockedByCurrentThread before unlock for InProcessLockProvider (#4819)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>
    Co-authored-by: Y Ethan Guo <ethan.guoyihua@gmail.com>

7	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/InProcessLockProvider.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java
2	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestInProcessLockProvider.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java

commit 9a05940a74c7258e6ca9810473e4beeb4d43dcd7
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-02-15 13:41:47 -0800

    [HUDI-3366] Remove hardcoded logic of disabling metadata table in tests (#4792)

6	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
22	6	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
9	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java
0	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
7	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
5	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java
2	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestSparkHoodieHBaseIndex.java
77	20	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java
19	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java
44	40	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
1	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
0	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
0	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java
4	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
15	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
0	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java
0	2	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java
5	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
15	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
5	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java

commit 538ec44fa8a23926b584c3bcdd24feb9894d4c51
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-02-15 06:49:53 -0800

    [HUDI-2931] Add config to disable table services (#4777)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncArchiveService.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCleanerService.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java
50	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncTableService.java
17	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
37	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/RunsTableService.java
16	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
58	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/async/TestHoodieAsyncTableService.java
4	1	hudi-common/src/main/java/org/apache/hudi/common/model/TableServiceType.java
3	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java

commit fe02c64fea7e2393255ff32f161b624367d12b7a
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-02-15 19:40:40 +0800

    fix build & ci (#4822)

4	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit cb6ca7f0d1d57b7c7eb850015f3bfe75cacf542a
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-02-15 12:38:38 +0800

    [HUDI-3204] fix problem that spark on TimestampKeyGenerator has no re°≠ (#4714)

6	29	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/BaseHoodieDateTimeParser.java
13	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParser.java
9	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
13	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
35	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
23	0	hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
7	6	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
4	3	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
53	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
16	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
4	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
7	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
61	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
3	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala
80	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 27bd7b538e46524d6863e36e334b4a6da665ed32
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-02-14 18:15:06 -0800

    [HUDI-1576] Make archiving an async service (#4795)

3	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
5	5	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
3	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java
85	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncArchiveService.java
23	20	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/{client => async}/AsyncCleanerService.java
7	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java
40	22	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
12	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/{table/HoodieTimelineArchiveLog.java => client/HoodieTimelineArchiver.java}
24	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
10	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
75	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/async/TestAsyncArchiveService.java
2	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
33	33	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/{TestHoodieTimelineArchiveLog.java => TestHoodieTimelineArchiver.java}

commit 3b401d839c1a3a5a8060f671b13df71b76bf88ac
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-02-15 09:38:01 +0800

    [HUDI-3200] deprecate hoodie.file.index.enable and unify to use BaseFileOnlyViewRelation to handle (#4798)

11	5	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
21	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
40	29	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala
1	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
7	62	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
3	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala
3	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit 0a97a9893a0425ed54c911b48d6e070f1d947311
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-02-15 08:02:47 +0800

    [HUDI-3398] Fix TableSchemaResolver for all file formats and metadata table (#4782)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

53	14	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
10	2	hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java
236	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestTableSchemaResolverWithSparkSQL.scala

commit e639d993873913805de1ebd286f1e8a791ef6a24
Author: Yuqi Gu <yuqi.gu@arm.com>
Date:   2022-02-15 07:10:18 +0800

    [HUDI-1657] Fix the build on aarch64, Fedora 33 (#4617)

1	1	hudi-kafka-connect/pom.xml
1	1	pom.xml

commit bcfd8efe66c4429ac8eabf82f87309019760234c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-02-14 11:06:31 -0800

    [MINOR] Prevent async service from starting twice (#4801)

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java

commit 0db1e978c6c26e7bdcbbaa5f048e0e11e6dee073
Author: leesf <490081539@qq.com>
Date:   2022-02-14 22:26:58 +0800

    [HUDI-3254] Introduce HoodieCatalog to manage tables for Spark Datasource V2 (#4611)

6	1	.github/workflows/bot.yml
10	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
37	3	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala
27	22	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala
2	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala
1	11	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
52	25	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
7	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala
12	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
7	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala
45	0	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3SqlUtils.scala
15	3	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala
23	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala
43	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala
206	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala
57	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala
303	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala
126	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala
99	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala
183	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/ProvidesHoodieConfig.scala
23	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java
1	1	style/scalastyle.xml

commit 5ca4480a3818ba9192780a40941abbef44c75dc3
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2022-02-14 16:18:34 +0800

    [HUDI-3417] Switch AbstractTableFileSystemView#filterBaseFileAfterPendingCompaction log level to debug (#4805)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java

commit 94806d5cf7650976892c24d7e77c3bba22cee53d
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-02-14 11:52:00 +0800

    [HUDI-3272] If `mode==ignore && tableExists`, do not execute write logic and sync hive (#4632)

40	37	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
6	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala

commit 93ee09fee879b922ff011e04dbbb54194fac481b
Author: RexAn <anh131@126.com>
Date:   2022-02-14 11:33:29 +0800

    [HUDI-3412] TypedProperties no need to create new set when check key exist or not (#4791)
    
    Co-authored-by: Hui An <hui.an@shopee.com>

7	13	hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java

commit 76e2faa28dc1050e9e6ebe5b33dac1972b781eba
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-02-14 11:12:52 +0800

    [HUDI-3370] The files recorded in the commit may not match the actual ones for MOR Compaction (#4753)
    
    * use HoodieCommitMetadata to replace writeStatuses computation
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

6	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
8	18	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
3	5	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
9	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java
12	17	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
6	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
8	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java
17	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
4	2	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java
7	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
11	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
10	15	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala
2	17	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
14	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit 55777fec0519c1aa26a4bd4415d545b658dfec29
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2022-02-14 10:37:48 +0800

    [HUDI-2413] fix Sql source's checkpoint issue (#3648)
    
    * [HUDI-2413] fix Sql source's checkpoint
    
    * Fixing sql source checkpoint handling
    
    * Fixing docs
    
    Co-authored-by: jian.feng <fengjian428@gmial.com>
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

4	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
4	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
2	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/SqlSource.java
2	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
45	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
18	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestSqlSource.java

commit 6aba00e84fade0b800e2d73c2f16be948af48d54
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-02-13 06:41:58 -0800

    [MINOR] Fix typos in Spark client related classes (#4781)

5	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java
4	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryInequalityPreCommitValidator.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQuerySingleResultPreCommitValidator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
5	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
4	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapMetadataHandler.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
9	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwritePartitioner.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestSparkHoodieHBaseIndex.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
5	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java
4	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestWriteMarkersBase.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
5	4	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
2	2	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
1	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
4	4	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java
4	4	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java
2	3	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
14	14	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java

commit ce9762d588800daa71db5bded8b68f755aa5ba17
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-02-12 13:11:37 +0400

    [MINOR] unused import (#4799)

0	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java

commit 9518f786102566398fa20001533d5d86f68deb5b
Author: zhangxiang17 <zhang_xiang_per@163.com>
Date:   2022-02-12 15:37:29 +0800

    [HUDI-3413]fix jackson parse error when empty message from JsonKafkaSource Using HoodieDeltaStreamer (#4794)

2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java

commit 89ed6f062eead82f441c695e027bbbd67a272dfc
Author: satishkotha <satish.kotha@gmail.com>
Date:   2022-02-11 11:12:45 -0800

    [HUDI-3362] Fix restore to rollback pending clustering operations followed by other rolling back other commits (#4772)

2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
21	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RestorePlanActionExecutor.java
7	1	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java

commit b431246710f37def64b28ea26923ef5602404d24
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-02-12 02:48:44 +0800

    [HUDI-3338] Custom relation instead of HadoopFsRelation (#4709)
    
    Currently, HadoopFsRelation will use the value of the real partition path as the value of the partition field. However, different from the normal table, Hudi will persist the partition value in the parquet file. And in some cases, it's different between the value of the real partition path and the value of the partition field.
    So here we implement BaseFileOnlyViewRelation which lets Hudi manage its own relation.

1	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
27	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
8	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
95	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala
10	19	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
55	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala
10	22	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala
30	32	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala
158	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala
109	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala
20	57	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala
18	15	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
12	31	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
30	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
0	50	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestMergeOnReadSnapshotRelation.scala
44	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
44	1	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
13	3	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala

commit 10474e09625dc863f9b2cbd6078d0a9b72c36fd6
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-02-12 01:23:55 +0800

    [HUDI-3402] Set TIMESTAMP_MICROS as the default value for hoodie.parquet.outputtimestamptype (#4749)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java

commit ba4e732ba75e12a02d07c09f2662678bdcafbdc2
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-10 19:19:33 -0500

    [HUDI-2987] Update all deprecated calls to new apis in HoodieRecordPayload (#4681)

10	7	{hudi-common => hudi-client/hudi-client-common}/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java
14	0	hudi-common/src/main/java/org/apache/hudi/common/model/debezium/PostgresDebeziumAvroPayload.java
15	4	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
9	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
3	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
14	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java

commit 2fe7a3a41f36f0dcbbc89e4dbe51b70f2de997db
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-02-10 23:35:28 +0800

    [HUDI-2610] pass the spark version when sync the table created by spark (#4758)
    
    * [HUDI-2610] pass the spark version when sync the table created by spark
    
    * [MINOR] sync spark version in DataSourceUtils#buildHiveSyncConfig

4	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
3	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
4	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
4	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java

commit 1c778590d1a7a7eb744432e59b4947bb6af30431
Author: wenningd <wenningding95@gmail.com>
Date:   2022-02-10 06:41:22 -0800

    [HUDI-3395] Allow pass rollbackUsingMarkers to Hudi CLI rollback command (#4557)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

4	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
13	8	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
13	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java

commit d971974063411597bdb5633e71a7e26688b2b136
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-02-10 22:12:16 +0800

    [HUDI-3333] fix that getNestedFieldVal breaks with Spark 3.2 (#4783)

27	16	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
13	24	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
1	0	pom.xml

commit e7ec3a82dc274b8d683d74e59ee7bf35d7827ce0
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-10 08:06:23 -0500

    [HUDI-2432] Adding restore.requested instant and restore plan for restore action (#4605)
    
    - This adds a restore plan and serializes it to restore.requested meta file in timeline. This also means that we are introducing schedule and execution phases for restore which was not present before.

15	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieRestoreException.java
15	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
45	14	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
46	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/RestoreUtils.java
84	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RestorePlanActionExecutor.java
6	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
7	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
7	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
37	0	hudi-common/src/main/avro/HoodieRestorePlan.avsc
28	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java

commit 0ababcfaa7c8cb34c399c0da57202fd48676f5d2
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-10 08:04:55 -0500

    [HUDI-1847] Adding inline scheduling support for spark datasource path for compaction and clustering (#4420)
    
    - This adds support in spark-datasource to just schedule table services inline so that users can leverage async execution w/o the need for lock service providers.

43	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
22	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
21	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
14	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
34	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java
44	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java
22	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java

commit b3b44236fe031f84e99008eed85e14ec4519e40f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-02-10 11:32:01 +0800

    [HUDI-3389] Bump flink version to 1.14.3 (#4776)

2	2	hudi-client/hudi-flink-client/pom.xml
4	4	hudi-flink/pom.xml
4	6	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctionWithRateLimit.java
8	1	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
8	8	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java
2	2	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
6	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/CollectorOutput.java
6	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java
7	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStateInitializationContext.java
3	3	hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStreamingRuntimeContext.java
20	2	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
1	1	pom.xml

commit 464027ec375b375475999c78c56612506753f77e
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-02-09 15:42:08 -0800

    [HUDI-3239] Convert `BaseHoodieTableFileIndex` to Java (#4669)
    
    Converting BaseHoodieTableFileIndex to Java, removing Scala as a dependency from "hudi-common"

0	65	hudi-common/pom.xml
351	0	hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableQueryType.java
14	1	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
0	324	hudi-common/src/main/scala/org/apache/hudi/HoodieTableFileIndexBase.scala
0	7	hudi-hadoop-mr/pom.xml
8	25	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HiveHoodieTableFileIndex.java
6	35	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java
22	23	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
33	24	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
6	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
0	11	packaging/hudi-hadoop-mr-bundle/pom.xml
0	11	packaging/hudi-hive-sync-bundle/pom.xml
0	11	packaging/hudi-presto-bundle/pom.xml
0	11	packaging/hudi-trino-bundle/pom.xml

commit 973087f385f0e42bd42e2d57008a756e182041ff
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-02-08 12:21:45 -0800

    [HUDI-3276] Rebased Parquet-based `FileInputFormat` impls to inherit from `MapredParquetInputFormat` (#4667)
    
    Rebased Parquet-based FileInputFormat impls to inherit from MapredParquetInputFormat, to make sure that Hive is appropriately recognizing those impls and applying corresponding optimizations.
    
    - Converted HoodieRealtimeFileInputFormatBase and HoodieFileInputFormatBase into standalone implementations that could be instantiated as standalone objects (which could be used for delegation)
    - Renamed HoodieFileInputFormatBase > HoodieCopyOnWriteTableInputFormat, HoodieRealtimeFileInputFormatBase > HoodieMergeOnReadTableInputFormat
    - Scaffolded HoodieParquetFileInputFormatBase for all Parquet impls to inherit from
    - Rebased Parquet impls onto HoodieParquetFileInputFormatBase

24	13	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/{HoodieFileInputFormatBase.java => HoodieCopyOnWriteTableInputFormat.java}
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java
7	9	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
92	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormatBase.java
8	8	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java
2	6	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/{HoodieRealtimeFileInputFormatBase.java => HoodieMergeOnReadTableInputFormat.java}
7	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java

commit 60831d69060aeb8f112fd7aff9c9323cd213ddb2
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-08 12:03:07 -0500

    [HUDI-3361] Fixing missing begin checkpoint in HoodieIncremental pull (#4755)

24	15	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
21	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java
8	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
22	10	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java

commit 6a32cfe0201bd84ad9199af76a585d4b5a3a54d7
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-08 04:32:18 -0500

    [HUDI-3091] Making SIMPLE index as the default index type (#4659)
    
    * [HUDI-3091] Making SIMPLE index as the default index type
    
    * Fixing tests
    
    * Traiging timeouts
    
    * disable SIMPLE index for bootstrap tests
    
    * removing test run start and end log statements
    
    * Fixing simple index parallellism for some tests
    
    * Disabling failing test for now
    
    * reverting previous disable
    
    * Reverting all changes
    
    * fixing azure pipeline script

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java

commit ab730479587c3fc7588e267ae07f83bb0631ef32
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-08 04:14:10 -0500

    Adding support for custom scheduler configs with streaming sink (#4762)

26	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
5	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/deltastreamer/TestSchedulerConfGenerator.java

commit 1636876e8aa7a97c9982268a9fcecfb8f1f6e6ed
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-02-08 16:29:44 +0800

    [HUDI-3320] Hoodie metadata table validator (#4721)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>
    Co-authored-by: Y Ethan Guo <ethan.guoyihua@gmail.com>

518	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit 0ab1a8ec80fcf3432846f12c40eff9b66992d87f
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-08 00:40:36 -0500

    [HUDI-3312] Fixing spark yaml and adding hive validation to integ test suite (#4731)

8	8	docker/demo/config/test-suite/cow-spark-long-running.yaml
3	3	docker/demo/config/test-suite/cow-spark-simple.yaml
89	0	docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml
1	1	docker/demo/config/test-suite/{cow-long-running-multi-partitions.yaml => deltastreamer-long-running-multi-partitions.yaml}
1	1	docker/demo/config/test-suite/{cow-long-running-example.yaml => detlastreamer-long-running-example.yaml}
76	0	docker/demo/config/test-suite/simple-clustering-hive.yaml
3	3	docker/demo/config/test-suite/{cow-clustering-example.yaml => simple-clustering.yaml}
82	0	docker/demo/config/test-suite/simple-deltastreamer-hive.yaml
1	1	docker/demo/config/test-suite/{complex-dag-cow.yaml => simple-deltastreamer.yaml}
14	14	hudi-integ-test/README.md
5	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
8	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java
3	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala

commit 8ab6f17149e7edbdc80351bdf0d2e5c4c4a33908
Author: Vinish Reddy <vinishreddygunner17@gmail.com>
Date:   2022-02-08 01:47:46 +0530

    [HUDI-3373] Add zero value metrics for empty data source and PROMETHEUS_PUSHGATEWAY reporter (#4760)

20	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 3bd8fc1c3eb1d647d4f181b20fd54c6860cf24dc
Author: satishkotha <satish.kotha@gmail.com>
Date:   2022-02-07 12:16:50 -0800

    [HUDI-3058] Simplify Precommit file system view (#4570)

7	12	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTablePreCommitFileSystemView.java

commit 3f263b82ce6687a8275419ce53ba23348561bdcb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-02-07 11:06:28 -0800

    [HUDI-3206] Unify Hive's MOR implementations to avoid duplication (#4559)
    
    Unify Hive's MOR implementations to avoid duplication to avoid duplication across implementations for different file-formats (Parquet, HFile, etc)
    
    - Extracted HoodieRealtimeFileInputFormatBase (extending COW HoodieFileInputFormatBase base)
    - Rebased Parquet, HFile implementations onto HoodieRealtimeFileInputFormatBase
    - Tidying up

132	72	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java
3	52	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
3	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
12	20	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java
26	240	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
259	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileInputFormatBase.java
4	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
8	8	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table-merged.json
4	4	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table.json
8	13	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala

commit 773b3179834d6e0d2912a7a9d4b3b3873d0c2a21
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2022-02-07 22:28:13 +0800

    [HUDI-2941] Show _hoodie_operation in spark sql results (#4649)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
21	14	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
2	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
2	2	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
46	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala
4	13	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java

commit 24f738fe68d03fa15755d8a53aeb6e25921c6e94
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2022-02-07 08:10:06 -0500

    [HUDI-3360] Adding retries to deltastreamer for source errors (#4744)

26	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
9	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
33	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSourceTimeoutException.java
12	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
12	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java

commit 538db185cad6274d4e5083afc7d583aba13c78cd
Author: ehui <374488688@qq.com>
Date:   2022-02-07 20:43:51 +0800

    [HUDI-2491] Expose HMS mode metastore uri config option for spark writer (#3962)

2	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
4	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
5	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
5	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit de206acbae06f733ba14cec2650eef9a0139db7a
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-02-07 17:31:34 +0800

    [HUDI-3369] New ScheduleAndExecute mode for HoodieCompactor and hudi-cli (#4750)
    
    Schedule and execute compaction plan in one single mode.

35	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
19	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
27	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCompactionCommand.java
165	40	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java

commit 0880a8a5e453bd146c0cbcb7e26cc8ee6c2560cc
Author: Qian.Sun <qian.sun2020@gmail.com>
Date:   2022-02-07 11:27:44 +0800

    [HUDI-3344] Standard format for HoodieDataSourceExample.scala (#4717)

2	2	hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala

commit b8601a9f58ae4dc5099cc7f828df7fd8d0aeb798
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-02-03 20:24:04 -0800

    [HUDI-2656] Generalize HoodieIndex for flexible record data type (#3893)
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/HoodieLazyInsertIterable.java
5	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/BaseHoodieBloomIndexHelper.java
10	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
12	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedHoodieBloomIndexHelper.java
7	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieBucketIndex.java
6	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/inmemory/HoodieInMemoryHashIndex.java
16	17	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java
9	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapRecordConsumer.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseWriteHelper.java
3	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
5	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
8	8	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java
3	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndexFactory.java
4	9	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java
3	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
20	19	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java
2	1	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java
2	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java
8	7	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndexFactory.java
2	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java
3	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java
12	10	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestHoodieConcatHandle.java
13	12	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
4	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java
5	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveSortPartitioner.java
8	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java
6	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndexFactory.java
1	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java
15	17	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/OrcBootstrapMetadataHandler.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/ParquetBootstrapMetadataHandler.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBucketIndexPartitioner.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
6	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
9	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
12	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java
4	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/functional/SparkClientFunctionalTestSuite.java
1	59	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java
21	20	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
14	14	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
8	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java
10	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestHoodieBucketIndex.java
8	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/{client/functional/TestHBaseIndex.java => index/hbase/TestSparkHoodieHBaseIndex.java}
11	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
50	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroRecord.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
2	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
17	17	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java
8	7	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestParquetInLining.java
13	10	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java
10	9	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
5	4	hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/SpillableMapTestUtils.java
4	3	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestBitCaskDiskMap.java
6	5	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbDiskMap.java
3	2	hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java
4	3	hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java
4	3	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
7	1	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/IndexRecord.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java
5	4	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
3	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
6	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
2	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java
2	1	hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestAbstractConnectWriter.java
7	5	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
3	2	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
2	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java
2	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
4	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/JdbcTestUtils.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 69dfcda116584c59983f682253998f2c5b0dce6e
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-02-03 14:01:41 -0800

    [HUDI-3191] Removing duplicating file-listing process w/in Hive's MOR `FileInputFormat`s (#4556)

5	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
7	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableCompaction.java
6	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java
66	27	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
35	0	hudi-common/src/main/java/org/apache/hudi/TypeUtils.java
26	2	hudi-common/src/main/scala/org/apache/hudi/HoodieTableFileIndexBase.scala
7	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BaseFileWithLogsSplit.java
4	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BootstrapBaseFileSplit.java
141	73	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java
8	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithLogFilePath.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RealtimeFileStatus.java
5	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java
19	16	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
4	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
24	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java
7	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java
10	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
113	29	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java

commit 5927bdd1c0fab202474af47b9e035680b345c563
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2022-02-03 04:42:48 -0800

    [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups (#4352)
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
    - Today, base files have bloom filter at their footers and index lookups
      have to load the base file to perform any bloom lookups. Though we have
      interval tree based file purging, we still end up in significant amount
      of base file read for the bloom filter for the end index lookups for the
      keys. This index lookup operation can be made more performant by having
      all the bloom filters in a new metadata partition and doing pointed
      lookups based on keys.
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Adding indexing support for clean, restore and rollback operations.
       Each of these operations will now be converted to index records for
       bloom filter and column stats additionally.
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Making hoodie key consistent for both column stats and bloom index by
       including fileId instead of fileName, in both read and write paths.
    
     - Performance optimization for looking up records in the metadata table.
    
     - Avoiding multi column sorting needed for HoodieBloomMetaIndexBatchCheckFunction
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - HoodieBloomMetaIndexBatchCheckFunction cleanup to remove unused classes
    
     - Base file checking before reading the file footer for bloom or column stats
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Updating the bloom index and column stats index to have full file name
       included in the key instead of just file id.
    
     - Minor test fixes.
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Fixed flink commit method to handle metadata table all partition update records
    
     - TestBloomIndex fixes
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - SparkHoodieBloomIndexHelper code simplification for various config modes
    
     - Signature change for getBloomFilters() and getColumnStats(). Callers can
       just pass in interested partition and file names, the index key is then
       constructed internally based on the passed in parameters.
    
     - KeyLookupHandle and KeyLookupResults code refactoring
    
     - Metadata schema changes - removed the reserved field
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Removing HoodieColumnStatsMetadata and using HoodieColumnRangeMetadata instead.
       Fixed the users of the the removed class.
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Extending meta index test to cover deletes, compactions, clean
       and restore table operations. Also, fixed the getBloomFilters()
       and getColumnStats() to account for deleted entries.
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Addressing review comments - java doc for new classes, keys sorting for
       lookup, index methods renaming.
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Consolidated the bloom filter checking for keys in to one
       HoodieMetadataBloomIndexCheckFunction instead of a spearate batch
       and lazy mode. Removed all the configs around it.
    
     - Made the metadata table partition file group count configurable.
    
     - Fixed the HoodieKeyLookupHandle to have auto closable file reader
       when checking bloom filter and range keys.
    
     - Config property renames. Test fixes.
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Enabling column stats indexing for all columns by default
    
     - Handling column stat generation errors and test update
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Metadata table partition file group count taken from the slices when
       the table is bootstrapped.
    
     - Prep records for the commit refactored to the base class
    
     - HoodieFileReader interface changes for filtering keys
    
     - Multi column and data types support for colums stats index
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - rebase to latest master and merge fixes for the build and test failures
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Extending the metadata column stats type payload schema to include
       more statistics about the column ranges to help query integration.
    
    * [HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups
    
     - Addressing review comments

8	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
45	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
7	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndexCheckFunction.java
84	20	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
4	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedHoodieBloomIndexHelper.java
4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieIOHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java
53	77	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
57	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupResult.java
5	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java
12	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieReadHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
141	26	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
12	27	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
5	6	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java
8	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java
161	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/HoodieMetadataBloomIndexCheckFunction.java
24	13	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java
7	22	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
58	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
16	16	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
17	14	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
124	11	hudi-common/src/main/avro/HoodieMetadata.avsc
1	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/HoodieDynamicBoundedBloomFilter.java
86	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
34	8	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
26	15	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
11	4	hudi-common/src/main/java/org/apache/hudi/common/util/hash/{ColumnID.java => ColumnIndexID.java}
10	3	hudi-common/src/main/java/org/apache/hudi/common/util/hash/{FileID.java => FileIndexID.java}
11	3	hudi-common/src/main/java/org/apache/hudi/common/util/hash/{HoodieID.java => HoodieIndexID.java}
10	3	hudi-common/src/main/java/org/apache/hudi/common/util/hash/{PartitionID.java => PartitionIndexID.java}
6	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java
62	17	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
136	13	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
20	0	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
97	61	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java
3	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java
269	37	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
36	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
580	48	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
32	7	hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java

commit d681824982c1af64e894725d3678da33110d6ccd
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-02-02 17:58:05 -0800

    [HUDI-3337] Fixing Parquet Column Range metadata extraction (#4705)
    
    - Parquet Column Range metadata extraction utility was simplistically assuming that Decimal types are only represented by INT32, while they representation varies depending on precision.
    
    - More details could be found here:
    https://github.com/apache/parquet-format/blob/master/LogicalTypes.md#DECIMAL

5	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java
1	9	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java
39	6	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00000-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00001-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00002-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00003-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00000-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00001-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00002-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json
10	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00003-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json
8	8	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table-merged.json
4	4	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table.json
186	60	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala
0	18	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala

commit 819e8018ff926fea21c95e75ae1b7991afb227c2
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-02-02 13:10:51 -0800

    [HUDI-3322][HUDI-3343] Fixing Metadata Table Records Duplication Issues (#4716)
    
    This change is addressing issues in regards to Metadata Table observing ingesting duplicated records leading to it persisting incorrect file-sizes for the files referred to in those records.
    
    There are multiple issues that were leading to that:
    
    - [HUDI-3322] Incorrect Rollback Plan generation: Rollback Plan generated for MOR tables was overly expansively listing all log-files with the latest base-instant as the ones that have been affected by the rollback, leading to invalid MT records being ingested referring to those.
    - [HUDI-3343] Metadata Table including Uncommitted Log Files during Bootstrap: Since MT is bootstrapped at the end of the commit operation execution (after FS activity, but before committing to the timeline), it was actually incorrectly ingesting some files that were part of the intermediate state of the operation being committed.
    
    This change will unblock Stack of PRs based off #4556

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java
21	25	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java
14	18	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
23	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackRequest.java
25	30	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java
51	49	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
0	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java
6	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
9	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
0	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java
0	8	hudi-common/src/main/avro/HoodieRollbackMetadata.avsc
2	18	hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java
14	9	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
1	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java
2	12	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
0	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit a68e1dc2dba475b9a63779f3afa0b5c558a7cd3b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-02-02 11:35:05 -0800

    [HUDI-431] Adding support for Parquet in MOR `LogBlock`s (#4333)
    
    - Adding support for Parquet in MOR tables Log blocks
    
    Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
5	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
7	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
46	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
16	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
4	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
5	3	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java
21	44	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
1	2	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java
27	18	hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFSUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFileSystem.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
5	6	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
136	116	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
0	7	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
70	48	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
3	12	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java
3	12	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCorruptBlock.java
108	83	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java
5	12	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java
85	108	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
54	16	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
171	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieParquetDataBlock.java
17	0	hudi-common/src/main/java/org/apache/hudi/common/util/Option.java
138	0	hudi-common/src/main/java/org/apache/hudi/common/util/io/ByteBufferBackedInputStream.java
0	0	{hudi-client/hudi-client-common => hudi-common}/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java
0	0	{hudi-client/hudi-client-common => hudi-common}/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java
7	33	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
7	6	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java
88	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetStreamWriter.java
63	0	hudi-common/src/main/java/org/apache/hudi/parquet/io/ByteBufferBackedInputFile.java
94	0	hudi-common/src/main/java/org/apache/hudi/parquet/io/OutputStreamBackedOutputFile.java
170	88	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormatAppendFailure.java
87	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HadoopMapRedUtils.java
6	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java
113	0	hudi-common/src/test/java/org/apache/hudi/common/util/io/TestByteBufferBackedInputStream.java
6	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
11	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
2	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java

commit caef3d5c58820ac5828fb74e5ac6aaae8c9e845f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-02-02 04:20:10 -0800

    [HUDI-3330] Remove fixture test tables for multi writer tests (#4704)

0	81	hudi-common/src/test/java/org/apache/hudi/common/testutils/FixtureUtils.java
76	40	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip

commit 72f7348830a5a2ca320720d34d12f8317e11ceff
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2022-02-01 15:38:20 -0800

    [HUDI-2589] RFC-37: Metadata table based bloom index (#3989)
    
    
    Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

1	1	rfc/README.md
-	-	rfc/rfc-37/metadata_index_1.png
-	-	rfc/rfc-37/metadata_index_bloom_partition.png
-	-	rfc/rfc-37/metadata_index_col_stats.png
329	0	rfc/rfc-37/rfc-37.md

commit 16138db4f25eb3e47c88cc03e3f245eb0ba5f71a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-02-01 14:18:38 -0500

    [HUDI-3368] Revert "[HUDI-3306] Upgrade rocksdb version (#4663)" (#4733)
    
    This reverts commit 6f1010799861b9e4b331d0bf5a473211200c15d1.

1	1	pom.xml

commit 4e61e5c9ea100c9ff4c511f86fc89bbfafa044f1
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-02-01 08:22:37 -0500

    [HUDI-3293] Fixing default value for clustering small file config  to 300MB (#4662)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java

commit f140c58d9e137a7111b7a53c4bcb8faef50fa8e4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-02-01 08:21:55 -0500

    [HUDI-3346] Fixing non existant marker dir handling in TwoToOnedowngrade (#4726)

5	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java

commit 7ce0f4522b54c73d6d7461b6a5bfdf426e61e9a0
Author: jsbali <jsbali@uber.com>
Date:   2022-02-01 09:33:18 +0530

    [HUDI-2711] Fallback to fulltable scan for IncrementalRelation if underlying files have been cleared or moved by cleaner (#3946)
    
    
    Co-authored-by: sivabalan <n.siva.b@gmail.com>

4	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
62	24	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala
86	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
4	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
49	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 4b388c104e024f32ae0705f6627e48b72b3408b4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-31 22:36:17 -0500

    [HUDI-3292] Enabling lazy read by default for log blocks during compaction (#4661)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java

commit d3cfe07436fcf671f8f9bea12251fad2452391b6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-01-31 18:33:35 -0800

    [HUDI-3318] [RFC-46] Optimize Record Payload handling (#4697)

159	0	rfc/rfc-46/rfc-46.md

commit ecbad9526ae2c4531c00618f178fd34e10a21db3
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-29 16:39:42 +0800

    [HUDI-3253] preferred to use the table's own location (#4608)

1	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala

commit ed7aa138e80d6fefab58951dde42c404ccca2ece
Author: Harsha Teja Kanna <h7kanna@users.noreply.github.com>
Date:   2022-01-28 22:08:25 -0600

    [MINOR] Added log to debug checkpoint resumption when set to 0 (#4650)

2	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit c0e8b03d93223777bd1e8e5c9dbb7edcb9e37e47
Author: peanut-chenzhong <58263343+peanut-chenzhong@users.noreply.github.com>
Date:   2022-01-29 10:39:08 +0800

    [HUDI-1977] Fix Hudi CLI tempview query issue (#4626)

15	10	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java

commit e78b2f1b5572fd1c0b5a549bf5cd4772531399ec
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-29 07:58:04 +0530

    [HUDI-2943] Complete pending clustering before deltastreamer sync (#4572)

22	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
32	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 2b52a569819a1a21becdb95e6183655b582671d4
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-28 19:13:11 +0530

    [HUDI-2688][RFC-40] A new Hudi connector for Trino (#3957)
    
    Add implementation details of a new hudi-trino connector

1	1	rfc/README.md
-	-	rfc/rfc-40/Hudi_Connector.png
282	0	rfc/rfc-40/rfc-40.md

commit 0bd38f26ca4076dc45ee1cba4f8525550b96ce40
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-01-27 17:05:08 -0800

    [HUDI-2596] Make class names consistent in hudi-client (#4680)

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
7	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java
7	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/{AbstractClusteringClient.java => BaseClusterer.java}
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/{AbstractCompactor.java => BaseCompactor.java}
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/{AbstractHoodieClient.java => BaseHoodieClient.java}
10	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/{AbstractHoodieWriteClient.java => BaseHoodieWriteClient.java}
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/{AbstractHoodieDateTimeParser.java => BaseHoodieDateTimeParser.java}
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/{HoodieDateTimeParserImpl.java => HoodieDateTimeParser.java}
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
5	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
46	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/custom/CustomizableMetricsReporter.java
15	22	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/userdefined/AbstractUserDefinedMetricsReporter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/{AbstractBulkInsertHelper.java => BaseBulkInsertHelper.java}
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/{AbstractDeleteHelper.java => BaseDeleteHelper.java}
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/{AbstractMergeHelper.java => BaseMergeHelper.java}
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/{AbstractWriteHelper.java => BaseWriteHelper.java}
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/{BaseUpgradeDowngradeHelper.java => SupportsUpgradeDowngrade.java}
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
4	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java
2	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/providers/HoodieWriteClientProvider.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngradeHelper.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncClusteringService.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncCompactService.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkClusteringClient.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/{AbstractSparkDeltaCommitActionExecutor.java => BaseSparkDeltaCommitActionExecutor.java}
5	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertDeltaCommitActionExecutor.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertPreppedDeltaCommitActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkDeleteDeltaCommitActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertDeltaCommitActionExecutor.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertPreppedDeltaCommitActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitActionExecutor.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertPreppedDeltaCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngradeHelper.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
4	4	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/async/SparkStreamingAsyncClusteringService.java
4	4	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java

commit 4a9f8263822200877c8ac7714aa5dbd946db7cdc
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-27 06:48:26 +0800

    [HUDI-3215] Solve UT for Spark 3.2 (#4565)

23	5	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
42	28	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
11	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala

commit 3f21e5f14c5aeda53d25416cae16f866a7e2f7f0
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-26 16:45:35 -0500

    [MINOR] Fixing serializability of SerializableHoodieRollbackRequest (#4688)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/SerializableHoodieRollbackRequest.java

commit f87c47352aab70883777d80e353f9833e5aa1caa
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2022-01-26 10:34:04 -0800

    [HUDI-2763] Metadata table records - support for key deduplication based on hardcoded key field (#4449)
    
    * [HUDI-2763] Metadata table records - support for key deduplication and virtual keys
    - The backing log format for the metadata table is HFile, a KeyValue type.
    Since the key field in the metadata record payload is a duplicate of the
    Key in the Cell, the redundant key field in the record can be emptied
    to save on the cost.
    
    - HoodieHFileWriter and HoodieHFileDataBlock will now serialize records
    with the key field emptied by default. HFile writer tries to find if
    the record has metadata payload schema field 'key' and if so it does
    the key trimming from the record payload.
    
    - HoodieHFileReader when reading the serialized records back from disk,
    it materializes the missing keyFields if any. HFile reader tries to
    find if the record has metadata payload schema fiels 'key' and if so
    it does the key materialization in the record payload.
    
    - Tests have been added to verify the default virtual keys and key
       deduplication support for the metadata table records.
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
7	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java
25	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
262	97	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
245	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
113	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
19	9	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
53	9	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java
9	8	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
2	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip

commit dd4ce1bdfd59cd386437169856201476df68ffa7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-26 08:45:57 -0500

    [HUDI-3328] Updating doap file for release 0.10.1 (#4689)

5	0	doap_HUDI.rdf

commit 9363804b1de4d3d249d77d02953219c1e7b25bcb
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-25 19:35:37 -0500

    [MINOR] Fixing serializability with ListingBasedRollbackRequest (#4655)

3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackRequest.java

commit 78e6ab0e677679ba76b7630fb9494297aa60c54a
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-01-25 14:58:34 -0800

    [HUDI-3217] Claim the number for RFC-46 (#4687)

1	0	rfc/README.md

commit 920f45926a3112b6d045ca3b434bc7c4e55e5e3c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-25 00:27:59 -0500

    [HUDI-1822] Rewriting rfc-27 for data skipping index (#4280)

-	-	rfc/rfc-27/col_stats.png
444	0	rfc/rfc-27/rfc-27.md

commit bf409e84239a0e27de86a7a1fb1613ba228955b9
Author: xuzifu666 <xuyu@zepp.com>
Date:   2022-01-25 10:09:08 +0800

    [MINOR] Standardize HoodieSqlCommon.g4 file (#4582)

4	4	hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4

commit 26c3f797b0fda964cf601836d6314ff6241e9d5d
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-25 08:33:36 +0800

    [HUDI-3237] gracefully fail to change column data type (#4677)

6	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala
7	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala
0	4	hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql
4	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala

commit bc7882cbe924ce8000f4a738b8673fe7a5cf69fb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-01-24 13:53:54 -0800

    [HUDI-2872][HUDI-2646] Refactoring layout optimization (clustering) flow to support linear ordering (#4606)
    
    Refactoring layout optimization (clustering) flow to
    - Enable support for linear (lexicographic) ordering as one of the ordering strategies (along w/ Z-order, Hilbert)
    - Reconcile Layout Optimization and Clustering configuration to be more congruent

65	49	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
7	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
14	11	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
28	16	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java
41	47	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/{RDDSpatialCurveOptimizationSortPartitioner.java => RDDSpatialCurveSortPartitioner.java}
5	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java
7	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
2	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
23	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/{TestSpaceCurveLayoutOptimization.scala => TestLayoutOptimization.scala}

commit 6f1010799861b9e4b331d0bf5a473211200c15d1
Author: Satyam Raj <satyammast@gmail.com>
Date:   2022-01-25 01:23:20 +0530

    [HUDI-3306] Upgrade rocksdb version (#4663)
    
    Co-authored-by: Satyam Raj <satyam.raj@olacabs.com>

1	1	pom.xml

commit 1f7b6b215497c98efa275fc16c96b275daaa9390
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-01-25 03:26:27 +0800

    [HUDI-2417] Add support allowDuplicateInserts in HoodieJavaClient (#3644)

3	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
226	0	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestHoodieConcatHandle.java
6	8	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java

commit 87db4ded426ee7422712d8fdeef6004c88ddeca7
Author: Vinish Reddy <vinishreddygunner17@gmail.com>
Date:   2022-01-25 00:54:43 +0530

    [MINOR] Add default value as null for S3 Incremental source properties (#4674)

3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java

commit 7bd389fb4756193cbe22576911e51da863d1c345
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-01-24 20:09:54 +0800

    [MINOR] typo fix in BaseTableMetadata wrt spurious deletes handling (#4673)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
5	5	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java

commit e00a9042e9a4e97f6f8ccaed4ac51a9aa8c2da76
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-24 05:43:28 -0500

    [HUDI-3072] Fixing conflict resolution in transaction management code path for auto commit code path (#4588)
    
    * Fixing conflict resolution in transaction management code path for auto commit code path
    
    * Addressing comments
    
    * Fixing test failures

23	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java
6	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
7	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
6	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
5	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
8	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
148	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java

commit cfde45b548fe5c425c0415e45993d4bbec1a1c5a
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-01-24 03:32:57 +0800

    [HUDI-3282] Fix delete exception for Spark SQL when sync Hive (#4644)

2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala

commit f7a77961e3654ad2574e1c18609228816266fadc
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-23 14:23:21 -0500

    [HUDI-1850][HUDI-3234] Fixing read of a empty table but with failed write (#2903)

21	18	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
51	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/EmptyRelation.scala

commit e72553accf9626ecfddeebe27ff2c9a5f33fc154
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-23 08:46:37 -0500

    [HUDI-3262] Fixing utilities and integ test suite bundle to include hudi spark datasource (#4670)

3	0	packaging/hudi-integ-test-bundle/pom.xml
3	0	packaging/hudi-utilities-bundle/pom.xml

commit 56cd8ffae0aa1dc92633ebe880a5188cb9e74f5c
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-01-23 14:11:27 +0800

    [HUDI-2837] Add support for using database name in incremental query (#4083)

13	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
12	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
22	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
4	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java
19	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java
2	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
6	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java
92	10	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieHFileInputFormat.java
92	10	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
23	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
2	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
3	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
5	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
24	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala

commit 64b1426005c9a1dea678c94c4b00d5e9b3ad8a78
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-01-23 10:28:41 +0800

    [minor] Fix hive-exec scope of flink bundle jar (#4664)

5	1	packaging/hudi-flink-bundle/pom.xml

commit 4b9085057a30c557fc2fe2436743cad5b9362f6f
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-01-21 05:46:07 -0800

    [HUDI-3268] Fix NPE while reading table with Spark datasource (#4630)

4	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
6	0	hudi-spark-datasource/hudi-spark/pom.xml
73	14	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala

commit 8547f11752bca1462f61c1042ef7b44bc7078e51
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-01-21 07:49:04 +0800

    [HUDI-3271] Code optimization and clean up unused code in HoodieSparkSqlWriter (#4631)

18	19	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 79bf6ab00bc4f964448f1f62d0b8e1f9ef3a58b9
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-01-21 07:47:02 +0800

    [HUDI-3281][Performance]Tuning performance of getAllPartitionPaths API in FileSystemBackedTableMetadata (#4643)
    
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

21	26	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java

commit 2071e3bfdaedff7b77925b7d0fd002d1138d7f0c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-20 23:00:25 +0530

    [HUDI-3250] Upgrade Presto docker image (#4646)

2	2	docker/compose/docker-compose_hadoop284_hive233_spark244.yml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/Dockerfile
1	1	docker/hoodie/hadoop/sparkadhoc/Dockerfile

commit a66004a34072766674c56082edb1962ee61b2e83
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-01-20 20:04:36 +0400

    [HUDI-3285] Drop unused method SparkBootstrapCommitActionExecutor#handleMetadataBootstrap (#4653)

3	75	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java

commit 14d08bb64c4bea20a692b3d3bced5cc9800cd541
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-01-20 15:34:56 +0400

    [MINOR] Fix typo in the doc of BULK_INSERT_SORT_MODE (#4652)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java

commit b7a79aa94301a80c396476878fadeea5debb799a
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-01-20 14:42:52 +0400

    [HUDI-3283] Bootstrap support overwrite existing table (#4647)

15	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
3	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 31b57a256fcda477f7fda7a34c8d50b0255de6b2
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-20 13:44:35 +0800

    [HUDI-3236] use fields'comments persisted in catalog to fill in schema (#4587)

22	9	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
12	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala
10	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala
28	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala

commit a08a2b730674d57a0c40545023b21f0bac34e7df
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-01-19 20:25:28 -0800

    [MINOR] Add instructions to build and upload Docker Demo images (#4612)
    
    * [MINOR] Add instructions to build and upload Docker Demo images
    
    * Add local test instruction

93	0	docker/README.md
-	-	docker/push_to_docker_hub.png
5	1	docker/setup_demo.sh

commit db93ad2f4bc9b3c357f065882c3d8cbb1c0b9c07
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-01-19 21:13:51 +0400

    [HUDI-3277] Filter non-parquet files in bootstrap procedure (#4639)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java

commit 7647562dad9e0615273bd76f75e7280f5ae7b7ce
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-01-19 14:42:35 +0800

    [HUDI-2833][Design] Merge small archive files instead of expanding indefinitely. (#4078)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

31	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
12	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
223	17	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
254	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
42	0	hudi-common/src/main/avro/HoodieMergeArchiveFilePlan.avsc
3	24	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
30	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
44	0	hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java

commit 4bea7587384842ac82590b0a9e785b8f73690885
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-01-18 14:54:51 -0800

    [HUDI-3191] Rebasing Hive's FileInputFormat onto `AbstractHoodieTableFileIndex` (#4531)

2	0	docker/demo/config/log4j.properties
2	0	docker/hoodie/hadoop/hive_base/Dockerfile
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
68	2	hudi-common/pom.xml
6	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
36	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableQueryType.java
29	18	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/AbstractHoodieTableFileIndex.scala => hudi-common/src/main/scala/org/apache/hudi/HoodieTableFileIndexBase.scala
3	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
7	0	hudi-hadoop-mr/pom.xml
100	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HiveHoodieTableFileIndex.java
119	12	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java
14	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java
38	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
30	11	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
1	0	hudi-spark-datasource/hudi-spark-common/pom.xml
6	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
20	5	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
16	1	packaging/hudi-hadoop-mr-bundle/pom.xml
18	0	packaging/hudi-hive-sync-bundle/pom.xml
85	5	packaging/hudi-presto-bundle/pom.xml
22	6	packaging/hudi-trino-bundle/pom.xml

commit caeea946fb592e53d612ff111cee9975d522ca6a
Author: Thinking Chen <cdmikechen@hotmail.com>
Date:   2022-01-19 03:51:09 +0800

    [HUDI-3245] Convert uppercase letters to lowercase in storage configs (#4602)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
5	4	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
4	4	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
1	1	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
1	1	hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java

commit a09c2319119d3e1a4cd9200f95e71663da4d7458
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-18 23:50:30 +0800

    [HUDI-2903] get table schema from the last commit with data written (#4180)

30	72	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
25	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
0	23	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
0	13	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
233	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestHoodieActiveTimeline.scala

commit 45f054ffdef568e066a53c63c6e6f8d2b1ee67ea
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-01-18 17:46:40 +0800

    [HUDI-3263] Do not nullify members in HoodieTableFileSystemView#resetViewState to avoid NPE (#4625)

21	9	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java

commit 3b56320bd8f189786985fd44fcd47e7abd09efb0
Author: EchoLee5 <39044001+EchoLee5@users.noreply.github.com>
Date:   2022-01-18 16:58:08 +0800

    [HUDI-3261] Read rt table by hive cli throw NoSuchMethodError (#4624)

4	0	packaging/hudi-hadoop-mr-bundle/pom.xml

commit 3d93e857cc372eb01960fad0cfd7584bbd8b0002
Author: wangxianghu <wangxianghu@apache.org>
Date:   2022-01-18 11:13:05 +0400

    [MINOR] Minor improvement in JsonkafkaSource (#4620)

10	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java

commit f18447406dd3305c93e69ff109fe031ff470e2ad
Author: RexAn <anh131@126.com>
Date:   2022-01-18 11:08:33 +0800

    [HUDI-1558] Struct Stream Source Support Spark3 (#4586)
    
    Co-authored-by: Hui An <hui.an@shopee.com>

10	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieSourceOffset.scala

commit 20e798386684911046a7edef2129fb3496359dda
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-01-18 06:28:18 +0800

    [HUDI-3252] Avoid creating empty requestedReplaceCommit in the startCommit method (#4515)

7	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java
13	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java

commit d36533735f5e60a8dc8ed6a7faca276c118c55c7
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date:   2022-01-18 06:24:24 +0800

    [HUDI-3194] fix MOR snapshot query during compaction (#4540)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLayoutConfig.java
125	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableCompaction.java
4	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java

commit 36a9f63e45b97a37df7e53691625172e2934b605
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-01-17 18:18:45 +0800

    [HUDI-3257] Excluding clustering instants from pending rollback info (#4616)

8	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java

commit 75caa7d3d81bc8c76c1af5f3a5404e8d48dd0fcf
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-01-16 22:46:20 -0800

    [HUDI-3179] Extracted common `AbstractHoodieTableFileIndex` to be shared across engines (#4520)

2	2	hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java
6	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
289	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/AbstractHoodieTableFileIndex.scala
0	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala
115	483	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
11	11	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
4	2	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
288	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
1	1	hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala

commit ed92c217edf3469b1376ed90813bbd44b5661060
Author: xiaotianzhang01 <18811106069@163.com>
Date:   2022-01-17 14:24:43 +0800

    [MINOR] Delete unused parameter in TablePathUtils (#4595)
    
    Co-authored-by: zhangxiaotian13 <zhangxiaotian13@jd.com>

2	2	hudi-common/src/main/java/org/apache/hudi/common/util/TablePathUtils.java

commit d2dda55794ce77e13546ad9d6935bfbb2b120896
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-17 04:02:12 +0800

    [HUDI-2968] add UT for update/delete on non-pk condition (#4568)

87	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala
96	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala

commit 28b3b6ad8f24b94a0a5db1a4dab3931bf4825510
Author: 0x574C <761604382@qq.com>
Date:   2022-01-16 16:58:18 +0800

    [MINOR] Remove org.apache.directory.api.util.Strings import (#4601)

6	5	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java

commit 822230d9eac051dd9df6bb956f71cb7c99812808
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-01-16 16:09:22 +0800

    [MINOR] Optimize variable names and logs (#4581)

6	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit 5e0171a5ee3b63a3bb3ff28980f43f28bbb00fba
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-15 02:15:29 +0800

    [HUDI-3198] Improve Spark SQL create table from existing hudi table (#4584)
    
    To modify SQL statement for creating hudi table based on an existing hudi path.
    
    From:
    
    ```sql
    create table hudi_tbl using hudi tblproperties (primaryKey='id', preCombineField='ts', type='cow') partitioned by (pt) location '/path/to/hudi'
    ```
    
    To:
    ```sql
    create table hudi_tbl using hudi location '/path/to/hudi'
    ```

14	6	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
4	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
1	24	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
1	21	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala
30	34	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala

commit 53f75f84b801f4255407fc8ec3848a85d8078d78
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-01-14 08:38:55 -0800

    [HUDI-2785] Add Trino setup in Docker Demo (#4300)
    
    * [HUDI-2785] Add Trino setup in Docker Demo
    
    * Update docker account and remove unnecessary configs
    
    * Adjust sparkadhoc Dockerfile

30	0	docker/compose/docker-compose_hadoop284_hive233_spark244.yml
60	0	docker/hoodie/hadoop/base_java11/Dockerfile
107	0	docker/hoodie/hadoop/base_java11/entrypoint.sh
30	0	docker/hoodie/hadoop/base_java11/export_container_ip.sh
96	0	docker/hoodie/hadoop/base_java11/pom.xml
5	0	docker/hoodie/hadoop/pom.xml
22	1	docker/hoodie/hadoop/sparkadhoc/Dockerfile
3	1	docker/hoodie/hadoop/sparkadhoc/adhoc.sh
6	2	docker/hoodie/hadoop/sparkadhoc/pom.xml
66	0	docker/hoodie/hadoop/trinobase/Dockerfile
116	0	docker/hoodie/hadoop/trinobase/pom.xml
21	0	docker/hoodie/hadoop/trinobase/scripts/trino.sh
29	0	docker/hoodie/hadoop/trinocoordinator/Dockerfile
22	0	docker/hoodie/hadoop/trinocoordinator/etc/catalog/hive.properties
26	0	docker/hoodie/hadoop/trinocoordinator/etc/config.properties
27	0	docker/hoodie/hadoop/trinocoordinator/etc/jvm.config
19	0	docker/hoodie/hadoop/trinocoordinator/etc/log.properties
21	0	docker/hoodie/hadoop/trinocoordinator/etc/node.properties
96	0	docker/hoodie/hadoop/trinocoordinator/pom.xml
29	0	docker/hoodie/hadoop/trinoworker/Dockerfile
22	0	docker/hoodie/hadoop/trinoworker/etc/catalog/hive.properties
24	0	docker/hoodie/hadoop/trinoworker/etc/config.properties
27	0	docker/hoodie/hadoop/trinoworker/etc/jvm.config
19	0	docker/hoodie/hadoop/trinoworker/etc/log.properties
21	0	docker/hoodie/hadoop/trinoworker/etc/node.properties
96	0	docker/hoodie/hadoop/trinoworker/pom.xml

commit 7d163ee3de1df456d1b01dabaf4fd9ec0e0c185b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-01-13 22:48:57 -0800

    [MINOR] Fix local flaky test in TestFSUtils (#4596)
    
    
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

7	10	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java

commit 5ce45c440baeb38f57335c1a702ec91b721add65
Author: leesf <490081539@qq.com>
Date:   2022-01-14 13:42:35 +0800

    [HUDI-3172] Refactor hudi existing modules to make more code reuse in V2 Implementation (#4514)
    
    * Introduce hudi-spark3-common and hudi-spark2-common modules to place classes that would be reused in different spark versions, also introduce hudi-spark3.1.x to support spark 3.1.x.
    * Introduce hudi format under hudi-spark2, hudi-spark3, hudi-spark3.1.x modules and change the hudi format in original hudi-spark module to hudi_v1 format.
    * Manually tested on Spark 3.1.2 and Spark 3.2.0 SQL.
    * Added a README.md file under hudi-spark-datasource module.

2	2	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
38	0	hudi-spark-datasource/README.md
42	0	hudi-spark-datasource/hudi-spark-common/pom.xml
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/java/org/apache/hudi/SparkRowWriteHelper.java
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/java/org/apache/hudi/async/SparkStreamingAsyncClusteringService.java
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/java/org/apache/hudi/sql/IExpressionEvaluator.java
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/java/org/apache/hudi/sql/InsertMode.java
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
1	1	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/DefaultSource.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/HoodieEmptyRelation.scala
2	2	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
23	23	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
5	5	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/IncrementalRelation.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
2	2	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/hudi/package.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializer.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializer.scala
13	13	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/catalyst/trees/HoodieLeafLike.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hive/HiveClientUtils.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
1	1	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
304	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/SerDeUtils.scala
0	2	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala
0	2	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala
2	3	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala
4	6	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/HoodieLeafRunnableCommand.scala
1	1	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala
1	1	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
45	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/ValidateDuplicateKeyPayload.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieSourceOffset.scala
0	0	hudi-spark-datasource/{hudi-spark => hudi-spark-common}/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
12	0	hudi-spark-datasource/hudi-spark/pom.xml
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala
11	278	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
14	14	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
5	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala
2	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala
2	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala
3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
3	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala
4	29	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
4	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
0	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala
19	0	hudi-spark-datasource/hudi-spark2-common/pom.xml
19	0	hudi-spark-datasource/hudi-spark2/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
28	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/hudi/Spark2DefaultSource.scala
4	4	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
247	0	hudi-spark-datasource/hudi-spark3-common/pom.xml
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriterFactory.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/java/org/apache/hudi/spark3/internal/HoodieWriterCommitMessage.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java
0	0	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/scala/org/apache/hudi/Spark3RowSerDe.scala
8	7	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala
1	1	hudi-spark-datasource/{hudi-spark3 => hudi-spark3-common}/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala
242	0	hudi-spark-datasource/hudi-spark3.1.x/pom.xml
19	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
24	0	hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/hudi/Spark3xDefaultSource.scala
5	0	hudi-spark-datasource/hudi-spark3/pom.xml
19	0	hudi-spark-datasource/hudi-spark3/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
24	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala
4	0	hudi-spark-datasource/pom.xml
6	0	hudi-utilities/pom.xml
7	0	packaging/hudi-integ-test-bundle/pom.xml
9	0	packaging/hudi-spark-bundle/pom.xml
6	0	packaging/hudi-utilities-bundle/pom.xml
4	1	pom.xml

commit 195dac90fa89a05ee10ff9b37ad65fdfd07014ef
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-14 09:13:27 +0530

    [MINOR] Disable flaky tests to unlock CI (#4592)

5	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java

commit 209f91cb3374e94f1597e59a82a82d6846c4b994
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-13 09:30:24 +0530

    [HUDI-3010] Unbundle parquet-avro and shade other dependencies in prsto bundle (#4551)

2	77	packaging/hudi-presto-bundle/pom.xml

commit 397795c7d03180bbb8e819fc9256453a222f38a2
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-01-12 09:03:27 -0800

    [HUDI-3007] Fix issues in HoodieRepairTool (#4564)

2	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/repair/RepairUtils.java
183	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/HoodieTestCommitGenerator.java
176	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/repair/TestRepairUtils.java
47	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
19	1	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
121	114	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieRepairTool.java
409	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieRepairTool.java

commit 12e95771ee415bc005b7fd35d275fbbc177b0727
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-12 22:23:43 +0530

    [HUDI-3235] Fix ClassNotFoundException due to log4j-core dependency (#4574)
    
    - Move log4j-core to top level pom

0	1	hudi-sync/hudi-hive-sync/pom.xml
6	0	hudi-utilities/pom.xml
8	0	pom.xml

commit 8a40d955069fc4a70b379e3ded28937ce92a5917
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-12 22:23:01 +0530

    [HUDI-3225] Claim RFC-45 for async metadata indexing (#4569)

1	0	rfc/README.md

commit 2969fb3835b96dbd31fdbca536e8f370abb264c6
Author: todd5167 <313328862@qq.com>
Date:   2022-01-12 13:34:09 +0800

    [HUDI-3233] Make metadata commit synchronous for flink batch
    
    close apache/hudi#4561

31	21	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java

commit 9fe28e56b49c7bf68ae2d83bfe89755314aa793b
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-01-12 15:23:55 +0800

    [HUDI-3045] New clustering regex match config to choose partitions when building clustering plan (#4346)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
14	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
96	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/action/cluster/strategy/TestPartitionAwareClusteringPlanStrategy.java

commit 017ddbbfac0e1039b86cfc3d9fd4497ec95dc947
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-01-12 15:17:10 +0800

    [MINOR] Fix typos (#4567)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndexCheckFunction.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java
14	14	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveStylePartitionValueExtractor.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java

commit 4b0111974fa4e7046640c600834d586c6735c708
Author: Town <62897740+AirToSupply@users.noreply.github.com>
Date:   2022-01-11 20:53:51 -0600

    [HUDI-3184] hudi-flink support timestamp-micros (#4548)
    
    * support both avro and parquet code path
    * string rowdata conversion is also supported

29	9	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/Int64TimestampColumnReader.java
2	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
4	3	hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java
31	18	hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java
26	8	hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java
12	3	hudi-flink/src/main/java/org/apache/hudi/util/StringToRowDataConverter.java
36	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
12	8	hudi-flink/src/test/java/org/apache/hudi/utils/TestStringToRowDataConverter.java

commit a392e9ba46e4f91bdc520badcf8ed03ac8b49e85
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2022-01-12 08:22:07 +0530

    [HUDI-485] Corrected the check for incremental sql (#2768)
    
    * [HUDI-485]: corrected the check for incremental sql
    
    * [HUDI-485]: added tests
    
    * code review comments addressed
    
    * [HUDI-485]: added happy flow test case

1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
36	23	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
6	0	hudi-utilities/pom.xml
6	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
128	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java

commit 6cdcd89afa40a75c95f3c060976ef72f1b2318b6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-01-11 15:02:13 -0800

    [HUDI-3094] Unify Hive's InputFormat implementations to avoid duplication (#4417)

145	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java
3	94	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java
63	136	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
8	16	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java
4	15	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
3	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java

commit 4b2fd37fb4e1300b54308d4a68a68f38c24cbf78
Author: xuzifu666 <xuyu@zepp.com>
Date:   2022-01-12 03:53:45 +0800

    [MINOR] Remove unused static var in HoodieAvroWriteSupport (#4543)

0	1	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java

commit c9bc62629935401e98461b9c49d6a3c98ed7efef
Author: Todd Gao <todd.gao.2013@gmail.com>
Date:   2022-01-11 16:38:27 +0800

    [HUDI-3211] Claim RFC number for RFC for Hudi Connector for Presto (#4562)

1	0	rfc/README.md

commit f74cd573201efa31ed71ccda767df0483e36fd56
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-01-10 19:11:22 -0800

    [HUDI-3195] Fix spark 3 pom (#4554)
    
    - drop 3.0.x profile
    - update readme
    - update build CI bot.yml
    - fix spark 3 bundle name

0	4	.github/workflows/bot.yml
1	4	README.md
3	28	pom.xml

commit 67ad4992e1dec5b1fe214fb00e6b3c1d21d50b80
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-10 21:50:14 -0500

    Removing extraneous warn logs in ClusteringUtils (#4553)

0	1	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java

commit f1e3762a947d9bc978beb5bb5ae845b8d5dd6290
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2022-01-10 18:23:22 -0800

    [HUDI-2950] Addressing performance traps in Bulk Insert/Layout Optimization (#4234)
    
    * Cleaned up Z-curve/Hilbert ordering seqs:
      - Streamlined flow
      - Removed unnecessary operations (double-mapping, boxing, etc)
    Updated `CollectionUtils::combine` to avoid AL resizing
    
    * Tidying up
    
    * Reducing small objects churn due to Scala/Java conversions by re-using `RowFactory`, passing `Object[]`
    
    * Fixing name resolution (disambiguation overloads)
    
    * `lint`
    
    * Replaced `OverwriteAvroPayloadRecord` w/ `RewriteRecordPayload` to avoid unnecessary Avro ser/de loop
    
    * Added `PathCachingFileName` to avoid fetching substrings every time file-name is fetched;
    Inject `PathCachingFileName` into `HoodieWrapperFileSystem.convertPathWithScheme`
    
    * Drastically reducing size of the `ArrayDeque` allocated by `ObjectSizeCalculator`
    
    * XXX
    
    * Missing license
    
    * Fixed refs (after rebase)
    
    * Fixing compilation failure in Scala 2.11
    
    * `PathCachingFileName` > `FileNameCachingPath`
    
    * Tidying up

2	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java
102	85	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/sort/SpaceCurveSortingHelper.java
1	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java
26	1	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
48	0	hudi-common/src/main/java/org/apache/hudi/hadoop/FileNameCachingPath.java

commit c8df9b09d7f532f147e0edc8129081f354ca56d6
Author: t0il3ts0ap <anoop_narang2003@yahoo.com>
Date:   2022-01-11 04:39:47 +0530

    [HUDI-3148] Create pushgateway client based on port (#4497)
    
    
    Co-authored-by: anoop narang <anoop.narang@navi.com>
    Co-authored-by: sivabalan narayanan <n.siva.b@gmail.com>

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayMetricsReporter.java
17	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayReporter.java

commit f230eca9b5a02d68788875be78c142aa10522fc3
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-01-10 13:07:52 -0800

    [MINOR] Fix port number in setupKafka.sh (#4546)

1	1	hudi-kafka-connect/demo/setupKafka.sh

commit 7a8b94c82d2f907b67150ea1ce28e966e8cf92a9
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-10 15:33:15 -0500

    [HUDI-3180] Include files from completed commits while bootstrapping metadata table (#4519)

8	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
34	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java
5	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java

commit bc95571caade9ceef00abf24e3e6e82fc9643c05
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-01-10 12:31:25 -0800

    [HUDI-2735] Allow empty commits in Kafka Connect Sink for Hudi (#4544)

1	3	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java
31	11	hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionCoordinator.java

commit 251d4eb3b64704b9dd51bf6f6ecb5bf47089b745
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2022-01-09 19:10:24 -0800

    [HUDI-3030] InProcessLockPovider as default when any async servcies enabled with no lock provider override (#4406)
    
    * [HUDI-3030] InProcessLockPovider as default when any async servcies enabled with no lock provider override
    
     - Making InProcessLockProvider as the default lock provider when
       any async services are enabled and when no lock provider is
       explicitly set.
    
     - This is the workaround for metadata table updates racing with
       async table serice operations
    
    * [HUDI-3030] InProcessLockPovider as default when any async servcies enabled with no lock provider override
    
     - Renaming isAnyTableServicesInline/Async() to areAnyTableServicesInline/Async()
    
    * [HUDI-3030] InProcessLockPovider as default when any async servcies enabled with no lock provider override
    
     - Additionally checking for write config properties when verifying
       the lock provider override. Updated the unit test for this case.

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
10	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java
31	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
102	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
5	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java

commit 56f93f4ebd21ca0680424cf092d7e0ef06bf3ae4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-09 21:14:28 -0500

    Removing rollbacks instants from timeline for restore operation (#4518)

10	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java

commit e9a7f49f55770ed31e70aed174c953395bbb0098
Author: Thinking Chen <cdmikechen@hotmail.com>
Date:   2022-01-10 07:31:57 +0800

    [HUDI-3112] Fix KafkaConnect cannot sync to Hive Problem (#4458)

31	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java
16	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
15	10	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java

commit 604d9885f1fd722a9b8a4f01da04837b233c5f0f
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-09 12:46:52 -0500

    [HUDI-3009] making some fixes to S3 incremental source (#4517)

14	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java
8	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/CloudObjectsSelector.java

commit 977d3c6dad0b9fe3aa1d6f6eca614cc286c3df3d
Author: RexAn <anh131@126.com>
Date:   2022-01-09 18:23:46 +0800

    [HUDI-3157] Remove aws jars from hudi bundles (#4542)
    
    Co-authored-by: Hui An <hui.an@shopee.com>

0	4	packaging/hudi-spark-bundle/pom.xml
0	4	packaging/hudi-utilities-bundle/pom.xml

commit cf362fb2d5540d69b30604a227037bdff600735e
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-01-09 17:14:56 +0800

    [MINOR] Fix some code style issues based on check-style plugin (#4532)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieBucketLayout.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/MetadataBootstrapHandlerFactory.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/util/AvroOrcUtils.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestRatelimiter.java
1	4	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieSparkBootstrapExample.java
1	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java
0	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java
2	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java
0	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
1	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestMultiPartKeysValueExtractor.java

commit 36790709f76f71e72026f3f54218ea8b8e247ed2
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-09 15:43:25 +0800

    [HUDI-3125] spark-sql write timestamp directly (#4471)

15	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
12	3	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
102	0	hudi-client/hudi-spark-client/src/test/scala/org/apache/hudi/keygen/TestRowGeneratorHelper.scala
27	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala
32	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 0d8ca8da4e0f6651bc1f06dba5e7e37881225fdc
Author: Thinking Chen <cdmikechen@hotmail.com>
Date:   2022-01-09 15:10:17 +0800

    [HUDI-3104] Kafka-connect support of hadoop config environments and properties (#4451)

68	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java
29	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
69	0	hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestHdfsConfiguration.java
33	0	hudi-kafka-connect/src/test/resources/hadoop_conf/core-site.xml
30	0	hudi-kafka-connect/src/test/resources/hadoop_conf/hdfs-site.xml
33	0	hudi-kafka-connect/src/test/resources/hadoop_home/etc/hadoop/core-site.xml
30	0	hudi-kafka-connect/src/test/resources/hadoop_home/etc/hadoop/hdfs-site.xml

commit 98ec21507932ee942ca643c88ba9049746d44059
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-08 10:34:47 -0500

    [HUDI-3178] Fixing metadata table compaction so as to not include uncommitted data (#4530)
    
    - There is a chance that the actual write eventually failed in data table but commit was successful in Metadata table, and if compaction was triggered in MDT, compaction could have included the uncommitted data. But once compacted, it may never be ignored while reading from metadata table. So, this patch fixes the bug. Metadata table compaction is triggered before applying the commit to metadata table to circumvent this issue.

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
7	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
12	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
36	30	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkCopyOnWriteTableArchiveWithReplace.java

commit 46bb00e4df65999849dc740bd809e86a01e4fbfb
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-08 20:59:36 +0530

    [HUDI-3139] Shade htrace and parquet-avro in presto bundle (#4495)
    
    Filter out unnecessary classes

11	0	packaging/hudi-presto-bundle/pom.xml

commit 827549949c4ac472fdc528a35ae421b20e2cc83a
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-08 20:52:44 +0530

    [HUDI-2909] Handle logical type in TimestampBasedKeyGenerator (#4203)
    
    * [HUDI-2909] Handle logical type in TimestampBasedKeyGenerator
    
    Timestampbased key generator was returning diff values for row writer and non row writer path. this patch fixes it and is guarded by a config flag (`hoodie.datasource.write.keygenerator.consistent.logical.timestamp.enabled`)

5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java
9	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java
4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataKeyGenerator.java
2	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java
5	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaCustomColumnsSortPartitioner.java
2	2	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestJavaBulkInsertInternalPartitioner.java
1	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
6	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java
34	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
18	13	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
10	3	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
7	0	hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java
10	0	hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
5	5	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java
4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java
26	0	hudi-common/src/test/resources/timestamp-logical-type.avsc
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestStringToRowDataConverter.java
2	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
4	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkFullBootstrapDataProviderBase.java
3	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
9	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
8	8	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
6	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
118	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala
9	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala
38	19	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala
4	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 03a83ffeb5c5ee1f2efccc32f8c927d435185c9b
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-08 15:21:39 +0800

    [HUDI-3195] optimize spark3 pom and modify build command (#4538)

4	4	.github/workflows/bot.yml
15	3	pom.xml

commit 4f6cdd73a352bee132213438e6d11a8aef56de8b
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-01-08 10:48:37 +0800

    [HUDI-3192] Spark metastore schema evolution broken (#4533)

2	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java

commit 518488c6334e3d11dde959dd2080f6b6ba2372eb
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-08 02:50:11 +0530

    [HUDI-3185] HoodieConfig#getBoolean should return false when default not set (#4536)
    
    Remove unnecessary config

3	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
18	1	hudi-common/src/test/java/org/apache/hudi/common/config/TestConfigProperty.java

commit 2e561defe93ae8137137578aa3e673862cdef834
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-07 11:38:58 -0500

    [HUDI-2947] Fixing checkpoint fetch in detlastreamer (#4485)
    
    * Fixing checkpoint fetch in detlastreamer
    
    * Addressing comments

47	32	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
13	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
12	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit b1df60672bdff3cac339958bf8e8a125cf3ca012
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2022-01-07 20:59:55 +0800

    [MINOR] fix typos in DDLExecutor (#4534)

2	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java

commit 76a72641f1964f27df21ccfcf390ded00f32a9fa
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2022-01-07 04:56:08 -0800

    [HUDI-3188] Update quick start guide for Kafka Connect Sink for Hudi (#4527)

63	24	hudi-kafka-connect/README.md

commit 2467c137e465927f84df88d1985481a1d47954da
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-01-06 23:26:35 -0800

    [HUDI-3100] Add config for hive conditional sync (#4440)

2	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
10	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit b2b23f5d3a14fae721df34a162e0ed717efe488f
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-01-07 10:16:29 +0800

    [HUDI-3183] Wrong result of HoodieArchivedTimeline loadInstants with TimeRangeFilter (#4521)
    
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

47	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java

commit d7afc58d0c9cf7f6625a08e77b821a14548fafc0
Author: Thinking Chen <cdmikechen@hotmail.com>
Date:   2022-01-07 07:46:51 +0800

    [HUDI-3118] Add default HUDI_DIR in setupKafka.sh (#4460)

4	0	hudi-kafka-connect/demo/setupKafka.sh

commit f0c2912d35467ff5f6514c01ab440eb1ca8d0d8f
Author: xuzifu666 <xuyu@zepp.com>
Date:   2022-01-07 07:36:13 +0800

    [MINOR] Remove unused methods in HoodieColumnProjectionUtils (#4408)

0	188	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieColumnProjectionUtils.java

commit 8718c30324ccea24c847ad4c540145a161a0a331
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-06 13:04:10 -0500

    [HUDI-3165] Enabling InProcessLockProvider for all multi-writer tests instead of FileSystemBasedLockProviderTestClass (#4427)

3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/InProcessLockProvider.java
11	14	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
9	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
13	21	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java

commit 2954027b92ada82c41d0a72cc0b837564a730a89
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-06 10:56:08 -0500

    [HUDI-52] Enabling savepoint and restore for MOR table (#4507)
    
    * Enabling restore for MOR table
    
    * Fixing savepoint for compaction commits in MOR

5	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
2	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
94	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java

commit b6891d253fef16f7dbbbec2def69a474c593c97e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-06 09:57:37 -0500

    [HUDI-44] Adding support to preserve commit metadata for compaction (#4428)

11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
7	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
22	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java

commit 50fa5a6aa75ac506a326450f115c986e5e5f9ea0
Author: hehexiaoduantui <991413521@qq.com>
Date:   2022-01-06 15:49:30 +0800

    Update HiveIncrementalPuller to configure filesystem (#4431)
    
    * Update HiveIncrementalPuller.java
    
    fix get FileSystem bug
    
    * Update HiveIncrementalPuller.java
    
    fix error
    
    * Update HiveIncrementalPuller.java
    
    fie error

3	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java

commit 205e48f53f24086419c01dd8652748347ecd295f
Author: fengli <ldliulsy@163.com>
Date:   2021-12-31 23:25:04 +0800

    [HUDI-3132] Minor fixes for HoodieCatalog
    
    close apache/hudi#4486

3	1	hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java
5	0	hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalog.java

commit eee715b3ffa6f4a917ef2992bcb637996699c32a
Author: Vinish Reddy <vinishreddypannala@gmail.com>
Date:   2022-01-05 22:13:10 +0530

    [HUDI-3168] Fixing null schema with empty commit in incremental relation (#4513)

82	72	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
4	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java

commit 75133f9942015caa93a3802b61730bcf37ade1ec
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-05 18:39:58 +0530

    [HUDI-3170] Do not preserve filename when preserveCommitMetadata enabled (#4512)

2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
3	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java

commit 0e297c0c4ca590e4d6b3050647d207e3e0b50912
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2022-01-05 16:41:33 +0800

    [HUDI-3171] Sync empty table to hive metastore (#4511)

9	2	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
10	7	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit a66212d2046c54c733997328d8b101fa54916ff3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-04 21:57:18 -0500

    [HUDI-2966] Closing LogRecordScanner in compactor (#4478)
    
    * Closing LogRecordScanner in compactor
    
    * Addressing comments

4	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java

commit 37b15ff458d8d332cbc884de07a43d78a8ebe5ce
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date:   2022-01-04 22:42:28 +0100

    [HUDI-3147] Add endpoint_url to dynamodb lock provider (#4500)
    
    Co-authored-by: Nicolas Paris <nicolas.paris@adevinta.com>

3	1	hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java
14	7	hudi-aws/src/main/java/org/apache/hudi/config/DynamoDbBasedLockConfig.java

commit bf4e3d63e7ac2af1363efce5135005204dc1ee92
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2022-01-04 13:41:33 -0800

    [HUDI-3141] Metadata merged log record reader - avoiding NullPointerException when records by keys (#4505)
    
    - HoodieMetadataMergedLogRecordReader#getRecordsByKeys() and its parent class methods
       are not thread safe. When multiple queries come in for gettting log records
       by keys, they all operate on the same log record reader instance provided by
       HoodieBackedTableMetadata#openReadersIfNeeded() and they trip over each other
       as they clear/put/get the same class memeber records.
    
     - The fix is to streamline the mutatation to class member records. Making
       HoodieMetadataMergedLogRecordReader#getRecordsByKeys() a synchronized method
    to avoid concurrent log records readers getting into NPE.

4	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java

commit aaf5727495bc547889b815160ddf855b1799a79d
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2022-01-05 03:02:05 +0530

    [HUDI-2774] Handle duplicate instants when fetching pending clustering plans (#4118)

14	6	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java

commit 7329d229d5780eb817110c7ed0e55cfa4afa2f67
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2022-01-04 00:18:04 -0500

    Adding tests to validate different key generators (#4473)

61	24	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala

commit 29ab6fb9adb7e4697bd0bb2d32aa59351650f613
Author: leesf <490081539@qq.com>
Date:   2022-01-04 09:59:59 +0800

    [HUDI-3140] Fix bulk_insert failure on Spark 3.2.0 (#4498)

6	3	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java

commit 2b2ae34cb96762787a09101200dcefaca23373c0
Author: harshal <harshal.j.patil@gmail.com>
Date:   2022-01-03 12:19:43 +0530

    [HUDI-2558] Fixing Clustering w/ sort columns with null values fails (#4404)

11	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java
22	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 0273f2e65d97374ed20813c952ca18666d876626
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2022-01-02 20:34:37 -0800

    [MINOR] Update README.md (#4492)
    
    Update Spark 3 build instructions

9	2	README.md

commit 1e2d2c437d5ec73452b276cdaff5a789ea3979ac
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2022-01-03 11:43:30 +0800

    [HUDI-3138] Fix broken UT test for TestHiveSyncTool.testDropPartitions (#4493)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

5	3	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
2	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java

commit fe9406dd33c0fe860e924e46f7b2908bf3155265
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-02 19:06:55 +0800

    [HUDI-3131] fix ctas error in spark3.1.1 (#4476)

2	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala

commit 1622b52c9cf90a96b3b4f8db3228253db4a93e6e
Author: Yann Byron <biyan900116@gmail.com>
Date:   2022-01-02 18:42:10 +0800

    [HUDI-3136] Fix merge/insert/show partitions error on Spark3.2 (#4490)

6	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
15	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala

commit 188d0338c4a483ae11969e9fc130b334995499f0
Author: leesf <490081539@qq.com>
Date:   2022-01-02 09:38:14 +0800

    [HUDI-3134] Fix insert error after adding columns on Spark 3.2.0 (#4488)

3	1	pom.xml

commit bfa169d808c72d09e1370a2b1ecd6a080d45fe02
Author: Aimiyoo <aimiyooo@gmail.com>
Date:   2022-01-01 15:38:38 +0800

    [HUDI-3040] Fix HoodieSparkBootstrapExample error info for usage (#4341)

1	1	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieSparkBootstrapExample.java

commit ef9923fc5551851ec4ee71896a62c0615da45ee8
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-12-31 15:56:33 +0800

    [HUDI-3107]Fix HiveSyncTool drop partitions using JDBC or hivesql or hms (#4453)
    
    * constructDropPartitions when drop partitions using jdbc
    
    * done
    
    * done
    
    * code style
    
    * code review
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

3	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java
3	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java
47	4	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java
2	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java
51	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HivePartitionUtil.java
42	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
21	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java

commit 2444f40a4be5bbf0bf210dee5690267a9a1e35c8
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date:   2021-12-31 13:37:52 +0800

    [HUDI-3095] abstract partition filter logic to enable code reuse (#4454)
    
    * [HUDI-3095] abstract partition filter logic to enable code reuse
    
    * [HUDI-3095] address reviews

43	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
14	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/BaseClusteringPlanActionExecutor.java
68	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanPartitionFilter.java
28	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanPartitionFilterMode.java
34	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
66	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/cluster/strategy/TestClusteringPlanStrategyConfigCompatibility.java
0	65	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/JavaRecentDaysClusteringPlanStrategy.java
0	5	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/JavaSizeBasedClusteringPlanStrategy.java
0	63	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java
0	66	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSelectedPartitionsClusteringPlanStrategy.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSingleFileSortPlanStrategy.java
0	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java
0	66	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/clustering/plan/strategy/TestSparkRecentDaysClusteringPlanStrategy.java
107	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/cluster/strategy/TestSparkClusteringPlanPartitionFilter.java

commit e88b5fd450ef56241c5ba54709920a5f38cd5754
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-12-31 13:12:32 +0800

    [HUDI-3120] Cache compactionPlan in buffer (#4463)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

18	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java

commit a4e622ac61ecaf8520d137421f16bc206b864732
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-12-31 04:38:26 +0800

    [HUDI-1951] Add bucket hash index, compatible with the hive bucket (#3173)
    
    * [HUDI-2154] Add index key field to HoodieKey
    
    * [HUDI-2157] Add the bucket index and its read/write implemention of Spark engine.
    * revert HUDI-2154 add index key field to HoodieKey
    * fix all comments and introduce a new tricky way to get index key at runtime
    support double insert for bucket index
    * revert spark read optimizer based on bucket index
    * add the storage layout
    * index tag, hash function and add ut
    * fix ut
    * address partial comments
    * Code review feedback
    * add layout config and docs
    * fix ut
    * rename hoodie.layout and rebase master
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

63	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
89	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLayoutConfig.java
25	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
16	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java
74	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java
166	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieBucketIndex.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
12	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
67	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieBucketLayout.java
45	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieDefaultLayout.java
38	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieLayoutFactory.java
56	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieStorageLayout.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteTableCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertCommitActionExecutor.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertDeltaCommitActionExecutor.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertCommitActionExecutor.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteCommitActionExecutor.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertCommitActionExecutor.java
3	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndexFactory.java
11	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
136	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBucketIndexPartitioner.java
50	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkHoodiePartitioner.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertCommitActionExecutor.java
4	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertCommitActionExecutor.java
2	10	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/AbstractSparkDeltaCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertDeltaCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitActionExecutor.java
12	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
7	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java
65	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java
147	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestHoodieBucketIndex.java
37	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
4	2	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
6	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
153	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSourceWithBucket.scala
9	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
3	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java

commit 0f0088fe4b740c4acec0cb25988250db8fb483b6
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-12-30 11:54:34 +0800

    [HUDI-3124] Bootstrap when timeline have completed instant (#4467)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

3	3	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java

commit 436becf3ea07469906804888fe9c5409a5115e7a
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-12-30 11:53:17 +0800

    [HUDI-2675] Fix the exception 'Not an Avro data file' when archive and clean (#4016)

23	14	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
9	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
9	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
11	34	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
62	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
33	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
24	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
6	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
15	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
13	5	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 674c1492348b5b2a93358c9dd51a1adfe6a8ecf2
Author: Ron <ldliulsy@163.com>
Date:   2021-12-30 11:15:54 +0800

    [HUDI-3083] Support component data types for flink bulk_insert (#4470)
    
    * [HUDI-3083] Support component data types for flink bulk_insert
    
    * add nested row type test

274	52	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetRowDataWriter.java
41	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java
74	0	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/io/storage/row/parquet/TestParquetSchemaConverter.java
14	5	hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java
13	12	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetColumnarRowSplitReader.java
2	2	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetDecimalVector.java
144	4	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
272	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarArrayData.java
75	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarMapData.java
232	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarRowData.java
71	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java
79	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java
45	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java
29	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/MapColumnVector.java
30	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/RowColumnVector.java
148	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/VectorizedColumnBatch.java
473	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java
313	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java
76	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java
199	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java
304	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java
57	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java
56	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
10	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java

commit 5c0e4ce0055f0481a4cd6b7b44f5d0b266fd8f44
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-29 21:45:09 -0500

    Revert "[HUDI-3043] Revert async cleaner leak commit to unblock CI failure (#4343)" (#4465)
    
    This reverts commit 7e7ad1558c0dcc06e059f631e43e44dc04100aa4.

8	28	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
6	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java
5	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
7	0	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java

commit 504747ecf4c93d53f0fc565cdcf12544549b7903
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2021-12-29 20:23:23 +0800

    [HUDI-3108] Fix Purge Drop MOR Table Cause error (#4455)

38	18	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala

commit a29b27c7cafacce0d165b40d44e3647ea6d9b538
Author: xuzifu666 <xuyu@zepp.com>
Date:   2021-12-29 18:43:16 +0800

    [MINOR] HoodieInstantTimeGenerator improve method used (#4462)

0	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java

commit 9412281cb14b1eabf9a23a3484e752a2636f2445
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-12-28 07:15:05 -0800

    [HUDI-2983] Remove Log4j2 transitive dependencies (#4281)

0	18	hudi-sync/hudi-dla-sync/pom.xml
8	10	hudi-sync/hudi-hive-sync/pom.xml
0	22	packaging/hudi-flink-bundle/pom.xml
0	6	packaging/hudi-integ-test-bundle/pom.xml
77	0	pom.xml

commit 3d7a8695cdd76cdf359f9d1bb7108a49b41d64c4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-28 05:26:30 -0500

    Fixing dynamoDbLockConfig required prop check (#4422)

0	1	hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java

commit 05942e018c6b5ef9112e0472360684513531d261
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-12-28 16:12:44 +0800

    [HUDI-2811] Support Spark 3.2 (#4270)

4	0	.github/workflows/bot.yml
6	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
3	2	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/execution/datasources/SparkParsePartitionUtil.scala
2	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
4	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
16	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializer.scala
22	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/Compaction.scala
30	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/trees/HoodieLeafLike.scala
1	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
27	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
5	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala
3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodiePathCommand.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala
4	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
2	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
7	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala
29	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/HoodieLeafRunnableCommand.scala
1	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
8	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala
2	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
19	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala
62	66	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala
10	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala
16	8	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/execution/datasources/Spark2ParsePartitionUtil.scala
26	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java
2	2	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala
244	9	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala
0	1	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java
27	2	pom.xml

commit 32505d5adbbf433912d2d2f9f74adb8581bbd64e
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2021-12-28 14:11:14 +0800

    [HUDI-3106] Fix HiveSyncTool not sync schema (#4452)

9	9	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
23	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
13	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
19	24	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java

commit 1f7afba5e4c13c317c5378c7088dddb13b71d558
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-12-28 13:39:52 +0800

    [HUDI-3093] fix spark-sql query table that write with TimestampBasedKeyGenerator (#4416)

13	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala

commit 6409fc733d27eea6ebc71551affdf5aec4bb2fd5
Author: harshal <harshal.j.patil@gmail.com>
Date:   2021-12-28 09:31:21 +0530

    [HUDI-2374] Fixing AvroDFSSource does not use the overridden schema to deserialize Avro binaries (#4353)

1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
56	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestAvroDFSSource.java
17	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 282aa68552e3872cf2758824de1d2efd004ae1c1
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2021-12-28 09:38:26 +0800

    [HUDI-3099] Purge drop partition for spark sql (#4436)

5	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
52	22	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala
129	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala

commit c81df99e50f2df84d85f08ff3a839595dad974d7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-25 18:10:43 +0800

    [HUDI-3102] Do not store rollback plan in inflight instant (#4445)

30	47	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 7b07aac28686ed5474747fd2355b7828e5386ba4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-25 14:10:45 +0800

    [HUDI-3101] Excluding compaction instants from pending rollback info (#4443)

5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
25	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
6	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
8	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 4721073b4397d76bbd813a988cb79cc9a9558358
Author: xuzifu666 <xuyu@zepp.com>
Date:   2021-12-24 22:29:34 +0800

    [MINOR] Remove unused method in HoodieActiveTimeline (#4435)

0	19	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 032b883bd16030c99f9252e7c92f0520c89aa85e
Author: xuzifu666 <xuyu@zepp.com>
Date:   2021-12-23 16:27:45 +0800

    [HUDI-3014] Add table option to set utc timezone (#4306)

37	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTimelineTimeZone.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
15	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java
3	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 57f43de1eaabce9c6fd8529bd281596dfb0c779e
Author: Aimiyoo <aimiyooo@gmail.com>
Date:   2021-12-23 03:51:26 +0800

    [MINOR] Fix DedupeSparkJob typo (#4418)

1	1	hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala

commit 5d93edc539d1f5d053e5f90a6a20691d7ac8b1b8
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2021-12-22 19:17:43 +0800

    [HUDI-3060] drop table for spark sql (#4364)

10	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
109	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala
75	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDropTable.scala
9	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala

commit 1a5f8693aa09bc85ad18e5a820473b6344e787ef
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-22 02:13:06 -0800

    [HUDI-3011] Adding ability to read entire data with HoodieIncrSource with empty checkpoint (#4334)
    
    * Adding ability to read entire data with HoodieIncrSource with empty checkpoint
    
    * Addressing comments

3	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
14	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
6	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java
38	16	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
123	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java

commit b5890cd17d07af2f220c47c70cda8d1b58e5fd1a
Merge: 15eb7e81fc 7d046f914a
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-12-22 16:46:57 +0800

    Merge pull request #4308 from harsh1231/HUDI-3008
    
    [HUDI-3008] Fixing HoodieFileIndex partition column parsing for nested fields

commit 15eb7e81fc2f51a5c42d25c0b4d18441209762f1
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-12-22 15:08:47 +0800

    [HUDI-2547] Schedule Flink compaction in service (#4254)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

7	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
226	80	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
60	6	hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java

commit f1286c2c764d6be9f23b41c76f4de1c8734c1f3b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-22 11:10:27 +0800

    [HUDI-3032] Do not clean the log files right after compaction for metadata table (#4336)

14	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java

commit 92f54ce3d8489e0dabcdc1f5cb5076a2ac756545
Author: Aimiyoo <aimiyooo@gmail.com>
Date:   2021-12-22 05:36:03 +0800

    [HUDI-3027] Update hudi-examples README.md (#4330)

1	1	hudi-examples/README.md

commit 7d046f914a059b2623d7f2a7627c44b15ccc0ddb
Author: harshal patil <harshal.j.patil@gmail.com>
Date:   2021-12-14 17:28:18 +0530

    [HUDI-3008] Fixing HoodieFileIndex partition column parsing for nested fields

21	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
25	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala

commit 32a44bbe062c997b5a41266290fbe34d6323bfa6
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-12-20 21:01:59 -0800

    [HUDI-2970] Add test for archiving replace commit (#4345)

103	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkCopyOnWriteTableArchiveWithReplace.java
6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java

commit f3f6112b75fa7e050956ec2e218606a57d1fd0f3
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-12-21 11:59:50 +0800

    [HUDI-3070] Add rerunFailingTestsCount for flakly testes (#4398)
    
    
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

17	13	pom.xml

commit 982ae3d1eb8c8f0a5a459d78ecd38a5e7ab092cb
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-20 17:27:22 -0800

    [MINOR] Increasing CI timeout to 90 mins (#4407)

4	0	azure-pipelines.yml

commit f166ddad12ebb0b1e2a3cd4f03c2bd6ca9318379
Author: xuzifu666 <xuyu@zepp.com>
Date:   2021-12-20 22:19:37 +0800

    [MINOR] Remove unused method in HoodieActiveTimeline (#4401)

0	14	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 3ca92108b21e265048b8ce36b2ef27d2fdfe5de0
Author: xuzifu666 <xuyu@zepp.com>
Date:   2021-12-20 16:32:41 +0800

    remove unused import (#4349)

0	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala

commit 4a48f99a596b5596fb654b56a6533b908bb9d8f3
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-12-19 10:31:02 -0800

    [HUDI-3064][HUDI-3054] FileSystemBasedLockProviderTestClass tryLock fix and TestHoodieClientMultiWriter test fixes (#4384)
    
     - Made FileSystemBasedLockProviderTestClass thread safe and fixed the
       tryLock retry logic.
    
     - Made TestHoodieClientMultiWriter. testHoodieClientBasicMultiWriter
       deterministic in verifying the HoodieWriteConflictException.

41	36	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java
80	26	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java

commit 03f71ef1a268ae1375c0a890807d54f935b93022
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-18 23:59:39 -0800

    [HUDI-2970] Adding tests for archival of replace commit actions (#4268)

83	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala

commit 478f9f369570b604981f16aa1fe03329e18ce5f2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-19 10:09:48 +0800

    [minor] fix NetworkUtils#getHostname (#4355)

4	14	hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java

commit bb99836841b03946f742f797ba83b9057e5bcfbb
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-12-18 17:58:51 -0800

    [HUDI-3052] Fix flaky testJsonKafkaSourceResetStrategy (#4381)

64	59	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java

commit f57e28fe396951ce6e4690373b6e75035362409f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-12-18 17:00:56 -0800

    [MINOR] Azure CI IT tasks clean up (#4337)

10	12	azure-pipelines.yml

commit 77abb5ccb90aa0e0ae00c2d5cbbba6ec26c86fe4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-18 13:15:48 -0800

    [HUDI-3054] Fixing default lock configs for FileSystemBasedLock and fixing a flaky test (#4374)

14	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java
8	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java

commit dc40397fa9d0c731b94931e715ce0c142165ebac
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-18 08:52:11 -0800

    [HUDI-3064] Fixing a bug in TransactionManager and FileSystemTestLock (#4372)

1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java

commit 733732be7ba61275e3855d316654970360b525f3
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-12-18 08:43:10 -0800

    [HUDI-3029]  Transaction manager: avoid deadlock when doing begin and end transactions (#4373)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java
16	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java

commit d1d48ed4947b81e10fba83b7a462839a55ff9115
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-12-18 06:43:17 -0800

    [HUDI-3029]  Transaction manager: avoid deadlock when doing begin and end transactions (#4363)
    
    * [HUDI-3029] Transaction manager: avoid deadlock when doing begin and end transactions
    
     - Transaction manager has begin and end transactions as synchronized methods.
       Based on the lock provider implementaion, this can lead to deadlock
       situation when the underlying lock() calls are blocking or with a long timeout.
    
     - Fixing transaction manager begin and end transactions to not get to deadlock
       and to not assume anything on the lock provider implementation.

5	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
37	22	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/InProcessLockProvider.java
0	22	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
198	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java

commit 47852446e845f856a4b04c1a8cfba7b66445d46d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-17 18:37:45 -0800

    [HUDI-3043] De-coupling multi writer tests (#4362)

18	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java

commit 7784249e55c8dc6c1e5fa1142f7a93d78ca66471
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-12-17 17:18:46 -0800

    [HUDI-2962] InProcess lock provider to guard single writer process with async table operations (#4259)
    
     - Adding Local JVM process based lock provider implementation
    
     - This local lock provider can be used by a single writer process with async
       table operations to guard the metadata tabl against concurrent updates.

117	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/InProcessLockProvider.java
253	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestInProcessLockProvider.java

commit 6eba8345cb815b7a375b27f55e6483ab72eee83e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-17 15:45:05 -0500

    [HUDI-3043] Adding some test fixes to continuous mode multi writer tests (#4356)

7	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
69	19	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java

commit 9246b164925d0ffe444b0f015f0b0a0338575216
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-12-17 21:58:02 +0800

    [HUDI-2958] Automatically set spark.sql.parquet.writelegacyformat, when using bulkinsert to insert data which contains decimalType (#4253)

26	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java
13	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
40	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
25	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
7	1	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
4	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java

commit e4cfb421c0d17c248ab660ae54a4a2d49aff1561
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-12-17 14:52:45 +0800

    [HUDI-3046] Claim RFC number for RFC for Compaction / Clustering Service (#4347)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

1	0	rfc/README.md

commit d0087d40402133453c3ca3da1a566545f0ca9d64
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-17 13:57:53 +0800

    [HUDI-3037] Add back remote view storage config for flink (#4338)

2	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
8	4	hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
2	2	hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java
48	4	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
83	0	hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java
11	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java
57	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java

commit 7e7ad1558c0dcc06e059f631e43e44dc04100aa4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-16 21:51:28 -0500

    [HUDI-3043] Revert async cleaner leak commit to unblock CI failure (#4343)
    
    * Revert "[HUDI-2959] Fix the thread leak of cleaning service (#4252)"
    Reverting to unblock CI failure for now. will revisit this with the right fix

28	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java
1	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
8	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java
1	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
0	7	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java

commit 294d71294835df55b238e04b8e42ff04ea073e82
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-12-17 04:36:01 +0800

    [HUDI-3001] Clean up the marker directory when finish bootstrap operation. (#4298)

4	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
7	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala

commit a8a192aef5e48d2ccc5656cbe1a872862e158f52
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-12-17 03:15:08 +0800

    [Minor] Catch and ignore all the exceptions in quietDeleteMarkerDir (#4301)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

2	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java

commit ea2eba1a5532d0f0f66268a456877773763dec08
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-16 15:26:16 +0800

    [HUDI-3015] Implement #reset and #sync for metadata filesystem view (#4307)

27	32	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
5	0	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
6	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
12	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
5	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java

commit f5b07a77bc11c8faada58e53e9463008c9cee78d
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date:   2021-12-16 07:47:22 +0800

    [HUDI-2998] claiming rfc number for consistent hashing index (#4303)
    
    Co-authored-by: xiaoyuwei <xiaoyuwei.yw@alibaba-inc.com>

1	0	rfc/README.md

commit 27907dea4cb7b52fa61521e738e2d94ef203992b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-12-15 15:33:33 -0800

    [HUDI-3028] Use blob storage to speed up CI downloads (#4331)
    
    Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

12	3	azure-pipelines.yml

commit 3b89457e2b6d885d41d0f3cd95e2c71a53b097bf
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-12-15 10:44:42 -0800

    [HUDI-3025] Add additional wait time for namenode availability during IT tests initiatialization  (#4328)
    
    - Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

56	17	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java

commit 9a2030ab3190acf600ce4820be9a08929595763e
Author: WangMinChao <33626973+mincwang@users.noreply.github.com>
Date:   2021-12-15 20:16:48 +0800

    [HUDI-3024] Add explicit write handler for flink (#4329)
    
    Co-authored-by: wangminchao <wangminchao@asinking.com>

65	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/ExplicitWriteHandler.java
11	13	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java
5	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/ExplicitWriteHandleFactory.java
5	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java

commit dbec6c512b1e5a93a60034a9894e10a65db34ea4
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2021-12-15 19:38:02 +0800

    [HUDI-3022] Fix NPE for isDropPartition method (#4319)
    
    * [HUDI-3022] Fix NPE for isDropPartition method

2	2	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java

commit bc8bf043d5512f7afbb9d94882c4e43ee61d6f06
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-12-14 13:11:19 -0800

    [HUDI-2995] Enabling metadata table by default (#4295)
    
    - Enabling metadata table by default

1	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit c8d6bd88988f19f5163553b4438981e780dfda0c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-14 14:08:13 +0800

    [HUDI-2997] Skip the corrupt meta file for pending rollback action (#4296)

14	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java

commit 29bc5fd912df9517acb9e15ead97f1849f21056b
Author: Fugle666 <30539368+Fugle666@users.noreply.github.com>
Date:   2021-12-14 11:31:36 +0800

    [HUDI-2996] Flink streaming reader 'skip_compaction' option does not work (#4304)
    
    close apache/hudi#4304

1	1	hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
7	2	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
13	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java

commit 46de25d5fd7fc5aedc574fc6bb76e14efb46bb37
Author: WangMinChao <33626973+mincwang@users.noreply.github.com>
Date:   2021-12-13 20:41:03 +0800

    [HUDI-2994] Add judgement to existed partitionPath in the catch code block for HU°≠ (#4294)
    
    * [HUDI-2994] Add judgement to existed partition path in the catch code block for HUDI-2743
    
    Co-authored-by: wangminchao <wangminchao@asinking.com>

3	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java

commit dd961291914df656418c9a1cacd39eaf8a806809
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2021-12-13 20:40:06 +0800

    [HUDI-2990] Sync to HMS when deleting partitions (#4291)

19	0	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
18	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
5	0	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
42	22	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
27	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
8	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java
19	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java
19	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java
8	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java
50	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
29	2	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java

commit b22c2c611bc8d5be1a8cdc5f50aea5607ba4b756
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-12-11 20:42:36 -0800

    [HUDI-2938] Metadata table util to get latest file slices for reader/writers (#4218)

0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
0	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
51	15	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java

commit 15444c951f4500e58c73b419fb4fa2c4d6c86260
Author: wenningd <wenningding95@gmail.com>
Date:   2021-12-11 23:18:39 -0500

    [HUDI-2946] Upgrade maven plugins to be compatible with higher Java versions (#4232)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

1	1	docker/hoodie/hadoop/pom.xml
2	2	pom.xml

commit 8dd0444ef96db4028bd28d5e4d8653c290764152
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-11 16:19:10 +0800

    [HUDI-2984] Implement #close for AbstractTableFileSystemView (#4285)

20	6	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java

commit b5f05fd153df29a8be377404a14a0ced2f00b4bf
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-12-11 00:16:05 -0800

    [HUDI-2906] Add a repair util to clean up dangling data and log files (#4278)

177	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/repair/RepairUtils.java
19	10	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
30	0	hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java
582	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieRepairTool.java

commit 2dcb3f0062074b59676bb65b0afee86994571fd6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-11 14:40:57 +0800

    [HUDI-2985] Shade jackson for hudi flink bundle jar (#4284)

3	0	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
4	0	packaging/hudi-flink-bundle/pom.xml

commit 9bdcee00c010fd6d7c817ee882550dd78e35ad91
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-11 12:08:47 +0800

    [HUDI-2959] Fix the thread leak of cleaning service (#4252)

8	28	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
6	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java
5	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
7	0	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java

commit 9797fdfbb27ca8f5f06875ad958b597becc27a8d
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-12-10 19:42:20 -0800

    [HUDI-2974] Make the prefix for metrics name configurable (#4274)
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
14	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java

commit c48a2a125a9d41f4fb4bf7d6a1d01bf75ba1877a
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-12-10 17:01:19 -0800

    [HUDI-2527] Multi writer test with conflicting async table services (#4046)

90	54	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java

commit 2d864f75247fd2feff6509235c7df84ec8707738
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-12-10 14:56:09 -0800

    [HUDI-2814] Make Z-index more generic Column-Stats Index (#4106)

27	24	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
11	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
14	13	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
44	17	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java
74	200	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/{zorder/ZOrderingIndexHelper.java => columnstats/ColumnStatsIndexHelper.java}
260	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/sort/SpaceCurveSortingHelper.java
8	9	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
0	430	hudi-client/hudi-spark-client/src/main/java/org/apache/spark/OrderingIndexHelper.java
116	112	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/execution/RangeSample.scala
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/{zorder/TestZOrderingIndexHelper.java => columnstats/TestColumnStatsIndexHelper.java}
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/optimize/ZOrderingUtil.java => hudi-common/src/main/java/org/apache/hudi/common/util/BinaryUtil.java
33	1	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
42	0	hudi-common/src/main/java/org/apache/hudi/common/util/TypeUtils.java
12	12	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/optimize/TestZOrderingUtil.java => hudi-common/src/test/java/org/apache/hudi/common/util/TestBinaryUtil.java
16	16	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
11	11	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
4	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
39	143	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/{TestZOrderLayoutOptimization.scala => TestColumnStatsIndex.scala}
36	109	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/{TestTableLayoutOptimization.scala => TestSpaceCurveLayoutOptimization.scala}
38	29	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchMark.scala

commit 72901a33a1feeef317db73986fe1f7b91bbc092b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-12-10 14:27:22 -0800

    [HUDI-2784] Add a hudi-trino-bundle for Trino (#4279)

273	0	packaging/hudi-trino-bundle/pom.xml
36	0	packaging/hudi-trino-bundle/src/main/java/org/apache/hudi/trino/bundle/Main.java
5	2	pom.xml

commit 3ba29096905ce5fd617c7c2e8f745a963af102f1
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-12-11 01:57:01 +0800

    [HUDI-2892][BUG] Pending Clustering may stain the ActiveTimeLine and lead to incomplete query results (#4172)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

7	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
19	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
11	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java

commit 3ce05269247540b2fa5b7fd923d6ca8972e7ead2
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-10 12:38:38 -0500

    Adding verbose output for metadata validate files command (#4166)

16	8	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java

commit 3ad9b121f15c3c4f0eadba799dd4d96d5b9d6b1f
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-12-11 01:32:53 +0800

    [HUDI-2912] Fix CompactionPlanOperator typo (#4187)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java

commit be368264f4cbde83ceb91d273ce5bd27dca75242
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-10 11:11:42 -0500

    [HUDI-2952] Fixing metadata table for non-partitioned dataset (#4243)

49	14	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
31	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java
4	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
1	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
10	6	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
4	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit f194566ed4b2d910925f337fc3b9202084860abd
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date:   2021-12-10 23:22:37 +0800

    [HUDI-2849] Improve SparkUI job description for write path (#4222)

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
3	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit c7473a7b0c648be400af2a70b8b4a59ac57dcdde
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-12-10 19:55:37 +0530

    [HUDI-2936] Add data count checks in async clustering tests (#4236)

34	20	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 456d74ce4e62b49b3cb3def9d0c9f5768c98c097
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-12-10 14:39:35 +0800

    [HUDI-2901] Fixed the bug clustering jobs cannot running in parallel (#4178)

6	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
46	0	hudi-common/src/main/java/org/apache/hudi/common/util/FutureUtils.java

commit ea154bcb5d753f8df74e1bb03944b61119a69b75
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-10 00:46:26 -0500

    Revert "Claiming RFC for data skipping index for updated version (#4271)" (#4272)
    
    This reverts commit 8321d20c2cced15150621c9ad828f5ba9d79399a.

0	1	rfc/README.md

commit 8321d20c2cced15150621c9ad828f5ba9d79399a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-09 23:37:42 -0500

    Claiming RFC for data skipping index for updated version (#4271)

1	0	rfc/README.md

commit 3fb2f974ca8ce8faf625c4ab48ce866567b72fc3
Author: arunkc <arunkc91@gmail.com>
Date:   2021-12-10 04:13:36 +0530

    [MINOR] FAQ link in SUPPORT_REQUEST template (#4266)

1	1	.github/ISSUE_TEMPLATE/SUPPORT_REQUEST.md

commit 68f8597b12edebba759b942f6337540f21a2db96
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-12-09 19:51:49 +0800

    [HUDI-2966] Add TaskCompletionListener for HoodieMergeOnReadRDD to close logScaner when the query finished. (#4265)
    
    * [HUDI-2966] Add TaskCompletionListener for HoodieMergeOnReadRDD to close logScaner when the query finished.

48	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala

commit f612a20815d35667ce49f0dbf51b6877bf7b1ab4
Author: RexAn <anh131@126.com>
Date:   2021-12-09 18:34:11 +0800

    [HUDI-2779] Cache BaseDir if HudiTableNotFound Exception thrown (#4014)

10	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
4	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java

commit 5ac9ce728922dba6368cc2c410507eee9cb8debe
Author: leesf <490081539@qq.com>
Date:   2021-12-09 13:12:18 +0800

    [MINOR] Fix Compile broken (#4263)

1	1	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java

commit 9c8ad0f0faab29e812628d26534a0f6fca9faf60
Author: guanziyue <30882822+guanziyue@users.noreply.github.com>
Date:   2021-12-09 10:47:13 +0800

    [HUDI-2665] Fix overflow of huge log file in HoodieLogFormatWriter (#3912)
    
    Co-authored-by: guanziyue.gzy <guanziyue.gzy@bytedance.com>

9	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
62	0	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java

commit bd084704210ee0247a4b31a6a32e5de3afd7048c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-09 10:16:42 +0800

    [HUDI-2957] Shade kryo jar for flink bundle jar (#4251)

0	6	hudi-flink/pom.xml
2	2	hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java
1	3	hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java
1	3	hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java
9	13	packaging/hudi-flink-bundle/pom.xml

commit 7c3f0777aae956c5e5b2b2ba587f9b9bf2516433
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-08 19:17:56 -0500

    [HUDI-2964] Fixing aws lock configs to inherit from HoodieConfig (#4258)

16	16	hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java
12	1	hudi-aws/src/main/java/org/apache/hudi/config/{AWSLockConfiguration.java => DynamoDbBasedLockConfig.java}
6	6	hudi-aws/src/main/java/org/apache/hudi/config/HoodieAWSConfig.java
10	10	hudi-aws/src/test/java/org/apache/hudi/aws/transaction/integ/ITTestDynamoDBBasedLockProvider.java

commit 082faa385102dfe511fcb250b3ddc0368cf17729
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2021-12-08 11:27:19 -0800

    [HUDI-2832][RFC-41] Proposal to integrate Hudi on Snowflake platform (#4074)
    
    * [HUDI-2832][RFC-40] Proposal to integrate Hudi on Snowflake platform
    
    * rebased and addressed review comments

1	0	rfc/README.md
82	0	rfc/rfc-41/rfc-41.md

commit c56d93e7b8f030273f78f9afd888b89c532563c8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-08 17:55:22 +0800

    [MINOR] Update DOAP with 0.10.0 Release (#4246)

5	0	doap_HUDI.rdf

commit c9e18d1e7de66c7eca151f7f8ffe3dc849a2e319
Author: xuzifu666 <1206332514@qq.com>
Date:   2021-12-08 14:05:39 +0800

    [HUDI-2942] add error message log in HoodieCombineHiveInputFormat (#4224)

1	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java

commit e8473b9a2b5bf0ad9370377899f6a7ea4d1ceba1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-07 18:04:15 +0800

    [HUDI-2951] Disable remote view storage config for flink (#4237)

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
2	2	hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java
4	48	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
0	83	hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java
0	11	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java
0	57	hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java

commit 6dab307e6f9aa3dd9582f0240430dd86de83624c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-12-07 07:18:32 +0530

    [MINOR] Remove redundant and conflicting spark-hive dependency (#4228)
    
    Disable TestHiveSchemaProvider

0	7	hudi-utilities/pom.xml
4	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHiveSchemaProvider.java

commit 4a437f25d376a2d06cbc119dba6edbc4187bc35a
Author: wenningd <wenningding95@gmail.com>
Date:   2021-12-06 15:29:18 -0500

    [MINOR] Use maven-shade-plugin version for hudi-timeline-server-bundle from main pom.xml (#4209)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

1	1	packaging/hudi-timeline-server-bundle/pom.xml

commit 2d66451a518988e2bf2eb5acc2d246e4c091f900
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-12-06 11:11:44 -0800

    [MINOR] Fix partition path formatting in error log (#4168)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java

commit 57c4bf8152280de738f7ae313f5bf0046bb4675d
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-12-06 21:33:10 +0800

    [HUDI-2876] for hive/presto hudi should remove the temp file which created by HoodieMergedLogRecordSanner  when the query finished. (#4139)

4	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
13	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit 84b531ae758230bda67bd842d761d68dea5581d0
Author: Ron <ldliulsy@163.com>
Date:   2021-12-06 20:38:39 +0800

    [HUDI-2900] Fix corrupt block end position (#4181)
    
    * [HUDI-2900] Fix corrupt block end position
    
    * add a test

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java
57	0	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java

commit f0e46bf522064488eaed8136da7eb119b2806ce9
Author: leesf <490081539@qq.com>
Date:   2021-12-06 14:53:54 +0800

    [HUDI-2916] Add IssueNavigationLink for IDEA (#4192)

2	1	.gitignore
36	0	.idea/vcs.xml

commit 734c9f5f2d6c3ea87c23cef962e69b0b68f72581
Author: ∑ÎΩ° <fengjian428@gmail.com>
Date:   2021-12-05 16:10:13 +0800

    [HUDI-2418] Support HiveSchemaProvider (#3671)
    
    
    Co-authored-by: jian.feng <fengjian428@gmial.com>

7	0	hudi-utilities/pom.xml
99	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/HiveSchemaProvider.java
132	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHiveSchemaProvider.java
32	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/SparkClientFunctionalTestHarnessWithHiveSupport.java
103	0	hudi-utilities/src/test/resources/delta-streamer-config/hive_schema_provider_source.avsc
103	0	hudi-utilities/src/test/resources/delta-streamer-config/hive_schema_provider_target.avsc
12	0	hudi-utilities/src/test/resources/delta-streamer-config/schema_registry.source_schema_tab.sql
12	0	hudi-utilities/src/test/resources/delta-streamer-config/schema_registry.target_schema_tab.sql

commit 63b15607ff6c251c8965f76066b1c882dc356266
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2021-12-05 15:51:06 +0800

    [HUDI-2937] Introduce a pulsar implementation of hoodie write commit °≠ (#4217)
    
    * [HUDI-2937] Introduce a pulsar implementation of hoodie write commit callback
    
    * [HUDI-2937] Introduce a pulsar implementation of hoodie write commit callback
    
    * [HUDI-2937] Introduce a pulsar implementation of hoodie write commit callback
    
    * [HUDI-2937] Introduce a pulsar implementation of hoodie write commit callback
    
    * [HUDI-2937] Introduce a pulsar implementation of hoodie write commit callback
    
    * [HUDI-2937] Introduce a pulsar implementation of hoodie write commit callback
    
    * [HUDI-2937] Introduce a pulsar implementation of hoodie write commit callback

149	0	hudi-common/src/main/java/org/apache/hudi/common/util/DateTimeUtils.java
17	0	hudi-utilities/pom.xml
180	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/pulsar/HoodieWriteCommitPulsarCallback.java
118	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/pulsar/HoodieWriteCommitPulsarCallbackConfig.java
12	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	0	pom.xml

commit a8fb69656f522648233f0310ca3756188d954281
Author: Ron <ldliulsy@163.com>
Date:   2021-12-05 10:14:29 +0800

    [HUDI-2877] Support flink catalog to help user use flink table conveniently (#4153)
    
    * [HUDI-2877] Support flink catalog to help user use flink table conveniently
    
    * Fix comment
    
    * fix comment2

56	0	hudi-flink/src/main/java/org/apache/hudi/table/catalog/CatalogOptions.java
508	0	hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java
72	0	hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java
131	0	hudi-flink/src/main/java/org/apache/hudi/table/catalog/TableOptionProperties.java
1	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	0	hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory
258	0	hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalog.java

commit 36b69d80332468439d9e1674b7d1845198379152
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-12-04 01:16:11 -0800

    [HUDI-2935] Remove special casing of clustering in deltastreamer checkpoint retrival (#4216)
    
    - We now seek backwards to find the checkpoint
     - No need to return empty anymore

0	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 568181a3e7c1d43a4ee8573d3746600be4f94379
Author: fengli <ldliulsy@163.com>
Date:   2021-12-04 13:56:25 +0800

    [HUDI-2934] Optimize RequestHandler code style
    
    close apache/hudi#4215

0	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SchemaDifference.java
3	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java
7	7	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java

commit 1d4fb827e73b2ae510f0e2c6510a448c0b5bd5b3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-04 00:44:50 -0500

    [HUDI-2923] Fixing metadata table reader when metadata compaction is inflight (#4206)
    
    * [HUDI-2923] Fixing metadata table reader when metadata compaction is inflight
    
    * Fixing retry of pending compaction in metadata table and enhancing tests

7	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
86	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
6	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
10	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java

commit 94f45e928c917c87934badb2bb4bc8c767a14e3a
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-12-03 21:30:32 -0800

    [HUDI-2890] Kafka Connect: Fix failed writes and avoid table service concurrent operations (#4211)
    
    * Fix kafka connect readme
    
    * Fix handling of errors in write records for kafka connect
    
    * By default, ensure we skip error records and keep the pipeline alive
    
    * Fix indentation
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

39	32	hudi-kafka-connect/README.md
1	1	hudi-kafka-connect/demo/setupKafka.sh
43	12	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java
1	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectTransactionServices.java
14	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
17	13	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java
11	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java
82	35	hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionCoordinator.java
2	1	hudi-kafka-connect/src/test/java/org/apache/hudi/helper/MockConnectTransactionServices.java
30	0	hudi-kafka-connect/src/test/resources/log4j-surefire-quiet.properties
31	0	hudi-kafka-connect/src/test/resources/log4j-surefire.properties

commit 0fd6b2d71e50a3b09336b74074a2f5117ba57f5c
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-12-03 21:12:35 -0800

    [HUDI-2933] DISABLE Metadata table by default (#4213)

1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit a799fae31610b2c38ca5aa52c87fa92363a41a70
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-12-03 21:08:32 -0800

    [MINOR] Mitigate CI jobs timeout issues (#4173)
    
    * skip shutdown zookeeper in `@AfterAll` in TestHBaseIndex
    
    * rebalance CI tests

7	7	azure-pipelines.yml
5	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java

commit 5616830ae18ab3cbe1592d4e463a940342d25edc
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-12-04 10:56:53 +0800

    Revert "[HUDI-2489]Tuning HoodieROTablePathFilter by caching hoodieTableFileSystemView, aiming to reduce unnecessary list/get requests"
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

6	15	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java

commit 383d5edc169b79c4022f81a1580ab1bc2afebc30
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-12-03 11:18:10 -0800

    [HUDI-2894][HUDI-2905] Metadata table - avoiding key lookup failures on base files over S3 (#4185)
    
    - Fetching partition files or all partitions from the metadata table is failing
       when run over S3. Metadata table uses HFile format for the base files and the
       record lookup uses HFile.Reader and HFileScanner interfaces to get records by
       partition keys. When the backing storage is S3, this record lookup from HFiles
       is failing with IOException, in turn failing the caller commit/update operations.
    
     - Metadata table looks up HFile records with positional read enabled so as to
       perform better for random lookups. But this positional read key lookup is
       returning with partial read sizes over S3 leading to HFile scanner throwing
       IOException. This doesn't happen over HDFS. Metadata table though uses the HFile
       for random key lookups, the positional read is not mandatory as we sort the keys
       when doing a lookup for multiple keys.
    
     - The fix is to disable HFile positional read for all HFile scanner based
       key lookups.

4	4	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java
1	1	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java

commit 2f96f4300b37207703b477979f2461bdd294ccf9
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-12-04 00:13:38 +0800

    Revert "[HUDI-2495] Resolve inconsistent key generation for timestamp types  by GenericRecord and Row (#3944)" (#4201)

0	3	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
1	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
0	104	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala

commit bed7f9897a9127130c3d241df7634d44aa12167b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-12-03 04:33:38 -0800

    [HUDI-2911] Removing default value for `PARTITIONPATH_FIELD_NAME` resulting in incorrect `KeyGenerator` configuration (#4195)

42	0	hudi-common/src/main/java/org/apache/hudi/exception/ExceptionUtil.java
1	1	hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
27	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala

commit e483f7c776ed53015d08b78fc33729892dc2143c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-03 07:20:21 -0500

    [HUDI-2902] Fixing populate meta fields with Hfile writers and Disabling virtual keys by default for metadata table (#4194)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
10	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
45	10	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
66	0	hudi-client/hudi-client-common/src/test/resources/exampleSchemaWithMetaFields.avsc
157	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
2	10	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
3	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip

commit ca427240c026bc6ba6e19b9b8b0a069a6330147a
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-12-03 16:37:13 +0800

    [MINOR] use catalog schema if can not find table schema (#4182)

1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala

commit 0699521f83eab843279ff7d78ac2b92fc80ad79b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-03 16:12:59 +0800

    [HUDI-2924] Refresh the fs view on successful checkpoints for write profile (#4199)

3	1	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java
8	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
12	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit f74b3d12aa89a96daafe43c69d37d816b9f4018b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-03 11:38:29 +0800

    [minor] Refactor write profile to always generate fs view (#4198)

2	2	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java
20	9	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java

commit 934fe54cc57b508875383cd807735b1323fef754
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-12-03 08:59:10 +0800

    [HUDI-2914] Fix remote timeline server config for flink (#4191)

3	3	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
1	5	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
5	7	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java
7	22	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
6	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java
11	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java

commit 91d2e61433e74abb44cb4d0ae236ee8f4a94e1f8
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-12-02 10:32:26 -0800

    [HUDI-2904] Fix metadata table archival overstepping between regular writers and table services (#4186)
    
    - Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>
    - Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

28	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
12	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
4	7	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
38	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java

commit 61a03bc072c8d446a7334fdf7a284fca0a91f8c0
Author: zzzhy <candle_1667@163.com>
Date:   2021-12-02 22:47:31 +0800

    [MINOR] Fix the wrong usage of timestamp length variable bug (#4179)
    
    Signed-off-by: zzzhy <candle_1667@163.com>

1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala

commit 772f5ca24ee76c5c3676a9136fd994f7cd55a0e3
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-12-01 20:56:04 -0800

    Fixed partitions produced by layout optimization in case order-by key is composed of a single column (#4183)

1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/spark/OrderingIndexHelper.java

commit 5284730175df4637eee43b179c774606b07a10a9
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-12-02 09:41:04 +0800

    [HUDI-2881] Compact the file group with larger log files to reduce write amplification (#4152)

11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
7	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/LogFileSizeBasedCompactionStrategy.java
5	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java

commit f4c25ba3fd11e2da1adcf2e089969a0b7f3dc62e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-12-01 03:02:30 -0500

    [HUDI-2880] Fixing loading of props from default dir (#4167)
    
    * Fixing loading of props from default dir
    
    * addressing comments

17	14	hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java
2	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java

commit 9b254b6fc5779b6105b2fa9aeff5ad5b79407f84
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-11-30 22:08:44 -0800

    Revert "[HUDI-2856] Bit cask disk map delete modified (#4116)" (#4171)
    
    This reverts commit 257a6a74569cdb500b06c53b92d05f6f5833aa31.

3	3	hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java

commit 24380c20606d63c7c129cb45a73f786f223e7d39
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-11-30 17:47:16 -0800

    Revert "[HUDI-2855] Change the default value of 'PAYLOAD_CLASS_NAME' to 'DefaultHoodieRecordPayload' (#4115)" (#4169)
    
    This reverts commit 88067f57a23575aae3c371a7c7871e4207ca3bea.

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java

commit ea009b55a385564f76beb99468f363edd3c4828a
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-11-30 06:45:50 -0800

    [HUDI-2891] Fix write configs for Java engine in Kafka Connect Sink (#4161)

0	1	hudi-kafka-connect/demo/config-sink-hive.json
0	1	hudi-kafka-connect/demo/config-sink.json
2	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java
2	0	hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestBufferedConnectWriter.java

commit a398aad1fcbd5ff36eb7bc750fcc418d78b3a97e
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-11-30 14:36:36 +0800

    [HUDI-2642] Add support ignoring case in update sql operation (#3882)

4	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
43	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala

commit 3433f00cb5366fa190a7b2d5254255041a705deb
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-11-30 10:31:22 +0800

    [MINOR] Fix typo,rename 'getUrlEncodePartitoning' to 'getUrlEncodePartitioning' (#4130)

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala

commit 536af4b954abaa0d92a313bd5827173a232c6700
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-29 14:17:24 +0800

    [MINOR] Fix syntax error in create_source_release.sh (#4150)

1	1	scripts/release/create_source_release.sh

commit 38e75ea80681111f0b5cac753d738ce7a39bf6ac
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-29 00:18:35 -0500

    Removing rfc from release package and fixing release validation script (#4147)

1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
1	0	scripts/release/create_source_release.sh
2	2	scripts/release/validate_staged_release.sh

commit 52aae36b53e22bd7dab8c024ca64f40a1ade13be
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-28 20:11:50 -0500

    [MINOR] Fixing integ test suite for hudi-aws and archival validation (#4142)

11	15	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateAsyncOperations.java
1	0	packaging/hudi-integ-test-bundle/pom.xml

commit eca16932884d51f01ff33d9cd4c9d54cb20d7726
Author: vortual <1039505040@qq.com>
Date:   2021-11-28 17:13:50 +0800

    [MINOR] fix typo (#4140)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java

commit a1d0ff4209e22a9517b0d3273d582ba00a2c28aa
Author: yuzhao.cyz <yuzhao.cyz@gmail.com>
Date:   2021-11-27 17:22:10 +0800

    Moving to 0.11.0-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
2	2	hudi-aws/pom.xml
1	1	hudi-cli/pom.xml
2	2	hudi-client/hudi-client-common/pom.xml
2	2	hudi-client/hudi-flink-client/pom.xml
2	2	hudi-client/hudi-java-client/pom.xml
2	2	hudi-client/hudi-spark-client/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-examples/pom.xml
1	1	hudi-flink/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-integ-test/pom.xml
2	2	hudi-kafka-connect/pom.xml
2	2	hudi-spark-datasource/hudi-spark-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark/pom.xml
2	2	hudi-spark-datasource/hudi-spark2/pom.xml
2	2	hudi-spark-datasource/hudi-spark3/pom.xml
1	1	hudi-spark-datasource/pom.xml
1	1	hudi-sync/hudi-dla-sync/pom.xml
1	1	hudi-sync/hudi-hive-sync/pom.xml
1	1	hudi-sync/hudi-sync-common/pom.xml
1	1	hudi-sync/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-flink-bundle/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-sync-bundle/pom.xml
1	1	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-kafka-connect-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit 780a2ac5b208b06f53ee64186b5392ebc37eadbc
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-11-27 15:20:19 +0800

    [HUDI-2102] Support hilbert curve for hudi (#3952)
    
    Co-authored-by: Y Ethan Guo <ethan.guoyihua@gmail.com>

6	0	NOTICE
7	0	hudi-client/hudi-client-common/pom.xml
28	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
52	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/optimize/HilbertCurveUtils.java
6	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/optimize/ZOrderingUtil.java
38	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/optimize/TestHilbertCurveUtils.java
25	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/optimize/TestZOrderingUtil.java
5	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java
11	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/zorder/ZOrderingIndexHelper.java
5	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
430	0	hudi-client/hudi-spark-client/src/main/java/org/apache/spark/OrderingIndexHelper.java
28	17	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/execution/RangeSample.scala
248	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTableLayoutOptimization.scala
118	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchMark.scala
2	0	packaging/hudi-flink-bundle/pom.xml
2	0	packaging/hudi-kafka-connect-bundle/pom.xml
2	0	packaging/hudi-spark-bundle/pom.xml
2	0	packaging/hudi-utilities-bundle/pom.xml

commit 2c7656c35faf625184f0356ca0693be6a70206c6
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-26 23:19:26 -0800

    [HUDI-2475] [HUDI-2862] Metadata table creation and avoid bootstrapping race for write client & add locking for upgrade (#4114)
    
    Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
13	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
5	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
12	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
5	24	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
33	39	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
19	21	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
43	16	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
8	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
39	23	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
5	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
13	4	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java

commit 3a8d64e584295dd3979a2d893497d90070d15621
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-11-26 19:59:20 -0800

    [HUDI-2868] Fix skipped HoodieSparkSqlWriterSuite (#4125)
    
    - Co-authored-by: Yann Byron <biyan900116@gmail.com>

0	47	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite2.scala
7	19	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala
44	23	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/{HoodieSparkSqlWriterSuite.scala => TestHoodieSparkSqlWriter.scala}
1	1	style/scalastyle.xml

commit 9c059ef8e574616ceac5595204273244e37fd6a5
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-26 19:22:53 -0500

    [MINOR] Follow ups from HUDI-2861 (re-use same rollback instant for failed rollback) (#4133)

10	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java

commit 257a6a74569cdb500b06c53b92d05f6f5833aa31
Author: xuzifu666 <1206332514@qq.com>
Date:   2021-11-27 07:11:01 +0800

    [HUDI-2856] Bit cask disk map delete modified (#4116)
    
    * modified BitCaskDiskMap_close_function
    
    * change iterators location to finally
    
    * Update BitCaskDiskMap.java

3	3	hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java

commit 9028e6e1e43dd9322509d6549f2a71d20b3e392b
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-11-26 15:09:32 -0800

    [HUDI-2864] Fix README and scripts with current limitations of hive sync (#4129)
    
    * Fix README with current limitations of hive sync
    
    * Fix README with current limitations of hive sync
    
    * Fix dep issue
    
    * Fix Copy on Write flow
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/FileIdPrefixProvider.java
2	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/RandomFileIdPrefixProvider.java
85	68	hudi-kafka-connect/README.md
31	0	hudi-kafka-connect/demo/config-sink-hive.json
2	12	hudi-kafka-connect/demo/config-sink.json
1	1	hudi-kafka-connect/demo/connect-distributed.properties
2	3	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/KafkaConnectFileIdPrefixProvider.java
1	0	packaging/hudi-kafka-connect-bundle/pom.xml

commit 8402cac407ba9ae3288c317a9493db3613f1938b
Author: huleilei <584620569@qq.com>
Date:   2021-11-27 05:56:03 +0800

    [HUDI-2848] Excluse guava from hudi-cli pom (#4100)

6	0	hudi-cli/pom.xml

commit 445208a0d20b457daeeb5f70995302c92dd19f31
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-26 13:44:16 -0800

    [HUDI-2845] Metadata CLI - files/partition file listing fix and new validate option (#4092)
    
    - Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

167	43	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java
1	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java
38	17	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java

commit d1e83e4ba0b881f9410f0ae9f3799c967b6891cb
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-11-26 13:41:05 -0800

    [HUDI-2767] Enabling timeline-server-based marker as default (#4112)
    
    - Changes the default config of marker type (HoodieWriteConfig.MARKERS_TYPE or hoodie.write.markers.type) from DIRECT to TIMELINE_SERVER_BASED for Spark Engine.
    - Adds engine-specific marker type configs: Spark -> TIMELINE_SERVER_BASED, Flink -> DIRECT, Java -> DIRECT.
    - Uses DIRECT markers as well for Spark structured streaming due to timeline server only available for the first mini-batch.
    - Fixes the marker creation method for non-partitioned table in TimelineServerBasedWriteMarkers.
    - Adds the fallback to direct markers even when TIMELINE_SERVER_BASED is configured, in WriteMarkersFactory: when HDFS is used, or embedded timeline server is disabled, the fallback to direct markers happens.
    - Fixes the closing of timeline service.
    - Fixes tests that depend on markers, mainly by starting the timeline service for each test.

3	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
3	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
3	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java
4	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
21	1	hudi-cli/src/test/java/org/apache/hudi/cli/functional/CLIFunctionalTestHarness.java
20	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
11	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/TimelineServerBasedWriteMarkers.java
15	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkersFactory.java
66	48	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
116	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/marker/TestWriteMarkersFactory.java
13	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
6	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
19	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
3	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java
12	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
5	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieInternalRowParquetWriter.java
10	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java
10	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
8	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
9	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
7	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestDirectWriteMarkers.java
9	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestTimelineServerBasedWriteMarkers.java
36	23	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestWriteMarkersBase.java
5	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
30	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
36	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
18	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java
4	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java
1	1	hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java
17	13	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
2	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
4	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java

commit f8e0176eb031f2d59774af9b1d512844f1003231
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-26 16:36:42 -0500

    [HUDI-2861] Re-use same rollback instant time for failed rollbacks (#4123)

64	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
5	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
79	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
44	0	hudi-common/src/main/java/org/apache/hudi/common/HoodiePendingRollbackInfo.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java

commit a88691fed38cc7b8a1f26bfcbb9a7504a0acdd8d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-26 13:50:10 -0500

    [MINOR] Fixing test failure to fix CI build failure (#4132)

3	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java

commit 5755ff25a49aa495e418acde7ef8d246e16b4973
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-11-26 10:02:15 -0800

    [HUDI-2814] Addressing issues w/ Z-order Layout Optimization (#4060)
    
    * `ZCurveOptimizeHelper` > `ZOrderingIndexHelper`;
    Moved Z-index helper under `hudi.index.zorder` package
    
    * Tidying up `ZOrderingIndexHelper`
    
    * Fixing compilation
    
    * Fixed index new/original table merging sequence to always prefer values from new index;
    Cleaned up `HoodieSparkUtils`
    
    * Added test for `mergeIndexSql`
    
    * Abstracted Z-index name composition w/in `ZOrderingIndexHelper`;
    
    * Fixed `DataSkippingUtils` to interrupt prunning in case data filter contains non-indexed column reference
    
    * Properly handle exceptions origination during pruning in `HoodieFileIndex`
    
    * Make sure no errors are logged upon encountering `AnalysisException`
    
    * Cleaned up Z-index updating sequence;
    Tidying up comments, java-docs;
    
    * Fixed Z-index to properly handle changes of the list of clustered columns
    
    * Tidying up
    
    * `lint`
    
    * Suppressing `JavaDocStyle` first sentence check
    
    * Fixed compilation
    
    * Fixing incorrect `DecimalType` conversion
    
    * Refactored test `TestTableLayoutOptimization`
      - Added Z-index table composition test (against fixtures)
      - Separated out GC test;
    Tidying up
    
    * Fixed tests re-shuffling column order for Z-Index table `DataFrame` to align w/ the one by one loaded from JSON
    
    * Scaffolded `DataTypeUtils` to do basic checks of Spark types;
    Added proper compatibility checking b/w old/new index-tables
    
    * Added test for Z-index tables merging
    
    * Fixed import being shaded by creating internal `hudi.util` package
    
    * Fixed packaging for `TestOptimizeTable`
    
    * Revised `updateMetadataIndex` seq to provide Z-index updating process w/ source table schema
    
    * Make sure existing Z-index table schema is sync'd to source table's one
    
    * Fixed shaded refs
    
    * Fixed tests
    
    * Fixed type conversion of Parquet provided metadata values into Spark expected schemas
    
    * Fixed `composeIndexSchema` utility to propose proper schema
    
    * Added more tests for Z-index:
      - Checking that Z-index table is built correctly
      - Checking that Z-index tables are merged correctly (during update)
    
    * Fixing source table
    
    * Fixing tests to read from Parquet w/ proper schema
    
    * Refactored `ParquetUtils` utility reading stats from Parquet footers
    
    * Fixed incorrect handling of Decimals extracted from Parquet footers
    
    * Worked around issues in javac failign to compile stream's collection
    
    * Fixed handling of `Date` type
    
    * Fixed handling of `DateType` to be parsed as `LocalDate`
    
    * Updated fixture;
    Make sure test loads Z-index fixture using proper schema
    
    * Removed superfluous scheme adjusting when reading from Parquet, since Spark is actually able to perfectly restore schema (given Parquet was previously written by Spark as well)
    
    * Fixing race-condition in Parquet's `DateStringifier` trying to share `SimpleDataFormat` object which is inherently not thread-safe
    
    * Tidying up
    
    * Make sure schema is used upon reading to validate input files are in the appropriate format;
    Tidying up;
    
    * Worked around javac (1.8) inability to infer expression type properly
    
    * Updated fixtures;
    Tidying up
    
    * Fixing compilation after rebase
    
    * Assert clustering have in Z-order layout optimization testing
    
    * Tidying up exception messages
    
    * XXX
    
    * Added test validating Z-index lookup filter correctness
    
    * Added more test-cases;
    Tidying up
    
    * Added tests for string expressions
    
    * Fixed incorrect Z-index filter lookup translations
    
    * Added more test-cases
    
    * Added proper handling on complex negations of AND/OR expressions by pushing NOT operator down into inner expressions for appropriate handling
    
    * Added `-target:jvm-1.8` for `hudi-spark` module
    
    * Adding more tests
    
    * Added tests for non-indexed columns
    
    * Properly handle non-indexed columns by falling back to a re-write of containing expression as  `TrueLiteral` instead
    
    * Fixed tests
    
    * Removing the parquet test files and disabling corresponding tests
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

11	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
2	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
5	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java
619	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/zorder/ZOrderingIndexHelper.java
56	18	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
122	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java
0	356	hudi-client/hudi-spark-client/src/main/java/org/apache/spark/ZCurveOptimizeHelper.java
2	3	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
0	39	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
8	10	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/execution/RangeSample.scala
41	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/zorder/TestZOrderingIndexHelper.java
12	30	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java
85	82	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
1	0	hudi-spark-datasource/hudi-spark/pom.xml
42	27	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
4	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
150	99	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
8	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table-merged.json
4	0	hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table.json
1	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala
365	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
5	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
0	231	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTableLayoutOptimization.scala
398	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestZOrderLayoutOptimization.scala
3	1	style/checkstyle.xml

commit 3d75aca40d2bdbb91bfdc06352453ae84d9bf530
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-26 04:17:23 -0800

    [HUDI-2850] Fixing Clustering CLI - schedule and run command fixes to avoid NumberFormatException (#4101)

35	23	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ClusteringCommand.java
25	21	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java

commit e9efbdb63c95d2971ac67576783e122a6e271738
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-26 16:40:53 +0800

    [HUDI-2863] Rename option 'hoodie.parquet.page.size' to 'write.parquet.page.size' (#4128)

1	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
0	3	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit e554c7f468950a47df49fd3e951933138801d65a
Author: mincwang <33626973+mincwang@users.noreply.github.com>
Date:   2021-11-26 16:24:03 +0800

    [HUDI-2852] Table metadata returns empty for non-exist partition (#4117)
    
    * [HUDI-2852] Table metadata returns empty for non-exist partition
    
    * add unit test
    
    * fix code checkstyle
    
    Co-authored-by: wangminchao <wangminchao@asinking.com>

14	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
10	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java

commit f5da9b50faf68aee56a8b198445201a95f5d87e7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-26 14:36:44 +0800

    [MINOR] Include hudi-aws in flink bundle jar (#4127)
    
    HUDI-2801 makes this jar as required.

1	0	packaging/hudi-flink-bundle/pom.xml

commit 38585e4e57c86e0846b5561c4d1750676d88e5f4
Author: Ron <ldliulsy@163.com>
Date:   2021-11-26 11:27:21 +0800

    [HUDI-2851] Shade org.apache.hadoop.hive.ql.optimizer package for flink bundle jar (#4104)

10	0	packaging/hudi-flink-bundle/pom.xml

commit 8340ccb503962876cf83de40949264836f88c04d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-25 18:51:38 -0500

    [HUDI-2005] Removing direct fs call in HoodieLogFileReader (#3865)

6	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
10	9	hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java
6	3	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
16	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BaseFileWithLogsSplit.java
8	6	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithLogFilePath.java
8	6	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RealtimeFileStatus.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
4	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
11	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
12	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java
3	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java
5	6	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
7	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
4	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java
12	13	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit 6f5d8d04cd4b6689335bb80738946e1a914b43b0
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-11-25 14:48:22 -0800

    [HUDI-2840] Fixed DeltaStreaemer to properly respect configuration passed t/h properties file (#4090)
    
    * Rebased `DFSPropertiesConfiguration` to access Hadoop config in liue of FS to avoid confusion
    
    * Fixed `readConfig` to take Hadoop's `Configuration` instead of FS;
    Fixing usages
    
    * Added test for local FS access
    
    * Rebase to use `FSUtils.getFs`
    
    * Combine properties provided as a file along w/ overrides provided from the CLI
    
    * Added helper utilities to `HoodieClusteringConfig`;
    Make sure corresponding config methods fallback to defaults;
    
    * Fixed DeltaStreamer usage to respect properly combined configuration;
    Abstracted `HoodieClusteringConfig.from` convenience utility to init Clustering config from `Properties`
    
    * Tidying up
    
    * `lint`
    
    * Reverting changes to `HoodieWriteConfig`
    
    * Tdiying up
    
    * Fixed incorrect merge of the props
    
    * Converted `HoodieConfig` to wrap around `Properties` into `TypedProperties`
    
    * Fixed compilation
    
    * Fixed compilation

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
16	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
0	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsPrometheusConfig.java
3	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java
15	11	hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java
7	7	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
27	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
18	0	hudi-common/src/test/resources/props/test.properties
3	3	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
4	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
1	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
1	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
3	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
31	16	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
30	26	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit e0125a7911d77afd4a82a49caaccaa3c10df0377
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-11-25 13:33:16 -0800

    [HUDI-2801] Add Amazon CloudWatch metrics reporter (#4081)

19	5	hudi-aws/pom.xml
315	0	hudi-aws/src/main/java/org/apache/hudi/aws/cloudwatch/CloudWatchReporter.java
10	2	hudi-aws/src/main/java/org/apache/hudi/config/AWSLockConfiguration.java
7	3	hudi-aws/src/main/java/org/apache/hudi/config/HoodieAWSConfig.java
87	0	hudi-aws/src/main/java/org/apache/hudi/config/HoodieMetricsCloudWatchConfig.java
183	0	hudi-aws/src/test/java/org/apache/hudi/aws/cloudwatch/TestCloudWatchReporter.java
5	1	hudi-client/hudi-client-common/pom.xml
16	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsConfig.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java
85	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/cloudwatch/CloudWatchMetricsReporter.java
62	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/cloudwatch/TestCloudWatchMetricsReporter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java

commit 8e1379384a35b816ba27e7de0573f740380cb819
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-25 16:06:04 -0500

    [HUDI-2841] Fixing lazy rollback for MOR with list based strategy (#4110)

4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
117	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java

commit 6a0f0798660bd6efedf1dc51adb397fb704aa5de
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-25 14:34:07 -0500

    [HUDI-2858] Fixing handling of cluster update reject exception in deltastreamer (#4120)

19	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
32	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit f692078d32044dfa2f3ac3029a7420abc4cdb89a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-25 14:21:32 -0500

    [HUDI-2671] Making error -> warn logs from timeline server with concurrent writers for inconsistent state (#4088)
    
    * Making error -> warn logs from timeline server with concurrent writers for inconsistent state
    
    * Fixing bad request response exception for timeline out of sync
    
    * Addressing feedback. removed write concurrency mode depedency

14	4	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
53	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java
9	3	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java

commit 7bb90e8cafaf1dfd5000ff740441161dd43a7dd5
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-25 14:19:30 -0500

    [HUDI-2794] Guarding table service commits within a single lock to commit to both data table and metadata table (#4037)
    
    * Fixing a single lock to commit table services across metadata table and data table
    
    * Addressing comments
    
    * rebasing with master

7	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
7	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
13	19	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
22	17	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java

commit b972aa5bf239657d527ba1d078755dbe7e20e657
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-25 23:46:36 +0530

    [HUDI-2800] Remove rdd.isEmpty() validation to prevent CreateHandle being called twice (#4121)

0	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java

commit 264e1ce63c24b09d891068aca1fc40b815a958f7
Author: satishm <84978833+data-storyteller@users.noreply.github.com>
Date:   2021-11-25 21:56:59 +0530

    [HUDI-1290] fixing mysql debezium source (#4119)

0	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/MysqlDebeziumSource.java
0	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestMysqlDebeziumSource.java

commit a2eb2b0b0af03be261d9d456c8ad75b3695793f7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-25 22:30:09 +0800

    [HUDI-2480] FileSlice after pending compaction-requested instant-time°≠ (#3703)
    
    * [HUDI-2480] FileSlice after pending compaction-requested instant-time is ignored by MOR snapshot reader
    
    * include file slice after a pending compaction for spark reader
    
    Co-authored-by: garyli1019 <yanjia.gary.li@gmail.com>

2	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
26	0	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala

commit 88067f57a23575aae3c371a7c7871e4207ca3bea
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-11-25 19:17:38 +0800

    [HUDI-2855] Change the default value of 'PAYLOAD_CLASS_NAME' to 'DefaultHoodieRecordPayload' (#4115)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java

commit a9bd20804baf65aec20be7f4fba500380c03bfb0
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-24 21:56:31 -0500

    [HUDI-2792] Configure metadata payload consistency check (#4035)
    
    - Relax metadata payload consistency check to consider spark task failures with spurious deletes

16	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
4	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
5	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
36	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
8	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
16	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
20	13	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
19	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 83f8ed2ae3ba7fb20813cbb8768deae6244b020c
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-11-24 17:57:02 -0800

    [HUDI-1290] Add Debezium Source for deltastreamer (#4063)
    
    * add source for postgres debezium
    
    * Add tests for debezium payload
    
    * Fix test
    
    * Fix test
    
    * Add tests for debezium source
    
    * Add tests for debezium source
    
    * Fix schema for debezium
    
    * Fix checkstyle issues
    
    * Fix config issue for schema registry
    
    * Add mysql source for debezium
    
    * Fix checkstyle issues an tests
    
    * Improve code for merging toasted values
    
    * Improve code for merging toasted values
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

89	0	hudi-common/src/main/java/org/apache/hudi/common/model/debezium/AbstractDebeziumAvroPayload.java
81	0	hudi-common/src/main/java/org/apache/hudi/common/model/debezium/DebeziumConstants.java
67	0	hudi-common/src/main/java/org/apache/hudi/common/model/debezium/MySqlDebeziumAvroPayload.java
130	0	hudi-common/src/main/java/org/apache/hudi/common/model/debezium/PostgresDebeziumAvroPayload.java
131	0	hudi-common/src/test/java/org/apache/hudi/common/model/debezium/TestMySqlDebeziumAvroPayload.java
181	0	hudi-common/src/test/java/org/apache/hudi/common/model/debezium/TestPostgresDebeziumAvroPayload.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java
243	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/DebeziumSource.java
104	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/MysqlDebeziumSource.java
87	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/PostgresDebeziumSource.java
209	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestAbstractDebeziumSource.java
100	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestMysqlDebeziumSource.java
97	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestPostgresDebeziumSource.java

commit abc0175cf7a3577ac5078f6a4cd43569105ccf7e
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-11-24 17:31:34 -0800

    [HUDI-1290] [RFC-39] Deltastreamer avro source for Debezium CDC (#4048)
    
    * Add RFC entry for deltastreamer source for debezium
    
    * Add RFC for debezium source
    
    * Add RFC for debezium source
    
    * Add RFC for debezium source
    
    * fix hyperlink issue and rebase
    
    * Update progress
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

1	1	rfc/README.md
-	-	rfc/rfc-39/arch.png
105	0	rfc/rfc-39/rfc-39.md

commit bef373fa1d86354fef0844e10e43a79e30cf70fd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-11-24 17:17:46 -0800

    [MINOR] Fix build failure due to checkstyle issues (#4111)

0	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java

commit 51297736ca7f72076376d4d245b3c161bdfe57b2
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-11-24 16:53:29 -0800

    [HUDI-2844][CLI] Fixing archived Timeline crashing if timeline contains REPLACE_COMMIT (#4091)

30	29	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java

commit 7286b56d305481a749f871d28bf170d6b4fff9e6
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-11-24 16:03:01 -0800

    [HUDI-2853] Add JMX deps in hudi utilities and kafka connect bundles (#4108)
    
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

2	1	packaging/hudi-kafka-connect-bundle/pom.xml
1	0	packaging/hudi-utilities-bundle/pom.xml

commit 435ea1543c034194d7ca0b589b7b043fc49c07ac
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-24 18:26:40 -0500

    [HUDI-2793] Fixing deltastreamer checkpoint fetch/copy over (#4034)
    
    - Removed the copy over logic in transaction utils. Deltastreamer will go back to previous commits and get the checkpoint value.

12	40	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java
0	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
0	98	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestTransactionUtils.java
24	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
26	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java
47	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
25	26	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java

commit ff94d92980816adc5a2feebe062835e083d8b8c6
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-24 23:45:40 +0530

    [HUDI-2766] Cluster update strategy should not be fenced by write config (#4093)
    
    Fix pending clustering rollback test

23	27	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
39	28	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java

commit 60b23b979739601f413cdc30da1eae0c18fcb5e6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-11-24 10:10:28 -0800

    [HUDI-2788] Fixing issues w/ Z-order Layout Optimization (#4026)
    
    * Simplyfying, tidying up
    
    * Fixed packaging for `TestOptimizeTable`
    
    * Cleaned up `HoodiFileIndex` file filtering seq;
    Removed optimization manually reading Parquet table circumventing Spark
    
    * Refactored `DataSkippingUtils`:
      - Fixed checks to validate all statistics cols are present
      - Fixed some predicates being constructed incorrectly
      - Rewrote comments for easier comprehension, added more notes
      - Tidying up
    
    * Tidying up tests
    
    * `lint`
    
    * Fixing compilation
    
    * `TestOptimizeTable` > `TestTableLayoutOptimization`;
    Added assertions to test data skipping paths
    
    * Fixed tests to properly hit data-skipping path
    
    * Fixed pruned files candidates lookup seq to conservatively included all non-indexed files
    
    * Added java-doc
    
    * Fixed compilation

1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java
42	39	hudi-client/hudi-spark-client/src/main/java/org/apache/spark/ZCurveOptimizeHelper.java
2	2	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
104	47	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
98	65	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
43	28	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/{TestOptimizeTable.scala => functional/TestTableLayoutOptimization.scala}

commit 973f78f5caa4b9483bef3b27e98bafcef0f2f136
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-24 10:05:36 -0800

    [HUDI-2443] Hudi KVComparator for all HFile writer usages (#3889)
    
    * [HUDI-2443] Hudi KVComparator for all HFile writer usages
    
    - Hudi relies on custom class shading for Hbase's KeyValue.KVComparator to
      avoid versioning and class loading issues. There are few places which are
      still using the Hbase's comparator class directly and version upgrades
      would make them obsolete. Refactoring the HoodieKVComparator and making
      all HFile writer creation using the same shaded class.
    
    * [HUDI-2443] Hudi KVComparator for all HFile writer usages
    
    - Moving HoodieKVComparator from common.bootstrap.index to common.util
    
    * [HUDI-2443] Hudi KVComparator for all HFile writer usages
    
    - Retaining the old HoodieKVComparatorV2 for boostrap case. Adding the
      new comparator as HoodieKVComparatorV2 to differentiate from the old
      one.
    
    * [HUDI-2443] Hudi KVComparator for all HFile writer usages
    
     - Renamed HoodieKVComparatorV2 to HoodieMetadataKVComparator and moved it
       under the package org.apache.hudi.metadata.
    
    * Make comparator classname configurable
    
    * Revert new config and address other review comments
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

6	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
23	18	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java
10	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
5	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
7	7	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
29	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHBaseKVComparator.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystemHFileInLining.java

commit 90f2ea2f12cde2104bf84b1254176673a82f4b55
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-11-24 10:03:58 -0800

    [HUDI-2671] Fix kafka offset handling in Kafka Connect protocol (#4021)
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

34	13	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionParticipant.java
6	6	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionInfo.java
69	76	hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionParticipant.java
38	23	hudi-kafka-connect/src/test/java/org/apache/hudi/helper/{TestKafkaConnect.java => MockKafkaConnect.java}

commit 9af219b7c10f44756afabcc9bcd11cba552aa12c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-24 22:13:37 +0530

    [HUDI-2688] Claim the next rfc 40 for Hudi connector for Trino (#4105)

1	0	rfc/README.md

commit a234833f0a9d6fb772d6579c576c70de160befbc
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-11-24 18:12:38 +0800

    [HUDI-2759] extract HoodieCatalogTable to coordinate spark catalog table and hoodie table (#3998)

303	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala
38	39	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
21	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
20	24	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala
17	20	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala
20	31	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
7	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala
14	12	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
50	221	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
8	14	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
56	76	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
16	27	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
9	20	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala
13	21	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
19	25	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala
5	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 0bb506fa00de5c195c8e409c13091c2e264472d0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-24 17:34:42 +0800

    [HUDI-2847] Flink metadata table supports virtual keys (#4096)

15	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
26	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java

commit 323be33f185fbb4d3dd51acd5bcc8ad9a6fc3fe5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-24 12:01:18 +0800

    Revert "[HUDI-2799] Fix the classloader of flink write task (#4042)" (#4069)
    
    This reverts commit 8281cbf7624c3a4eb90bf58671daf76843d00819.

0	2	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
0	2	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
0	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java

commit 0cf2f103e07483f24b904b45f348bcc041e0c7ad
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-11-24 11:46:48 +0800

    [HUDI-2838] refresh table after drop partition (#4084)

1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala

commit 5078d29eb429d7eca46c3d5c3aa72d94e088d43e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-11-23 19:43:34 -0800

    [HUDI-2818] Fix 2to3 upgrade when set `hoodie.table.keygenerator.class` (#4077)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java
9	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java
68	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/upgrade/TestTwoToThreeUpgradeHandler.java

commit 18cf59507fe32971da79c0e7c039730e57c5d207
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-11-23 17:25:11 -0800

    [HUDI-2831] Securing usages of `SimpleDateFormat` to be thread-safe (#4073)

6	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
8	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/DayBasedCompactionStrategy.java
7	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala

commit fbff0799b999c5cc49d5a36fd2538f9bf5c6c60d
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-11-23 15:48:06 -0800

    [HUDI-2325] Add hive sync support to kafka connect (#3660)
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

90	24	hudi-kafka-connect/README.md
15	4	hudi-kafka-connect/demo/config-sink.json
1	1	hudi-kafka-connect/demo/connect-distributed.properties
6	5	hudi-kafka-connect/demo/setupKafka.sh
19	1	hudi-kafka-connect/pom.xml
10	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java
0	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
55	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java
1	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java
0	32	hudi-kafka-connect/src/test/resources/log4j-surefire.properties
147	14	packaging/hudi-kafka-connect-bundle/pom.xml

commit 969a5bf11e1c1e2f65b33cd75f36da76931332d0
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-11-23 19:10:57 +0800

    [MINOR] Fix typo,rename 'HooodieAvroDeserializer' to 'HoodieAvroDeserializer' (#4064)

4	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/{HooodieAvroDeserializer.scala => HoodieAvroDeserializer.scala}
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala

commit ca9bfa2a4000575dbaa379c91898786f040a9917
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-11-23 00:53:28 -0800

    [HUDI-2332] Add clustering and compaction in Kafka Connect Sink (#3857)
    
    * [HUDI-2332] Add clustering and compaction in Kafka Connect Sink
    
    * Disable validation check on instant time for compaction and adjust configs
    
    * Add javadocs
    
    * Add clustering and compaction config
    
    * Fix transaction causing missing records in the target table
    
    * Add debugging logs
    
    * Fix kafka offset sync in participant
    
    * Adjust how clustering and compaction are configured in kafka-connect
    
    * Fix clustering strategy
    
    * Remove irrelevant changes from other published PRs
    
    * Update clustering logic and others
    
    * Update README
    
    * Fix test failures
    
    * Fix indentation
    
    * Fix clustering config
    
    * Add JavaCustomColumnsSortPartitioner and make async compaction enabled by default
    
    * Add test for JavaCustomColumnsSortPartitioner
    
    * Add more changes after IDE sync
    
    * Update README with clarification
    
    * Fix clustering logic after rebasing
    
    * Remove unrelated changes

46	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
33	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/BaseClusteringPlanActionExecutor.java
10	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
46	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
65	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/JavaRecentDaysClusteringPlanStrategy.java
131	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/JavaSizeBasedClusteringPlanStrategy.java
242	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java
70	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaSortAndSizeExecutionStrategy.java
62	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaCustomColumnsSortPartitioner.java
73	6	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
22	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java
9	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java
43	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/cluster/JavaClusteringPlanActionExecutor.java
123	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/cluster/JavaExecuteClusteringCommitActionExecutor.java
2	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
56	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/compact/HoodieJavaMergeOnReadTableCompactor.java
98	0	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestJavaBulkInsertInternalPartitioner.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java
4	26	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java
0	37	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java
51	7	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
130	2	hudi-kafka-connect/README.md
1	0	hudi-kafka-connect/demo/config-sink.json
9	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
27	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java

commit 9ed28b1570d57adc42e6ee1de6edd7d49fd70304
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-11-23 13:55:12 +0800

    [HUDI-2409] Using HBase shaded jars in Hudi presto bundle (#3623)
    
    * using hbase-shaded-jars-in-hudi-presto-hundle
    
    * test
    
    * add hudi-common-bundle
    
    * code review
    
    * code review
    
    * code review
    
    * code review
    
    * test
    
    * test
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

54	0	packaging/hudi-presto-bundle/pom.xml

commit 9de995134888b6e36fac1f50722b4d3577d00ab3
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-11-23 13:46:02 +0800

    [HUDI-2778] Optimize statistics collection related codes and add some docs for z-order add fix some bugs (#4013)
    
    * [HUDI-2778] Optimize statistics collection related codes and add more docs for z-order.
    
    * add test code for multi-thread parquet footer read

11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
8	10	hudi-client/hudi-spark-client/src/main/java/org/apache/spark/ZCurveOptimizeHelper.java
30	12	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java
52	10	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
72	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestOptimizeTable.scala

commit c88c2af8bfa37ee74259cb2ccbd79a74ebb1c722
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-23 08:43:10 +0530

    [HUDI-2743] Assume path exists and defer fs.exists() in AbstractTableFileSystemView (#4002)

8	5	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java

commit 6aa710eae01382d0e8cd3bb0f71b5ee3d5105b11
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-11-22 18:03:38 -0800

    [MINOR] Add more configuration to Kafka setup script (#3992)
    
    * [MINOR] Add more configuration to Kafka setup script
    
    * Add option to reuse Kafka topic
    
    * Minor fixes to README

11	3	hudi-kafka-connect/README.md
61	33	hudi-kafka-connect/demo/setupKafka.sh

commit e22150fe15da2985b20077d2e0734fcd46b85a6f
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-23 07:29:03 +0530

    [HUDI-1937] Rollback unfinished replace commit to allow updates (#3869)
    
    * [HUDI-1937] Rollback unfinished replace commit to allow updates while clustering
    
    * Revert and delete requested replacecommit too
    
    * Rollback pending clustering instants transactionally
    
    * No double locking and add a config to enable rollback
    
    * Update config to be clear about rollback only on conflict

14	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/UpdateStrategy.java
18	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkAllowUpdateStrategy.java
6	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java
23	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
64	21	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java

commit 0d1e7ecdab89026b52c5e26c4374690f77b4737c
Author: Jimmy.Zhou <zhouyongjin@inspur.com>
Date:   2021-11-23 09:20:23 +0800

    [MINOR] Fix typo,'multipe' corrected to 'multiple' (#4068)

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java

commit 772af935d531c627100136fa2ff90ef826b4b536
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-11-22 17:19:41 -0800

    [HUDI-2737] Use earliest instant by default for async compaction and clustering jobs (#3991)
    
    Address review comments
    
    Fix test failures
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>

6	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
7	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
10	0	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
30	18	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
27	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
9	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
13	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 3bdab01a498d605faede833af2d88cd8ec9237a0
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-11-22 16:19:59 -0800

    [HUDI-2550] Expand File-Group candidates list for appending for MOR tables (#3986)

15	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
4	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
61	56	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitPartitioner.java
44	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java

commit fe57e9beea54ac54ac0c0d204b7338deb7f36369
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-22 22:53:50 +0530

    [HUDI-2599] Make addFilesToview and fetchLatestBaseFiles public (#4066)

2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java

commit fc9ca6a07aab51db4bc36ade71c6c661f9e4ed42
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-22 11:44:38 -0500

    [HUDI-2559] Converting commit timestamp format to millisecs (#4024)
    
    - Adds support for generating commit timestamps with millisecs granularity.
    - Older commit timestamps (in secs granularity) will be suffixed with 999 and parsed with millisecs format.

3	3	hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
6	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
58	14	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java
4	4	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
28	7	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
5	5	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
2	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java
9	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
3	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java

commit 89452063b4fcc6d10634c1d3eda8ba736ac0dc44
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-22 19:27:44 +0530

    [MINOR] Fix instant parsing in HoodieClusteringJob (#4071)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java

commit 7f3b89fad7dd8238bd0c90585e4b7f914d23093e
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-22 04:21:24 -0800

    [HUDI-2472] Enabling metadata table for TestHoodieIndex test case (#4045)
    
    - Enablng the metadata table for testSimpleGlobalIndexTagLocationWhenShouldUpdatePartitionPath.
       This is more of a test issue.

6	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
19	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java

commit a2c91a7a9b582cc25dbdf27534dd71265a23a39c
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-11-22 19:00:33 +0800

    [HUDI-2533] New option for hoodieClusteringJob to check, rollback and re-execute the last failed clustering job (#3765)
    
    * coding finished and need to do uts
    
    * add uts
    
    * code review
    
    * code review
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

35	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
60	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 02f7ca2b0518b0a61d539e9f0781b70835aea287
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-11-22 02:16:45 -0800

    [HUDI-1870] Add more Spark CI build tasks  (#4022)
    
    * [HUDI-1870] Add more Spark CI build tasks
    
    - build for spark3.0.x
    - build for spark-shade-unbundle-avro
    - fix build failures
      - delete unnecessary assertion for spark 3.0.x
      - use AvroConversionUtils#convertAvroSchemaToStructType instead of calling SchemaConverters#toSqlType directly to solve the compilation failures with spark-shade-unbundle-avro (#5)
    
    Co-authored-by: Yann <biyan900116@gmail.com>

8	0	.github/workflows/bot.yml
5	3	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
6	5	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/utils/SparkSqlUtils.scala
4	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
4	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
7	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
5	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala
4	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
0	4	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java

commit 8281cbf7624c3a4eb90bf58671daf76843d00819
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-22 11:05:05 +0800

    [HUDI-2799] Fix the classloader of flink write task (#4042)

2	0	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
2	0	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
2	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java

commit 2533a9cc17dd491b620b42df1a7b17350a1e69a1
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-11-21 16:34:59 +0800

    [MINOR] Fix typos (#4053)

12	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java

commit 887787e8b9b786f20f5fe3fb6d61c820f49aa4cb
Author: Nate Radtke <5672085+nateradtke@users.noreply.github.com>
Date:   2021-11-21 00:41:05 -0600

    [HUDI-1932] Update Hive sync timestamp when change detected (#3053)
    
    * Update Hive sync timestamp when change detected
    
    Only update the last commit timestamp on the Hive table when the table schema
    has changed or a partition is created/updated.
    
    When using AWS Glue Data Catalog as the metastore for Hive this will ensure
    that table versions are substantive (including schema and/or partition
    changes). Prior to this change when a Hive sync is performed without schema
    or partition changes the table in the Glue Data Catalog would have a new
    version published with the only change being the timestamp property.
    
    https://issues.apache.org/jira/browse/HUDI-1932
    
    * add conditional sync flag
    
    * fix testSyncWithoutDiffs
    
    * fix HiveSyncConfig
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

5	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
15	5	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
31	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit 520538b15dd83af47c32113aeebba96149493ffa
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-21 13:27:18 +0800

    [HUDI-2392] Make flink parquet reader compatible with decimal BINARY encoding (#4057)

3	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
4	3	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 0411f73c7d33e36bd8d12e7eae948518704a9548
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-21 12:38:56 +0800

    [HUDI-2804] Add option to skip compaction instants for streaming read (#4051)

11	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
21	4	hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
3	1	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
22	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 74b59a44ec4047a53288d1d7cb69269b35c82bc6
Author: leesf <490081539@qq.com>
Date:   2021-11-21 10:59:12 +0800

    [HUDI-2813] Claim RFC number for RFC for spark datasource V2 Integration (#4059)

1	0	rfc/README.md

commit 305d160081d29c26a247cc7a5d085e1fb370820a
Author: dufeng1010 <dufeng1010@126.com>
Date:   2021-11-21 10:11:01 +0800

    [MINOR] optimize in constructor of inputbatch class (#4040)
    
    Co-authored-by: „∆∂≈∑Â <yandufeng@sinochem.com>

1	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java

commit 1a5484d2db1dbf7b6f2b8d87b2fb7dba8ad455aa
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-11-20 17:28:48 -0800

    [MINOR] Claim RFC number for RFC for debezium source for deltastreamer (#4047)

2	1	rfc/README.md

commit ae0c67d9fc7c75dca46655135fd7ab63832aebb2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-11-20 08:07:40 -0800

    [HUDI-2795] Add mechanism to safely update,delete and recover table properties (#4038)
    
    * [HUDI-2795] Add mechanism to safely update,delete and recover table properties
    
      - Fail safe mechanism, that lets queries succeed off a backup file
      - Readers who are not upgraded to this version of code will just fail until recovery is done.
      - Added unit tests that exercises all these scenarios.
      - Adding CLI for recovery, updation to table command.
      - [Pending] Add some hash based verfication to ensure any rare partial writes for HDFS
    
    * Fixing upgrade/downgrade infrastructure to use new updation method

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
73	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java
26	62	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java
95	5	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java
137	0	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableConfig.java

commit f4b974ac7bde019e5b1ff0813297994cfbcfceff
Author: Harsha Teja Kanna <h7kanna@users.noreply.github.com>
Date:   2021-11-20 03:24:21 -0600

    [HUDI-2742] Added S3 object filter to support multiple S3EventsHoodieIncrSources single S3 meta table (#4025)

17	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java

commit 6cc97cc0c9a7f904b8e69f29c5c875f260758f39
Author: Ron <ldliulsy@163.com>
Date:   2021-11-20 11:55:12 +0800

    Remove the aws packages from hudi flink bundle jar (#4050)

0	5	packaging/hudi-flink-bundle/pom.xml

commit 3dc626243742613dcef5bf56acf57c47de0262db
Author: wenningd <wenningding95@gmail.com>
Date:   2021-11-19 19:38:38 -0800

    [HUDI-2242] Add configuration inference logic for few options (#3359)
    
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

4	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigProperty.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
67	7	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
38	35	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
4	1	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java
4	1	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java
4	1	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
51	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceOptions.scala

commit 0230d40b74ee0bf99ff1d3d06ad1a7db26bef017
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-19 17:02:57 -0800

    [HUDI-2796] Metadata table support for Restore action to first commit (#4039)
    
     - Adding support for the metadata table to restore to first commit and
       take proper action for the bootstrap on subequent commits.

53	14	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
5	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java

commit c8617d93904bbc17088bc7e8727b04e0a2be3395
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-19 17:02:21 -0800

    [HUDI-2472] Enabling metadata table for TestHoodieMergeOnReadTable and TestHoodieCompactor (#4023)

22	14	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
13	5	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java
25	18	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
4	16	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
19	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieSparkWriteableTestTable.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 459b34240bc041be0fba7312f096980da024a5d9
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-19 15:11:29 -0800

    [HUDI-2593] Virtual keys support for metadata table (#3968)
    
    - Metadata table today has virtual keys disabled, thereby populating the metafields
      for each record written out and increasing the overall storage space used. Hereby
      adding virtual keys support for metadata table so that metafields are disabled
      for metadata table records.
    
    - Adding a custom KeyGenerator for Metadata table so as to not rely on the
      default Base/SimpleKeyGenerators which currently look for record key
      and partition field set in the table config.
    
    - AbstractHoodieLogRecordReader's version of processing next data block and
      createHoodieRecord() will be a generic version and making the derived class
      HoodieMetadataMergedLogRecordReader take care of the special creation of
      records from explictly passed in partition names.

6	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
21	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
52	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataKeyGenerator.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
7	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
19	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
3	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
15	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
15	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
73	20	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java
6	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java
10	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
9	10	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
16	5	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
14	8	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
35	12	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java
12	13	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
25	9	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
21	10	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
41	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java
12	6	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip

commit eba354e922e5bf28f961e5ac7905b110315d71cf
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-19 21:39:08 +0530

    [HUDI-2731] Make clustering work regardless of whether there are base°≠ (#3970)

4	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
98	21	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java
6	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java
33	13	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java

commit bf008762dfa3215823d47184e6f4e6d4f7bd03fc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-19 23:39:37 +0800

    [HUDI-2798] Fix flink query operation fields (#4041)

15	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
46	21	hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
6	4	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
10	7	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java

commit 7a00f867aef79f2c0f411f0f9ff22572fb61093e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-19 14:30:17 +0800

    [HUDI-2791] Allows duplicate files for metadata commit (#4033)

4	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java

commit 4e067ca581975596df04a30296a537fe1905bbfe
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-11-18 05:33:50 -0800

    [HUDI-2641] Avoid deleting all inflight commits heartbeats while rolling back failed writes (#3956)

2	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
14	17	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HeartbeatUtils.java
66	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
72	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java

commit 24def0b30dabd3c447fbfbde636868f1913e9074
Author: wenningd <wenningding95@gmail.com>
Date:   2021-11-18 01:59:26 -0800

    [HUDI-2362] Add external config file support (#3416)
    
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

26	0	conf/hudi-defaults.conf.template
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
119	36	hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java
19	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
40	4	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
26	0	hudi-common/src/test/resources/external-config/hudi-defaults.conf
4	3	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
3	10	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
22	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala
9	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
23	0	hudi-spark-datasource/hudi-spark/src/test/resources/external-config/hudi-defaults.conf
104	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSqlConf.scala
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
4	11	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
10	13	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 8772cec4bdfe71d4dfcc1b92cb39075c71a363b9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-18 16:40:48 +0800

    [HUDI-2790] Fix the changelog mode of HoodieTableSource (#4029)

10	0	hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
4	5	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
2	2	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java

commit 71a2ae0fd6163d3108c6557ce6295f649246adcb
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-18 13:59:03 +0800

    [HUDI-2789] Flink batch upsert for non partitioned table does not work (#4028)

8	0	hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
10	11	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
2	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
5	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java

commit 2d3f2a3275ba615245fcabda96b8282cb86940ad
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-17 14:43:00 -0500

    [HUDI-2734] Setting default metadata enable as false for Java (#4003)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	3	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
22	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit f715cf607f0692e6500a295a0ab5604f3979df3a
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-17 10:59:38 -0800

    [HUDI-2716] InLineFS support for S3FS logs (#3977)

40	25	hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFSUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFileSystem.java
4	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
58	0	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java

commit 1ee12cfa6fa8d18546af11a7ae03cb0e4969460f
Author: wenningd <wenningding95@gmail.com>
Date:   2021-11-17 09:09:31 -0800

    [HUDI-2314] Add support for DynamoDb based lock provider (#3486)
    
    - Co-authored-by: Wenning Ding <wenningd@amazon.com>
    - Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

194	0	hudi-aws/pom.xml
45	0	hudi-aws/src/main/java/org/apache/hudi/aws/credentials/HoodieAWSCredentialsProviderFactory.java
70	0	hudi-aws/src/main/java/org/apache/hudi/aws/credentials/HoodieConfigAWSCredentialsProvider.java
219	0	hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java
84	0	hudi-aws/src/main/java/org/apache/hudi/config/AWSLockConfiguration.java
148	0	hudi-aws/src/main/java/org/apache/hudi/config/HoodieAWSConfig.java
42	0	hudi-aws/src/test/java/org/apache/hudi/aws/TestHoodieAWSCredentialsProviderFactory.java
120	0	hudi-aws/src/test/java/org/apache/hudi/aws/transaction/integ/ITTestDynamoDBBasedLockProvider.java
25	0	hudi-aws/src/test/resources/log4j-surefire.properties
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java
0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java
5	0	packaging/hudi-flink-bundle/pom.xml
5	0	packaging/hudi-spark-bundle/pom.xml
5	0	packaging/hudi-utilities-bundle/pom.xml
17	0	pom.xml

commit 826414cff5adb5006066bdedb843ed864709b048
Author: ¬¨≤® <26039470+lubo212@users.noreply.github.com>
Date:   2021-11-17 22:47:52 +0800

    [MINOR] Add the Schema for GooseFS to StorageSchemes (#3982)
    
    Co-authored-by: lubo <bollu@tencent.com>

2	0	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java

commit 4d884bdaa9affae9ce920c83f799ff9e1be99861
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-11-17 16:50:04 +0800

    [MINOR] Fix typo,'Hooide' corrected to 'Hoodie' (#4007)

1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala

commit aec5d11da2e8a025fb6c8659a648f9e2d36990d6
Author: 0x574C <761604382@qq.com>
Date:   2021-11-17 14:45:43 +0800

    Check --source-avro-schema-path  parameter (#3987)
    
    Co-authored-by: 0x3E6 <dragon1996>

3	1	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java

commit ce7d2333078e4e1f16de1bce6d448c5eef1e4111
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-17 01:21:28 -0500

    [HUDI-2151] Part3 Enabling marker based rollback as default rollback strategy (#3950)
    
    * Enabling timeline server based markers
    
    * Enabling timeline server based markers and marker based rollback
    
    * Removing constraint that timeline server can be enabled only for hdfs
    
    * Fixing tests

1	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
0	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkersFactory.java
2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
6	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
4	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java
4	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java

commit 04eb5fdc651bce3b34f17c1828879b18f1b1b6f8
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-16 23:36:55 -0500

    [HUDI-2753] Ensure list based rollback strategy is used for restore (#3983)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java
5	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackPlanActionExecutor.java
3	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
3	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
3	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
4	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java

commit cbcbec4d3831d6236a2dbf1f17d50b447800994a
Author: Alexey Kudinkin <alexey@infinilake.com>
Date:   2021-11-16 18:30:16 -0800

    [MINOR] Fixed checkstyle config to be based off Maven root-dir (requires Maven >=3.3.1 to work properly); (#4009)
    
    Updated README

1	1	README.md
2	0	pom.xml
1	1	style/checkstyle.xml

commit 6f5e661010a85f3426131111baff962a6d6ba91e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-16 13:46:34 +0800

    [HUDI-2769] Fix StreamerUtil#medianInstantTime for very near instant time (#4005)

7	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
2	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java

commit bff8769ed438aae36bbfc1ebefca63889418df18
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-15 22:36:03 -0500

    [HUDI-2712] Fixing a bug with rollback of partially failed commit which has new partitions (#3947)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java
9	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
64	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
5	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java

commit 38b6934352abd27b98332cce005f18102b388679
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-11-15 22:36:54 +0800

    [HUDI-2683] Parallelize deleting archived hoodie commits (#3920)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

10	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
29	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
18	7	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java

commit 53d2d6ae241f86aaf337abc50d3f00232fa87d00
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-15 07:27:35 -0500

    [HUDI-2744] Fix parsing of metadadata table compaction timestamp when metrics are enabled (#3976)

32	16	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
3	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
8	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java
2	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
14	0	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java

commit 3c4319729c7b5ae1ae39e46bd0ac3451fa1df032
Author: dufeng1010 <dufeng1010@126.com>
Date:   2021-11-15 14:39:43 +0800

    [MINOR] Fix typo in IntervalTreeBasedGlobalIndexFileFilter (#3993)
    
    Co-authored-by: „∆∂≈∑Â <yandufeng@sinochem.com>

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java

commit a0dae41409a4f2d509aae1b16a4b509ec774c454
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-11-15 11:29:40 +0800

    [HUDI-2758] remove redundant code in the hoodieRealtimeInputFormatUitls.getRealtimeSplits (#3994)

0	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java

commit a14d1040b909658920a8c95a9b9914d0806ca6fd
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-14 17:47:41 -0800

    [HUDI-2589] Claiming RFC-37 for Metadata based bloom index feature. (#3995)

2	1	rfc/README.md

commit 0bb6d8ff80cd49dd05d2cfa427d36f2c97dd77a8
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-11-15 07:44:39 +0800

    [HUDI-2706] refactor spark-sql to make consistent with DataFrame api (#3936)

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
7	31	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
72	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
61	12	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
7	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala
1	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
7	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
130	119	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
13	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
46	49	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
24	17	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
19	14	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java
2	2	hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql
47	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite2.scala
4	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala
4	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCompactionTable.scala
70	17	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala
184	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala
29	14	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoLogOnlyTable.scala
11	11	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala
6	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala
4	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala
3	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala

commit c2f9094b493ed28a63bdaed10ce4349261c3cea6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-14 08:51:54 +0800

    [HUDI-2756] Fix flink parquet writer decimal type conversion (#3988)

1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java
85	0	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/FixedLenBytesColumnReader.java
1	2	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java

commit 994922a1593824744f93fd1408fcf1807cf4ebc1
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-13 16:37:30 -0800

    [HUDI-2472] Enabling metadata table in TestHoodieIndex and TestMergeOnReadRollbackActionExecutor (#3978)
    
    - With rollback after first commit support added to metadata table, these test cases are safe to have metadata table turned on.

1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java

commit 0e8461e9abc97537954a2c1dd716aed53e52dc62
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-11-13 09:12:33 +0800

    [HUDI-2697] Minor changes about hbase index config. (#3927)

3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java

commit 93fd3517e319473fed74e62bf09e41e4348c843c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-12 17:28:25 -0500

    [HUDI-2741] Fixing instantiating metadata table config in HoodieFileIndex (#3974)

1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala

commit 9720820975be61c9a211a24785a28cf0e8b0d7b3
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-12 05:18:40 -0800

    [HUDI-2718] ExternalSpillableMap payload size re-estimation throws ArithmeticException (#3955)
    
    - ExternalSpillableMap does the payload/value size estimation on the first put to
      determine when to spill over to disk map. The payload size re-estimation also
      happens after a minimum threshold of puts. This size re-estimation goes my the
      current in-memory map size for calculating average payload size and does attempts
      divide by zero operation when the map is size is empty. Avoiding the
      ArithmeticException during the payload size re-estimate by checking the map size
      upfront.

2	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
36	6	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java

commit 4f217fe718b0b4e9656c2a45f7b89cb5df15a4f2
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-12 07:29:37 -0500

    [HUDI-2151] Part1 Setting default parallelism to 200 for some of write configs (#3948)

5	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit bc511edc85261c6332b5438591249f76dd03d447
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-12 12:17:58 +0800

    [HUDI-2746] Do not bootstrap for flink insert overwrite (#3980)

31	4	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
1	1	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
2	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
2	2	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
30	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 6b93ccca9b26b47099e9791d4363e0616e77e408
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-11-11 21:03:01 +0800

    [HUDI-2738] Remove the bucketAssignFunction useless context (#3972)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

0	14	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
0	57	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignOperator.java
2	2	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
6	18	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 90529aa55263b5ea6e02277b27017e5178b0586c
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-11-11 11:54:34 +0800

    [HUDI-2495] Resolve inconsistent key generation for timestamp types  by GenericRecord and Row (#3944)

3	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
116	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala

commit 77b0440eb4fdbb01d41aa27b4fa2a8d45a20b293
Author: Prashant Wason <pwason@uber.com>
Date:   2021-11-10 19:37:48 -0800

    [HUDI-2634] Improved the metadata table bootstrap for very large tables. (#3873)
    
    * [HUDI-2634] Improved the metadata table bootstrap for very large tables.
    
    Following improvements are implemented:
    1. Memory overhead reduction:
      - Existing code caches FileStatus for each file in memory.
      - Created a new class DirectoryInfo which is used to cache a director's file list with parts of the FileStatus (only filename and file len). This reduces the memory requirements.
    
    2. Improved parallelism:
      - Existing code collects all the listing to the Driver and then creates HoodieRecord on the Driver.
      - This takes a long time for large tables (11million HoodieRecords to be created)
      - Created a new function in SparkRDDWriteClient specifically for bootstrap commit. In it, the HoodieRecord creation is parallelized across executors so it completes fast.
    
    3. Fixed setting to limit the number of parallel listings:
      - Existing code had a bug wherein 1500 executors were hardcoded to perform listing. This leads to exception due to limit in the spark's result memory.
      - Corrected the use of the config.
    
    Result:
    Dataset has 1299 partitions and 12Million files.
    file listing time=1.5mins
    HoodieRecord creation time=13seconds
    deltacommit duration=2.6mins
    
    Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

134	65	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
3	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
5	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java
5	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
7	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java
16	4	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileFormat.java

commit 90f9b4562abaef955cbff54f539ec867d8708b60
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-11-11 10:13:21 +0800

    [HUDI-2685] Support scheduling online compaction plan when there are no commit data (#3928)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
8	0	hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
10	4	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
9	7	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
32	2	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
2	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
9	3	hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java
9	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
44	4	hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java
31	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java

commit 2d362af00ae61ab76ff45fd83f142d3af4bd0909
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-11-10 20:22:24 +0800

    [HUDI-2730] Move EventTimeAvroPayload into hudi-common module (#3959)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

0	0	{hudi-client/hudi-flink-client => hudi-common}/src/main/java/org/apache/hudi/common/model/EventTimeAvroPayload.java

commit 187bedf79531e089eb40acf03ca72c2d54400b0e
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-10 14:23:24 +0530

    [HUDI-2442] Change default values for certin clustering configs (#3875)

9	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
7	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java
0	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit a40ac62e0ce7ec807a00803d23ed223d7c607459
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-11-10 15:41:07 +0800

    [HUDI-2086]redo the logical of mor_incremental_view for hive (#3203)

118	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BaseFileWithLogsSplit.java
10	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
106	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithLogFilePath.java
103	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RealtimeFileStatus.java
68	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieEmptyRecordReader.java
202	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
45	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
85	22	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
268	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit fd0f5df26d9bc307a6a5b39089c8263e3b7574d4
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-11-10 14:05:12 +0800

    [HUDI-2297] Estimate available memory size for spillable map accurately. (#3455)

10	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java
8	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/engine/EngineProperty.java

commit bb6a19e7d71a91f23e17bf2fe5dcb8ecf4affde2
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-10 09:47:50 +0530

    [HUDI-1877] Support records staying in same fileId after clustering (#3833)
    
    * [HUDI-1877] Support records staying in same fileId after clustering
    
    Add plan strategy
    
    * Ensure same filegroup id and refactor based on comments

3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/CreateHandleFactory.java
5	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/SingleFileHandleCreateFactory.java
3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/WriteHandleFactory.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractBulkInsertHelper.java
3	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java
60	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSingleFileSortPlanStrategy.java
12	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java
40	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
80	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java
4	27	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
5	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java
8	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
8	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java
47	18	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java

commit dfe3b84715e8fecfa96ef615c217f5eaf0da94e8
Author: davehagman <73851873+davehagman@users.noreply.github.com>
Date:   2021-11-09 17:37:59 -0500

    [HUDI-2579] Make deltastreamer checkpoint state merging more explicit (#3820)
    
     Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

28	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java
15	24	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
98	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestTransactionUtils.java
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
46	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java

commit 2f95967dfe0b5286bbb3b0f48a2de7cb8fcc7b7c
Author: Prashant Wason <pwason@uber.com>
Date:   2021-11-09 07:26:20 -0800

    [HUDI-2591] Bootstrap metadata table only if upgrade / downgrade is not required. (#3836)

40	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
4	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
19	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
30	11	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
6	23	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java

commit e057a10499729301ebe96d7cd54902b113af1811
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-09 15:40:00 +0800

    [HUDI-2715] The BitCaskDiskMap iterator may cause memory leak (#3951)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
31	0	hudi-common/src/main/java/org/apache/hudi/common/util/ClosableIterator.java
9	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java
4	3	hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java
1	6	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java

commit 6d109c6de5078560abab96f96dc2a9bfe9ed8e57
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-08 22:12:32 -0500

    [HUDI-2595] Fixing metadata table updates such that only regular writes from data table can trigger table services in metadata table (#3900)

7	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
14	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java
7	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
6	6	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/common/testutils/HoodieMetadataTestTable.java
3	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
5	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
6	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
6	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
6	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
6	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
5	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
5	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
5	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
5	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
37	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
38	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java

commit 7aaf47e716a303b5fea5150a5093a849f60ff607
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-11-08 16:56:03 +0800

    [HUDI-2698] Remove the table source options validation (#3940)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

1	5	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java

commit c7bf2c76876227b30fc030a9a01ac60f9a8d2956
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-08 15:08:49 +0800

    [HUDI-2709] Add more options when initializing table (#3939)

7	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit cf2ecd77badcaa713ce12d7c9126aa57662d3a3f
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-11-08 02:19:17 +0800

    [HUDI-2679] Fix the TestMergeIntoLogOnlyTable typo. (#3918)

1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/{TestMereIntoLogOnlyTable.scala => TestMergeIntoLogOnlyTable.scala}

commit e0285800fb5609fcf27b523109e369a8d7d6b27d
Author: manasaks <manasas2004@gmail.com>
Date:   2021-11-06 21:53:20 +0530

    HUDI-1827 : Add ORC support in Bootstrap Op (#3457)
    
     Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

43	10	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java
82	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/BaseBootstrapMetadataHandler.java
38	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapMetadataHandler.java
46	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/MetadataBootstrapHandlerFactory.java
90	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/OrcBootstrapMetadataHandler.java
94	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/ParquetBootstrapMetadataHandler.java
4	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
75	0	hudi-common/src/main/java/org/apache/hudi/common/util/AvroOrcUtils.java
2	7	hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java
7	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
75	0	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieSparkBootstrapExample.java
85	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkFullBootstrapDataProviderBase.java
38	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkOrcBootstrapDataProvider.java
3	51	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
503	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java

commit f41539a9cb5fd619bb0ec0c9af5484f316490303
Author: Genmao Yu <hustyugm@gmail.com>
Date:   2021-11-07 00:16:13 +0800

    [HUDI-313] bugfix: NPE when select count start from a  realtime table with Tez(#3630)
    
    Co-authored-by: dylonyu <dylonyu@tencent.com>

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java

commit 9a8963d05eb93849e84151a63eecf12afe1017ce
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-06 12:23:15 +0800

    [HUDI-2702] Set up keygen class explicit for write config for flink table upgrade (#3931)

1	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 08c35a55b3133ddaead0581c9129e88a869421a1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-05 22:33:41 +0530

    [HUDI-2526] Make spark.sql.parquet.writeLegacyFormat configurable (#3917)

22	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
8	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriterFactory.java
4	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetWriteSupport.java
15	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieInternalRowParquetWriter.java

commit 844346c3ab100a857b547137aca003c45e523eb9
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-11-05 22:50:16 +0800

    [HUDI-2471] Add support ignoring case in merge into (#3700)

15	14	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
21	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
111	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala

commit b7ee341e14507f2562f8c3a3212daf8686631e05
Author: Prashant Wason <pwason@uber.com>
Date:   2021-11-05 06:31:42 -0700

    [HUDI-1794] Moved static COMMIT_FORMATTER to thread local variable as SimpleDateFormat is not thread safe. (#2819)

3	3	hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
31	15	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
84	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
2	3	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
45	1	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
5	5	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java

commit 3af6568d316f410184e3d4dcfdbf00a8802b1fb8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-05 16:37:23 +0800

    [HUDI-2696] Remove the aborted checkpoint notification from coordinator (#3926)

3	11	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
9	3	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
4	20	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
5	21	hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java
1	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
4	3	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
6	7	hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java

commit f67da0c7d0831db0b4eba7111c634eb50eaec760
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-11-05 14:36:22 +0800

    [HUDI-2686] Proccess record after all bootstrap operator ready (#3925)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

28	1	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
53	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java
50	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunction.java
2	2	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java

commit 2c1e25932996cbf47c7cd56d944d1d9103f01c34
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-11-05 12:16:21 +0800

    [HUDI-2651] Sync all the missing sql options for HoodieFlinkStreamer (#3903)
    
    Co-authored-by: yuzhaojing <yuzhaojing@bytedance.com>

38	5	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java

commit 33436aa359093246f31b53530d8890a4ce07cfcb
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-04 20:48:57 +0800

    Revert "[HUDI-2677] Add DFS based message queue for flink writer (#3915)" (#3923)
    
    This reverts commit dbf8c44bdb3019f2ce93d6b1224d9d478c0340fa.

6	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
41	24	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
15	25	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
17	81	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
0	173	hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageBus.java
0	126	hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageClient.java
0	132	hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageDriver.java
0	137	hudi-flink/src/test/java/org/apache/hudi/sink/message/TestMessageBus.java
0	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit dbf8c44bdb3019f2ce93d6b1224d9d478c0340fa
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-04 18:09:00 +0800

    [HUDI-2677] Add DFS based message queue for flink writer (#3915)

2	6	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
24	41	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
25	15	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
81	17	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
173	0	hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageBus.java
126	0	hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageClient.java
132	0	hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageDriver.java
137	0	hudi-flink/src/test/java/org/apache/hudi/sink/message/TestMessageBus.java
1	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 689020f30314477f4578b84bf3805a8d7d653c3f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-04 16:23:36 +0800

    [HUDI-2684] Use DefaultHoodieRecordPayload when precombine field is specified specifically (#3922)

81	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/common/model/EventTimeAvroPayload.java
6	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
9	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
4	0	packaging/hudi-flink-bundle/pom.xml

commit 8932c4f7b57ef5290f48f35c9a8362bd28b0ca42
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-03 22:12:49 +0800

    [HUDI-2678] flink writer writes huge log file (#3916)

0	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java

commit acc40625f594576353919323c2b34c43309f18d5
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-11-03 20:36:01 +0800

    [HUDI-2676] Hudi should synchronize owner information to hudi _rt/_ro table. (#3911)

2	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java

commit f2fb1aac26fdde87a800939b4a2016092b4fe9d4
Author: peanut-chenzhong <58263343+peanut-chenzhong@users.noreply.github.com>
Date:   2021-11-03 20:23:40 +0800

    [HUDI-2509] OverwriteNonDefaultsWithLatestAvroPayload doesn`t work when upsert data with some null value column (#3761)
    
     Co-authored-by: 502395931@qq.com <lzyadam315>

4	0	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
31	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteNonDefaultsWithLatestAvroPayload.java

commit 7fc7e9b2bc6c5aeabd6f490376e9e0ae76e07874
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-11-03 14:30:20 +0800

    [HUDI-2660] Delete the view storage properties first before creation (#3899)

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
6	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java
1	0	hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java

commit 5517d292f917821879d41af515f4ed7331d54ba2
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-11-03 11:10:18 +0800

    [HUDI-2674] hudi hive reader should not print read values. (#3910)

0	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java

commit b12a25b0b17f98dace51b2d6e260509d4089e0cd
Author: Alexey Kudinkin <alexey.kudinkin@gmail.com>
Date:   2021-11-02 20:06:26 -0700

    [MINOR] Fixed RAT config for "hudi-utilities-bundle" to ignore transient build-bound artifiacts (#3909)

22	0	packaging/hudi-utilities-bundle/pom.xml

commit 6351e5f4d042b14cd0f6715c36f23d75fcc8e091
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-11-03 10:04:23 +0800

    [HUDI-2538] persist some configs to hoodie.properties when the first write (#3823)

7	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java
63	35	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java
7	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
11	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
12	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
5	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
16	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
24	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java
4	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
87	31	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
6	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
2	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
7	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
53	30	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
10	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
38	14	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
32	28	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
15	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
10	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
107	30	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala
9	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
6	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
3	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
1	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala

commit 1f17467f735c28df0a7c52ac09ec3e49c99b793a
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-11-03 09:25:12 +0800

    [HUDI-1869] Upgrading Spark3 To 3.1 (#3844)
    
    
    
    Co-authored-by: pengzhiwei <pengzhiwei2015@icloud.com>

8	5	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
5	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
33	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieIncompatibleSchemaException.java
7	1	hudi-spark-datasource/hudi-spark/pom.xml
9	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
28	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializer.scala
36	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HooodieAvroDeserializer.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieCommonSqlParser.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
6	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala
18	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
1	13	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala
4	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala
4	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
46	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java
12	4	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala
58	0	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java
6	0	hudi-sync/hudi-hive-sync/pom.xml
13	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestParquet2SparkSchemaUtils.java
13	2	pom.xml

commit dee3a14aaee149d3034191e5ca40fe87bd7e63fa
Author: Carl-Zhou-CN <67902676+Carl-Zhou-CN@users.noreply.github.com>
Date:   2021-11-03 06:05:09 +0800

    [HUDI-2582] Support concurrent key gen for different tables with row writer path (#3817)
    
    Co-authored-by: yao.zhou <yao.zhou@linkflowtech.com>

9	9	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
29	7	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java

commit d194643b49834a772657b61a90cd1e64aa754282
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-11-03 00:31:57 +0800

    [HUDI-2101][RFC-28] support z-order for hudi (#3330)
    
    * [HUDI-2101]support z-order for hudi
    
    * Renaming some configs for consistency/simplicity.
    
    * Minor code cleanups
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

103	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
25	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
186	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/optimize/ZOrderingUtil.java
10	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
129	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/optimize/TestZOrderingUtil.java
6	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
6	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
4	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
7	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
98	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java
31	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java
355	0	hudi-client/hudi-spark-client/src/main/java/org/apache/spark/ZCurveOptimizeHelper.java
41	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
526	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/execution/RangeSample.scala
99	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
58	0	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
6	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
84	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
208	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala
149	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestOptimizeTable.scala

commit f9bc3e03e52469a387524b5d0d2a6aafd9a9e71d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-02 12:16:38 -0400

    [MINOR] Adding a deprecated constructor to AbstractSyncHoodieClient (#3902)

6	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
0	4	pom.xml

commit f239187da8052680bde355efbaa33149d37b4280
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-11-02 19:43:20 +0800

    [HUDI-2515] Add close when producing records failed (#3746)

8	6	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetReaderIterator.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java
5	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetReaderIterator.java

commit 2eaf0fd939f680638e711f66cbdef1f7931b1ed1
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-11-02 03:54:36 -0700

    [HUDI-2472] Enabling Metadata table for some of TestCleaner unit tests (#3803)
    
    - Making use of HoodieTableMetadataWriter when constructing the HoodieMetadataTestTable
       instance for the test to enable metadata table usage.

12	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java

commit 35111131c389704b2f5d4062c8ab73582f61ef13
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-11-02 00:16:45 -0400

    [HUDI-2005] Fixing partition path creation in AbstractTableFileSystemView (#3769)

2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
7	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java

commit 5302b9a4efdb2b13a17561709459e8a1a55d060e
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-11-02 04:44:48 +0530

    [HUDI-2662] Downloads from Nexus Pentaho repo taking too long (#3901)
    
    
    Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

5	6	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
2	2	pom.xml

commit 13b637ddc3ab9fba51e303cfa0343a496e476d26
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-11-01 20:11:00 +0800

    [HUDI-2643] Remove duplicated hbase-common with tests classifier exists in bundles (#3886)

0	1	dependencies/hudi-flink-bundle_2.11.txt
3	4	dependencies/hudi-flink-bundle_2.12.txt
6	2	dependencies/hudi-hadoop-mr-bundle.txt
9	26	dependencies/hudi-integ-test-bundle.txt
0	1	dependencies/hudi-spark-bundle_2.11.txt
0	1	dependencies/hudi-spark-bundle_2.12.txt
0	1	dependencies/hudi-spark3-bundle_2.12.txt
0	1	dependencies/hudi-utilities-bundle_2.11.txt
3	4	dependencies/hudi-utilities-bundle_2.12.txt
4	0	packaging/hudi-flink-bundle/pom.xml
10	0	packaging/hudi-hadoop-mr-bundle/pom.xml
4	0	packaging/hudi-spark-bundle/pom.xml
4	0	packaging/hudi-utilities-bundle/pom.xml

commit 87c6f9cd077e2e8f3244f3f5c4e1d1ea5b2da4db
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-31 17:51:11 +0800

    [HUDI-2654] Add compaction failed event(part2) (#3896)

2	1	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java
6	5	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
15	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java
13	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
8	6	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
0	46	hudi-flink/src/main/java/org/apache/hudi/sink/utils/CoordinatorExecutor.java
69	11	hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java
29	10	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
15	6	hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockCoordinatorExecutor.java
3	3	hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java

commit 92a3c458bde7ca4d2bb72f4dbe486073f6a5ec4f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-30 08:37:30 +0800

    [HUDI-2654] Schedules the compaction from earliest for flink (#3891)

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
2	12	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
16	13	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
17	2	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
77	0	hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java
60	15	hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java

commit f6326693efe657cc0dbd45f1d394fcff7266e523
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-10-29 16:19:38 -0700

    [HUDI-1295] Hash ID generator util for Hudi table columns, partition and files (#3884)
    
    * [HUDI-1295] Hash ID generator util for Hudi table columns, partition and files
    
    - Adding a new utility class HashID to generate 32,64,128 bits hashes for any
      given message of string or byte array type. This class internally uses
      MessageDigest and xxhash libraries.
    
    - Adding stateful hash holders for Hudi table columns, partition and files to
      pass around for metaindex and to convert to base64encoded strings whenever
      needed

8	0	hudi-common/pom.xml
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/Base64CodecUtil.java
61	0	hudi-common/src/main/java/org/apache/hudi/common/util/hash/ColumnID.java
61	0	hudi-common/src/main/java/org/apache/hudi/common/util/hash/FileID.java
132	0	hudi-common/src/main/java/org/apache/hudi/common/util/hash/HashID.java
117	0	hudi-common/src/main/java/org/apache/hudi/common/util/hash/HoodieID.java
62	0	hudi-common/src/main/java/org/apache/hudi/common/util/hash/PartitionID.java
127	0	hudi-common/src/test/java/org/apache/hudi/common/util/hash/TestHashID.java

commit 5b1992a92d36efe03626e2e5282c71392dde81c1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-10-29 22:39:09 +0530

    [HUDI-1500] Support replace commit in DeltaSync with commit metadata preserved (#3802)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
1	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
15	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 29574af239ae4596034a17999484ed069ec7123f
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-10-29 12:14:39 -0400

    [HUDI-2573] Fixing double locking with multi-writers (#3827)
    
    - There are two code paths, where we are taking double locking. this was added as part of adding data table locks to update metadata table. Fixing those flows to avoid taking locks if a parent transaction already acquired a lock.

64	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
4	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
17	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java
18	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
6	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java
6	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
4	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
4	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
4	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
6	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
132	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
4	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
4	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java

commit 69ee790a47a5fa90a6acd954a9330cce3ae31c3b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-10-29 12:12:44 -0400

    [HUDI-1294] Adding inline read and seek based read(batch get) for hfile log blocks in metadata table (#3762)

134	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java
17	21	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
14	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
23	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
63	36	hudi-common/src/main/java/org/apache/hudi/common/table/log/{AbstractHoodieLogRecordScanner.java => AbstractHoodieLogRecordReader.java}
8	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
7	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
6	5	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java
12	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java
52	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
33	1	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
52	10	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
86	36	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
42	13	hudi-common/src/main/java/org/apache/hudi/metadata/{HoodieMetadataMergedLogRecordScanner.java => HoodieMetadataMergedLogRecordReader.java}
20	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
12	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit 0223c442ec9a746834d1b2f2582c5267b692823a
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-10-28 01:16:00 -0700

    [HUDI-2502] Refactor index in hudi-client module (#3778)
    
    - Refactor Index to reduce Line of Code and re-use across engines.

3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
36	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java
57	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/BaseHoodieBloomIndexHelper.java
0	261	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndex.java
238	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
43	43	hudi-client/{hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java => hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java}
87	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedHoodieBloomIndexHelper.java
34	28	hudi-client/{hudi-java-client/src/main/java/org/apache/hudi/index/JavaInMemoryHashIndex.java => hudi-client-common/src/main/java/org/apache/hudi/index/inmemory/HoodieInMemoryHashIndex.java}
47	42	hudi-client/{hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java => hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java}
161	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
3	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java
5	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
34	42	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java
58	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndexFactory.java
0	32	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/FlinkHoodieBloomIndex.java
0	140	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/simple/FlinkHoodieSimpleIndex.java
10	8	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java
3	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
3	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java
9	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
21	19	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java
7	0	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java
6	4	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
0	32	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieBloomIndex.java
29	31	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java
54	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndexFactory.java
3	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java
5	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
3	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java
11	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java
10	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
5	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java
0	9	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkMemoryUtils.java
127	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaPairRDD.java
40	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java
31	67	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java
103	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndexFactory.java
0	135	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkInMemoryHashIndex.java
0	299	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java
125	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java
20	15	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
0	165	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
3	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java
12	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java
32	32	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java
13	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
12	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java
31	27	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
23	14	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
18	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java
4	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
6	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
7	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
13	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java
41	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java
45	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java
157	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieMapPair.java
102	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodiePairData.java
5	1	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java
216	0	hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieMapPair.java
4	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit e5b6b8602c242c89cdb45440df8d2996a6c301f1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-28 13:52:06 +0800

    [HUDI-2633] Make precombine field optional for flink (#3874)

1	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
17	0	hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
4	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
5	3	hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java
22	5	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
23	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
36	12	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
7	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java

commit af3ffe5e422645b4a2d4aed75a9827aede55afa5
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-10-27 05:25:19 -0700

    [MINOR] Add links to all the existing RFCs in rfc/README.md (#3876)

39	7	rfc/README.md

commit 909c3ba45e9056dd38e5f35e22c993a3b5a614ac
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-27 20:00:24 +0800

    [HUDI-2632] Schema evolution for flink parquet reader (#3872)

5	1	hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
36	23	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetColumnarRowSplitReader.java
19	3	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
38	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
15	0	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
18	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java

commit ae000795d7fb69d14a8e30c5a69cfe73aeaf1bad
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2021-10-27 03:45:20 +0530

    [HUDI-1475]: fixed java doc for precombine api (#3867)

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java

commit 643b1a4df264876ad6f1be8b879ee9fc7133e639
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-10-26 14:45:52 -0700

    [MINOR] Fix README for hudi-kafka-connect (#3858)

2	2	hudi-kafka-connect/README.md

commit b1c4acf0aeb0f3d650c8e704828b1c2b0d2b5b40
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-10-26 22:36:10 +0800

    [HUDI-2614] Remove duplicated hadoop-hdfs with tests classifier exists in bundles (#3864)

0	1	dependencies/hudi-flink-bundle_2.11.txt
6	7	dependencies/hudi-flink-bundle_2.12.txt
0	5	dependencies/hudi-hive-sync-bundle.txt
26	10	dependencies/hudi-integ-test-bundle.txt
0	1	dependencies/hudi-kafka-connect-bundle.txt
0	1	dependencies/hudi-spark-bundle_2.11.txt
1	3	dependencies/hudi-spark-bundle_2.12.txt
1	3	dependencies/hudi-spark3-bundle_2.12.txt
0	1	dependencies/hudi-utilities-bundle_2.11.txt
4	6	dependencies/hudi-utilities-bundle_2.12.txt
1	0	hudi-client/hudi-client-common/pom.xml
22	0	hudi-client/hudi-java-client/pom.xml
1	0	hudi-integ-test/pom.xml
22	0	hudi-spark-datasource/hudi-spark/pom.xml
1	0	hudi-sync/hudi-hive-sync/pom.xml
1	0	packaging/hudi-integ-test-bundle/pom.xml
1	0	pom.xml

commit e3fc74668fc43fefd73087ff725245b8ed85b4a1
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-10-25 21:43:15 -0400

    [HUDI-2625] Revert "[HUDI-2005] Avoiding direct fs calls in HoodieLogFileReader (#3757)" (#3863)
    
    This reverts commit 1bb05325637740498cac548872cf7223e34950d0.

6	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
7	11	hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
2	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
2	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java
0	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java
2	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
1	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java
8	9	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit 4b5512e6857ce8265d048ecbcdb2b8cccb199d2e
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-10-25 21:56:47 +0800

    [MINOR] Fix typo,'deseralized' corrected to 'deserialized' & 'Kyro' corrected to 'Kryo' (#3846)

3	3	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java

commit 220bf6a7e6f5cdf0efbbbee9df6852a8b2288570
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-10-25 13:45:28 +0800

    [HUDI-2600] Remove duplicated hadoop-common with tests classifier exists in bundles (#3847)

3	3	dependencies/hudi-flink-bundle_2.11.txt
1	6	dependencies/hudi-hive-sync-bundle.txt
1	2	dependencies/hudi-kafka-connect-bundle.txt
1	2	dependencies/hudi-spark-bundle_2.11.txt
0	1	dependencies/hudi-timeline-server-bundle.txt
1	2	dependencies/hudi-utilities-bundle_2.11.txt
1	0	hudi-client/hudi-client-common/pom.xml
1	0	hudi-sync/hudi-hive-sync/pom.xml
1	0	hudi-timeline-service/pom.xml

commit 1bb05325637740498cac548872cf7223e34950d0
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-10-25 01:21:08 -0400

    [HUDI-2005] Avoiding direct fs calls in HoodieLogFileReader (#3757)

6	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
11	7	hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
10	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
11	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java
3	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java
3	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
4	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java
9	8	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit d8560377c306e49b7e58448b6897e9c0e7719f61
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-10-24 21:14:39 -0700

    [HUDI-2077] Fix TestHoodieDeltaStreamerWithMultiWriter (#3849)
    
    Remove the logic of using deltastreamer to prep test table. Use fixture (compressed test table) instead.

7	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java
3	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/providers/SparkProvider.java
81	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FixtureUtils.java
3	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
6	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
48	48	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java
5	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestJdbcbasedSchemaProvider.java
25	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip
-	-	hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip

commit 91845e241da242cede95f705b0637331ce9222ff
Author: mincwang <33626973+mincwang@users.noreply.github.com>
Date:   2021-10-24 23:18:01 +0800

    [MINOR] Show source table operator details on the flink web when reading hudi table (#3842)

17	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java

commit c9d641cc30ba5b1e65aa87b2c6d48a3bdd788564
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-10-23 07:07:09 -0700

    [HUDI-2468] Metadata table support for rolling back the first commit (#3843)
    
    - Fix is to make Metadata table writer creation aware of the currently inflight action so that it can
      make some informed decision about whether bootstrapping is needed for the table and whether
      any pending action on the data timeline can be ignored.

100	27	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
16	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
19	6	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
4	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
19	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
6	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java
33	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java

commit 5ed35bff836f898d420e9a7ef8c47dc2ded7dca3
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-10-22 12:58:51 -0700

    [HUDI-2501] Add HoodieData abstraction and refactor compaction actions in hudi-client module (#3741)

0	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
43	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieCompactionHandler.java
16	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
30	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/HoodieWriteMetadata.java
0	90	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java
34	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/{AbstractCompactHelpers.java => CompactHelpers.java}
254	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
25	27	hudi-client/{hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkRunCompactionActionExecutor.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java}
55	18	hudi-client/{hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkScheduleCompactionActionExecutor.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java}
7	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
20	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
13	8	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
12	8	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
9	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
0	147	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkCompactHelpers.java
12	192	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java
20	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
8	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
21	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java
98	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java
55	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieSparkLongAccumulator.java
17	11	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
12	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
9	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
15	222	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
0	75	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkCompactHelpers.java
0	152	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
5	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
39	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieAccumulator.java
48	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieAtomicLongAccumulator.java
63	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java
94	0	hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java
20	0	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java
13	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
2	3	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java

commit 1e285dc3999c56a3302b5ed9e5c38a6bcb884f92
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-10-23 00:03:58 +0800

    [HUDI-2489]Tuning HoodieROTablePathFilter by caching hoodieTableFileSystemView, aiming to reduce unnecessary list/get requests (#3719)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

15	6	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java

commit 499af7c039da12e397dca0819d77723bce92c145
Author: Matrix42 <Matrix42@users.noreply.github.com>
Date:   2021-10-22 19:42:13 +0800

    [HUDI-2592] Fix write empty array when write.precombine.field is decimal type (#3837)

7	4	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
32	8	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java

commit 84ca981cd017dc542b86adbd3b2141791feebf89
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-10-21 10:09:37 -0700

    [HUDI-2553] Metadata table compaction trigger max delta commits (#3794)
    
    -  Setting the max delta commits default value from 24 to 10 to trigger the compaction in metadata table.

1	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit b480294e792b6344d37560587f8f6e170e210d14
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-10-21 14:10:01 +0800

    [HUDI-2507] Generate more dependency list file for other bundles (#3773)

0	0	dev/dependencyList_hudi-flink-bundle_2.11.txt => dependencies/hudi-flink-bundle_2.11.txt
297	0	dependencies/hudi-flink-bundle_2.12.txt
131	0	dependencies/hudi-hadoop-mr-bundle.txt
142	0	dependencies/hudi-hive-sync-bundle.txt
346	0	dependencies/hudi-integ-test-bundle.txt
275	0	dependencies/hudi-kafka-connect-bundle.txt
0	0	dev/dependencyList_hudi-presto-bundle.txt => dependencies/hudi-presto-bundle.txt
0	0	dev/dependencyList_hudi-spark-bundle_2.11.txt => dependencies/hudi-spark-bundle_2.11.txt
262	0	dependencies/hudi-spark-bundle_2.12.txt
262	0	dependencies/hudi-spark3-bundle_2.12.txt
0	0	dev/dependencyList_hudi-timeline-server-bundle.txt => dependencies/hudi-timeline-server-bundle.txt
0	0	dev/dependencyList_hudi-utilities-bundle_2.11.txt => dependencies/hudi-utilities-bundle_2.11.txt
324	0	dependencies/hudi-utilities-bundle_2.12.txt
85	70	scripts/dependency.sh

commit aa3c4ecda57c412b5822348d40cdf983c0035fb7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-21 12:36:41 +0800

    [HUDI-2583] Refactor TestWriteCopyOnWrite test cases (#3832)

0	8	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
216	748	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
0	35	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
0	6	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
6	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
124	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestFunctionWrapper.java
425	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java
4	7	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit f5d7362ee88568003c9310d4f9ada385d1180f61
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-10-20 20:57:12 -0700

    [HUDI-2077] Fix flakiness in TestHoodieDeltaStreamer (#3829)

5	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java
19	18	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/{TestHoodieDeltaStreamerBase.java => HoodieDeltaStreamerTestBase.java}
16	268	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
329	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit b68c5a68f9ba21f253256a49aacd9f4aee49e039
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-10-20 15:57:00 -0700

    [HUDI-2472] Fix few Cleaner tests with metadata table enabled (#3825)

2	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestSimpleConcurrentFileWritesConflictResolutionStrategy.java
20	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/common/testutils/HoodieMetadataTestTable.java
2	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java
41	20	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
7	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
124	33	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit e355ab52db4af71880ac6e9b67991221d4b9c569
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-20 21:10:07 +0800

    [HUDI-2578] Support merging small files for flink insert operation (#3822)

13	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
82	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkConcatAndReplaceHandle.java
81	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkConcatHandle.java
6	4	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
70	0	hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java
13	6	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
10	1	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
15	3	hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java
4	3	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
2	8	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
5	4	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
5	17	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
91	1	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
5	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
5	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
2	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java
2	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
5	4	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 3686c25faee64589af6b2526e60062e7e50e51d1
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-10-19 14:29:48 -0700

    [HUDI-2469] [Kafka Connect] Replace json based payload with protobuf for Transaction protocol. (#3694)
    
    * Substitue Control Event with protobuf
    
    * Fix tests
    
    * Fix unit tests
    
    * Add javadocs
    
    * Add javadocs
    
    * Address reviewer comments
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

2	2	hudi-kafka-connect/demo/setupKafka.sh
26	0	hudi-kafka-connect/pom.xml
4	5	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/HoodieSinkTask.java
13	43	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaConnectControlAgent.java
2	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaControlAgent.java
8	30	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaControlProducer.java
33	38	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java
35	21	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionParticipant.java
0	237	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ControlEvent.java
5	3	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/CoordinatorEvent.java
3	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionCoordinator.java
4	4	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionParticipant.java
38	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java
2	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java
2	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java
1	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectWriter.java
1	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
65	0	hudi-kafka-connect/src/main/resources/ControlMessage.proto
23	0	hudi-kafka-connect/src/main/resources/log4j.properties
35	30	hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionCoordinator.java
37	34	hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionParticipant.java
4	4	hudi-kafka-connect/src/test/java/org/apache/hudi/helper/MockKafkaControlAgent.java
9	0	packaging/hudi-kafka-connect-bundle/pom.xml
2	0	pom.xml

commit 46f0496a0838431cd8886ca882a902d801c4dfb8
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-10-19 23:16:48 +0800

    [MINOR] Fix typo,'intance' corrected to 'instance' (#3788)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java

commit 1e2be85a0f1b290fa568cfae68f4219ac2b5f210
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-10-19 22:09:53 +0800

    [HUDI-2482] support 'drop partition' sql (#3754)

40	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
5	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
142	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala
2	41	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
179	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala

commit 60d4cb505afcd11197a7742f9d6063125acbb91d
Author: jaxonzhang <jaxonzhang700@gmail.com>
Date:   2021-10-19 20:04:18 +0800

    [MINOR] Fix typo, 'upsert' corrected to 'insert' in java write example (#3809)

1	1	hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java

commit 3a78be9203a9c3cea33fa6120c89f7702275fc31
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-19 10:47:38 +0800

    [HUDI-2572] Strength flink compaction rollback strategy (#3819)
    
    * make the events of commit task distinct by file id
    * fix the existence check for inflight state file
    * make the compaction task fail-safe

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
16	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java
23	24	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
10	17	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java

commit 335e80ea1bdc2327763e55fb9d32e3be75bb07db
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-10-18 10:07:53 -0700

    [HUDI-2561] BitCaskDiskMap - avoiding hostname resolution when logging messages (#3811)
    
    - InetAddress.getLocalHost() can take up as much as 30+seconds if the network
       configurations are not done right. This might be due to local hostname
       missing IPv6 address mapping in /etc/hosts or network configs slowing down
       any IPv6 name resolutions. If this API is used for logging verbose messages
       and that too in the hot code path, it can lead to order of magnitude
       slowness in the overall task completion.

1	4	hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java

commit 588a34aa95c608b595da66e6d42c9f06c9ef1546
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-18 17:34:49 +0800

    [HUDI-2571] Remove include-flink-sql-connector-hive profile from flink bundle (#3818)

0	10	packaging/hudi-flink-bundle/pom.xml

commit dfdfbbedaef6d2618b5254fc7b56a1d6a44a56f2
Author: yiduwangkai <16093572+yiduwangkai@users.noreply.github.com>
Date:   2021-10-18 17:12:13 +0800

    HUDI-2569 shaded hive (#3816)
    
    Co-authored-by: wangkai9 <wangkai9@tuhu.cn>

4	0	packaging/hudi-flink-bundle/pom.xml

commit 3025f4d7961b221743fe3cc248e0bb2e8ee6411b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-18 14:42:33 +0800

    [HUDI-2568] Simplify the view storage config properties (#3815)

4	4	hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java
7	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 5276850415649a45106073e1176089247930add3
Author: yiduwangkai <16093572+yiduwangkai@users.noreply.github.com>
Date:   2021-10-18 11:26:21 +0800

    [HUDI-2557] Shade javax.servlet for flink bundle jar (#3807)
    
    Co-authored-by: wangkai9 <wangkai9@tuhu.cn>

4	0	packaging/hudi-flink-bundle/pom.xml

commit 2eda3de7f91335c17458f106f4edde8d8ffbb978
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-18 10:45:39 +0800

    [HUDI-2562] Embedded timeline server on JobManager (#3812)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
0	38	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
16	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
1	1	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
40	17	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
0	9	hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java
4	12	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
11	14	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
28	25	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
34	14	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
6	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java
11	17	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
35	13	hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java
3	3	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
64	10	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
82	0	hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java
5	5	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
68	73	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
1	11	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
6	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
6	5	hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java
8	17	hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java
0	6	hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java
0	6	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
3	3	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java
16	20	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java
22	4	hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java
57	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java

commit 9aa7cfb80224629573c6d02c576858fe9afb1afa
Author: Jimmy.Zhou <zhouyongjin@inspur.com>
Date:   2021-10-16 04:26:16 +0800

    [MINOR] fix typo,'seprarated' corrected to 'separated' (#3789)

2	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java

commit 2c370cbae084a41162fedbcc0b1e66558629dcbe
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-14 19:42:56 +0800

    [HUDI-2556] Tweak some default config options for flink (#3800)
    
    * rename write.insert.drop.duplicates to write.precombine and set it as true for COW table
    * set index.global.enabled default as true
    * set compaction.target_io default as 500GB

14	12	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
2	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
3	7	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java
4	4	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
13	6	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
1	11	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
2	2	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
2	2	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
15	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit f897e6d73ebc26d32017774d452389023f53f742
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-14 13:46:53 +0800

    [HUDI-2551] Support DefaultHoodieRecordPayload for flink (#3792)

1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java
1	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
7	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java
5	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java
5	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
29	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit abf3e3fe71cd92a4129cf110a5206fbcfb3b1ae2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-14 10:36:18 +0800

    [HUDI-2548] Flink streaming reader misses the rolling over file handles (#3787)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
57	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
6	7	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
2	2	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
3	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
6	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
43	34	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
6	17	hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
1	1	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
2	2	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
11	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
7	6	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
33	5	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
39	33	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
7	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala

commit cff384d23f464692b792abc4b4a7ca6731ed8067
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-10-13 18:44:43 -0400

    [HUDI-2552] Fixing some test failures to unblock broken CI master (#3793)

1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
6	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
4	4	hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java

commit e6711b171a6a3aaed4bbba1f16664374ffd601dc
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-10-13 06:24:48 +0800

    [HUDI-2435][BUG]Fix clustering handle errors (#3666)
    
    * done
    
    * remove unused imports
    
    * code reviewed
    
    * code reviewed
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

9	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkClusteringClient.java
21	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java

commit 8a487eafa7b85a8936953a9595b16a2079dc7e7e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-10-12 14:06:40 -0400

    [HUDI-2494] Fixing glob pattern to skip all hoodie meta paths (#3768)

22	7	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
12	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
3	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit 252c4ed380ef3983b0c639d5fd4dee23bc113308
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date:   2021-10-12 06:49:42 -0700

    [HUDI-2532] Metadata table compaction trigger max delta commits (#3784)
    
    -  Setting the max delta commits default value from 24 to 10 to trigger the
         compaction in metadata table.

1	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit 48a3906cccb6abd04f0a86922f6af3a175d6f7b2
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-10-12 02:07:34 +0800

    [MINOR] Fix typo,'paritition' corrected to 'partition' (#3764)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java

commit f14d4e65e7edab58aa86c495e4bd4caa79086d6b
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date:   2021-10-12 01:58:33 +0800

    [HUDI-2540] Fixed wrong validation for metadataTableEnabled in HoodieTable (#3781)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java

commit 5b8bc664a8dca97789c2472d633868fb8f553652
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-11 16:22:22 +0800

    [HUDI-2542] AppendWriteFunction throws NPE when checkpointing without written data (#3777)

4	0	hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java

commit ceace1c653a3ce3c97e6ee5a244d71ff1806be4f
Author: Ilias Antoniou <helias1990@hotmail.com>
Date:   2021-10-11 04:33:16 +0300

    [HUDI-2496] Insert duplicate records when precombined is deactivated  for "insert" operation (#3740)

33	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/{storage => }/HoodieConcatHandle.java
30	18	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
47	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java

commit ad63938890151c4c13e78acfd448259c3af80f80
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-10 09:30:39 +0800

    [HUDI-2537] Fix metadata table for flink (#3774)

40	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
42	13	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
42	70	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
38	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
0	40	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
1	14	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
5	2	hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java
10	3	hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java
9	5	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
0	3	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
2	2	hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java
43	0	packaging/hudi-flink-bundle/pom.xml

commit 2a392d8e8eb7e02e2447a81009268cd1c81129d3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-10-09 18:02:10 +0800

    [HUDI-2534] Remove the sort operation when bulk_insert in batch mode (#3772)

2	2	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java
4	2	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
5	5	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit a818020f72d37c8fd7a88414b769be9b23ee0ba6
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-10-08 11:30:48 -0400

    [HUDI-2530] Adding async compaction support to integ test suite framework (#3750)

50	0	docker/demo/config/test-suite/compact-test.properties
126	0	docker/demo/config/test-suite/mor-async-compact.yaml
0	4	docker/demo/config/test-suite/test.properties
18	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
4	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java
0	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java

commit 10e3a9a3fbaa5bd0269f86707bdf65b66fa25b22
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-10-07 08:37:01 +0800

    [MINOR] Fix typo,'properites' corrected to 'properties' (#3738)

1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
1	1	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java

commit 2e152177fb9a1138e46d21f4608fea41cc32af15
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-10-06 17:20:41 -0700

    [HUDI-2513] Refactor table upgrade and downgrade actions in hudi-client module (#3743)

4	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
0	164	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java
42	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseUpgradeDowngradeHelper.java
7	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java
8	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/{BaseOneToTwoUpgradeHandler.java => OneToTwoUpgradeHandler.java}
8	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/{BaseOneToZeroDowngradeHandler.java => OneToZeroDowngradeHandler.java}
8	7	hudi-client/{hudi-spark-client => hudi-client-common}/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java
10	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/{BaseTwoToOneDowngradeHandler.java => TwoToOneDowngradeHandler.java}
8	7	hudi-client/{hudi-spark-client => hudi-client-common}/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java
198	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java
7	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java
24	14	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/{BaseZeroToOneUpgradeHandler.java => ZeroToOneUpgradeHandler.java}
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/FlinkTaskContextSupplier.java
6	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
0	71	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java
53	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngradeHelper.java
0	30	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java
0	36	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
0	44	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java
0	32	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java
0	43	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java
0	54	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
8	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
0	33	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java
0	35	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
0	75	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java
52	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngradeHelper.java
0	35	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java
0	53	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
4	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
8	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java

commit e91e611afbee2958322b2e32f41faabc5918f6b4
Author: Yann Byron <biyan900116@gmail.com>
Date:   2021-10-06 15:46:49 +0800

    [HUDI-2456] support 'show partitions' sql (#3693)

4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
9	9	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
13	6	hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java
16	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
6	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
2	16	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
76	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
164	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala

commit 5f32162a2fad0cd6db87972d29336dc09599bf8a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-10-06 00:17:52 -0400

    [HUDI-2285][HUDI-2476] Metadata table synchronous design. Rebased and Squashed from pull/3426 (#3590)
    
    * [HUDI-2285] Adding Synchronous updates to metadata before completion of commits in data timelime.
    
    - This patch adds synchronous updates to metadata table. In other words, every write is first committed to metadata table followed by data table. While reading metadata table, we ignore any delta commits that are present only in metadata table and not in data table timeline.
    - Compaction of metadata table is fenced by the condition that we trigger compaction only when there are no inflight requests in datatable. This ensures that all base files in metadata table is always in sync with data table(w/o any holes) and only there could be some extra invalid commits among delta log files in metadata table.
    - Due to this, archival of data table also fences itself up until compacted instant in metadata table.
    All writes to metadata table happens within the datatable lock. So, metadata table works in one writer mode only. This might be tough to loosen since all writers write to same FILES partition and so, will result in a conflict anyways.
    - As part of this, have added acquiring locks in data table for those operations which were not before while committing (rollback, clean, compaction, cluster). To note, we were not doing any conflict resolution. All we are doing here is to commit by taking a lock. So that all writes to metadata table is always a single writer.
    - Also added building block to add buckets for partitions, which will be leveraged by other indexes like record level index, etc. For now, FILES partition has only one bucket. In general, any number of buckets per partition is allowed and each partition has a fixed fileId prefix with incremental suffix for each bucket within each partition.
    Have fixed [HUDI-2476]. This fix is about retrying a failed compaction if it succeeded in metadata for first time, but failed w/ data table.
    - Enabling metadata table by default.
    - Adding more tests for metadata table
    
    Co-authored-by: Prashant Wason <pwason@uber.com>

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
3	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
2	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
2	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
2	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java
10	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java
0	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
122	110	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
21	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java
11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
9	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
36	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
17	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
0	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
18	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
17	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
10	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java
143	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/common/testutils/HoodieMetadataTestTable.java
0	13	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
3	9	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
5	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java
44	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java
43	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java
2	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
1	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteTableCommitActionExecutor.java
3	1	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
25	20	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
73	68	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
37	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
2	15	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
2	18	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java
4	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java
44	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java
43	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java
18	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
20	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
5	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java
704	463	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
93	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java
8	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
9	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java
281	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java
252	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java
410	401	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
3	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java
11	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
3	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
5	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java
2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java
19	21	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
12	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
1	43	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
1	12	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
10	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
9	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
8	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
14	141	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
3	3	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
198	179	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
40	3	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java
34	42	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java
6	6	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
70	85	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
17	2	hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java
0	130	hudi-common/src/main/java/org/apache/hudi/metadata/TimelineMergedTableMetadata.java
27	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
143	46	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
0	26	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
0	1	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
0	2	hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java
2	1	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
2	2	hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java
0	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
0	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
11	13	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java
25	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala
34	18	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
0	5	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java
1	1	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
0	5	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
0	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java
2	5	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
3	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
6	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
2	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java
2	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java

commit 46808dcb1fe22491326a9e831dd4dde4c70796fb
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-09-30 15:20:25 -0700

    [HUDI-2497] Refactor clean and restore actions in hudi-client module (#3734)

88	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/{BaseCleanActionExecutor.java => CleanActionExecutor.java}
9	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/{BaseCleanPlanActionExecutor.java => CleanPlanActionExecutor.java}
23	25	hudi-client/{hudi-java-client/src/main/java/org/apache/hudi/table/action/restore/JavaCopyOnWriteRestoreActionExecutor.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java}
12	21	hudi-client/{hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkMergeOnReadRestoreActionExecutor.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java}
15	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
5	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
0	128	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkCleanActionExecutor.java
0	52	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkScheduleCleanActionExecutor.java
15	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
7	7	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
0	130	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaCleanActionExecutor.java
0	52	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaScheduleCleanActionExecutor.java
19	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java
9	9	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
0	134	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanActionExecutor.java
0	55	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanPlanActionExecutor.java
0	70	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkCopyOnWriteRestoreActionExecutor.java
7	0	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java
16	0	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/function/FunctionWrapper.java
33	0	hudi-common/src/main/java/org/apache/hudi/common/function/SerializablePairFlatMapFunction.java

commit 73e8ba76206682c66eb06b53f2bdec890a567235
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-09-30 21:11:15 +0530

    [HUDI-2499] Making jdbc-url, user and pass as non-required field for other sync modes (#3732)

3	3	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
4	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java

commit 47ed91799943271f219419cf209793a98b3f09b5
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-09-30 16:56:11 +0800

    [HUDI-2440] Add dependency change diff script for dependency governace (#3674)

296	0	dev/dependencyList_hudi-flink-bundle_2.11.txt
132	0	dev/dependencyList_hudi-presto-bundle.txt
262	0	dev/dependencyList_hudi-spark-bundle_2.11.txt
144	0	dev/dependencyList_hudi-timeline-server-bundle.txt
324	0	dev/dependencyList_hudi-utilities-bundle_2.11.txt
127	0	scripts/dependency.sh

commit def08d703d71265ee40efa95932416e2e76e22e4
Author: tangyoupeng <tommy@juicedata.io>
Date:   2021-09-30 12:50:46 +0800

    [MINOR] Support JuiceFileSystem (#3729)

2	0	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit 2f07e1267fa1a372ff06ca5af2bacf0f91929f89
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-09-30 09:55:32 +0800

    [MINOR] Fix typo Hooodie corrected to Hoodie & reuqired corrected to required (#3730)

1	1	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
1	1	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java

commit dd1bd62684fdd2115dcc4bad264493d25cc97858
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-09-29 23:54:12 +0800

    [HUDI-2277] HoodieDeltaStreamer reading ORC files directly using ORCDFSSource (#3413)
    
    * add ORCDFSSource to support reading orc file into hudi format && add UTs
    
    * remove ununsed import
    
    * simplify tes
    
    * code review
    
    * code review
    
    * code review
    
    * code review
    
    * code review
    
    * code review
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
56	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ORCDFSSource.java
44	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
29	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerBase.java
43	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 2aa660f99db76f198906c14005e944dffbe383e2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-09-28 10:33:27 -0600

    [MINOR] Add a RFC template and folder (#3726)

30	0	rfc/README.md
57	0	rfc/template.md

commit f0585facd6e8ff8c226e1e6c7b66933eac8ea4c6
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-09-28 05:16:52 -0400

    [HUDI-2474] Refreshing timeline for every operation in Hudi when metadata is enabled (#3698)

17	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
2	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
6	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
22	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java

commit 9067657a5ff313990c819065ad12d71fa8bb0f06
Author: qianchutao <72595723+qianchutao@users.noreply.github.com>
Date:   2021-09-28 13:47:15 +0800

    [HUDI-2487] Fix JsonKafkaSource cannot filter empty messages from kafka (#3715)

5	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
22	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java

commit 36be28712196ff4427c41b0aa885c7fcd7356d7f
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-09-26 21:53:39 +0800

    [MINOR] Fix typo,'Kakfa' corrected to 'Kafka' & 'parquest' corrected to 'parquet' (#3717)

1	1	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java
1	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 7e887b54d70ab79e77bd9ac78f7ff6616c852503
Author: qianchutao <72595723+qianchutao@users.noreply.github.com>
Date:   2021-09-26 21:52:35 +0800

    [MINOR] fix typo,'SPAKR' corrected to 'SPARK' (#3721)

2	2	.github/workflows/bot.yml
1	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit aa546554ff23e62c374e323ec47d0081fb200227
Author: Carl-Zhou-CN <67902676+Carl-Zhou-CN@users.noreply.github.com>
Date:   2021-09-26 21:51:27 +0800

    [HUDI-2451] On windows client with hdfs server for wrong file separator (#3687)
    
    Co-authored-by: yao.zhou <yao.zhou@linkflowtech.com>

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java
1	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java
4	4	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java
2	3	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HeartbeatUtils.java
3	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HoodieHeartbeatClient.java
6	7	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	2	hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java
3	4	hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
1	3	hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java

commit bc4966ea7353016c7589ef750719e400024e09e0
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-09-24 22:35:42 +0530

    [HUDI-2484] Fix hive sync mode setting in Deltastreamer (#3712)

3	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
35	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java

commit 31a301f0aa955450e52c28ee5857526034d523f0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-24 23:44:01 +0800

    [HUDI-2485] Consume as mini-batch for flink stream reader (#3710)

39	11	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java
1	3	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
27	0	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
18	1	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java
1	1	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 440525ccbb001884840efadcb51eda44bba5e624
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-24 14:52:27 +0800

    [HUDI-2483] Infer changelog mode for flink compactor (#3706)

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
3	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
6	1	hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
16	0	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
0	99	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
146	0	hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java

commit 06c2cc2c8b1ad88bb4c9bbdb496053a079767e9b
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-09-24 13:33:34 +0800

    [HUDI-2385] Make parquet dictionary encoding configurable (#3578)
    
    Co-authored-by: leesf <leesf@apache.org>

5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
8	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java
18	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java

commit f52cb32f5f0c9e31b5addf29adbb886ca6d167dd
Author: jsbali <jsbali@uber.com>
Date:   2021-09-24 02:15:24 +0530

    [HUDI-2248] Fixing the closing of hms client (#3364)
    
    * [HUDI-2248] Fixing the closing of hms client
    
    * [HUDI-2248] Using Hive.closeCurrent() over client.close()

1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
2	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java

commit b4b23e401bb66793c924dfe5b78d641c65e207a6
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-09-24 03:40:58 +0800

    [HUDI-2383] Clean the marker files after compaction (#3576)

2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
5	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java

commit eeafd24f4c3a65e107867e30eb499b4aec69d7e5
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-09-24 01:10:11 +0530

    [HUDI-2395] Metadata tests rewrite (#3695)
    
    - Added commit metadata infra to test table so that we can test entire metadata using test table itself. These tests don't care about the contents of files as such and hence we should be able to test all code paths for metadata using test table.
    
    Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

437	776	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
201	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
4	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
18	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
5	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileSystemTestUtils.java
538	5	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 5515a0d319cbac835c65f6d21898ac1399d77ea3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-23 15:14:30 +0800

    [HUDI-2479] HoodieFileIndex throws NPE for FileSlice with pure log files (#3702)

11	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala

commit e813dae36d5fa1f584e221e24e0919e43f7d0503
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-22 12:18:02 +0800

    [MINOR] Cosmetic changes for flink (#3701)

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
2	5	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/EmptyWriteProfile.java
3	2	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
4	7	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
33	0	hudi-flink/src/main/java/org/apache/hudi/util/InputFormats.java
14	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 55df8f61e1ba948b3f202321a8d492a0ea5c35aa
Author: Jimmy.Zhou <zyjin570@163.com>
Date:   2021-09-22 08:30:13 +0800

    [MINOR] Fix typo."funcitons" corrected to "functions" (#3681)

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieColumnProjectionUtils.java

commit 5a94043f38fa8e23c8e0b184225230aa43873368
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-09-21 22:11:52 +0800

    [HUDI-2343]Fix the exception for mergeInto when the primaryKey and preCombineField of source table and target table differ in case only (#3517)

4	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
69	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala

commit 5091ab73112c8e6eea8a53229c441b0c501d1807
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-09-20 11:05:31 -0400

    [HUDI-2444] Fixing delete files corner cases wrt cleaning and rollback when applying changes to metadata (#3678)

9	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java
6	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java

commit 3354fac42f9a2c4dbc8ac73ca4749160e9b9459b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-19 09:06:46 +0800

    [HUDI-2449] Incremental read for Flink (#3686)

10	4	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
22	1	hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java
365	0	hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java
17	194	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
12	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
95	118	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
5	24	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
14	0	hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java
2	2	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java
0	4	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
31	4	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
26	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
5	5	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java
75	6	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
9	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
1	2	hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java

commit c7a5c8273b0d67cd436caec650ffb36e1a74f9e0
Author: Satish M <84978833+data-storyteller@users.noreply.github.com>
Date:   2021-09-17 19:40:15 +0530

    [HUDI-2267] Update docs and infra test configs, add support for graphite (#3482)
    
    
    Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

11	2	docker/compose/docker-compose_hadoop284_hive233_spark244.yml
2	2	docker/demo/config/test-suite/complex-dag-cow.yaml
2	2	docker/demo/config/test-suite/cow-clustering-example.yaml
2	2	docker/demo/config/test-suite/cow-long-running-example.yaml
2	2	docker/demo/config/test-suite/cow-long-running-multi-partitions.yaml
47	2	docker/generate_test_suite.sh
48	11	hudi-integ-test/README.md

commit 3a150ee1812993553f36cdc8d321766c267d3f4f
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-09-17 19:45:22 +0800

    [HUDI-2447] Extract common business logic & Fix typo (#3683)

12	16	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java

commit 61d009608899bc70c1372d5cb00a2f35e188c30c
Author: liujinhui <965147871@qq.com>
Date:   2021-09-17 19:39:55 +0800

    [HUDI-2434] Make periodSeconds of GraphiteReporter configurable (#3667)

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsGraphiteConfig.java
3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java
60	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieGraphiteMetrics.java

commit 8a652171cfecc68fd06c6632afa77b1456e714a6
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-09-17 09:43:23 +0800

    [MINOR] Fix typo,'compatiblity' corrected to 'compatibility' (#3675)

1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit 57d5da68aa646adfd327394daea720cb3d592b1d
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-09-16 15:24:34 -0700

    [HUDI-2330][HUDI-2335] Adding support for merge-on-read tables (#3679)
    
    - Inserts go into logs, hashed by Kafka and Hudi partitions
     - Fixed issues with the setupKafka script
     - Bumped up the default commit interval to 300 seconds
     - Minor renaming

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/WriteStatus.java
27	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java
2	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java
35	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/deltacommit/BaseJavaDeltaCommitActionExecutor.java
102	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/deltacommit/JavaUpsertPreppedDeltaCommitActionExecutor.java
4	4	hudi-kafka-connect/README.md
2	1	hudi-kafka-connect/demo/config-sink.json
73	58	hudi-kafka-connect/demo/setupKafka.sh
4	17	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/KafkaConnectFileIdPrefixProvider.java
17	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java
16	6	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java
22	13	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java
1	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
5	16	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java
3	3	hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestAbstractConnectWriter.java
1	1	hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestBufferedConnectWriter.java

commit b8dad628e584e0acfa8ef6ba0056f7cb6efafad0
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-09-16 11:16:06 -0400

    [HUDI-2422] Adding rollback plan and rollback requested instant (#3651)
    
    - This patch introduces rollback plan and rollback.requested instant. Rollback will be done in two phases, namely rollback plan and rollback action. In planning, we prepare the rollback plan and serialize it to rollback.requested. In the rollback action phase, we fetch details from the plan and just delete the files as per the plan. This will ensure final rollback commit metadata will contain all files that got rolled back even if rollback failed midway and retried again.

19	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
21	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
77	31	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
217	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java
131	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackPlanActionExecutor.java
3	18	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java
66	161	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
76	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java
42	102	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java
3	24	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
17	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
67	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/SerializableHoodieRollbackRequest.java
10	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
8	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
8	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
6	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
11	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
8	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
7	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java
9	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
9	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
8	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkCopyOnWriteRestoreActionExecutor.java
19	12	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkMergeOnReadRestoreActionExecutor.java
5	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
3	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
24	31	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
6	12	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
17	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java
76	0	hudi-common/src/main/avro/HoodieRollbackPlan.avsc
4	0	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java
44	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java

commit 4deaa30c8d7f51987201e99ce2f3bf9cc5a97d18
Author: Sarah Witt <sarah.witt@datadoghq.com>
Date:   2021-09-16 09:53:16 -0400

    [HUDI-2404] Add metrics-jmx to spark and flink bundles (#3632)

1	0	packaging/hudi-flink-bundle/pom.xml
1	0	packaging/hudi-spark-bundle/pom.xml

commit 2791fb9a964b39ef9aaec83eafd080013186b2eb
Author: liujinhui <965147871@qq.com>
Date:   2021-09-16 15:08:10 +0800

    [HUDI-2423] Separate some config logic from HoodieMetricsConfig into HoodieMetricsGraphiteConfig HoodieMetricsJmxConfig (#3652)

24	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
5	107	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/{ => metrics}/HoodieMetricsConfig.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/{ => metrics}/HoodieMetricsDatadogConfig.java
134	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsGraphiteConfig.java
118	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsJmxConfig.java
43	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/{ => metrics}/HoodieMetricsPrometheusConfig.java
12	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestHoodieMetricsDatadogConfig.java
5	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java

commit 2d5ac551955e8c7be7be60edc5aaf17d2ed7f650
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-09-16 07:00:04 +0800

    [HUDI-2355][Bug]Archive service executed after cleaner finished. (#3545)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
84	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 916f12b7dd4b635c790b17876fa49fb786233e94
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-09-15 15:52:43 -0700

    [HUDI-2433] Refactor rollback actions in hudi-client module (#3664)

32	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/{BaseCopyOnWriteRollbackActionExecutor.java => CopyOnWriteRollbackActionExecutor.java}
249	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
56	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/{AbstractMarkerBasedRollbackStrategy.java => MarkerBasedRollbackStrategy.java}
46	22	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/{BaseMergeOnReadRollbackActionExecutor.java => MergeOnReadRollbackActionExecutor.java}
12	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
0	71	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java
0	90	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java
0	77	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMergeOnReadRollbackActionExecutor.java
0	250	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
10	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/restore/JavaCopyOnWriteRestoreActionExecutor.java
0	72	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaCopyOnWriteRollbackActionExecutor.java
0	237	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaListingBasedRollbackHelper.java
0	78	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaMarkerBasedRollbackStrategy.java
9	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkCopyOnWriteRestoreActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkMergeOnReadRestoreActionExecutor.java
0	252	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
0	73	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java
0	93	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java
0	82	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMergeOnReadRollbackActionExecutor.java
5	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
12	12	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/function/FunctionWrapper.java
34	0	hudi-common/src/main/java/org/apache/hudi/common/function/SerializableBiFunction.java

commit 86a7351c39c760b74ee45a5d67cef31228ad1ee3
Author: liujinhui <965147871@qq.com>
Date:   2021-09-15 14:46:11 +0800

    [MINOR] Delete Redundant code (#3661)

1	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java

commit 76554aa31a858d9946c3b95102bc1b18ce28a432
Author: liujinhui <965147871@qq.com>
Date:   2021-09-15 14:33:43 +0800

    [MINOR] Add document for DataSourceReadOptions (#3653)

7	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit 627f20f9c54a87dded3350b73a6327f5b95632f6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-15 12:04:46 +0800

    [HUDI-2430] Make decimal compatible with hudi for flink writer (#3658)

1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java
4	19	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetDecimalVector.java
8	42	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
29	4	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
42	12	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java

commit d90fd1f68c882c2e98aaa5b648e814bf4dac0515
Author: Vinoth Chandar <vinoth@apache.org>
Date:   2021-09-14 10:36:37 -0700

    [MINOR] Update Kafka connect sink readme

34	0	hudi-kafka-connect/README.md

commit 9735f4b8efaa3d333e496c1159bd9ae0b222519a
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-09-14 07:14:58 -0700

    [HUDI-2428] Fix protocol and other issues after stress testing Hudi Kafka Connect (#3656)
    
    * Fixes based on tests and some improvements
    * Fix the issues after running stress tests
    * Fixing checkstyle issues and updating README
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

126	0	hudi-flink/src/main/java/org/apache/hudi/schema/SchemaRegistryProvider.java
51	14	hudi-kafka-connect/README.md
4	5	hudi-kafka-connect/{configs => demo}/config-sink.json
1	1	hudi-kafka-connect/{configs => demo}/connect-distributed.properties
131	0	hudi-kafka-connect/demo/setupKafka.sh
0	5	hudi-kafka-connect/scripts/raw.json
0	38	hudi-kafka-connect/scripts/runKafkaTrafficGenerator.sh
28	16	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/HoodieSinkTask.java
1	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java
9	15	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionParticipant.java
16	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ControlEvent.java
3	1	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionParticipant.java
2	2	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java
2	3	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java
97	90	hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionParticipant.java
2	1	hudi-kafka-connect/src/test/java/org/apache/hudi/helper/TestKafkaConnect.java
2	0	packaging/hudi-kafka-connect-bundle/pom.xml

commit 5d60491f5b76ef0f77174d71567d0673d9315bcd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-09-13 08:53:13 -0700

    [HUDI-2388] Add DAG nodes for Spark SQL in integration test suite (#3583)
    
    - Fixed validation in integ test suite for both deltastreamer and write client path.
    
    Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

2	3	docker/demo/config/log4j.properties
45	0	docker/demo/config/test-suite/spark-sql-nonpartitioned-external-cow-ctas.yaml
44	0	docker/demo/config/test-suite/spark-sql-nonpartitioned-external-mor.yaml
44	0	docker/demo/config/test-suite/spark-sql-nonpartitioned-managed-cow-ctas.yaml
63	0	docker/demo/config/test-suite/spark-sql-nonpartitioned-managed-cow.yaml
61	0	docker/demo/config/test-suite/spark-sql-partition-cow-updates.yaml
45	0	docker/demo/config/test-suite/spark-sql-partitioned-managed-cow-ctas.yaml
64	0	docker/demo/config/test-suite/spark-sql-partitioned-managed-cow.yaml
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
83	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
172	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java
1	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java
12	106	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java
18	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
4	3	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala
26	15	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkDeleteNode.scala
4	3	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala
4	3	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala
93	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/BaseSparkSqlNode.scala
92	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlCreateTableNode.scala
66	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlDeleteNode.scala
50	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlInsertNode.scala
50	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlInsertOverwriteNode.scala
64	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlMergeNode.scala
66	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlUpdateNode.scala
68	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlValidateDatasetNode.scala
526	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/utils/SparkSqlUtils.scala
32	10	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
64	0	hudi-integ-test/src/test/resources/unit-test-spark-sql-dag.yaml

commit 35a04c43a5c750d265e855b313a84a5135075225
Author: liujinhui <965147871@qq.com>
Date:   2021-09-13 21:57:04 +0800

     [HUDI-2425] TestHoodieMultiTableDeltaStreamer CI failed due to exception (#3654)

1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit 89651c94085f3f775328e5fbc2113aa9d1a6a962
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-13 20:43:44 +0800

    [HUDI-2421] Catch the throwable when scheduling the cleaning task for flink writer (#3650)

7	2	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java

commit 9f3c4a2a7f565f7bcc32189a202a3d400ece23f1
Author: liujinhui <965147871@qq.com>
Date:   2021-09-13 16:10:17 +0800

     [HUDI-2410] Fix getDefaultBootstrapIndexClass logical error (#3633)

1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
5	4	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
15	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
6	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
2	2	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java

commit c79017cb74229993e8201602fb1f04d47aedd092
Author: K.I. (Dennis) Jung <inylove82@gmail.com>
Date:   2021-09-13 15:34:49 +0900

    [HUDI-2397] Add  `--enable-sync` parameter (#3608)
    
    * add meta-sync config
    
    * update test
    
    * keep enableMetaSync same with enableHiveSync
    
    * Switch check logic to use `enableMetaSync`

11	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
12	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit 280f66e0f80932498fd691561c1ddb47815873f0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-13 11:41:49 +0800

    [MINOR] Fix the default parallelism of write task (#3649)

4	4	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java

commit 4f991ee3525c6225c7bf3b46e272f7d5b919196e
Author: Ankush Kanungo <40214578+akanungoz@users.noreply.github.com>
Date:   2021-09-11 20:27:40 -0700

    [HUDI-2398] Collect event time for inserts in DefaultHoodieRecordPayload (#3602)

4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
16	7	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
20	4	hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java

commit 9d5c3e5cb92a4247bb1fc9a4a0e2eb3d2fbce1d6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-12 10:00:17 +0800

    [HUDI-2415]  Add more info log for flink streaming reader (#3642)

12	0	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java

commit 6228b17a3ddb4c336b30e5b8c650e003e38b5e3e
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-09-11 15:46:24 +0800

    [MINOR] Fix typo, 'requried' corrected to 'required' (#3643)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit dbcf60f370e93ab490cf82e677387a07ea743cda
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-09-11 15:45:49 +0800

    [MINOR] fix typo (#3640)

3	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPartitioner.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java

commit b30c5bdaef77aee9f564ac24f80f5c364014bb17
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-11 13:17:16 +0800

    [HUDI-2412] Add timestamp based partitioning for flink writer (#3638)

13	3	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
38	4	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java
15	1	hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java
1	1	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
51	6	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
61	0	hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java
7	6	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
33	0	hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java
19	0	hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java
73	31	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
28	2	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
15	10	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java

commit 06240417e9393de223c9cf6e1b66858d0417768e
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-09-11 12:26:04 +0800

    [HUDI-2354] Fix TimelineServer error because of replacecommit archive (#3536)
    
    * bug fixed
    
    * done
    
    * done
    
    * travis fix
    
    * code reviewed
    
    * code review
    
    * done
    
    * code reviewed
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

16	4	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
41	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java

commit e528dd798ab8ce6e4d444d2d771c107c503e8f25
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-09-10 18:20:26 -0700

    [HUDI-2394] Implement Kafka Sink Protocol for Hudi for Ingesting Immutable Data (#3592)
    
    
     - Fixing packaging, naming of classes
     - Use of log4j over slf4j for uniformity
    - More follow-on fixes
     - Added a version to control/coordinator events.
     - Eliminated the config added to write config
     - Fixed fetching of checkpoints based on table type
     - Clean up of naming, code placement
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

1	1	.gitignore
16	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
36	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/FileIdPrefixProvider.java
35	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/RandomFileIdPrefixProvider.java
17	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
17	8	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java
5	1	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java
26	8	hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java
94	0	hudi-kafka-connect/README.md
19	0	hudi-kafka-connect/configs/config-sink.json
33	0	hudi-kafka-connect/configs/connect-distributed.properties
231	0	hudi-kafka-connect/pom.xml
5	0	hudi-kafka-connect/scripts/raw.json
38	0	hudi-kafka-connect/scripts/runKafkaTrafficGenerator.sh
83	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/HoodieSinkConnector.java
212	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/HoodieSinkTask.java
69	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/KafkaConnectFileIdPrefixProvider.java
230	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaConnectControlAgent.java
41	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaControlAgent.java
97	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaControlProducer.java
399	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java
254	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionParticipant.java
222	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ControlEvent.java
71	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/CoordinatorEvent.java
40	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionCoordinator.java
65	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionInfo.java
45	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionParticipant.java
140	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java
91	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java
120	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java
38	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectTransactionServices.java
31	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectWriter.java
24	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectWriterProvider.java
177	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java
133	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java
105	0	hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java
253	0	hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionCoordinator.java
273	0	hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionParticipant.java
57	0	hudi-kafka-connect/src/test/java/org/apache/hudi/helper/MockConnectTransactionServices.java
87	0	hudi-kafka-connect/src/test/java/org/apache/hudi/helper/MockKafkaControlAgent.java
83	0	hudi-kafka-connect/src/test/java/org/apache/hudi/helper/TestHudiWriterProvider.java
133	0	hudi-kafka-connect/src/test/java/org/apache/hudi/helper/TestKafkaConnect.java
203	0	hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestAbstractConnectWriter.java
101	0	hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestBufferedConnectWriter.java
32	0	hudi-kafka-connect/src/test/resources/log4j-surefire.properties
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java
186	0	packaging/hudi-kafka-connect-bundle/pom.xml
36	0	packaging/hudi-kafka-connect-bundle/src/main/java/org/apache/hudi/kafka/connect/bundle/Main.java
2	0	pom.xml

commit bd1d2d4952e2664e2049e79ac571578cddca4500
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-09-10 19:33:35 +0530

    [MINOR] Add avro schema evolution test with (non)nullable column and with(out) default value (#3639)

10	6	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java

commit cf1543185217c8acd306218a7d00d1022dd35584
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-09-10 18:32:01 +0530

    [HUDI-2393] Add yamls for large scale testing (#3594)

71	0	docker/demo/config/test-suite/large-scale/cow-large-scale-long-running.yaml
71	0	docker/demo/config/test-suite/large-scale/cow-large-scale-sanity.yaml
75	0	docker/demo/config/test-suite/large-scale/mor-large-scale-long-running.yaml
75	0	docker/demo/config/test-suite/large-scale/mor-large-scale-sanity.yaml

commit 44b9bc145e0d101bcc688f11c6a30ebcbb7a4a7d
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-09-10 18:58:34 +0800

    [HUDI-2411] Remove unnecessary method overriden and note (#3636)

1	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndexCheckFunction.java

commit 512ca42d14a29e5d8da02198345024f2f83999d9
Author: SteNicholas <programgeek@163.com>
Date:   2021-09-10 13:42:11 +0800

    [MINOR] Correct the comment for the parallelism of tasks in FlinkOptions (#3634)

4	4	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java

commit 56d08fbe708625fe49f7c60d3f769c3dff554c19
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-09-09 11:45:28 -0700

    [HUDI-2351] Extract common FS and IO utils for marker mechanism (#3529)

1	27	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/DirectWriteMarkers.java
9	18	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseTwoToOneDowngradeHandler.java
87	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
19	0	hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java
31	35	hudi-common/src/main/java/org/apache/hudi/common/util/MarkerUtils.java
141	2	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
11	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java
2	28	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java

commit 57c8113ee1941615a03f0efc2e3d46b634e940eb
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-09-09 08:29:04 -0700

    [HUDI-2408] Deprecate FunctionalTestHarness to avoid init DFS (#3628)

24	25	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java
3	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
2	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
0	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestAWSDatabaseMigrationServiceSource.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestChainedTransformer.java
2	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java
31	28	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestJdbcbasedSchemaProvider.java

commit 4abcb4f6591448ef1d9bbc9aa237758ae75ecba7
Author: Wei <hsdcloud@163.com>
Date:   2021-09-09 23:21:16 +0800

    [MINOR] Remove unused variables (#3631)

0	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitConfig.java

commit 3c4eb60913cac9cd22c768ae404b9e4078df7a9d
Author: liujinhui <965147871@qq.com>
Date:   2021-09-09 15:53:58 +0800

    Add the document to the PUSHGATEWAY configuration item (#3627)

3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java

commit db2ab9a15092c1423ee308b1bba7dd7e2f5027a8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-08 14:52:39 +0800

    [HUDI-2403] Add metadata table listing for flink query source (#3618)

1	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
149	0	hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java
7	6	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
3	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
72	0	hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java
2	7	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java

commit 81acb4cafe07241b411345fd99a48c1e27b07c48
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-09-07 21:54:58 -0700

    [MINOR] Remove commenting from Github, JIRA bridge (#3620)

1	1	.asf.yaml

commit cf3a2ead32f432757668d49a9138f891110aa9a5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-08 10:43:54 +0800

    [HUDI-2401] Load archived instants for flink streaming reader (#3610)

8	2	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java

commit ea59a7ff5f59a4b7f5491107f93e82c47ffc255b
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-09-07 09:44:30 -0700

    [HUDI-2080] Move to ubuntu-18.04 for Azure CI (#3409)
    
    Update Azure CI ubuntu from 16.04 to 18.04 due to 16.04 will be removed soon
    
    Fixed some consistently failed tests
    
    * fix TestCOWDataSourceStorage TestMORDataSourceStorage
    * reset mocks
    
    Also update readme badge
    
    
    
    Co-authored-by: Raymond Xu <2701446+xushiyan@users.noreply.github.com>

2	2	README.md
1	1	azure-pipelines.yml
9	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java
7	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java
7	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java
0	117	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
173	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala
1	68	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
121	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSourceStorage.scala

commit eb5e7eec0a080989a4ad3c867699b814dc502ba1
Author: liujinhui <965147871@qq.com>
Date:   2021-09-07 18:19:39 +0800

    MINOR_CHECKSTYLE (#3616)
    
    Fix checkstyle

1	1	hudi-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DelayNode.java
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateAsyncOperations.java
2	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java
0	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
6	6	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/schema/TestSchemaRegistryProvider.java
1	1	packaging/hudi-hive-sync-bundle/pom.xml

commit cf002b6918ffcdb7528857861372dd73ddb7e31d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-09-06 15:53:53 -0700

    [HUDI-2079] Make CLI command tests functional (#3601)
    
    Make all tests in org.apache.hudi.cli.commands extend org.apache.hudi.cli.functional.CLIFunctionalTestHarness and tag as "functional".
    
    This also resolves a blocker where DFS init consistently failed when moving to ubuntu 18.04

15	0	hudi-cli/pom.xml
1	14	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
5	0	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java
16	24	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
16	12	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
53	49	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
14	12	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java
11	9	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java
25	19	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
30	19	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
11	9	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
12	11	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java
7	5	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java
12	12	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java
25	21	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java
20	14	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTempViewCommand.java
15	12	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
7	5	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUtilsCommand.java
133	0	hudi-cli/src/test/java/org/apache/hudi/cli/functional/CLIFunctionalTestHarness.java
31	0	hudi-cli/src/test/java/org/apache/hudi/cli/functional/CLIFunctionalTestSuite.java

commit f218693f5d20491802c48bb02b50a32e573100db
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-09-06 00:07:55 -0400

    [MINOR] Fixing some functional tests by moving to right packages (#3596)

5	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/{index/hbase => client/functional}/TestHBaseIndex.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/{action/rollback => functional}/TestMarkerBasedRollbackStrategy.java

commit 7592ddd776148bf750043d31d74211670b961c46
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-09-05 09:25:57 -0700

    [HUDI-2399] Rebalance CI jobs for shorter wait time (#3604)

100	33	azure-pipelines.yml

commit e9bf1c1186532e6958d5671fd6244958cba16dbe
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-04 15:53:55 +0800

    [HUDI-2380] The default archive folder should be 'archived' (#3568)

4	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java
1	5	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java

commit 073c318d9fd83d40b1dde1cc149def617ce31e8f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-09-03 20:08:11 -0700

    [HUDI-1989] Disable HDFSParquetImporter related tests (#3597)
    
    Also mark HDFSParquetImportCommand and HDFSParquetImporter as deprecated.

4	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
2	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java
4	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
2	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java

commit 6bd3ca98d69679630ce5c35e7a0dabcc0cfa6c5d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-09-03 13:17:17 -0700

    [HUDI-1989] Fix flakiness in TestHoodieMergeOnReadTable (#3574)
    
    * [HUDI-1989] Refactor clustering tests for MoR table
    
    * refactor assertion helper
    
    * add CheckedFunction
    
    * SparkClientFunctionalTestHarness.java
    
    * put back original test case
    
    * move testcases out from TestHoodieMergeOnReadTable.java
    
    * add TestHoodieSparkMergeOnReadTableRollback.java
    
    * use SparkClientFunctionalTestHarness
    
    * add tag

13	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/Assertions.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/{client => }/functional/SparkClientFunctionalTestSuite.java
44	1307	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
168	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java
263	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java
267	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java
643	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
296	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java
25	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/CheckedFunction.java

commit 11398e84801167756f554c727e829ba2d6c700c6
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-09-03 09:18:18 -0700

    [MINOR] Skip checkstyle and rat in Azure (#3593)
    
    - make tests run through without being blocked by style issues
    - let GitHub Actions tasks give quick feedback on build, style and other checks

2	2	azure-pipelines.yml

commit 79b896f071c73a29f7af22e2f5328bd42746fadb
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-02 20:58:12 +0800

    [HUDI-2392] Do not send partition delete record when changelog mode enabled (#3586)

2	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java

commit 7a1bd225cab6b1737d689d3659351a8c950a4d78
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-09-02 16:32:40 +0800

    [HUDI-2376] Add pipeline for Append mode (#3573)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

0	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
25	4	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
6	188	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
6	22	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java
137	0	hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java
41	0	hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteOperator.java
10	26	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
6	71	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteOperator.java
26	1	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java
0	1	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperator.java
258	0	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java
47	0	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractWriteFunction.java
55	0	hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractWriteOperator.java
13	6	hudi-flink/src/main/java/org/apache/hudi/sink/{StreamWriteOperatorFactory.java => common/WriteOperatorFactory.java}
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java
2	4	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctions.java
1	0	hudi-flink/src/main/java/org/apache/hudi/sink/transform/Transformer.java
25	6	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
10	10	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
19	19	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
2	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
8	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
2	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
12	14	hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
2	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/AbstractColumnReader.java
10	10	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java
0	1	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java
5	3	hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java
3	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
0	4	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
8	16	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java
10	4	hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java
141	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
1	0	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
32	3	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
6	6	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
2	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java
8	8	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java

commit 21fd6edfe7721c674b40877fbbdbac71b36bf782
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-09-02 11:14:09 +0800

    [HUDI-2384] Change log file size config to long (#3577)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java

commit 38c9b85aa8aa8f72876b112e376f300076fafacd
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-09-01 08:51:00 -0700

    [HUDI-2280] Use GitHub Actions to build different scala spark versions (#3556)

0	36	.github/actions/bot/package.json
0	100	.github/actions/bot/src/action.js
28	36	.github/workflows/bot.yml
0	50	.travis.yml
4	1	pom.xml
0	34	scripts/report_coverage.sh
0	42	scripts/run_travis_tests.sh

commit f66e1ce9bf56fb4478d8b14d791644cc817924ca
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-09-01 16:47:52 +0800

    [HUDI-2379] Include the pending compaction file groups for flink (#3567)
    
    streaming reader

53	8	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
35	1	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit d59c8044f8dafbd4ebef979d3ee2eb09b410884e
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-08-30 20:28:35 -0700

    [HUDI-2378] Add configs for common and pre validate (#3564)
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePreCommitValidatorConfig.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieCommonConfig.java

commit bf5a52e51bbeaa089995335a0a4c55884792e505
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-08-30 10:01:15 +0800

    [HUDI-2320] Add support ByteArrayDeserializer in AvroKafkaSource (#3502)

1	1	hudi-utilities/pom.xml
18	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java

commit 57668d02a0aa723dd4b2245dc7659fe18113eb59
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-28 20:16:54 +0800

    [HUDI-2371] Improvement flink streaming reader (#3552)
    
    - Support reading empty table
    - Fix filtering by partition path
    - Support reading from earliest commit

1	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
37	7	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
108	45	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
27	3	hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
41	4	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
31	0	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java
68	7	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
32	4	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java
2	3	hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java

commit 69cbcc95169488e7ffa3347ddf98be4167a99997
Merge: 562e28f079 694300477f
Author: wenningd <wenningding95@gmail.com>
Date:   2021-08-27 16:28:51 -0700

    Merge pull request #3541 from rahil-c/rahil-c/HUDI-2359
    
    [HUDI-2359] Add basic "hoodie_is_deleted" unit tests to TestDataSource classes

commit 562e28f07918be76ab674d509a0e237d51533e02
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-08-27 17:17:22 +0800

    [HUDI-2365]Optimizing overwriteField method with Objects.equals (#3542)
    
    Optimizing overwriteField method with Objects.equals

2	1	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java

commit 9850e90e2e0fa602a5346911810bd65c5f3e0ea8
Author: mikewu <xingbowu@gmail.com>
Date:   2021-08-27 10:14:04 +0800

    [HUDI-2229] Refact HoodieFlinkStreamer to reuse the pipeline of HoodieTableSink (#3495)
    
    Co-authored-by: mikewu <xingbo.wxb@alibaba-inc.com>

5	59	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
2	5	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
12	67	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java

commit 55a80a817d21cfcc1c8990da36ba58af82c5a3e3
Author: Satish M <84978833+data-storyteller@users.noreply.github.com>
Date:   2021-08-26 19:31:48 +0530

    [HUDI-2264] Refactor HoodieSparkSqlWriterSuite to add setup and teardown (#3544)

554	561	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala

commit 0f39137ba854a2f808e2108c6aa10f4260b00844
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-26 21:00:30 +0800

    [HUDI-2321] Use the caller classloader for ReflectionUtils (#3535)
    
    Based on the discussion on stackoverflow:
    https://stackoverflow.com/questions/1771679/difference-between-threads-context-class-loader-and-normal-classloader
    
    The Thread.currentThread().getContextClassLoader() should never be used
    because the context classloader is not immutable, user can overwrite it
    when thread switches, it is also nullable.
    
    The objection here: https://stackoverflow.com/a/36228195 says the
    Thread.currentThread().getContextClassLoader() is a JDK design error
    and the context classloader is never suggested to be used. The API that
    needs classloader should ask the user to set up the right classloader.

1	2	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
6	0	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java

commit 73fdcf37dfa8ca4585533401f1ddabef081b72b4
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-08-26 20:34:05 +0800

    [HUDI-2368] Catch Throwable in BoundedInMemoryExecutor (#3546)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

1	1	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java

commit cc5256a7d8aff1f817b023148be7f1e0396b203d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-08-26 16:54:41 +0800

    [HUDI-2357] MERGE INTO doesn't work for tables created using CTAS (#3534)

3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala

commit be57e422004e93e2fefb2d52052e1e3b8916f6b0
Author: ayachi_nene <1710082010@qq.com>
Date:   2021-08-26 16:45:52 +0800

    [HUDI-2366] fix  too many logs (#3543)

0	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java

commit 694300477f61a9169c15cac1ddf67368dbf5dd1b
Author: Rahil Chertara <rchertar@amazon.com>
Date:   2021-08-22 21:55:11 -0700

    [HUDI-2359] Add basic "hoodie_is_deleted" unit tests to TestDataSource classes

27	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
37	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 486bc7dc3b4cf41642069c5fa1be204aebe6da5d
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-08-25 13:57:05 -0700

    [MINOR] Update DOAP with 0.9.0 Release (#3537)

5	0	doap_HUDI.rdf

commit a60fab3a5c6df1b9b3d32f192d4c6ca4ff1d6f6d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-25 10:56:14 +0800

    [HUDI-2352] The upgrade downgrade action of flink writer should be singleton (#3531)

11	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	0	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java

commit 04ede8eecf5ad7d710f34ea3d00b8f19365af2f2
Author: Satish M <84978833+data-storyteller@users.noreply.github.com>
Date:   2021-08-24 22:36:38 +0530

    [HUDI-2262] reduce build warnings (#3481)

2	2	docker/hoodie/hadoop/hive_base/pom.xml
2	2	docker/hoodie/hadoop/prestobase/pom.xml
1	1	hudi-client/hudi-flink-client/pom.xml
1	1	hudi-client/hudi-java-client/pom.xml
1	1	hudi-client/hudi-spark-client/pom.xml

commit 15bf01dcb770c22e2cf8ed861c84ba3565927f5b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-08-24 10:58:47 -0400

    [HUDI-2349] Adding spark delete node to integ test suite (#3528)

73	0	docker/demo/config/test-suite/cow-spark-long-running.yaml
66	0	docker/demo/config/test-suite/cow-spark-simple.yaml
1	1	hudi-integ-test/README.md
7	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
78	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkDeleteNode.scala

commit de94787a85b272f79181dff73907b0f20855ee78
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-08-24 21:45:17 +0800

    [HUDI-2345] Hoodie columns sort partitioner for bulk insert (#3523)
    
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

17	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
10	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java
17	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java
2	2	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
37	17	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java

commit 05e6f44d5377804d4c8f727fba27679d1cdd1de3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-22 13:03:22 +0800

    [MINOR] Fix BatchBootstrapOperator initialization (#3520)

7	2	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java

commit be8c1e499fc94483c2a26687072942515b793368
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-08-21 21:53:16 +0800

    Support referencing subquery with column aliases by table alias in merge into (#3380)

56	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala
3	3	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSpark2ExtendedSqlAstBuilder.scala

commit ab3fbb88950ca351723f2f46da9f40ba325a03b5
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-08-21 20:03:03 +0800

    [HUDI-2342] Optimize Bootstrap operator (#3516)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

74	64	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/{BootstrapFunction.java => BootstrapOperator.java}
0	53	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java
0	50	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunction.java
13	17	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/{BatchBootstrapFunction.java => BatchBootstrapOperator.java}
5	5	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
3	3	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
3	3	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
2	2	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
78	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/CollectorOutput.java
0	2	hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java
15	2	hudi-flink/src/test/java/org/apache/hudi/sink/utils/{MockFunctionInitializationContext.java => MockStateInitializationContext.java}
44	32	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit c7c517f14c3fb5260fa7f3abca5d50a299870b38
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-21 07:21:35 +0800

    [HUDI-2340] Merge the data set for flink bounded source when changelog mode turns off (#3513)

1	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
11	0	hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
8	2	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
33	0	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java

commit e39d0a2f2852ef51c524e5b16a1cecb099674eed
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-08-20 02:42:59 -0700

    Keep non-conflicting names for common configs between DataSourceOptions and HoodieWriteConfig (#3511)

5	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToTwoUpgradeHandler.java
3	3	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java
3	3	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
13	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
11	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java
11	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java
11	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java
6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
2	2	hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java
11	11	hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
3	3	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
9	9	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit 49829f8822bc6bc9389a794e9c08b06c1b1909cf
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-08-20 14:21:10 +0800

    [HUDI-2339] Create Table If Not Exists Failed After Alter Table (#3510)

1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
4	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
25	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala

commit c350d05dd3301f14fa9d688746c9de2416db3f11
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-08-19 13:36:40 -0700

    Restore 0.8.0 config keys with deprecated annotation (#3506)
    
    Co-authored-by: Sagar Sumit <sagarsumit09@gmail.com>
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

2	2	docker/demo/sparksql-incremental.commands
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
8	8	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
4	5	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java
95	23	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
145	39	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
237	60	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
205	66	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
197	50	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
16	39	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
35	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
100	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
79	18	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java
78	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java
4	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java
17	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePreCommitValidatorConfig.java
138	27	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
54	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java
592	245	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
5	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToTwoUpgradeHandler.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java
2	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestHoodieMetricsDatadogConfig.java
4	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java
9	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkMemoryUtils.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryEqualityPreCommitValidator.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryInequalityPreCommitValidator.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQuerySingleResultPreCommitValidator.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java
23	22	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
9	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
10	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java
6	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java
19	19	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
17	15	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
170	33	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
54	0	hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java
79	18	hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java
13	12	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java
160	59	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
50	50	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
177	47	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
31	0	hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
4	5	hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java
4	3	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieDeltaWriteStat.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
5	4	hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java
16	16	hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala
3	3	hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala
5	5	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java
3	3	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
7	7	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
4	4	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java
16	16	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
7	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
4	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java
7	7	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
3	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala
1	1	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
5	5	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java
34	23	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	2	hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java
1	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
9	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
33	34	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
7	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
28	28	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
8	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
17	16	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
14	13	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
4	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
7	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
7	7	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java
2	2	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java
3	3	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
14	13	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java
2	2	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java
28	29	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala
11	11	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
15	15	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
17	17	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
3	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestEmptyCommit.scala
19	21	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
7	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala
4	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
8	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala
23	23	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala
5	5	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
4	4	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java
3	3	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
6	5	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
15	15	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallback.java
42	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java
7	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
11	11	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java

commit 37c29e75dcbd9f045bb1737bb734e2b408081182
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-08-19 21:37:12 +0530

    [HUDI-2322] Use correct meta columns while preparing dataset for bulk insert (#3504)

6	2	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java

commit 9762e4c08c0ff953cc62e72b1295db4fd4c002c5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-19 23:21:20 +0800

    [MINOR] Some cosmetic changes for Flink (#3503)

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
9	2	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapFunction.java
21	3	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
3	3	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
104	99	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
46	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java

commit 7dddd5440650ae18099ba1ee27ad811220fa9e7c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-08-19 07:54:56 -0400

    [MINOR] Fixing release validation script (#3493)

2	2	scripts/release/validate_staged_release.sh

commit b15c3cf9a9772843e853ae502887b2a05bc14208
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-08-19 16:33:54 +0530

    [HUDI-1363] Include _hoodie_operation meta column in removeMetadataFields (#3501)

1	1	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java

commit 1fed44af84b4726d40c57f1dad012c8e4a510f91
Author: swuferhong <337361684@qq.com>
Date:   2021-08-19 17:15:26 +0800

    [HUDI-2316] Support Flink batch upsert (#3494)

5	5	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
65	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapFunction.java
165	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java
11	96	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
4	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
72	27	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
12	6	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
10	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java

commit b7a0d76fc99144fc2eb223cda62ac9d67528c6a2
Author: leiqiang <tsianglei@gmail.com>
Date:   2021-07-13 11:26:12 +0800

    [HUDI-2167] HoodieCompactionConfig get HoodieCleaningPolicy NullPointerException
    
    close apache/hudi#3402

4	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 5ee35a0a92ab0de6c36885a515fad04c08109c78
Author: liujinhui <965147871@qq.com>
Date:   2021-08-18 13:45:48 +0800

    HUDI-1674 (#3488)

11	1	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java
41	3	hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala
1	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 99663d370b5de14cc85f28bb36f1022c2c0bf478
Author: ayachi_nene <1710082010@qq.com>
Date:   2021-08-18 02:09:53 +0800

    [HUDI-2301] fix FileSliceMetrics utils bug (#3487)

9	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/FileSliceMetricUtils.java
108	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/utils/TestFileSliceMetricUtils.java

commit 66f951322a3872073b86896fa5c10b51a0f6e4ab
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-16 18:14:05 +0800

    [HUDI-2191] Bump flink version to 1.13.1 (#3291)

13	8	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
6	8	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java
3	2	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
2	4	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
7	9	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
16	19	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
11	11	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
4	4	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
39	41	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
23	19	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
70	66	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
71	0	hudi-flink/src/test/java/org/apache/hudi/utils/SchemaBuilder.java
3	4	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
31	32	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java
1	1	pom.xml

commit 4d508ef673efc3f73dcceff217e8c4cbfc44b38c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-08-15 10:17:00 -0700

    [MINOR] Fix SelectPackages in HoodieSparkFunctionalTestSuite (#3476)

2	2	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/HoodieSparkFunctionalTestSuite.java

commit 09e625becd8d7e86a8f94610a098966723bb2b89
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-08-15 04:08:55 -0700

    [HOT-FIX] Add apache license to spark_command.txt.template (#3477)

16	0	docker/demo/config/test-suite/templates/spark_command.txt.template

commit 3e301196bfa4fe8d36b99034ba40411da8c92792
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-08-14 18:51:09 -0700

    Moving to 0.10.0-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hudi-cli/pom.xml
2	2	hudi-client/hudi-client-common/pom.xml
2	2	hudi-client/hudi-flink-client/pom.xml
2	2	hudi-client/hudi-java-client/pom.xml
2	2	hudi-client/hudi-spark-client/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-examples/pom.xml
1	1	hudi-flink/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-integ-test/pom.xml
2	2	hudi-spark-datasource/hudi-spark-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark/pom.xml
2	2	hudi-spark-datasource/hudi-spark2/pom.xml
2	2	hudi-spark-datasource/hudi-spark3/pom.xml
1	1	hudi-spark-datasource/pom.xml
1	1	hudi-sync/hudi-dla-sync/pom.xml
1	1	hudi-sync/hudi-hive-sync/pom.xml
1	1	hudi-sync/hudi-sync-common/pom.xml
1	1	hudi-sync/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-flink-bundle/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-sync-bundle/pom.xml
1	1	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit 23dca6c237517bc9d9407556af6b1042f09ae76b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-08-14 17:20:23 -0700

    [HUDI-2268] Add upgrade and downgrade to and from 0.9.0 (#3470)
    
    - Added upgrade and downgrade step to and from 0.9.0. Upgrade adds few table properties. Downgrade recreates timeline server based marker files if any.

13	11	hudi-cli/src/main/java/org/apache/hudi/cli/commands/UpgradeOrDowngradeCommand.java
14	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/DirectWriteMarkers.java
19	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java
42	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToTwoUpgradeHandler.java
52	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToZeroDowngradeHandler.java
142	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseTwoToOneDowngradeHandler.java
144	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseZeroToOneUpgradeHandler.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java
5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java
10	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java
30	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java
4	18	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
32	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java
9	98	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
33	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java
4	18	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
10	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java
35	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java
9	98	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
37	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
180	29	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java
6	5	hudi-common/src/main/java/org/apache/hudi/common/util/MarkerUtils.java
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
3	19	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
0	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java
3	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 18e6b79947b4aa0cbaeebd1918fcb14864d3f171
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-08-14 14:49:22 -0700

    [MINOR] Adding back all old default val members to DataSourceOptions (#3474)
    
    - Added @Deprecated
     - Added @deprecated javadoc to keys and defaults suggested how to migrate
     - Moved all deprecated members to bottom to improve readability

296	134	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit 5cc96e85c13e56e866ca15063bf08c204d967377
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-08-14 17:55:10 +0530

    [HUDI-1897] Deltastreamer source for AWS S3 (#3433)
    
    - Added two sources for two stage pipeline. a. S3EventsSource that fetches events from SQS and ingests to a meta hoodie table. b. S3EventsHoodieIncrSource reads S3 events from this meta hoodie table, fetches actual objects from S3 and ingests to sink hoodie table.
    - Added selectors to assist in S3EventsSource.
    
    Co-authored-by: Satish M <84978833+satishmittal1111@users.noreply.github.com>
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

8	0	hudi-utilities/pom.xml
19	13	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
137	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java
87	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsSource.java
280	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/CloudObjectsSelector.java
161	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/S3EventsMetaSelector.java
112	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestS3EventsSource.java
226	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestCloudObjectsSelector.java
105	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestS3EventsMetaSelector.java
98	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/CloudObjectTestUtils.java
114	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractCloudObjectsSourceTestBase.java
1	0	pom.xml

commit 9056c68744a3f31ac2625e004ec6e155d2e86be9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-08-14 05:18:49 -0700

    [HUDI-2305] Add MARKERS.type and fix marker-based rollback (#3472)
    
    - Rollback infers the directory structure and does rollback based on the strategy used while markers were written. "write markers type" in write config is used to determine marker strategy only for new writes.

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/DirectWriteMarkers.java
78	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/MarkerBasedRollbackUtils.java
0	18	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkersFactory.java
4	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
4	5	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaMarkerBasedRollbackStrategy.java
5	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java
4	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
16	25	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestTimelineServerBasedWriteMarkers.java
8	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestWriteMarkersBase.java
8	7	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi => hudi-common/src/main/java/org/apache/hudi/common}/table/marker/MarkerType.java
219	0	hudi-common/src/main/java/org/apache/hudi/common/util/MarkerUtils.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/MarkerHandler.java
45	61	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java

commit b7da6cb33d27002525e40913dd63f077aeba26f0
Author: liujinhui <965147871@qq.com>
Date:   2021-08-14 14:53:39 +0800

    [HUDI-2307]  When using delete_partition with ds should not rely on the primary key (#3469)
    
    - Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
8	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
61	54	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala
1	1	style/scalastyle.xml

commit 8eed4406949992086fe36b8da0029de98f443588
Author: Prashant Wason <pwason@uber.com>
Date:   2021-08-13 21:23:34 -0700

    [HUDI-2119] Ensure the rolled-back instance was previously synced to the Metadata Table when syncing a Rollback Instant. (#3210)
    
    * [HUDI-2119] Ensure the rolled-back instance was previously synced to the Metadata Table when syncing a Rollback Instant.
    
    If the rolled-back instant was synced to the Metadata Table, a corresponding deltacommit with the same timestamp should have been created on the Metadata Table timeline. To ensure we can always perfomr this check, the Metadata Table instants should not be archived until their corresponding instants are present in the dataset timeline. But ensuring this requires a large number of instants to be kept on the metadata table.
    
    In this change, the metadata table will keep atleast the number of instants that the main dataset is keeping. If the instant being rolled back was before the metadata table timeline, the code will throw an exception and the metadata table will have to be re-bootstrapped. This should be a very rare occurance and should occur only when the dataset is being repaired by rolling back multiple commits or restoring to an much older time.
    
    * Fixed checkstyle
    
    * Improvements from review comments.
    
    Fixed  checkstyle
    Replaced explicit null check with Option.ofNullable
    Removed redundant function getSynedInstantTime
    
    * Renamed getSyncedInstantTime and getSyncedInstantTimeForReader.
    
    Sync is confusing so renamed to getUpdateTime() and getReaderTime().
    
    * Removed getReaderTime which is only for testing as the same method can be accessed during testing differently without making it part of the public interface.
    
    * Fix compilation error
    
    * Reverting changes to HoodieMetadataFileSystemView
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

14	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
0	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
0	18	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
0	19	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
178	35	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
14	21	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
19	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
5	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
7	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
38	14	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
18	3	hudi-common/src/main/java/org/apache/hudi/metadata/TimelineMergedTableMetadata.java

commit 642b1b671de8c6a35ae7858c9b03d3dff70889dd
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-08-13 19:29:22 -0400

    [HUDI-2151]  Flipping defaults (#3452)

4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit 968927801470953f137368cf146778a7f01aa63f
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-08-13 22:31:26 +0530

    [HUDI-1363] Provide option to drop partition columns (#3465)
    
    - Co-authored-by: Sivabalan Narayanan <n.siva.b@gmail.com>

5	1	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
6	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
11	3	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
35	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
6	6	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java
22	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit d4c2974eae98bde4ae21cd38c88e77227eb4b2c6
Author: liujinhui <965147871@qq.com>
Date:   2021-08-13 19:59:51 +0800

    MINOR fix method use error (#3467)

1	1	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java

commit 6a4100bb9143b5daffa4c656589ba6ee93fa5838
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-13 16:31:16 +0800

    [MINOR] Tweak change log more as FULL for flink streaming source (#3466)

0	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
5	1	hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java

commit 6602e55cd29d8ee028730cf8b0ebfed48f3c8ab0
Author: ∂≠ø…¬◊ <dongkelun01@inspur.com>
Date:   2021-08-13 14:10:07 +0800

    [HUDI-2279]Support column name matching for insert * and update set * in merge into (#3415)

19	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
83	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala

commit 0544d70d8f4204f4e5edfe9144c17f1ed221eb7c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-08-13 09:01:04 +0530

    [MINOR] Deprecate older configs (#3464)
    
    Rename and deprecate props in HoodieWriteConfig
    
    Rename and deprecate older props

4	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
4	4	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
8	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
14	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
91	51	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
48	24	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
68	24	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
71	35	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
27	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
8	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java
8	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java
148	116	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
10	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java
3	3	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java
5	5	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestSparkIOUtils.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java
5	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java
2	2	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
81	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
9	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java
1	1	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
4	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
10	10	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
11	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 76bc686a77a485544c9e75cfefa59fa021470a0c
Author: Prashant Wason <pwason@uber.com>
Date:   2021-08-12 15:45:57 -0700

    [HUDI-1292] Created a config to enable/disable syncing of metadata table. (#3427)
    
    * [HUDI-1292] Created a config to enable/disable syncing of metadata table.
    
    - Metadata Table should only be synced from a single pipeline to prevent conflicts.
    - Skip syncing metadata table for clustering and compaction
    - Renamed useFileListingMetadata
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

6	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteTableCommitActionExecutor.java
5	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
50	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
17	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java

commit b651336454ec01c4331d2f46b0281a0065500c79
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-08-12 08:02:39 -0400

    [HUDI-2294] Adding virtual keys support to deltastreamer (#3450)

13	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit c0fc9cdaf3f2e77074e43624b167207c2fb8a784
Author: liujinhui <965147871@qq.com>
Date:   2021-08-12 18:19:05 +0800

    MINOR (#3459)
    
    MOVE hoodie Deltrstreamer to hudi-utilties

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	1	{hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi => hudi-utilities/src/main/java/org/apache/hudi/utilities}/exception/HoodieDeltaStreamerException.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit dc3cbb28e79b7d17569a027e1b408ab33bee18cd
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-08-12 09:11:00 +0800

    [MINOR] Correct TestKafkaSource class and comment (#3451)

2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/{TestKafkaSource.java => TestJsonKafkaSource.java}

commit b3e430f24bfedd94d3ceae028dce2e0053e268a6
Author: Prashant Wason <pwason@uber.com>
Date:   2021-08-11 16:47:16 -0700

    [HUDI-2017] Add API to set a metric in the registry. (#3084)
    
    Registry.add() API adds the new value to existing metric value. For some use-cases We need a API to set/replace the existing value.
    
    Metadata Table is synced in preWrite() and postWrite() functions of commit. As part of the sync, the current sizes and basefile/logfile counts are published as metrics. If we use the Registry.add() API, the count and sizes are incorrectly published as sum of the two values. This is corrected by using the Registry.set() API instead.

5	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metrics/DistributedRegistry.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/metrics/Counter.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/metrics/LocalRegistry.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/metrics/Registry.java
5	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java

commit 9e8308527a3a19bf58397ededfbf91a70568060e
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-08-12 01:54:44 +0800

    [HUDI-1518] Remove the logic that delete replaced file when archive (#3310)
    
    * remove delete replaced file when archive
    
    * done
    
    * remove unsed import
    
    * remove delete replaced files when archive realted UT
    
    * code reviewed
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

0	52	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/ReplaceArchivalHelper.java
0	31	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
0	79	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java

commit 4783176554e7d4ae7b7296cf633d750ae27e65d9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-08-11 08:48:13 -0700

    [HUDI-1138] Add timeline-server-based marker file strategy for improving marker-related latency (#3233)
    
    - Can be enabled for cloud stores like S3. Not supported for hdfs yet, due to partial write failures.

3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java
29	25	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
53	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
5	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
7	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
5	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
34	84	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/{MarkerFiles.java => marker/DirectWriteMarkers.java}
27	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/MarkerType.java
179	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/TimelineServerBasedWriteMarkers.java
186	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java
58	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkersFactory.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
6	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
4	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
4	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java
4	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
4	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java
8	6	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java
5	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
21	17	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
9	6	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaMarkerBasedRollbackStrategy.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
3	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java
8	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java
5	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
21	17	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
5	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
74	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestDirectWriteMarkers.java
141	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestTimelineServerBasedWriteMarkers.java
27	56	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/{TestMarkerFiles.java => marker/TestWriteMarkersBase.java}
14	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
41	0	hudi-common/src/main/java/org/apache/hudi/common/table/marker/MarkerOperation.java
21	1	hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java
3	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieRemoteException.java
95	28	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java
146	28	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
5	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/BaseFileHandler.java
6	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java
6	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/Handler.java
198	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/MarkerHandler.java
5	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java
57	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/BatchedMarkerCreationContext.java
51	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/BatchedMarkerCreationRunnable.java
90	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerCreationDispatchingRunnable.java
69	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerCreationFuture.java
375	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java
4	1	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java
9	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java

commit 29332498af420596f42c3b0ff4a2fe804d7d7dfc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-11 22:55:43 +0800

    [HUDI-2298] The HoodieMergedLogRecordScanner should set up the operation of the chosen record (#3456)

7	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
37	0	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
24	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit aa11989eade1bd268d83e6aafe15f2ea60be67d2
Author: Prashant Wason <pwason@uber.com>
Date:   2021-08-11 07:39:48 -0700

    [HUDI-2286] Handle the case of failed deltacommit on the metadata table. (#3428)
    
    A failed deltacommit on the metadata table will be automatically rolled back. Assuming the failed commit was "t10", the rollback will happen the next time at "t11". Post rollback, when we try to sync the dataset to the metadata table, we should look for all unsynched instants including t11. Current code ignores t11 since the latest commit timestamp on metadata table is t11 (due to rollback).

58	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java
5	3	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
24	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java

commit c9fa3cffaf01ca5b84cf93ccd4c2823bf6cac71d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-08-11 01:03:01 -0400

    [HUDI-1774] Adding support for delete_partitions to spark data source (#3437)

1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java
5	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
105	81	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
112	107	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala

commit a5e496fe23c3cd89ceff0e4c49d27df325ba5bd8
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-08-11 12:17:39 +0800

    [HUDI-2292] MOR should not predicate pushdown when reading with payload_combine type (#3443)

16	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
13	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 8255a86cb4d7f2173f0adcf0d752096b0b4df78c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-08-10 20:25:41 -0700

    [HUDI-1939] remove joda time in hivesync module (#3430)

0	5	hudi-sync/hudi-hive-sync/pom.xml
8	8	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java
8	8	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedHourPartitionValueExtractor.java
8	125	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
14	14	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
8	8	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java

commit 5448cdde7e45c39b8bf8275d9f3ee425c9bfa90e
Author: swuferhong <337361684@qq.com>
Date:   2021-08-11 10:20:55 +0800

    [HUDI-2170] [HUDI-1763] Always choose the latest record for HoodieRecordPayload (#3401)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/BootstrapRecordPayload.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/model/EmptyHoodieRecordPayload.java
5	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java
8	4	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
5	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java
21	4	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
3	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
4	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/AvroBinaryTestPayload.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
11	4	hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java
35	11	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit d1b4aa59bfe6bcad076196e1007eb9f08de6622b
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-08-11 05:48:53 +0800

    [HUDI-2042] Compare the field object directly in OverwriteWithLatestAvroPayload (#3108)

3	2	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
9	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteNonDefaultsWithLatestAvroPayload.java

commit abbc8328e67fcf10b065671715ed0bd1bb80d897
Author: Damon P. Cortesi <d.lifehacker@gmail.com>
Date:   2021-08-10 13:01:45 -0700

    [MINOR] Fix contribution link in PULL_REQUEST_TEMPLATE (#3425)

2	2	.github/PULL_REQUEST_TEMPLATE.md

commit 0e1c592c697c8e55491d869fb18126c3ff1d87a2
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-08-11 03:05:31 +0800

    [MINOR] Delete useless com.uber.hoodie.hadoop.hive.HoodieCombineHiveInputFormat (#3298)

0	59	hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/hive/HoodieCombineHiveInputFormat.java

commit 1196736185272afaeda37328f1c52ccd5c6dc017
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-08-10 12:15:37 -0400

    [HUDI-1129] Improving schema evolution support in hudi (#2927)
    
    * Adding support to ingest records with old schema after table's schema is evolved
    
    * Rebasing against latest master
    
    - Trimming test file to be < 800 lines
    - Renaming config names
    
    * Addressing feedback
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

1	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
29	8	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
10	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
7	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
40	7	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
12	8	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/SparkBasedReader.java
7	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
3	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java
32	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
7	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
34	36	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala
130	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
22	40	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
48	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
25	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
12	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
4	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SparkAvroPostProcessor.java
185	54	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
23	18	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerBase.java
6	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
139	0	hudi-utilities/src/test/resources/delta-streamer-config/source_evolved.avsc

commit 73d898322b69f8d3831bf209dceb069ea61f5064
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-08-10 23:25:49 +0800

    [MINOR] Fix travis from errors (#3432)

3	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala
2	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
30	0	hudi-spark-datasource/hudi-spark2/src/test/resources/log4j-surefire-quiet.properties
31	0	hudi-spark-datasource/hudi-spark2/src/test/resources/log4j-surefire.properties
30	0	hudi-spark-datasource/hudi-spark3/src/test/resources/log4j-surefire-quiet.properties
31	0	hudi-spark-datasource/hudi-spark3/src/test/resources/log4j-surefire.properties

commit a18bc839d18bee634d0e35d4761bd156f0230f79
Author: xuzifu666 <1206332514@qq.com>
Date:   2021-08-10 23:18:12 +0800

    [HUDI-2288] Support storage on ks3 for hudi (#3434)
    
    Co-authored-by: xuzifu <xuzifu.com>

2	0	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit 21db6d7a84d4a83ec98c110e92ff9c92d05dd530
Author: swuferhong <337361684@qq.com>
Date:   2021-08-10 20:23:23 +0800

    [HUDI-1771] Propagate CDC format for hoodie (#3285)

16	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
11	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
18	36	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/model/HoodieRowData.java
3	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
12	7	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java
46	2	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
125	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieOperation.java
23	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
9	3	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
16	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java
18	8	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
10	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java
12	4	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
6	4	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java
11	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
8	4	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
9	2	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java
3	17	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java
1	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
5	5	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java
1	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
2	3	hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java
6	7	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
8	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
128	3	hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
92	13	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
8	0	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java
46	0	hudi-flink/src/main/java/org/apache/hudi/util/ChangelogModes.java
1	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
9	3	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
27	20	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
2	2	hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java
19	10	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
114	8	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
81	4	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
136	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestHoodieRowData.java
1	0	hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java
1	1	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
5	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
12	6	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java

commit b4441abcf74951ec0ce28593b96baa84456a97d3
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-08-10 01:10:15 +0800

    [HUDI-2194] Skip the latest N partitions when choosing partitions to create ClusteringPlan (#3300)
    
    * skip from latest partitions based on hoodie.clustering.plan.strategy.daybased.skipfromlatest.partitions && 0(default means skip nothing)
    
    * change config verison
    
    * add ut
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java
66	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/clustering/plan/strategy/TestSparkRecentDaysClusteringPlanStrategy.java

commit 41a9986a7641f3232b1edd2a737fd4b7aa430dbf
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-08-09 12:18:31 +0800

    [HUDI-2208] Support Bulk Insert For Spark Sql (#3328)

16	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
66	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/sql/InsertMode.java
5	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
13	14	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
50	22	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
29	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
3	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UuidKeyGenerator.scala
3	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
219	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 11ea74958d2aadffb3abe757cface5e2835784db
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-08-09 09:15:42 +0800

    [HUDI-2247] Filter file where length less than parquet MAGIC length (#3363)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

3	2	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
24	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 32a50d8ddbbf706bd350e9cf0762f51ab66afcc9
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-08-08 07:07:22 +0800

    [HUDI-2243] Support Time Travel Query For Hoodie Table (#3360)

7	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
23	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
9	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
27	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
230	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala

commit 55d2e786dbae584d2c4917a15d599ab7bb1877fb
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-08-07 19:49:26 +0800

    [HUDI-1842] Spark Sql Support For pre-existing Hoodie Table (#3393)

0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
1	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
25	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
24	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
122	50	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
46	29	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
233	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala

commit 70b6bd485f8d1ef9a9b15999edda2472d0b4d65a
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-08-07 08:23:08 +0530

    [HUDI-1468] Support custom clustering strategies and preserve commit metadata as part of clustering (#3419)
    
    Co-authored-by: Satish Kotha <satishkotha@uber.com>

12	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
14	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/CreateHandleFactory.java
21	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
51	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieUnboundedCreateHandle.java
59	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/SingleFileHandleCreateFactory.java
9	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringExecutionStrategy.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractBulkInsertHelper.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
3	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteCommitActionExecutor.java
2	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteTableCommitActionExecutor.java
6	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	74	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java
66	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSelectedPartitionsClusteringPlanStrategy.java
125	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java
247	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java
187	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java
11	17	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
44	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkAllowUpdateStrategy.java
13	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java
7	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java
18	169	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
4	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java
62	32	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java
17	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
5	0	hudi-common/src/main/avro/HoodieClusteringPlan.avsc
89	0	hudi-common/src/main/java/org/apache/hudi/common/model/ClusteringGroupInfo.java
53	0	hudi-common/src/main/java/org/apache/hudi/common/model/RewriteAvroPayload.java
6	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java

commit 9ce548edb1b534029fa0f0617dadc3d54cdb8999
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-08-06 16:18:19 +0800

    [MINOR] fix compile error in compaction command (#3421)

1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala

commit 3f8ca1a3552bb866163d3b1648f68d9c4824e21d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-08-06 15:12:10 +0800

    [HUDI-2182] Support Compaction Command For Spark Sql (#3277)

17	0	hudi-spark-datasource/hudi-spark/pom.xml
87	0	hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4
40	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/Compaction.scala
4	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala
7	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
20	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
135	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala
44	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala
61	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodiePathCommand.scala
43	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala
1	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
1	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
140	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieCommonSqlParser.scala
75	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieSqlCommonAstBuilder.scala
129	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCompactionTable.scala
1	1	hudi-spark-datasource/hudi-spark2/pom.xml
2	2	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
1	1	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/{HoodieSqlAstBuilder.scala => HoodieSpark2ExtendedSqlAstBuilder.scala}
2	2	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/{HoodieSqlParser.scala => HoodieSpark2ExtendedSqlParser.scala}
1	0	pom.xml

commit 20feb1a8970b7ec658d4d3f1994eaedd24b9874a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-06 11:06:21 +0800

    [HUDI-2278] Use INT64 timestamp with precision 3 for flink parquet writer (#3414)

6	0	hudi-client/hudi-flink-client/pom.xml
3	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/RowDataParquetWriteSupport.java
357	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetRowDataWriter.java
631	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java

commit b7586a563253082a00d62ac81e3b5acbb378472a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-06 10:30:52 +0800

    [HUDI-2274] Allows INSERT duplicates for Flink MOR table (#3403)

6	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
3	3	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
3	3	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
6	5	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
1	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
0	6	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
0	6	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
0	18	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit 0dcd6a8fcaff0a8ac2e0fdccbfd14634722185b2
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-08-05 21:57:22 +0800

    [HUDI-2233] Use HMS To Sync Hive Meta For Spark Sql (#3387)

8	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
4	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
8	7	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
42	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveSyncMode.java
0	14	packaging/hudi-spark-bundle/pom.xml
0	2	pom.xml

commit 1df5ded433eced3bbb66137bc741e616beab9a70
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-08-04 19:08:50 -0400

    [HUDI-2273] Migrating some long running tests to functional test profile (#3398)

1	1	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java
32	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/SparkClientFunctionalTestSuite.java
12	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/{metadata => client/functional}/TestHoodieBackedMetadata.java
10	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/{ => functional}/TestHoodieClientOnCopyOnWriteStorage.java
4	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/{index => client/functional}/TestHoodieIndex.java
12	0	hudi-spark-datasource/hudi-spark/pom.xml
30	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/HoodieSparkFunctionalTestSuite.java
4	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/{client => functional}/TestBootstrap.java
6	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/{ => functional}/TestHoodieDatasetBulkInsertHelper.java
8	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/{functional => }/HoodieSparkSqlWriterSuite.scala
0	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
0	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala

commit 5574e092fb40c24dfb417f160e4ac229d9cbcc0c
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-08-04 18:20:29 +0800

    [HUDI-2232]  [SQL] MERGE INTO fails with table having nested struct (#3379)

3	3	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/sql/IExpressionEvaluator.java
16	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala
18	48	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
9	146	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala
65	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala

commit b8b9d6db83657cfdf35832eb26eb7e46ca318048
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-08-04 17:53:20 +0800

    [HUDI-2087] Support Append only in Flink stream (#3390)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

6	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
7	5	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
9	9	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java
9	4	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/{OverwriteWriteProfile.java => EmptyWriteProfile.java}
6	6	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
4	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
10	4	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
7	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
76	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
6	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
7	4	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
18	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
42	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit 02331fc223ca1272e3a9039c6563b9d511a8fbef
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-04 10:54:55 +0800

    [HUDI-2258] Metadata table for flink (#3381)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
31	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
38	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
191	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java
13	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertDeltaCommitActionExecutor.java
52	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertPreppedDeltaCommitActionExecutor.java
72	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkCompactHelpers.java
14	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java
15	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
0	8	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/util/FlinkClientUtil.java
16	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	7	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
60	14	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
2	12	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
26	3	hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java
1	2	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
22	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
86	62	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java

commit b4c14eaa29ed4f3b0f8f44dbfdd75ee68702645b
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-08-03 17:51:25 -0700

    [HUDI-2090] Ensure Disk Maps create a subfolder with appropriate prefixes and cleans them up on close  (#3329)
    
    * Add UUID to the folder name for External Spillable File System
    
    * Fix to ensure that Disk maps folders do not interefere across users
    
    * Fix test
    
    * Fix test
    
    * Rebase with latest mater and address comments
    
    * Add Shutdown Hooks for the Disk Map
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
7	21	hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java
64	5	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskMap.java
11	11	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDbDiskMap.java
14	0	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestBitCaskDiskMap.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java

commit 91bb0d13184c57ec08f02db3337e734bc20739c4
Author: wenningd <wenningding95@gmail.com>
Date:   2021-08-03 17:50:30 -0700

    [HUDI-2255] Refactor Datasource options (#3373)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

32	32	docker/demo/sparksql-incremental.commands
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
3	3	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java
3	3	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
13	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
11	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java
11	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java
11	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java
4	4	hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java
4	4	hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
13	13	hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala
9	9	hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala
4	4	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
4	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java
5	5	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala
4	4	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala
4	4	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala
5	5	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
26	26	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java
53	53	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
3	3	hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java
1	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
6	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
44	44	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
28	28	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
12	12	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
9	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
4	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
8	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
19	19	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
16	16	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
13	13	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
36	36	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java
17	17	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java
18	18	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
6	6	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java
2	2	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
30	30	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
25	25	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
76	76	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
43	43	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
48	48	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
4	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestEmptyCommit.scala
88	88	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
5	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala
10	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
5	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala
3	3	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java
3	3	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
10	10	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerBase.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit 1ff2d3459a89e384f7f0b4805aa8fe5e6f488f46
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-08-03 14:47:40 -0700

    [HUDI-1371] [HUDI-1893] Support metadata based listing for Spark DataSource and Spark SQL (#2893)

17	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
11	7	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
22	0	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
20	0	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
6	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
50	12	hudi-common/src/test/java/org/apache/hudi/metadata/TestFileSystemBackedTableMetadata.java
14	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
128	44	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
58	29	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
19	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
14	9	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
22	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 245e1fd17dbf19d9008eaae3bc009bc2be2e663f
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-08-03 14:46:02 -0700

    [HUDI-2272] Pass base file format to sync clients (#3397)
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

4	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 826a04d1425f47fdd80c293569a359021d1b6586
Author: satishkotha <satishkotha@uber.com>
Date:   2021-08-03 12:07:45 -0700

    [HUDI-2072] Add pre-commit validator framework (#3153)
    
    * [HUDI-2072] Add pre-commit validator framework
    
    * trigger Travis rebuild

122	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePreCommitValidatorConfig.java
25	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
14	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
167	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java
99	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SparkPreCommitValidator.java
76	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryEqualityPreCommitValidator.java
74	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryInequalityPreCommitValidator.java
92	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryPreCommitValidator.java
78	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQuerySingleResultPreCommitValidator.java
6	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
5	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
247	31	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
90	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTablePreCommitFileSystemView.java
35	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieValidationException.java

commit bec23bda50b5252013af54dcf39c3a645eea6c7e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-08-03 13:55:35 +0800

    [HUDI-2269] Release the disk map resource for flink streaming reader (#3384)

0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
5	22	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
24	0	hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
36	20	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java

commit aa857beee00a764cee90d6e790ee4b0ab4ad4862
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-08-03 09:01:56 +0530

    [HUDI-2225] Add a compaction job in hudi-examples (#3347)

113	0	hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala

commit b21ae68e6710cab12a95eb62552541b47ef891cb
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-08-02 13:42:46 -0700

    [MINOR] Improving runtime of TestStructuredStreaming by 2 mins (#3382)

11	27	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala

commit fe508376faaa3c36e9f821f3d6fee731983798c4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-08-02 09:45:09 -0400

    [HUDI-2177][HUDI-2200] Adding virtual keys support for MOR table (#3315)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
12	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
12	12	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
69	91	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
119	50	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
5	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
28	15	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
17	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java
19	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
20	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
19	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
12	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java
10	2	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
10	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
11	5	hudi-common/src/test/java/org/apache/hudi/common/testutils/SampleTestRecord.java
7	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java
8	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputSplitUtils.java
13	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
17	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
65	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieVirtualKeyInfo.java
10	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java
5	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
27	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java
47	14	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
4	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java
17	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
3	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
18	11	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
3	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
5	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
8	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
3	3	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit dde57b293cd22ef1bd89f44054f109a52fc20e56
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-08-02 08:07:59 +0800

    [HUDI-2164] Let users build cluster plan and execute this plan at once using HoodieClusteringJob for async clustering (#3259)
    
    * add --mode schedule/execute/scheduleandexecute
    
    * fix checkstyle
    
    * add UT testHoodieAsyncClusteringJobWithScheduleAndExecute
    
    * log changed
    
    * try to make ut success
    
    * try to fix ut
    
    * modify ut
    
    * review changed
    
    * code review
    
    * code review
    
    * code review
    
    * code review
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

85	20	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
122	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 6353fc865f43854e0e185af33e8ad091c8870d78
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-07-30 17:36:57 +0800

    [HUDI-2218] Fix missing HoodieWriteStat in HoodieCreateHandle (#3341)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java

commit f7f5d4cc6db1230e653346953d87c6ff480c56eb
Author: swuferhong <337361684@qq.com>
Date:   2021-07-30 17:24:00 +0800

    [HUDI-2184] Support setting hive sync partition extractor class based on flink configuration (#3284)

13	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
52	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit c4e45a0010d3f13f84d90fbf417c4e5e6c547fda
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-30 16:58:11 +0800

    [HUDI-2254] Builtin sort operator for flink bulk insert (#3372)

1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/model/HoodieRowData.java
14	12	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java
3	1	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java
126	0	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperator.java
58	0	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java
31	21	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
0	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 8b19ec9ca07070a9819502e82091dd14d559ef94
Author: swuferhong <337361684@qq.com>
Date:   2021-07-30 14:25:05 +0800

    [HUDI-2252] Default consumes from the latest instant for flink streaming reader (#3368)

4	3	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
34	4	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java
32	1	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
12	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit 7bdae69053afc5ef604a15806d78317cb976f2ce
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-07-30 01:22:26 -0400

    [HUDI-2253] Refactoring few tests to reduce runningtime. DeltaStreamer and MultiDeltaStreamer tests. Bulk insert row writer tests (#3371)
    
    Co-authored-by: Sivabalan Narayanan <nsb@Sivabalans-MBP.attlocal.net>

2	2	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java
6	3	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java
2	2	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java
5	2	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java
6	222	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
245	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerBase.java
1	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit c2370402ea16839ec6bb0808bdcd9e7c9556092e
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-30 05:36:56 +0800

    [HUDI-2251] Fix Exception Cause By Table Name Case Sensitivity For Append Mode Write (#3367)

7	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
27	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 44e41dc9bb7c64f8b517d4a44742019f4dee4f70
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-07-29 23:16:58 +0800

    [HUDI-2117] Unpersist the input rdd after the commit is completed to °≠ (#3207)
    
    
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

12	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
10	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
1	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
3	19	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit f109c6cb0d187aedfbbcfab48ef5c5bf717e9cca
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-29 17:29:10 +0800

    [MINOR] fix check style error (#3365)

0	13	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
66	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestEmptyCommit.scala

commit bbadac7de1bb57300ca7e796ebb401fdbb66a0f8
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-29 12:30:18 +0800

    [HUDI-1425] Performance loss with the additional hoodieRecords.isEmpty() in HoodieSparkSqlWriter#write (#2296)

5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
10	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
0	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
14	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit efbbb67420b7082a3960f3d32215dabd959f5525
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-29 09:57:37 +0800

    [HUDI-2241] Explicit parallelism for flink bulk insert (#3357)

8	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit 7739518879cf1c30576b938d705947192a2dd9ad
Author: swuferhong <337361684@qq.com>
Date:   2021-07-28 19:45:50 +0800

    [HUDI-2228] Add option 'hive_sync.mode' for flink writer (#3352)

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
4	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java

commit eedfadeb46d5538bc7efb2c455469f1b42e9385e
Author: swuferhong <337361684@qq.com>
Date:   2021-07-28 19:40:16 +0800

    [HUDI-2244] Fix database alreadyExists exception while hive sync (#3361)

3	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
5	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
47	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
1	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java

commit 91c221341293e80c28cce19f1642199495a96f66
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-28 19:26:37 +0800

    [HUDI-2245] BucketAssigner generates the fileId evenly to avoid data skew (#3362)

1	0	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
30	8	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
11	8	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java
40	11	hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java

commit 8105cf588e28820b9c021c9ed0e59e3f8b6efa71
Author: davehagman <73851873+davehagman@users.noreply.github.com>
Date:   2021-07-28 02:45:09 -0400

    [HUDI-2230] Make codahale times transient to avoid serializable exceptions (#3345)

3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java

commit 8fef50e237b2342ea3366be32950a2b87a9608c4
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-07-27 22:31:03 -0700

    [HUDI-2044] Integrate consumers with rocksDB and compression within External Spillable Map (#3318)

3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
3	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java
5	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
7	32	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
2	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
42	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
93	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieCommonConfig.java
18	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
11	7	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
19	8	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
4	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
16	3	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java
105	30	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedFileSystemView.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedIncrementalFSViewSync.java
2	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
3	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
4	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
41	7	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
3	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
5	3	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
3	1	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java

commit 00cd35f90ad0cd96a943edd148bf881fc4b7bb5b
Author: mincwang <33626973+mincwang@users.noreply.github.com>
Date:   2021-07-28 08:23:23 +0800

    [HUDI-2215] Add rateLimiter when Flink writes to hudi. (#3338)
    
    Co-authored-by: wangminchao <wangminchao@asinking.com>

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java
61	0	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctionWithRateLimit.java
45	0	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctions.java
3	2	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
2	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit 60758b36ea033a5985eabc53da5f6036ffaa5c0d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-27 20:10:08 +0800

    [HUDI-2227] Only sync hive meta on successful commit for flink batch writer (#3351)

6	5	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	12	hudi-flink/src/main/java/org/apache/hudi/sink/utils/CoordinatorExecutor.java
17	3	hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java

commit 59ff8423f96055fedc7a8ebf0db08666ae725726
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-27 20:01:04 +0800

    [HUDI-2223] Fix Alter Partitioned Table Failed (#3350)

12	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala
11	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala
30	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala

commit 925873bb3cacbe7d2cd95d7bf0c0e5a40f56da12
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-07-27 17:30:01 +0800

    [HUDI-2217] Fix no value present in incremental query on MOR (#3340)

62	56	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
8	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
8	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit ab2e0d0ba2697ba0750ec52fbb3b3a0187734a4b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-27 15:18:05 +0800

    [HUDI-2219] Fix NPE of HoodieConfig (#3342)

11	9	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java

commit 9d2a65a6a6ff9add81411147f1cddd03f7c08e6c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-27 10:58:23 +0800

    [HUDI-2209] Bulk insert for flink writer (#3334)

24	0	hudi-client/hudi-flink-client/pom.xml
184	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/model/HoodieRowData.java
205	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java
53	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataFileWriter.java
79	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataFileWriterFactory.java
36	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetConfig.java
86	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetWriteSupport.java
77	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetWriter.java
66	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/RowDataParquetWriteSupport.java
6	0	hudi-flink/pom.xml
19	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
6	13	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
0	6	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorFactory.java
225	0	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java
115	0	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteOperator.java
169	0	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java
228	0	hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java
93	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java
44	7	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
16	0	hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java
96	0	hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java
112	55	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
16	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
36	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java
8	0	hudi-flink/src/test/resources/test_source_5.data

commit 024cf01f0282264da87b13688983df61d2c080fd
Author: xiang2102 <76191829+xiang2102@users.noreply.github.com>
Date:   2021-07-27 08:48:58 +0800

    [MINOR] Correct the words accroding in the comments to according (#3343)
    
    Correct the words 'accroding' in the comments to 'according'

1	1	hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java

commit 61148c1c43c9ff5ba04b6c174e9e2a006db9e7b3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-07-26 17:21:04 -0400

    [HUDI-2176, 2178, 2179] Adding virtual key support to COW table (#3306)

3	2	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
5	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
15	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java
16	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
7	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
8	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieConcatHandle.java
13	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
14	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
22	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
13	6	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/simple/FlinkHoodieSimpleIndex.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
3	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
3	0	hudi-client/hudi-java-client/src/test/resources/testDataGeneratorSchema.txt
14	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
4	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SparkKeyGeneratorInterface.java
16	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
21	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
297	172	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
50	19	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
22	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
91	69	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
71	27	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
19	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
3	0	hudi-client/hudi-spark-client/src/test/resources/testDataGeneratorSchema.txt
16	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
20	17	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
0	6	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java
7	0	hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java
35	8	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
0	0	{hudi-client/hudi-client-common => hudi-common}/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java
0	0	{hudi-client/hudi-client-common => hudi-common}/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
0	0	{hudi-client/hudi-client-common => hudi-common}/src/main/java/org/apache/hudi/keygen/KeyGeneratorInterface.java
0	0	{hudi-client/hudi-client-common => hudi-common}/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
0	0	{hudi-client/hudi-client-common => hudi-common}/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorType.java
2	1	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroWriteSupport.java
10	8	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestAvroOrcUtils.java
85	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
1	1	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
4	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
8	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
3	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
2	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java
3	0	hudi-utilities/src/test/resources/delta-streamer-config/source-flattened.avsc
3	0	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties
3	0	hudi-utilities/src/test/resources/delta-streamer-config/target-flattened.avsc
3	0	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc

commit 5353243449ea16c415b4fb5517eb6d2e2723ba76
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-07-27 01:26:20 +0800

    [HUDI-2214]residual temporary files after clustering are not cleaned up (#3335)

2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
25	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit a5638b995b5373826d435734fc6cdfbb5fbf7acb
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-07-26 17:39:13 +0800

    [MINOR] Close log scanner after compaction completed (#3294)

1	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java

commit a91296f14a037a148d949b2380ad503677e688c7
Author: ∂≠ø…¬◊ <1412359494@qq.com>
Date:   2021-07-25 12:15:57 +0800

    [HUDI-2216] Correct the words fiels in the comments to fields (#3339)

2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala

commit a14b19fdd5d68717d3b850a69d4ce27ca3b3d595
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-07-23 21:33:34 -0700

    [HUDI-1241] Automate the generation of configs webpage as configs are added to Hudi repo (#3302)

7	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
7	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
7	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
7	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java
5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
8	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
39	0	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigClassProperty.java
81	0	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java
13	0	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigProperty.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
5	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java

commit b2f7fcb8c8b7bab65005593c220c51d7f70319c5
Author: Xuedong Luan <luanxuedong2009@gmail.com>
Date:   2021-07-24 10:02:24 +0800

    [MINOR] Replace deprecated method isDir with isDirectory (#3319)

8	8	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java

commit 66207ed91a75ce8e91ccc0c417dc0d310dc36a5c
Author: jsbali <jsbali@uber.com>
Date:   2021-07-23 21:33:15 +0530

    [HUDI-1848] Adding support for HMS for running DDL queries in hive-sy°≠ (#2879)
    
    * [HUDI-1848] Adding support for HMS for running DDL queries in hive-sync-tool
    
    * [HUDI-1848] Fixing test cases
    
    * [HUDI-1848] CR changes
    
    * [HUDI-1848] Fix checkstyle violations
    
    * [HUDI-1848] Fixed a bug when metastore api fails for complex schemas with multiple levels.
    
    * [HUDI-1848] Adding the complex schema and resolving merge conflicts
    
    * [HUDI-1848] Adding some more javadocs
    
    * [HUDI-1848] Added javadocs for DDLExecutor impls
    
    * [HUDI-1848] Fixed style issue

126	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java
1882	0	hudi-common/src/test/resources/complex.schema.avsc
4	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
4	3	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
40	305	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
85	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java
233	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java
135	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java
150	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java
199	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java
72	26	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java
317	151	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
7	4	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveSyncFunctionalTestHarness.java
66	7	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
7	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 71e14cf866d2ddeee7238a3f15b59912c2537943
Author: Xuedong Luan <luanxuedong2009@gmail.com>
Date:   2021-07-23 19:57:35 +0800

    [HUDI-2213] Remove unnecessary parameter for HoodieMetrics constructor and fix NPE in UT (#3333)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
1	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java
7	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java
2	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
2	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
2	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPrometheusReporter.java
2	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPushGateWayReporter.java

commit 2c910ee3af6f1e4159d57802e24d4bddabb8fcb8
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-23 15:21:57 +0800

    [HUDI-2212] Missing PrimaryKey In Hoodie Properties For CTAS Table (#3332)

14	6	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
8	8	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
2	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
3	3	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
10	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
10	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
37	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 6d592c5896d033c7f781d4a9eef4a43916c084ed
Author: Xuedong Luan <luanxuedong2009@gmail.com>
Date:   2021-07-23 11:22:54 +0800

    [HUDI-2211] Fix NullPointerException in TestHoodieConsoleMetrics (#3331)

1	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java

commit 5a2f3d439e2eb339f989c78801752f84b6dcee38
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-23 10:19:43 +0800

    [HUDI-2139] MergeInto MOR Table May Result InCorrect Result (#3230)

10	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java
14	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
68	40	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMereIntoLogOnlyTable.scala
138	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala

commit c89bf1de20a1c9eb7873b4671ad3d37bc7111245
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-22 22:56:51 +0800

    [HUDI-2205] Rollback inflight compaction for flink writer (#3320)

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
0	4	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java
14	8	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
3	2	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
87	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java

commit fe5d2e7f53eb36d9e35acd8d944e59d988dba475
Author: swuferhong <337361684@qq.com>
Date:   2021-07-22 16:35:07 +0800

    [HUDI-2206] Fix checkpoint blocked because getLastPendingInstant() action after than restoreWriteMetadata() action (#3326)

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java

commit 151f22e43ace6ec55a92fbe50c63b8e21cace59c
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-22 15:33:38 +0800

    [HUDI-2195]  Sync Hive Failed When Execute  CTAS In Spark2 And Spark3 (#3299)

1	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
14	1	packaging/hudi-spark-bundle/pom.xml
2	0	pom.xml

commit 2370a9facbe4418f994f29c426e9b2a255e3abb0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-22 13:34:15 +0800

    [HUDI-2204] Add marker files for flink writer (#3316)

1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
7	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
3	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java
3	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
0	15	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
8	11	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkCleanActionExecutor.java

commit 5a94b6bf54b18739da55ebde10adf93f133e3204
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-07-21 13:03:27 +0530

    [HUDI-2192] Clean up Multiple versions of scala libraries detected Warning (#3292)

1	0	hudi-cli/pom.xml
1	0	hudi-spark-datasource/hudi-spark-common/pom.xml
1	0	hudi-spark-datasource/hudi-spark/pom.xml
1	0	hudi-spark-datasource/hudi-spark2/pom.xml
1	0	hudi-spark-datasource/hudi-spark3/pom.xml
4	0	pom.xml

commit 4f1350f7c1f43f3da618d33fe6a6c5e566ee7e8c
Author: satishkotha <satishkotha@uber.com>
Date:   2021-07-20 22:07:22 -0700

    [MINOR] Disable codecov (#3314)

8	8	.codecov.yml.broken => .codecov.yml

commit d58a8348dc729c83c60025fc8dbed3ecec28578b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-07-21 00:11:01 -0400

    [HUDI-2007] Fixing hudi_test_suite for spark nodes and adding spark bulk_insert node (#3074)

72	0	hudi-integ-test/pom.xml
5	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
66	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala

commit 858e84b5b2f1c5fbd4266922b494ad0d16f5b92a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-21 10:13:05 +0800

    [HUDI-2198] Clean and reset the bootstrap events for coordinator when task failover (#3304)

1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
2	0	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
5	3	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
4	3	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
23	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
22	9	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 634163a990569aa4463b58830396f455dd15340c
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-07-20 17:46:45 +0800

    [HUDI-2145] Create new bucket when NewFileAssignState filled (#3258)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

5	3	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
22	0	hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java

commit a086d255c89d12eb42cad8c5ae0e000f3b83bbe6
Author: Samrat <samrat.deb@hotstar.com>
Date:   2021-07-20 07:19:43 +0530

    [HUDI-1860] Add INSERT_OVERWRITE and INSERT_OVERWRITE_TABLE support to DeltaStreamer (#3184)

2	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java
10	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java
20	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
40	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertOverwriteNode.java
40	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertOverwriteTableNode.java
16	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
34	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit d5026e9a24850bdcce9f6df3686bf2235d7d01c4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-07-19 20:43:48 -0400

    [HUDI-2161] Adding support to disable meta columns with bulk insert operation (#3247)

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
9	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/{ => row}/HoodieInternalRowFileWriter.java
29	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/{ => row}/HoodieInternalRowFileWriterFactory.java
6	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/{ => row}/HoodieInternalRowParquetWriter.java
4	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/{ => storage/row}/HoodieRowCreateHandle.java
64	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandleWithoutMetaFields.java
3	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/{ => row}/HoodieRowParquetConfig.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/{ => row}/HoodieRowParquetWriteSupport.java
68	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
9	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
20	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
9	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
6	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
54	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
9	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
19	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
13	5	{hudi-spark-datasource/hudi-spark => hudi-client/hudi-spark-client}/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
10	9	{hudi-spark-datasource/hudi-spark => hudi-client/hudi-spark-client}/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala
13	12	{hudi-spark-datasource/hudi-spark-common => hudi-client/hudi-spark-client}/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/{ => row}/TestHoodieInternalRowParquetWriter.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/{ => storage/row}/TestHoodieRowCreateHandle.java
25	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
14	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
6	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
21	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
17	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
49	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java
18	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java
13	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
32	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
73	10	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java
1	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
39	15	hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java
45	6	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
29	12	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
27	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java
112	47	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
4	1	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
3	3	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java
5	2	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriterFactory.java
4	2	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java
19	11	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java
47	29	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java
4	1	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java
4	3	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java
5	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriterFactory.java
6	4	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java
7	4	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java
8	5	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java
19	9	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java
45	29	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java

commit 2099bf41db76e9a6e946aa41c318b7c0e18be04d
Author: ”˜’◊æ∏ <yuzhaojing@bilibili.com>
Date:   2021-07-19 15:51:33 +0800

    [HUDI-2193] Remove state in BootstrapFunction

1	34	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
0	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 572a2144124b90b2dbef8183ee19a95b21de2716
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-17 12:59:18 +0800

    [HUDI-1884]  MergeInto Support Partial Update For COW (#3154)

13	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
45	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
3	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
137	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala
1	1	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
1	1	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala

commit af837d2f1825d14ae8403b2290cf5eab39780343
Author: liujinhui <965147871@qq.com>
Date:   2021-07-17 12:31:06 +0800

    [HUDI-1447] DeltaStreamer kafka source supports consuming from specified timestamp (#2438)

10	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
1	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
89	14	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
42	14	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
4	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
25	10	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestKafkaOffsetGen.java

commit 50c2b76d725a71608a38217370b1ac45cedae405
Author: yuzhao.cyz <yuzhao.cyz@gmail.com>
Date:   2021-07-16 18:05:33 +0800

    Revert "[HUDI-2087] Support Append only in Flink stream (#3252)"
    
    This reverts commit 783c9cb3

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketType.java
1	9	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
0	12	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
3	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
0	6	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
9	35	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
1	9	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
1	10	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
0	6	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
7	86	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
0	15	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
4	16	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
0	33	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit c8aaf00819b7af9c5575662868aa40f702a8aa1e
Author: yuzhao.cyz <yuzhao.cyz@gmail.com>
Date:   2021-07-16 14:22:53 +0800

    [HUDI-2185] Remove the default parallelism of index bootstrap and bucket assigner

2	2	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
12	7	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
4	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
2	4	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java

commit 3b264e80d9ccc58ebd0dff3b00f50ad9d481e03c
Author: liujinhui <965147871@qq.com>
Date:   2021-07-16 12:37:07 +0800

    [HUDI-1633] Make callback return HoodieWriteStat (#2445)
    
    
    * CALLBACK add partitionPath
    
    * callback can send hoodieWriteStat
    
    * add ApiMaturityLevel

5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/HoodieWriteCommitCallback.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java
17	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/common/HoodieWriteCommitCallbackMessage.java
0	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/impl/HoodieWriteCommitHttpCallback.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallback.java

commit 38cd74b56328d154c004f04f1335784529d8e93d
Author: Jintao Guan <jintao.guan@uber.com>
Date:   2021-07-15 21:24:41 -0700

    [MINOR] Allow users to choose ORC as base file format in Spark SQL (#3279)

7	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
15	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit a62a6cff32e7d7f62ffdf6362fb8876497fd0528
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-07-15 23:54:38 +0800

    [MINOR] Refactor hive sync tool to reduce duplicate code (#3276)
    
    * [MINOR] Refactor hive sync tool to reduce duplicate code

19	15	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
1	15	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java

commit 23a4a96eb416c13d8b1f921cc51286f93d61d9b3
Author: moranyuwen <798537634@qq.com>
Date:   2021-07-14 17:38:34 +0800

    [HUDI-2153] Fix BucketAssignFunction Context NullPointerException

2	2	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java

commit d024439764ceeca6366cb33689b729a1c69a6272
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-07-14 19:57:38 -0700

    [HUDI-2029] Implement compression for DiskBasedMap in Spillable Map (#3128)

14	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
78	15	hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java
9	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
8	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java
25	15	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestBitCaskDiskMap.java
32	21	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java

commit 75040ee9e5caa0783009b6ef529d6605e82d4135
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-07-14 10:56:08 -0700

    [HUDI-2149] Ensure and Audit docs for every configuration class in the codebase (#3272)
    
    - Added docs when missing
     - Rewrote, reworded as needed
     - Made couple more classes extend HoodieConfig

3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/WriteStatus.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
22	17	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
64	47	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
13	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
12	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
7	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieInternalConfig.java
19	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java
5	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java
4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java
11	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java
87	71	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java
10	10	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
9	8	hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/fs/NoOpConsistencyGuard.java
17	14	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/TimelineLayoutVersion.java
25	21	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
2	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
35	93	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
6	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java
7	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java

commit c1810f210e34a72c16ce2fa5a7efb61f717e83b0
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-07-15 00:08:29 +0800

    [MINOR] Correct the logs of  enable/not-enable async cleaner service. (#3271)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java

commit 2debb9b3edcd141aee9335ab9adf01610f28959a
Author: Jintao Guan <jintao.guan@uber.com>
Date:   2021-07-14 09:05:42 -0700

    [HUDI-1828] Update unit tests to support ORC as the base file format (#3237)

20	8	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java
42	16	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
8	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
9	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
23	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
1	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
8	4	hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java
20	16	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
12	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/SparkBasedReader.java

commit 93967404a7bcf75627677239d3438c3f301c3725
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-15 00:02:28 +0800

    [HUDI-2180] Fix Compile Error For Spark3 (#3274)

1	3	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestParquet2SparkSchemaUtils.java

commit 52524b659d2cb64403e8ba87d2fefe6d536156e9
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-07-14 23:01:52 +0800

    [HUDI-2165] Support Transformer for HoodieFlinkStreamer (#3270)
    
    * [HUDI-2165] Support Transformer for HoodieFlinkStreamer

51	0	hudi-flink/src/main/java/org/apache/hudi/sink/transform/ChainedTransformer.java
35	0	hudi-flink/src/main/java/org/apache/hudi/sink/transform/Transformer.java
6	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
15	3	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
19	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
119	59	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java

commit 632bfd1a65f55deff60bd56e514738b9c8730140
Merge: ac75bda929 aff1a1ed29
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-14 17:01:30 +0800

    Merge pull request #3268 from yuzhaojing/HUDI-2171
    
    [HUDI-2171] Add parallelism conf for bootstrap operator

commit ac75bda9290c20c3260aece838acbcef9f034041
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-14 14:43:30 +0800

    [HUDI-1969] Support reading logs for MOR Hive rt table (#3033)

68	62	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
5	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit f0a2f378ea57b577ef2275dbaf42cd960df9cfd5
Merge: 7395a56dfb ffa934182a
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-13 22:37:20 +0800

    Merge pull request #3120 from pengzhiwei2018/dev_metasync
    
    [HUDI-2045] Support Read Hoodie As DataSource Table For Flink And DeltaStreamer

commit 7395a56dfb488887aa0e733e52023b167293f737
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-07-13 18:26:51 +0530

    [HUDI-2168] Fix for AccessControlException for anonymous user (#3264)

1	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java

commit aff1a1ed29a5a64932c64195be744969fcc0b08b
Author: ”˜’◊æ∏ <yuzhaojing@bilibili.com>
Date:   2021-07-13 17:55:12 +0800

    [HUDI-2171] Add parallelism conf for bootstrap operator

7	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
4	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
21	17	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
3	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit b0089b894ad12da11fbd6a0fb08508c7adee68e6
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-07-13 09:54:40 +0530

    [MINOR] Fix EXTERNAL_RECORD_AND_SCHEMA_TRANSFORMATION config (#3250)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
12	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java

commit c8a2033c275e21a752893fc89311e1f6846f5a78
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-07-13 09:14:17 +0800

    [HUDI-2144]Bug-Fix:Offline clustering(HoodieClusteringJob) will cause insert action losing data (#3240)
    
    * fixed
    
    * add testUpsertPartitionerWithSmallFileHandlingAndClusteringPlan ut
    
    * fix CheckStyle
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
44	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
54	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/ClusteringTestUtils.java

commit ca440ccf881c67c308e72beaf6a561e12e1b4da2
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-12 17:31:23 +0800

    [HUDI-2107] Support Read Log Only MOR Table For Spark (#3193)

14	23	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
23	17	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
30	27	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
29	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java
28	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
91	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMereIntoLogOnlyTable.scala

commit ffa934182ad9abe78c0592772e9328dd6b0d27e6
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-06-21 14:13:25 +0800

    [HUDI-2045] Support Read Hoodie As DataSource Table For Flink And DeltaStreamer

7	0	docker/demo/hive-table-check.commands
4	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
0	11	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
9	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
9	78	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
7	43	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
6	0	hudi-sync/hudi-hive-sync/pom.xml
10	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
95	18	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
5	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ConfigUtils.java
171	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/Parquet2SparkSchemaUtils.java
59	15	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
84	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestParquet2SparkSchemaUtils.java
4	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java

commit 5804ad8e32ae05758ebc5e47f5d4fb4db371ab52
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-07-12 00:13:38 +0530

    [HUDI-1483] Support async clustering for deltastreamer and Spark streaming (#3142)
    
    - Integrate async clustering service with HoodieDeltaStreamer and HoodieStreamingSink
    - Added methods in HoodieAsyncService to reuse code

100	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java
2	54	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java
59	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java
55	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractClusteringClient.java
12	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
39	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncClusteringService.java
56	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkClusteringClient.java
9	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java
6	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
12	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
42	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncClusteringService.java
38	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
49	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
3	0	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java
1	0	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
41	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
20	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
73	10	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
77	21	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 9b01d2a04520db6230cd16ef2b29013c013b1944
Author: swuferhong <337361684@qq.com>
Date:   2021-07-10 15:43:36 +0800

    [HUDI-2142] Support setting bucket assign parallelism for flink write task (#3239)

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
4	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
2	2	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
2	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit 942a024e74af52e09cabbfe967f5da0ef108bdbb
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-10 15:40:30 +0800

    [HUDI-2143] Tweak the default compaction target IO to 500GB when flink async compaction is off (#3238)

10	4	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java

commit 783c9cb3693ff7d82cc3d43a4964c64a4da19436
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-07-10 14:49:35 +0800

    [HUDI-2087] Support Append only in Flink stream (#3252)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketType.java
9	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
12	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
2	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
35	9	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
9	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
10	1	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
6	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
86	7	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
15	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
16	4	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
33	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit 7c6eebf98cdf4fcd727a7ff15962b918f7bf7aaf
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-07-10 14:35:40 +0800

    [MINOR] Fix some wrong assert reasons (#3248)

3	3	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java

commit 3b2a4f2b6b49e13997292ecafa9accdd3e7b9efd
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-07-10 10:16:33 +0800

    [HUDI-2147] Remove unused class AvroConvertor in hudi-flink (#3243)

0	81	hudi-flink/src/main/java/org/apache/hudi/util/AvroConvertor.java

commit b4562e86e4b58d6151fdeea12e727b8c8881a213
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-07-09 11:20:09 -0700

    Revert "[HUDI-2087] Support Append only in Flink stream (#3174)" (#3251)
    
    This reverts commit 371526789d663dee85041eb31c27c52c81ef87ef.

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketType.java
1	9	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
0	12	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
3	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
0	6	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
9	35	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
1	9	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
1	10	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
0	6	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
0	79	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
0	15	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
4	11	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
12	49	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit 371526789d663dee85041eb31c27c52c81ef87ef
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-07-09 16:06:32 +0800

    [HUDI-2087] Support Append only in Flink stream (#3174)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketType.java
9	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
12	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
2	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
35	9	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
9	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
10	1	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
6	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
79	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
15	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
11	4	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
49	12	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit 047d956e01b6d7c92320686d8321b2bbe9d2188e
Author: swuferhong <337361684@qq.com>
Date:   2021-07-09 10:10:21 +0800

    [HUDI-2136] Fix conflict when flink-sql-connector-hive and hudi-flink-bundle are both in flink lib (#3227)

11	0	packaging/hudi-flink-bundle/pom.xml

commit c50c24908a4eb1ed769efb8878e6075d3e162d55
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-07-08 14:23:52 -0700

    [MINOR] Fix build broken from #3186 (#3245)

3	3	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java

commit de07e61382307d36e664dd31adf7fc4045443fcc
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-07-08 22:30:48 +0800

    [HUDI-2099]hive lock which state is WATING should be released, otherwise this hive lock will be locked forever (#3186)

5	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java
29	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java

commit 8c0dbaa9b3b6ced3826d0bc04e0a91272bbcab73
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-07-08 03:07:27 -0400

    [HUDI-2009] Fixing extra commit metadata in row writer path (#3075)

19	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
13	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
6	3	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
1	1	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
10	2	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java
1	0	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieWriterCommitMessage.java
56	8	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java
1	1	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java
7	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java
6	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java
6	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java
54	8	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java

commit 1d3cd065724f3bd4f5cab90f95b5d5c8d0b389ea
Author: Yungthuis <36870105+Yungthuis@users.noreply.github.com>
Date:   2021-07-08 13:31:38 +0800

    [HUDI-2134]Add generics to avoif forced conversion in BaseSparkCommitActionExecutor#partition (#3232)

5	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java

commit 16e90d30eaa14e5c1c4632ad0a90497df601c637
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-07-07 17:38:26 -0400

    [HUDI-1105] Adding dedup support for Bulk Insert w/ Rows (#2206)

24	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java
15	10	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
81	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/SparkRowWriteHelper.java
3	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
103	9	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java
29	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java
10	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit 8f7ad8b178ac3d394f88ac1c21f701138126fa04
Author: Sebastian Bernauer <bernauerse@web.de>
Date:   2021-07-07 20:22:00 +0200

    [HUDI-2069] Refactored String constants (#3172)

5	8	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deser/KafkaAvroSchemaDeserializer.java
17	14	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
4	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java

commit ea9e5d0e8b7557ef82631ac173d67f15bad13690
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-07-07 11:15:25 -0400

    [HUDI-1104] Adding support for UserDefinedPartitioners and SortModes to BulkInsert with Rows (#3149)

42	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieInternalConfig.java
0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
44	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerWithRowsFactory.java
45	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/GlobalSortPartitionerWithRows.java
42	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/NonSortPartitionerWithRows.java
41	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/PartitionSortPartitionerWithRows.java
139	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitionerForRows.java
21	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
26	10	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java
39	5	hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java
14	12	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
15	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
35	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
11	5	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java
6	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
5	0	hudi-spark-datasource/hudi-spark2/pom.xml
5	1	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
2	2	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java
4	2	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriterFactory.java
4	2	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java
22	7	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java
5	5	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java
5	0	hudi-spark-datasource/hudi-spark3/pom.xml
4	1	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java
2	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java
4	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriterFactory.java
4	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java
4	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java
4	2	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java
19	5	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java
5	5	hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java

commit 55ecbc662e30068ce0ed49166d254202bd598a8c
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-07-07 22:24:36 +0800

    [HUDI-2115] FileSlices in the filegroup is not descending by timestamp (#3206)

1	5	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
50	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieFileGroup.java

commit 990820476a41b318017ba63dd446911141c929ce
Author: Prashant Wason <pwason@uber.com>
Date:   2021-07-06 23:50:27 -0700

    [HUDI-2140] Fixed the unit test TestHoodieBackedMetadata.testOnlyValidPartitionsAdded. (#3234)

1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java

commit 221ddd9bf3899e3672210404d51e686770ba446d
Author: Prashant Wason <pwason@uber.com>
Date:   2021-07-06 08:08:46 -0700

    [HUDI-2016] Fixed bootstrap of Metadata Table when some actions are in progress. (#3083)
    
    Metadata Table cannot be bootstrapped when any action is in progress. This is detected by the presence of inflight or requested instants. The bootstrapping is initiated in preWrite and postWrite of each commit. So bootstrapping will be retried again until it succeeds.
    Also added metrics for when the bootstrapping fails or a table is re-bootstrapped. This will help detect tables which are not getting bootstrapped.

18	15	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
41	23	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
2	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java

commit 6e2443468280dfd768afe9ac4d17df7fbbbb51bf
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-07-06 15:35:12 +0800

    [HUDI-2113] Fix integration testing failure caused by sql results out of order (#3204)

6	6	docker/demo/hive-batch1.commands
4	4	docker/demo/hive-batch2-after-compaction.commands
12	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java

commit f2621da32f33bf16fb53f8a71eaf7bca24e6d166
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-07-06 15:14:30 +0800

    [HUDI-2093] Fix empty avro schema path caused by duplicate parameters (#3177)
    
    * [HUDI-2093] Fix empty avro schema path caused by duplicate parameters
    
    * rename shcmea option key
    
    * fix doc
    
    * rename var name

6	6	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
3	3	hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java
6	12	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
5	5	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
1	1	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
4	4	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
6	6	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
2	2	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java

commit 60e0254e67b488dfab7a7102c9f517b07174f398
Author: Randal Boyle <37844993+jhsb25@users.noreply.github.com>
Date:   2021-07-06 07:40:23 +0100

    [HUDI-1996] Adding functionality to allow the providing of basic auth creds for confluent cloud schema registry (#3097)
    
    * adding support for basic auth with confluent cloud schema registry

1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java
4	4	hudi-utilities/pom.xml
40	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java
111	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/schema/TestSchemaRegistryProvider.java
4	4	packaging/hudi-integ-test-bundle/pom.xml
1	0	packaging/hudi-utilities-bundle/pom.xml
1	0	pom.xml

commit 2b21ae1775aeb108a4b0e3f89889651a19f93b2f
Author: dwshmilyss <dwshmilyss@163.com>
Date:   2021-07-06 14:36:55 +0800

    [HUDI-2046] Loaded too many classes like sun/reflect/GeneratedSerializationConstructorAccessor in JVM metaspace (#3121)
    
    Loaded too many classes when use kryo of spark to hudi
    
    Co-authored-by: weiwei.duan <weiwei.duan@linkflowtech.com>

6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/WriteStatus.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java

commit 05d6e1819078591c904f3601f5f4a1eb28be3495
Author: Sebastian Bernauer <bernauerse@web.de>
Date:   2021-07-06 08:34:46 +0200

    [HUDI-2055] Added deltastreamer metric for time of lastSync (#3129)

2	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java

commit 1d6978cde4c98c82c184f6404f49ef0f4832fbd6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-06 14:11:20 +0800

    [HUDI-2135] Add compaction schedule option for flink (#3226)

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
4	4	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
17	3	hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
21	7	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
9	0	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
12	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit a4dcbb5c5a2a94e4f69524194d8777d082af31ab
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date:   2021-07-05 23:03:41 -0700

    [HUDI-2028] Implement RockDbBasedMap as an alternate to DiskBasedMap in ExternalSpillableMap (#3194)
    
    Co-authored-by: Rajesh Mahindra <rmahindra@Rajeshs-MacBook-Pro.local>

16	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
9	5	hudi-common/src/main/java/org/apache/hudi/common/util/collection/{DiskBasedMap.java => BitCaskDiskMap.java}
49	0	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskMap.java
41	9	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
8	8	hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java
55	4	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBDAO.java
176	0	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDbDiskMap.java
6	6	hudi-common/src/test/java/org/apache/hudi/common/util/collection/{TestDiskBasedMap.java => TestBitCaskDiskMap.java}
49	22	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java
204	0	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbDiskMap.java

commit a0f598d371938060a17aca7603c080c22488cf57
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-07-06 11:14:05 +0800

    [HUDI-2089]fix the bug that metatable cannot support non_partition table (#3182)

4	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
46	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit 0bd20827abee66b8a71bde12251c79428cc6de36
Author: swuferhong <337361684@qq.com>
Date:   2021-07-06 11:01:57 +0800

    [HUDI-2133] Support hive1 metadata sync for flink writer (#3225)

36	7	packaging/hudi-flink-bundle/pom.xml

commit bc313727e3e89640edad85364022e057c9864ee9
Author: swuferhong <337361684@qq.com>
Date:   2021-07-06 09:10:37 +0800

    [HUDI-2106] Fix flink batch compaction bug while user don't set compaction tasks (#3192)

2	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java

commit 32bd8ce088e0f1d82577575ac048e1a44d44e380
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-06 09:02:38 +0800

    [HUDI-2132] Make coordinator events as POJO for efficient serialization (#3223)

7	7	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
3	0	hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java
55	28	hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java
7	7	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java

commit 650c4455c600b0346fed8b5b6aa4cc0bf3452e8c
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-07-06 00:30:57 +0800

    [HUDI-2122] Improvement in packaging insert into smallfiles (#3213)

5	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java

commit 287d2dd79c5b257c6fe9cb48631b68f50c594ead
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-05 22:28:57 +0800

    [HUDI-2131] Exception Throw Out When MergeInto With Decimal Type Field (#3224)

32	18	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
0	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala
7	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
0	7	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala
46	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala

commit e6ee7bdb516a7eb03ee2cddb0545d46a26325590
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-05 20:56:24 +0800

    [HUDI-2129] StreamerUtil.medianInstantTime should return a valid date time string (#3221)

1	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
22	6	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
28	3	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java

commit 2cecb751879cc645227c467fc29c0705baad8030
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-07-05 18:54:05 +0800

    [HUDI-2058]support incremental query for insert_overwrite_table/insert_overwrite operation on cow table (#3139)

27	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
72	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit 2033d35dc39ea1c5e9b20f7425e99f5cc522d689
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date:   2021-07-05 11:53:18 +0800

    [HUDI-2127] Initialize the maxMemorySizeInBytes in log scanner (#3220)

1	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java

commit 98ec017bc8c245119b4b76339d90217fd7ea4e03
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-05 11:34:18 +0800

    [HUDI-2126] The coordinator send events to write function when there are no data for the checkpoint (#3219)

17	8	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
2	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java
25	0	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
34	0	hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java

commit 6a71412f7804c9cbd34e4c6fc01545a994523bb4
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-07-04 22:30:36 +0800

    [HUDI-2116] Support batch synchronization of partition datas to  hive metastore to avoid oom problem (#3209)

5	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
4	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
25	7	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
1	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java
15	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit 62a1ad8b3a2a3c1dabba0a4622117636920b6c13
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-07-03 20:27:37 +0800

    [HUDI-1930] Bootstrap support configure KeyGenerator by type (#3170)
    
    * [HUDI-1930] Bootstrap support configure KeyGenerator by type

10	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
12	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
12	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorType.java
13	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java
12	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java
10	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java

commit 4f215e2938f78e13bea940013855cb14a6724601
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-03 15:55:36 +0800

    [HUDI-2057]  CTAS Generate An External Table When Create Managed Table (#3146)

6	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
4	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
3	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
5	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
6	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java
36	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit 7173d1338abaf2a880bdb86e9c650065d7b0bf14
Author: Prashant Wason <pwason@uber.com>
Date:   2021-07-02 18:48:37 -0700

    [HUDI-2124] A Grafana dashboard for HUDI. (#3216)

8335	0	scripts/grafana-dashboard.json

commit 70d9c2e7473154178bafaef40a15fc3e10a9df6a
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-02 22:46:52 +0800

    [HUDI-2123]  Exception When Merge With Null-Value Field (#3214)

6	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala
45	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala

commit d424fe6072ef74e1e2bdb290aa584bff9eca113f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-02 19:44:32 +0800

    [HUDI-2121] Add operator uid for flink stateful operators (#3212)

5	3	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
2	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java

commit ac65189458eff9962e442a6ca3973cb236749840
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-02 17:39:57 +0800

    [HUDI-2114] Spark Query MOR Table Written By Flink Return Incorrect Timestamp Value (#3208)

3	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
14	9	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
50	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestMergeOnReadSnapshotRelation.scala

commit 7462fdefc39c75dca986d65551d871b8c47d4f55
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-07-02 16:29:22 +0800

    [HUDI-2112] Support reading pure logs file group for flink batch reader after compaction (#3202)

19	34	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
10	2	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
11	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit 64035474310739d0885b57df924b1553834ef6de
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-02 16:08:36 +0800

    [HUDI-2051] Enable Hive Sync When Spark Enable Hive Meta  For Spark Sql (#3126)

4	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
1	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
2	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
0	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala

commit 6eca06d074520140d7bc67b48bd2b9a5b76f0a87
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-01 23:40:14 +0800

    [HUDI-2105] Compaction Failed For MergeInto MOR Table (#3190)

13	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
50	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala

commit b376cefc3e899aa28992796925708746561d6087
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-07-01 18:48:59 +0800

    [MINOR] Add Documentation to KEYGENERATOR_TYPE_PROP (#3196)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java

commit b34d53fa9c1821e7e7191ede1b99bdc96212ce3e
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-07-01 17:25:18 +0800

    [HUDI-2088] Missing Partition Fields And PreCombineField In Hoodie Properties For Table Written By Flink (#3171)

2	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
74	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit d07def12901485a9d59ab2b54602d535f00e5986
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-06-30 20:34:58 -0700

    [MINOR] Fix broken build due to FlinkOptions (#3198)

2	2	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java

commit 7895a3586e19a7f66fc2a400c90d8334f255d943
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-06-30 14:56:56 -0700

    [MINOR] Update .asf.yaml to codify notification settings, turn on jira comments, gh discussions (#3164)
    
    - Turn on comment for jira, so we can track PR activity better
    - Create a notification settings that match https://gitbox.apache.org/schemes.cgi?hudi
    - Try and turn on "discussions" on Github, to experiment

10	0	.asf.yaml

commit d412fb2fe642417460532044cac162bb68f4bec4
Author: wenningd <wenningding95@gmail.com>
Date:   2021-06-30 14:26:30 -0700

    [HUDI-89] Add configOption & refactor all configs based on that (#2833)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

34	34	docker/demo/sparksql-incremental.commands
4	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
7	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java
3	3	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
4	4	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
3	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
5	5	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
5	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
5	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java
22	22	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/ZookeeperBasedLockProvider.java
79	56	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
97	96	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
209	183	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
149	151	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
170	137	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
157	72	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
59	46	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
79	56	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
76	39	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java
50	47	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java
24	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java
108	94	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
45	30	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java
532	444	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
9	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
26	17	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java
6	6	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java
19	19	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestZookeeperBasedLockProvider.java
3	3	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
3	3	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java
4	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java
8	8	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestHoodieMetricsDatadogConfig.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java
5	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
4	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkMemoryUtils.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java
6	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestSparkIOUtils.java
13	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
15	15	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java
11	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java
11	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java
8	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java
9	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
154	0	hudi-common/src/main/java/org/apache/hudi/common/config/ConfigProperty.java
0	51	hudi-common/src/main/java/org/apache/hudi/common/config/DefaultHoodieConfig.java
177	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java
92	77	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
35	20	hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java
56	48	hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java
6	5	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
6	3	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
2	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java
126	102	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
44	46	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
111	121	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
4	6	hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java
101	0	hudi-common/src/test/java/org/apache/hudi/common/config/TestConfigProperty.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieDeltaWriteStat.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java
13	13	hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala
5	5	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
2	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
2	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
3	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
4	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java
3	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
5	5	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala
5	5	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala
5	5	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
26	26	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
322	186	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
7	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
89	92	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
39	33	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
12	12	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
10	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
12	12	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala
7	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
22	22	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
23	23	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
16	16	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
4	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
38	38	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java
18	18	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java
19	19	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
6	6	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java
8	8	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
31	31	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
26	26	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
76	72	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
47	47	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
63	63	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
80	80	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
8	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala
12	12	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
5	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala
2	2	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
3	3	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java
1	1	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java
19	19	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
25	25	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java
2	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
21	17	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallback.java
35	15	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java
8	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
8	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
5	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deser/KafkaAvroSchemaDeserializer.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java
3	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java
26	25	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java

commit 07e93de8b49560eee23237817fc24fbe763f2891
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-30 20:37:00 +0800

    [HUDI-2052] Support load logFile in BootstrapFunction (#3134)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

91	26	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
8	2	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
4	7	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java

commit 94f0f40fec44c7eecb4e886df62f52a28226974c
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-30 14:11:28 +0530

    [HUDI-1944] Support Hudi to read from committed offset (#3175)
    
    * [HUDI-1944] Support Hudi to read from committed offset
    
    * [HUDI-1944] Adding group option to KafkaResetOffsetStrategies
    
    * [HUDI-1944] Update Exception msg

23	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
28	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestKafkaOffsetGen.java

commit 1cbf43b6e7731c68661c74bdfa41399f6398172f
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-30 16:40:55 +0800

    [HUDI-2103] Add rebalance before index bootstrap (#3185)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

1	1	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit 5564c7ec010e2af40352615a6c90dbea4d2290e7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-06-29 23:05:46 -0400

    [HUDI-2006] Adding more yaml templates to test suite (#3073)

2	0	docker/demo/config/test-suite/templates/clustering.yaml.template
5	2	docker/demo/config/test-suite/templates/{long-running.yaml.template => long_test_suite.yaml.template}
92	0	docker/demo/config/test-suite/templates/medium_test_suite.yaml.template
83	0	docker/demo/config/test-suite/templates/sanity.yaml.template
110	26	docker/generate_test_suite.sh
30	0	hudi-integ-test/README.md

commit 202887b8ca27eb6de808ba7a2e737b13ae9eb8c0
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-06-30 09:21:06 +0800

    [HUDI-2092] Fix NPE caused by FlinkStreamerConfig#writePartitionUrlEncode null value (#3176)

1	1	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java

commit f665db071fac50ab1e74ed17bdda2eea9ed0ebb2
Author: swuferhong <337361684@qq.com>
Date:   2021-06-29 22:53:01 +0800

    [HUDI-2085] Support specify compaction paralleism and compaction target io for flink batch compaction (#3169)

8	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
4	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java

commit 5a7d1b3d6cb42b1763654e307625e2ae7b799adc
Author: swuferhong <337361684@qq.com>
Date:   2021-06-29 22:43:47 +0800

    [HUDI-2097] Fix Flink unable to read commit metadata error (#3180)

2	2	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java

commit b8a8f572d6a760c744b0a5228f2512d3d113d390
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-29 15:34:26 +0800

    [HUDI-2094] Supports hive style partitioning for flink writer (#3178)

10	8	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
4	4	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
7	1	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
2	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
21	2	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 0749cc826a9ef6b04e2063074b7abac0e69414a0
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-06-28 20:23:46 -0700

    [HUDI-2081] Move schema util tests out from TestHiveSyncTool (#3166)

0	117	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
148	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/TestHiveSchemaUtil.java

commit 37b7c65d8a3ede00ae16909a06e31c24f179998c
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-29 08:53:52 +0800

    [HUDI-2084] Resend the uncommitted write metadata when start up (#3168)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

14	12	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
9	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/util/FlinkClientUtil.java
122	33	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java
114	60	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
31	10	hudi-flink/src/main/java/org/apache/hudi/sink/event/{BatchWriteSuccessEvent.java => WriteMetadataEvent.java}
2	9	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
12	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
35	8	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
22	20	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
22	8	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 039aeb6dcee0a8eb4372c079ec07b8fc2582e41f
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-28 19:22:05 +0530

    [HUDI-1910] Commit Offset to Kafka after successful Hudi commit (#3092)

33	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/SourceCommitCallback.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
4	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
10	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
10	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
38	13	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
72	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java

commit 34fc8a8880b0da5adb82b6eb7678f141af54ca18
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-28 16:56:08 +0530

    [HUDI-2067] Sync FlinkOptions config to FlinkStreamerConfig (#3151)

186	1	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java

commit 9e61dad59764abb5acb35adb3399439000b8c774
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-06-28 17:11:32 +0800

    [MINOR] Drop duplicate keygenerator class configuration setting (#3167)

0	1	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java

commit d24341d10ca49ed52fc0c1c86a164fbfb57327d4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-28 16:03:10 +0800

    [HUDI-2074] Use while loop instead of recursive call in MergeOnReadInputFormat#MergeIterator to avoid StackOverflow (#3159)

21	21	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java

commit e99a6b031bf4f2e3037d4cb5307d443cda2d2002
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date:   2021-06-27 13:03:41 +0800

    [HUDI-2073] Fix the bug of hoodieClusteringJob never quit (#3157)
    
    Co-authored-by: yuezhang <yuezhang@freewheel.tv>

11	11	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java

commit f73bedd374952580c4d6bc9b2e30607c4efdd538
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-06-26 13:19:26 +0800

    [MINOR] Remove unused methods (#3152)

0	54	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit ed1a5daa9a15e9123aa7fdba5ce8262d1cae0704
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-25 22:07:47 +0530

    [HUDI-2060] Added tests for KafkaOffsetGen (#3136)

147	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestKafkaOffsetGen.java

commit 23dbc09a0d5d677ed3728dbd5357320590ca2833
Author: n3nash <nagarwal@uber.com>
Date:   2021-06-24 22:17:40 -0700

    [MINOR] Removing un-used files and references (#3150)

0	133	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
0	27	hudi-utilities/src/test/resources/delta-streamer-config/hive-global-commit-config.xml

commit 0fb8556b0d9274aef650a46bb82a8cf495d4450b
Author: s-sanjay <sanjay537@gmail.com>
Date:   2021-06-25 08:56:26 +0530

    Add ability to provide multi-region (global) data consistency across HMS in different regions (#2542)
    
    [global-hive-sync-tool] Add a global hive sync tool to sync hudi table across clusters. Add a way to rollback the replicated time stamp if we fail to sync or if we partly sync
    
    Co-authored-by: Jagmeet Bali <jsbali@uber.com>

3	3	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/BootstrapIndex.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
8	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java
5	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java
1	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
121	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestGloballyConsistentTimeStampFilteringInputFormat.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
17	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java
10	0	hudi-sync/hudi-hive-sync/pom.xml
69	0	hudi-sync/hudi-hive-sync/run_hive_global_commit_tool.sh
1	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
6	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
70	10	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
54	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java
105	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java
37	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommit.java
98	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitConfig.java
136	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitTool.java
90	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/ReplicationStateSync.java
128	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncGlobalCommitTool.java
277	9	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
27	7	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
32	27	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
271	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java
133	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestHiveSyncGlobalCommitTool.java
27	0	hudi-utilities/src/test/resources/delta-streamer-config/hive-global-commit-config.xml

commit e64fe5505487f3ee591b2b5d044c2c57989f8991
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-25 08:57:56 +0800

    [HUDI-2068] Skip the assign state for SmallFileAssign when the state can not assign initially (#3148)

1	2	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java

commit 218f2a6df8a41279d904a76b594d22f4d66d17c2
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-25 08:54:59 +0800

    [HUDI-2062] Catch FileNotFoundException in WriteProfiles #getCommitMetadata Safely (#3138)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

6	3	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java

commit b32855545bb9dbc6f49c18d1586585a39abe5004
Author: Sebastian Bernauer <bernauerse@web.de>
Date:   2021-06-24 15:08:21 +0200

    [HUDI-2069] Fix KafkaAvroSchemaDeserializer to not rely on reflection (#3111)
    
    [HUDI-2069] KafkaAvroSchemaDeserializer should get sourceSchema passed instead using Reflection

2	4	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/deser/KafkaAvroSchemaDeserializer.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
12	13	hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java

commit 84dd3ca18b62921a60c3970a0f26614d8bafc89d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-06-24 19:09:37 +0800

    [HUDI-2053]  Insert Static Partition With DateType Return Incorrect Partition Value (#3133)

5	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
6	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
9	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
64	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala

commit 7e50f9a5a6be8d68b13a587a07a9af81819540ca
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-06-24 13:48:01 +0800

    [HUDI-2061] Incorrect Schema Inference For Schema Evolved Table (#3137)

18	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala

commit e039e0ff6d04b9b0684dbf29452af8a8dae94b09
Author: leesf <490081539@qq.com>
Date:   2021-06-24 07:37:55 +0800

    [HUDI-2064] Fix TestHoodieBackedMetadata#testOnlyValidPartitionsAdded (#3141)

8	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java

commit 380518e232b883bb12579b3e98283659b464285a
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-23 20:58:52 +0800

    [HUDI-2038] Support rollback inflight compaction instances for CompactionPlanOperator (#3105)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

6	5	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
3	13	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
17	0	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java

commit 43b9c1fa1caf97f6fb2baf68e350615541ea0a0c
Author: Vaibhav Sinha <vaibhavsinh@gmail.com>
Date:   2021-06-23 14:34:25 +0530

    [HUDI-1826] Add ORC support in HoodieSnapshotExporter (#3130)

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java

commit 2687eab8f0b49f410c49fac7771a8409722574cf
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-23 14:49:38 +0800

    [HUDI-2054] Remove the duplicate name for flink write pipeline (#3135)

0	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java

commit 3fb59dda839b82b6a3bf7538b7604bafb5561a58
Author: swuferhong <337361684@qq.com>
Date:   2021-06-23 13:57:09 +0800

    [HUDI-1988] FinalizeWrite() been executed twice in AbstractHoodieWriteClient$commitstats (#3050)

0	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java

commit 11e64b2db0ddf8f816561f8442b373de15a26d71
Author: Prashant Wason <pwason@uber.com>
Date:   2021-06-22 08:52:18 -0700

    [HUDI-1717] Metadata Reader should merge all the un-synced but complete instants from the dataset timeline. (#3082)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java
19	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
38	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
31	3	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
18	17	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java

commit 062d5baf842c22a6cf3b981ad605cafb6be3f130
Author: Prashant Wason <pwason@uber.com>
Date:   2021-06-22 08:41:52 -0700

    [HUDI-2013] Removed option to fallback to file listing when Metadata Table is enabled. (#3079)

1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
0	15	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
3	10	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java

commit 69c0d9e2d000061cd5a22bf4abcd800574c4554d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-06-22 22:33:20 +0800

    [HUDI-1883] Support Truncate Table For Hoodie (#3098)

6	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
64	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala
54	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTruncateTable.scala

commit 5db37c255ba921b082f3f1952aa9182589f0a7a3
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-22 14:18:46 +0800

    [HUDI-2047] Ignore FileNotFoundException in WriteProfiles #getWritePathsOfInstant (#3125)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

6	0	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java

commit 7bd517a82f9da3a6b42f6786da1d8a23151bdd94
Author: Rong Ma <rongma1997@gmail.com>
Date:   2021-06-22 09:09:51 +0800

    [HUDI-2031] JVM occasionally crashes during compaction when spark speculative execution is enabled (#3093)
    
    
    * unit tests added

50	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java

commit cb5cd35991afa2ed5b14ad92f2b98ae341fee9c4
Author: swuferhong <337361684@qq.com>
Date:   2021-06-22 08:53:54 +0800

    [HUDI-2043] HoodieDefaultTimeline$filterPendingCompactionTImeline() method have wrong filter condition (#3109)

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java

commit 4fd8a88b7ef4666f0be90eed864fe3cf1ef896ee
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-06-21 22:58:43 +0800

    [HUDI-1776] Support AlterCommand For Hoodie (#3086)

15	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
119	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala
93	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala
55	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala
21	16	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
15	1	hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql
121	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala

commit f8d9242372e9c682ea2573dde8b308d5895357f9
Author: swuferhong <337361684@qq.com>
Date:   2021-06-21 20:32:48 +0800

    [HUDI-2050] Support rollback inflight compaction instances for batch flink compactor (#3124)

19	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
7	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit adf167991a762266afb75b4c0dcc583ae2d5858e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-21 20:15:27 +0800

    [HUDI-2049] StreamWriteFunction should wait for the next inflight instant time before flushing (#3123)

1	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java

commit 429e9fb5fe78e96e565dd6b2ea0f1f9e56a43c6c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-06-21 10:12:12 +0530

    [HUDI-1248] Increase timeout for deltaStreamerTestRunner in TestHoodieDeltaStreamer (#3110)

1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit e41f13fe7bf19302def4eb5607e95c9d7395266c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-06-20 14:36:39 -0700

    [MINOR] Put Azure cache tasks first (#3118)

6	6	azure-pipelines.yml

commit c08fbb4268ee4b227452fd27d5e6ba322eeef00e
Author: Wei <hsdcloud@163.com>
Date:   2021-06-20 03:06:47 +0800

    [MINOR] Remove unused module (#3116)

0	1	scripts/release/generate_jar_path.py

commit 1cbdb49816ac779f803d0b7397f911a2f81ecca5
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date:   2021-06-19 19:42:11 +0530

    [HUDI-251] Adds JDBC source support for DeltaStreamer (#2915)
    
    As discussed in RFC-14, this change implements the first phase of JDBC incremental puller.
    It consists following changes:
    
    - JdbcSource: This class extends RowSource and implements
      fetchNextBatch(Option<String> lastCkptStr, long sourceLimit)
    
    - SqlQueryBuilder: A simple utility class to build sql queries fluently.
    
    - Implements two modes of fetching: full and incremental.
      Full is a complete scan of RDBMS table.
      Incremental is delta since last checkpoint.
      Incremental mode falls back to full fetch in case of any exception.

146	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/SqlQueryBuilder.java
343	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JdbcSource.java
64	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSqlQueryBuilder.java
44	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
443	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJdbcSource.java
195	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/JdbcTestUtils.java

commit 7865da1e154b5dd9d3063511179993e20adf0579
Author: Wei <hsdcloud@163.com>
Date:   2021-06-19 12:51:54 +0800

    [MINOR] Fix Javadoc wrong references (#3115)

1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java

commit 53396061cc169efc99849406561ec5ec7cf437ad
Author: Wei <hsdcloud@163.com>
Date:   2021-06-19 11:50:01 +0800

    [MINOR] Fix wrong package name (#3114)

0	0	hudi-common/src/main/java/org/apache/hudi/{common/table/view => exception}/HoodieMetadataException.java
1	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestSqlSource.java

commit cdb9b48170ef98634babd8954392efb1c1b90fcf
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-18 13:55:23 +0800

    [HUDI-2040] Make flink writer as exactly-once by default (#3106)

0	8	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
3	14	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
10	0	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
7	23	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
0	1	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
3	14	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit aa6342c3c9af53e7064546becf987e26534d0764
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-18 09:35:09 +0800

    [HUDI-2036] Move the compaction plan scheduling out of flink writer coordinator (#3101)
    
    Since HUDI-1955 was fixed, we can move the scheduling out if the
    coordinator to make the coordinator more lightweight.

0	40	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkScheduleCompactionActionExecutor.java
0	10	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
21	7	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
1	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
20	24	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java
2	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
6	30	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
0	102	hudi-flink/src/main/java/org/apache/hudi/sink/compact/NonKeyedCompactFunction.java
3	3	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
3	4	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
32	19	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
8	6	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
35	41	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
7	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
16	2	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit b9e28e5292d9b2a4b665c26eeba660437a6a0a45
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-06-17 23:21:20 +0800

    [HUDI-2033] ClassCastException Throw When PreCombineField Is String Type (#3099)

5	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
61	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala

commit 67c31243522268002c8b1bf5285dfe3c07cf5783
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-06-17 21:22:13 +0800

    [HUDI-2032] Make keygen class and keygen type optional for FlinkStreamerConfig (#3104)
    
    * [HUDI-2032] Make keygen class and keygen type optional for FlinkStreamerConfig
    
    * Address the review suggestion

6	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java

commit f97dd25d41816f51f4c233d69456dd9892b201b5
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-17 20:28:03 +0800

    [HUDI-2019] Set up the file system view storage config for singleton embedded server write config every time (#3102)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java
18	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java

commit ad53cf450ef01806ff8b2cfe8ff76fa350a7b4c5
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-06-17 19:18:21 +0800

    [HUDI-1879] Fix RO Tables Returning Snapshot Result (#2925)

0	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
8	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
4	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
25	7	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
6	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ConfigUtils.java
74	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
2	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java

commit 6763b45dd4be89a62f57623f60798d1f751abca4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-17 19:10:34 +0800

    [HUDI-2030] Add metadata cache to WriteProfile to reduce IO (#3090)
    
    Keeps same number of instant metadata cache and refresh the cache on new
    commits.

54	22	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
27	0	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
25	0	hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java

commit 0b57483a8e41742689a1362aa94aabb94a1361b3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-17 09:08:19 +0800

    [HUDI-2015] Fix flink operator uid to allow multiple pipelines in one job (#3091)

4	4	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
2	6	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java

commit 5ce64a81bdfaa94aefacf7b365e6fb044763827c
Author: swuferhong <337361684@qq.com>
Date:   2021-06-17 05:28:53 +0800

    Fix the filter condition is missing in the judgment condition of compaction instance (#3025)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java
24	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java

commit d519c746264c7210a604c8fb43efd084ae69ae41
Author: Wei <hsdcloud@163.com>
Date:   2021-06-16 22:37:29 +0800

    [HUDI-2008] Avoid the raw type usage in some classes under hudi-utilities module (#3076)

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
4	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
4	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit 8b0a502c4fd5352863009030a32e219bbf822a6c
Author: swuferhong <337361684@qq.com>
Date:   2021-06-16 14:29:16 +0800

    [HUDI-2014] Support flink hive sync in batch mode (#3081)

3	0	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java

commit 61efc6af79c389ef0a77cda75e4f562ed59ef86b
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-16 09:18:38 +0800

    [HUDI-2022] Release writer for append handle #close (#3087)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java

commit 910fe4842c2fefd57b45de1e0ac6b1998010dd73
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-06-15 18:05:50 -0700

    [MINOR] Rename broken codecov file (#3088)
    
    - Stop polluting PRs with wrong coverage info
    - Retaining the file, so someone can try digging in

0	0	.codecov.yml => .codecov.yml.broken

commit b8fe5b91d599418cd908d833fd63edc7f362c548
Author: Jintao Guan <jintao.guan@uber.com>
Date:   2021-06-15 15:21:43 -0700

    [HUDI-764] [HUDI-765] ORC reader writer Implementation (#2999)
    
    
    Co-authored-by: Qingyun (Teresa) Kang <kteresa@uber.com>

12	0	LICENSE
12	0	NOTICE
42	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
17	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
10	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java
13	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
3	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
72	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcConfig.java
172	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java
2	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
261	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java
67	0	hudi-client/hudi-client-common/src/test/resources/exampleSchemaWithUDT.avsc
7	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java
8	0	hudi-common/pom.xml
2	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileFormat.java
799	0	hudi-common/src/main/java/org/apache/hudi/common/util/AvroOrcUtils.java
120	13	hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java
118	0	hudi-common/src/main/java/org/apache/hudi/common/util/OrcReaderIterator.java
235	0	hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java
2	58	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
8	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReaderFactory.java
91	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcReader.java
76	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestAvroOrcUtils.java
92	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestOrcReaderIterator.java
6	1	hudi-common/src/test/java/org/apache/hudi/io/storage/TestHoodieFileReaderFactory.java
9	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
9	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
2	0	pom.xml

commit cb642ceb75ef903a77593af943c6ba19053257ee
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-15 23:18:38 +0800

    [HUDI-1999] Refresh the base file view cache for WriteProfile (#3067)
    
    Refresh the view to discover new small files.

11	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java
2	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
3	2	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java
36	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
94	0	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
4	54	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
47	1	hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java

commit f92283706408e25c48ed63abcbc9d07dc855106d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-06-15 03:45:17 -0700

    [HUDI-1950] Fix Azure CI failure in TestParquetUtils (#2984)
    
    * fix azure pipeline configs
    
    * add pentaho.org in maven repositories
    
    * Make sure file paths with scheme in TestParquetUtils
    
    * add azure build status to README

1	0	README.md
8	42	azure-pipelines.yml
6	5	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
4	0	pom.xml

commit 515ce8eb3642491c41e26139a57b74e3d9b43226
Author: Prashant Wason <pwason@uber.com>
Date:   2021-06-15 01:18:15 -0700

    [MINOR] Fixed the log which should only be printed when the Metadata Table is disabled. (#3080)

3	3	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java

commit 769dd2d7c98558146eb4accb75b6d8e339ae6e0f
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-14 14:44:59 +0530

    [HUDI-2004] Move CheckpointUtils test cases to independant class (#3072)

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
0	66	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
126	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestCheckpointUtils.java

commit 7d9f9d7d8241bfb70d50c557b0194cc8a87b6ee7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-06-13 21:55:52 -0400

    [HUDI-1991] Fixing drop dups exception in bulk insert row writer path (#3055)

3	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
43	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit 6e78682ceaa77eead10429a57c6f1d56a15fcedd
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-13 18:09:48 +0800

    [HUDI-2000] Release file writer for merge handle #close (#3068)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit 0c4f2fdc15982870b59d3458303973af95984266
Author: swuferhong <337361684@qq.com>
Date:   2021-06-13 15:04:46 +0800

    [HUDI-1984] Support independent flink hudi compaction function (#3046)

44	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkScheduleCompactionActionExecutor.java
0	35	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java
16	13	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
11	7	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
111	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java
107	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java
146	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java
102	0	hudi-flink/src/main/java/org/apache/hudi/sink/compact/NonKeyedCompactFunction.java
36	1	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
3	3	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
86	0	hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java
10	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
99	1	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java

commit ba728d822f733cf1978b95c6b6af793fdf041088
Author: Wei <hsdcloud@163.com>
Date:   2021-06-13 01:21:43 +0800

    [HUDI-2002] Modify HiveIncrementalPuller log level to ERROR (#3070)
    
    Co-authored-by: wei.zhang2 <wei.zhang2@dmall.com>

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java

commit 673d62f3c3ab07abb3fcd319607e657339bc0682
Author: Xuedong Luan <luanxuedong2009@gmail.com>
Date:   2021-06-11 09:16:51 +0800

     [MINOR] Add Tencent Cloud HDFS storage support for hudi (#3064)

2	0	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit 9e4114dd46cda4db23a24889cd267998734202da
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2021-06-10 15:03:07 -0700

    [HUDI-1790] Added SqlSource to fetch data from any partitions for backfill use case (#2896)

94	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/SqlSource.java
190	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestSqlSource.java

commit 125415a8b89bb9190d83b3ad74e68f1d86a05118
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-10 19:09:23 +0800

    [HUDI-1994] Release the new records iterator for append handle #close (#3058)

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
2	0	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java

commit e0108e972efcc22a06c487d14b0a8a59aef0f9f7
Author: JunZhang <zhangjunemail@126.com>
Date:   2021-06-10 15:51:36 +0800

    [MINOR] Add Baidu BOS storage support for hudi (#3061)
    
    Co-authored-by: zhangjun30 <zhangjun30@baidu.com>

3	1	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit a8b10e9067301c1e264e975be9bd8f147be7880e
Author: Wei <hsdcloud@163.com>
Date:   2021-06-10 13:03:32 +0800

    [MINOR] Remove boxing (#3062)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit afbafe70469c40ae6c23eec59848ca92b2f07fc7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-09 21:12:56 +0800

    [HUDI-1992] Release the new records map for merge handle #close (#3056)

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit 728089a88827c3f4e9813f2d2e4d3d4a4a872605
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-09 19:29:57 +0800

    delete duplicate bootstrap function (#3052)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

37	43	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
3	3	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/{BootstrapRecord.java => IndexRecord.java}
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java
4	3	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/{BootstrapAggFunc.java => BootstrapAggFunction.java}
5	5	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
1	5	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
2	2	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit e8fcf04b5709d795a1de086824b6eff462c8c835
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-09 14:20:04 +0800

    [HUDI-1987] Fix non partition table hive meta sync for flink writer (#3049)

3	4	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
13	0	hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
1	8	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java

commit a6f5fc5967c1bcd509166686ab8a2dcc2c5dbd59
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-09 14:17:28 +0800

    [HUDI-1986] Skip creating marker files for flink merge handle (#3047)

22	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java

commit 11360f707e969747e1a30791acb23857cc376589
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-09 03:42:18 +0530

    [HUDI-1892] Fix NPE when avro field value is null (#3051)

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java

commit 75d663f65d1963fccf65149f052b8506c17898a1
Author: Wei <hsdcloud@163.com>
Date:   2021-06-08 21:58:34 +0800

    [HUDI-1980] Optimize the code to prevent other exceptions from causing resources not to be closed (#3038)
    
    Co-authored-by: wei.zhang2 <wei.zhang2@dmall.com>

1	3	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit 7261f0850727aea611cd34e1bb07d684b44534f6
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-06-08 21:26:10 +0800

    [HUDI-1929] Support configure KeyGenerator by type (#2993)

7	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
22	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
59	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorType.java
80	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java
100	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java
75	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java
83	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java
176	37	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
101	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java
82	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java
10	2	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
6	1	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java
7	4	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
0	33	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
0	17	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
2	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit f760ec543ec9ea23b7d4c9f61c76a283bd737f27
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-06-08 14:24:32 +0800

    [HUDI-1659] Basic Implement Of Spark Sql Support For Hoodie (#2645)
    
    Main functions:
    Support create table for hoodie.
    Support CTAS.
    Support Insert for hoodie. Including dynamic partition and static partition insert.
    Support MergeInto for hoodie.
    Support DELETE
    Support UPDATE
    Both support spark2 & spark3 based on DataSourceV1.
    
    Main changes:
    Add sql parser for spark2.
    Add HoodieAnalysis for sql resolve and logical plan rewrite.
    Add commands implementation for CREATE TABLE°¢INSERT°¢MERGE INTO & CTAS.
    In order to push down the update&insert logical to the HoodieRecordPayload for MergeInto, I make same change to the
    HoodieWriteHandler and other related classes.
    1°¢Add the inputSchema for parser the incoming record. This is because the inputSchema for MergeInto is different from writeSchema as there are some transforms in the update& insert expression.
    2°¢Add WRITE_SCHEMA to HoodieWriteConfig to pass the write schema for merge into.
    3°¢Pass properties to HoodieRecordPayload#getInsertValue to pass the insert expression and table schema.
    
    
    Verify this pull request
    Add TestCreateTable for test create hoodie tables and CTAS.
    Add TestInsertTable for test insert hoodie tables.
    Add TestMergeIntoTable for test merge hoodie tables.
    Add TestUpdateTable for test update hoodie tables.
    Add TestDeleteTable for test delete hoodie tables.
    Add TestSqlStatement for test supported ddl/dml currently.

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
23	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
10	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/HoodieLazyInsertIterable.java
10	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
2	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieBootstrapHandle.java
10	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
23	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
89	18	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieConcatHandle.java
4	15	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
2	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapRecordConsumer.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractMergeHelper.java
4	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
19	12	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
27	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
30	8	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
114	0	hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java
29	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieDuplicateKeyException.java
2	2	hudi-integ-test/pom.xml
2	2	hudi-spark-datasource/hudi-spark-common/pom.xml
89	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala
14	7	hudi-spark-datasource/hudi-spark/pom.xml
37	0	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/sql/IExpressionEvaluator.java
15	12	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
6	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
8	29	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
29	14	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
37	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala
29	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hive/HiveClientUtils.scala
213	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala
49	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala
184	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala
55	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/SerDeUtils.scala
313	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala
112	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala
359	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala
84	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala
270	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala
456	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala
84	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala
119	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala
31	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UuidKeyGenerator.scala
185	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala
309	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala
177	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
3	4	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
255	0	hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql
0	16	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala
3	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
7	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
183	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestSqlStatement.scala
275	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala
67	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala
81	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala
223	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala
535	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala
62	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala
20	2	hudi-spark-datasource/hudi-spark2/pom.xml
1100	0	hudi-spark-datasource/hudi-spark2/src/main/antlr4/imports/SqlBase.g4
107	0	hudi-spark-datasource/hudi-spark2/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4
85	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala
26	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/DeleteFromTable.scala
66	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/MergeInto.scala
28	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/UpdateTable.scala
230	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSqlAstBuilder.scala
171	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSqlParser.scala
2	2	hudi-spark-datasource/hudi-spark3/pom.xml
88	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala
3	9	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
3	7	hudi-utilities/pom.xml
3	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
3	10	packaging/hudi-integ-test-bundle/pom.xml
4	10	packaging/hudi-spark-bundle/pom.xml
4	10	packaging/hudi-utilities-bundle/pom.xml
9	0	pom.xml
1	0	style/checkstyle-suppressions.xml

commit cf83f10f5b369e1f16e63b4b68750d3ad2dc0240
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-08 13:55:25 +0800

    add BootstrapFunction to support index bootstrap (#3024)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
235	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java
33	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapRecord.java
53	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java
49	0	hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunc.java
13	89	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
16	5	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
18	3	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
23	5	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
17	11	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
44	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 57611d10b5ae5cb3580dcbd4abb4cdc131cbd575
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2021-06-07 18:48:27 -0700

    [HUDI-1743] Added support for SqlFileBasedTransformer (#2747)

106	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlFileBasedTransformer.java
178	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestSqlFileBasedTransformer.java
25	0	hudi-utilities/src/test/resources/delta-streamer-config/sql-file-transformer-empty.sql
22	0	hudi-utilities/src/test/resources/delta-streamer-config/sql-file-transformer-invalid.sql
27	0	hudi-utilities/src/test/resources/delta-streamer-config/sql-file-transformer.sql

commit 919590988a4db1b73a67188d8b1b0d971f8b766d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-06-07 19:04:35 -0400

    [HUDI-1914] Add fetching latest schema to table command in hudi-cli (#2964)

46	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java
84	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java
28	4	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java

commit 441076b2ccf66949310030fc6680bb68c259d8da
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-06-07 15:38:59 -0700

    [HUDI-1950] Move TestHiveMetastoreBasedLockProvider to functional (#3043)
    
    HiveTestUtil static setup mini servers caused connection refused issue in Azure CI environment, as TestHiveSyncTool and TestHiveMetastoreBasedLockProvider share the same test facilities. Moving TestHiveMetastoreBasedLockProvider (the easier one) to functional test with a separate and improved mini server setup resolved the issue.
    
    Also cleaned up dfs cluster from HiveTestUtil.
    
    The next step is to move TestHiveSyncTool to functional as well.

18	0	hudi-sync/hudi-hive-sync/pom.xml
3	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
33	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/HiveSyncFunctionalTestSuite.java
33	54	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/{ => functional}/TestHiveMetastoreBasedLockProvider.java
145	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveSyncFunctionalTestHarness.java
10	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
6	26	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java

commit f3d7b49bfea0630dcf488c087755485d8d088270
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-08 03:19:55 +0530

    [HUDI-1148] Remove Hadoop Conf Logs (#3040)

0	2	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java

commit 0d0dc6fb07e0c5496224c75052ab4f43d57b40f6
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-07 19:28:19 +0530

    [HUDI-1909] Skip Commits with empty files (#3045)

2	1	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java

commit 08464a6a5b11ad2afa98eed7bc4e7777c4121b6b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-06 10:40:15 +0800

    [HUDI-1931] BucketAssignFunction use ValueState instead of MapState (#3026)
    
    Co-authored-by: 854194341@qq.com <loukey_7821>

29	27	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
57	0	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignOperator.java
2	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
3	2	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
5	5	hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java
5	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockOperatorStateStore.java
45	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockValueState.java
31	2	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 2a7e1e091e69c53acc0a19e3d792ca15a3d7db62
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-06 03:32:26 +0530

    [HUDI-1942] Add Default value for HIVE_AUTO_CREATE_DATABASE_OPT_KEY in HoodieSparkSqlWriter (#3036)

3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit dab13f7473cfe4fad42189056e4c931ee2e2a297
Author: Wei <hsdcloud@163.com>
Date:   2021-06-05 19:40:45 +0800

    [HUDI-1979] Optimize logic to improve code readability (#3037)
    
    Co-authored-by: wei.zhang2 <wei.zhang2@dmall.com>

1	6	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java

commit c2383ee9040001cfc1a9e8f6add65d24ad991969
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-05 16:06:34 +0800

    [HUDI-1967] Fix the NPE for MOR Hive  rt table query (#3032)
    
    The HoodieInputFormatUtils.getTableMetaClientByBasePath returns the map
    with table base path as keys while the HoodieRealtimeInputFormatUtils
    query it with the partition path.

7	14	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java

commit cf90f17732e313cf71248a8baaf10307463d9b6e
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-06-05 11:00:48 +0530

    [HUDI-1281] Add deltacommit to ActionType (#3018)
    
    Co-authored-by: veenaypatil <vinay18.patil@gmail.com>

8	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java
19	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/model/ActionType.java

commit c4a2ad2702c28fc03392a917a878570af40062db
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-06-05 11:48:08 +0800

    [HUDI-1954] only reset bucket when flush bucket success (#3029)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

15	11	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java

commit d02c0e5387481a4ac4bdc60163001b2a365150d9
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-06-04 12:28:44 -0700

    [MINOR] Resolve build issue arising from inaccessible pentaho jar (#3034)
    
    - Fixes #160 #2479

4	0	hudi-sync/hudi-dla-sync/pom.xml
8	0	packaging/hudi-flink-bundle/pom.xml
10	0	packaging/hudi-integ-test-bundle/pom.xml
12	0	pom.xml

commit a658328001218273c3c9153b485340ac0e91db93
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-04 15:15:32 +0800

    [HUDI-1961] Add a debezium json integration test case for flink (#3030)

7	0	hudi-flink/pom.xml
3	0	hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java
8	1	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
69	13	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
16	0	hudi-flink/src/test/resources/debezium_json.data

commit 870e97b5f82f7657ac1547c5ab38c0797aea5c27
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-06-04 01:24:51 +0800

    [MINOR] Remove unused method in DataSourceUtils (#3031)

0	12	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java

commit f6eee77636223077cfd2ce516f1b8805dfa6e35e
Author: Wei <hsdcloud@163.com>
Date:   2021-06-03 19:46:33 +0800

    [MINOR] Remove the implementation of Serializable from HoodieException (#3020)

1	2	hudi-common/src/main/java/org/apache/hudi/exception/HoodieException.java

commit ad72691d24443bab1b3828bf435b3f8404ea9dab
Author: swuferhong <337361684@qq.com>
Date:   2021-06-03 19:39:31 +0800

    [HUDI-1957] Fix flink timeline service lack jetty dependency (#3028)

0	4	packaging/hudi-flink-bundle/pom.xml

commit 86007e9a13341e1181f940c5f6e5f6dba8eed755
Author: taylorliao <726830328@qq.com>
Date:   2021-06-03 14:20:57 +0800

     [HUDI-1953] Fix NPE due to not set the output type of the operator (#3023)
    
    Co-authored-by: enter58xuan <enter58xuan@zto.com>

1	1	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java

commit 05a9830e861f21f74d0674edbed10f8fff853c08
Author: swuferhong <337361684@qq.com>
Date:   2021-06-02 14:12:03 +0800

    [HUDI-1952] Fix hive3 meta sync for flink writer (#3021)

62	5	packaging/hudi-flink-bundle/pom.xml

commit 7fa2f8ea827257e0320f670e5f22a114a52933cf
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-02 10:10:35 +0800

    [HUDI-1921] Add target io option for flink compaction (#2980)

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit bf1cfb563512116c0d414309ffe797719011ea5e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-06-02 09:12:35 +0800

    [HUDI-1949] Refactor BucketAssigner to make it more efficient (#3017)
    
    Add a process single class WriteProfile, the record and small files
    profile re-construction can be more efficient if we reuse by same
    checkpoint id.

7	2	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
89	134	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
7	14	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java
6	11	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/{delta/DeltaBucketAssigner.java => profile/DeltaWriteProfile.java}
7	11	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/{OverwriteBucketAssigner.java => profile/OverwriteWriteProfile.java}
207	0	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java
61	0	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java
14	3	hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java
0	10	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
10	5	hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java

commit 83c31e356fa21b6312be10d5ccd4e21be8db7310
Author: taylorliao <726830328@qq.com>
Date:   2021-06-01 18:35:14 +0800

     [HUDI-1927] Improve HoodieFlinkStreamer (#3019)
    
    Co-authored-by: enter58xuan <enter58xuan@zto.com>

27	6	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java

commit 83b0301c1aff51a59b88e8edf7e9cd047023086a
Author: hk__lrzy <hk__lrzy@163.com>
Date:   2021-06-01 16:09:48 +0800

    [HUDI-1943] Lose properties when hoodieWriteConfig initializtion (#3006)
    
    * [hudi-flink]fix lose properties problem
    
    Co-authored-by: haoke <haoke@bytedance.com>

7	5	hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java

commit e6a71ea544f3dd1ab5227b4c89a1540df5f7891a
Author: Wei <hsdcloud@163.com>
Date:   2021-05-31 18:54:05 +0800

    [MINOR] Access the static member getLastHeartbeatTime via the class instead (#3015)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HeartbeatUtils.java

commit 219b92c8ae6343cc534b7e418d4e712c7f9f7fc1
Author: Wei <hsdcloud@163.com>
Date:   2021-05-31 18:52:30 +0800

    [MINOR] The collection can use forEach() directly (#3016)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HoodieHeartbeatClient.java

commit 34ab756a40b8ff25984a809803bffbe97c00a4ab
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-31 17:39:19 +0800

    [HUDI-1948] Shade kryo-shaded jar for hudi flink bundle (#3014)

22	15	packaging/hudi-flink-bundle/pom.xml

commit 7a63175a7073d886110c1993eec872ded713e356
Author: Yao WANG <Yao.MR.CN@gmail.com>
Date:   2021-05-31 11:44:25 +0800

    fix the grammer err of the comment (#3013)
    
    Co-authored-by: ywang46 <ywang46@paypal.com>

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java

commit d965b0550fe194f0082f5450ba5be4e07ef7aabf
Author: Wei <hsdcloud@163.com>
Date:   2021-05-31 11:43:10 +0800

    [MINOR] 'return' is unnecessary as the last statement in a 'void' method (#3012)

0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HoodieHeartbeatClient.java

commit dcd7c331dc72df9ab10e4867a3592faf89f1480b
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-05-29 22:50:24 +0800

    [HUDI-1879] Support Partition Prune For MergeOnRead Snapshot Table (#2926)

8	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
96	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
17	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
165	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala
64	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 0709c62a6b48483a619ed99afc7dbfb493819236
Author: rmpifer <rmpifer@umich.edu>
Date:   2021-05-29 05:06:01 -0700

    [HUDI-1800] Exclude file slices in pending compaction when performing small file sizing (#2902)
    
    Co-authored-by: Ryan Pifer <ryanpife@amazon.com>

5	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitPartitioner.java
84	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
6	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java

commit 974b476180e61fac58cd87e78699428d4108a482
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-05-28 22:30:30 +0800

    [HUDI-1940] Add SqlQueryBasedTransformer unit test (#3004)

94	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestSqlQueryBasedTransformer.java

commit bc18c39835d6775b063ae072aea4ba43177d66b1
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date:   2021-05-28 14:58:21 +0800

    [FLINK-1923] Exactly-once write for flink writer (#3002)
    
    Co-authored-by: ”˜’◊æ∏ <yuzhaojing@bilibili.com>

16	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
57	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
3	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
0	9	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
51	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
4	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 7fed7352bd506e20e5316bb0b3ed9e5c1e9c76df
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-27 13:38:33 +0800

    [HUDI-1865] Make embedded time line service singleton (#2899)

27	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java
6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
13	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 4eb6ef8144861599f858b4119a3574e37dfbea58
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date:   2021-05-26 12:34:58 +0530

    [HUDI-1935] Updated Logger statement (#2996)
    
    Co-authored-by: veenaypatil <vinay18.patil@gmail.com>

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java

commit 112732db815660dfdf4b62aa443127d7884b6e63
Author: leesf <490081539@qq.com>
Date:   2021-05-26 00:40:22 +0800

    [HUDI-1922] Bulk insert with row writer supports mor table (#2981)

3	3	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
49	45	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit afa6bc0b100450b5d80a27bf5b87cbd4a0fbb3a5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-05-25 07:19:10 -0700

    [HUDI-1723] Fix path selector listing files with the same mod date (#2845)

8	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
7	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java
8	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java
161	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestDFSPathSelectorCommonMethods.java

commit e7020748b500e38838a8d84df64267a07b529aa7
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-05-25 16:29:55 +0800

    [HUDI-1920] Set archived as the default value of HOODIE_ARCHIVELOG_FOLDER_PROP_NAME (#2978)

2	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
5	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
3	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
3	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit aba1eadbfc015095f31271b2648faa7023126b99
Author: Town <62897740+AirToSupply@users.noreply.github.com>
Date:   2021-05-25 11:36:43 +0800

    [HUDI-1919] Type mismatch when streaming read copy_on_write table using flink (#2986)
    
    * [HUDI-1919] Type mismatch when streaming read copy_on_write table using flink #2976
    
    * Update ParquetSplitReaderUtil.java

4	7	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java
82	2	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
22	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java

commit 369a8493378f069d5471098d75a251fa67d99737
Author: mpouttu <83429688+mpouttu@users.noreply.github.com>
Date:   2021-05-23 22:29:01 -0700

    [HUDI-1873] collect() call causing issues with very large upserts (#2907)
    
    Co-authored-by: Sivabalan Narayanan <sivabala@uber.com>

5	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 653981373339b8ce74b1227278d435f5c34d2deb
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-05-22 19:44:08 +0800

    [MINOR] Update the javadoc of EngineType (#2979)

3	1	hudi-common/src/main/java/org/apache/hudi/common/engine/EngineType.java

commit 685f77b5dda92bb4ecd3a5480a1a5ed2eaee5fef
Author: Susu Dong <susudong5@gmail.com>
Date:   2021-05-22 05:52:13 +0900

    [HUDI-1740] Fix insert-overwrite API archival (#2784)
    
    - fix problem of archiving replace commits
    - Fix problem when getting empty replacecommit.requested
    - Improved the logic of handling empty and non-empty requested/inflight commit files. Added unit tests to cover both empty and non-empty inflight files cases and cleaned up some unused test util methods
    
    Co-authored-by: yorkzero831 <yorkzero8312@gmail.com>
    Co-authored-by: zheren.yu <zheren.yu@paypay-corp.co.jp>

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/{HoodieTestReplaceCommitMetadatGenerator.java => HoodieTestReplaceCommitMetadataGenerator.java}
5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/ReplaceArchivalHelper.java
35	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java
3	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
2	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestSimpleConcurrentFileWritesConflictResolutionStrategy.java
56	13	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java
27	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
8	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
8	0	hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc
13	8	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
8	49	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 99b14a78e38b081efbdda59243626c244335ea7c
Author: zhangminglei <18717838093@126.com>
Date:   2021-05-21 21:59:47 +0800

    [HUDI-1918] Fix incorrect keyBy field cause serious data skew, to avoid multiple subtasks write to a partition at the same time (#2972)

2	2	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java

commit a96034d38d378e4c53b72d50e7b7bcd91da9552d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2021-05-21 05:28:11 -0700

    [HUDI-1888] Fix NPE when the nested partition path field has null value (#2957)

21	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
36	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
22	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java

commit 7c213f9f260fa911db3fbdbc74cb4f723edf3dbc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-21 11:29:54 +0800

    [HUDI-1917] Remove the metadata sync logic in HoodieFlinkWriteClient#preWrite because it is not thread safe (#2971)

3	10	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java

commit 081061e14bd54be4ee8f4eef6253d5ec9d395ee7
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-05-20 23:00:08 +0800

    [HUDI-1719] hive on spark/mr,Incremental query of the mor table, the partition field is incorrect (#2720)

8	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
4	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java
4	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java
88	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java
12	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit 928b09ea0b2d97bc5055170c8c87fa0103615b4c
Author: swuferhong <337361684@qq.com>
Date:   2021-05-20 17:03:52 +0800

    [HUDI-1871] Fix hive conf for Flink writer hive meta sync (#2968)

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
5	2	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
18	4	packaging/hudi-flink-bundle/pom.xml

commit 9b01d2f864e5cc4a559cfd4199136bca0979b095
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-20 10:20:08 +0800

    [HUDI-1915] Fix the file id for write data buffer before flushing (#2966)

8	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
77	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMergeOnReadRollbackActionExecutor.java
1	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
14	10	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
64	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
7	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java

commit ced068e1ee79147dfe959676c953441bf6da5e87
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-05-20 10:18:07 +0800

    [MINOR] Remove unused method in BaseSparkCommitActionExecutor (#2965)

0	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java

commit fe3f5c2d560d9f27984b97c9840b7572337bd420
Author: zhangminglei <18717838093@126.com>
Date:   2021-05-19 09:13:38 +0800

    [HUDI-1913] Using streams instead of loops for input/output (#2962)

4	8	hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java
1	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
3	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 5d1f592395fe23459091ac2c7a5d539cdd9be819
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-05-18 19:11:39 -0400

    [HUDI-1806] Honoring skipROSuffix in spark ds (#2882)
    
    * Honoring skipROSuffix in spark ds
    
    * Adding tests
    
    * fixing scala checkstype issue

2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
35	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit 7d2971d4e23b1f2724e9c0ea3f233fa8105f8c1f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-18 17:47:22 +0800

    [HUDI-1911] Reuse the partition path and file group id for flink write data buffer (#2961)
    
    Reuse to reduce memory footprint.

1	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
77	12	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
0	2	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
10	9	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
1	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 46a2399a45803e1b0d863eec47168a09c37ab920
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-18 13:55:38 +0800

    [HUDI-1902] Global index for flink writer (#2958)
    
    Supports deduplication for record keys with different partition path.

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/BaseAvroPayload.java
97	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordGlobalLocation.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java
7	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
73	27	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
1	58	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java
93	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java
50	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
13	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
8	0	hudi-flink/src/test/resources/test_source_4.data

commit fcedbfcb58109f6af0b0a1e69915b40a0fcd5ccb
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date:   2021-05-17 13:34:42 +0800

    [MINOR][hudi-client] Code-cleanup,remove redundant variable declarations (#2956)

0	1	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/testutils/HoodieJavaClientTestHarness.java

commit 8869b3b4184bbec4502e2e3f6fde0ea9260cf0b0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-14 15:43:37 +0800

    [HUDI-1902] Clean the corrupted files generated by FlinkMergeAndReplaceHandle (#2949)
    
    Make the intermediate files of FlinkMergeAndReplaceHandle hidden, when
    committing the instant, clean these files in case there was some
    corrupted files left(in normal case, the intermediate files should be cleaned
    by the FlinkMergeAndReplaceHandle itself).

8	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java
12	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
8	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/util/FlinkClientUtil.java
2	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java

commit 12443e41873269a2c0ba12447f73c8a88fa7138f
Author: xoln ann <xoln_ann@outlook.com>
Date:   2021-05-14 12:29:26 +0800

    [HUDI-1446] Support skip bootstrapIndex's init in abstract fs view init (#2520)
    
    
    Co-authored-by: zhongliang <zhongliang@kuaishou.com>
    Co-authored-by: Sivabalan Narayanan <sivabala@uber.com>

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
8	4	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/BootstrapIndex.java
51	0	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/NoOpBootstrapIndex.java
13	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
18	0	hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java
1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit ad77cf42ba7d8eab086be1f6d91f465bf29164ed
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-14 10:25:18 +0800

    [HUDI-1900] Always close the file handle for a flink mini-batch write (#2943)
    
    Close the file handle eagerly to avoid corrupted files as much as
    possible.

12	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
13	6	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
26	42	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
18	61	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
196	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java
21	71	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
19	11	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/MiniBatchHandle.java
21	37	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
7	15	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
0	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/BaseFlinkDeltaCommitActionExecutor.java
2	24	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
2	3	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
1	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 6f7ff7e8ca3a83d858561dd08f8f093787caa9b2
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-05-12 20:52:37 +0800

    [HUDI-1722]Fix hive beeline/spark-sql query specified field on mor table occur NPE (#2722)

2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
14	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
67	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java
27	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit b98c9ab4392727b6b9731aea88deaa5337a91dcf
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-12 18:44:10 +0800

    [HUDI-1895] Close the file handles gracefully for flink write function to avoid corrupted files (#2938)

13	9	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
30	11	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
16	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
16	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
16	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/MiniBatchHandle.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/BaseFlinkDeltaCommitActionExecutor.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
7	7	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
2	3	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 5a8b2a4f8675e26d40df9c05ce4c7db3eaff8d8c
Author: lw0090 <lw309637554@gmail.com>
Date:   2021-05-12 04:49:18 +0800

    [HUDI-1768] add spark datasource unit test for schema validate add column (#2776)

14	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
82	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit be9db2c4f5a570fcaa555618b34ad11109ed6b00
Author: TeRS-K <teresakang0817@gmail.com>
Date:   2021-05-11 13:01:45 -0400

    [HUDI-1055] Remove hardcoded parquet in tests (#2740)
    
    * Remove hardcoded parquet in tests
    * Use DataFileUtils.getInstance
    * Renaming DataFileUtils to BaseFileUtils
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

4	3	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java
3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java
7	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
4	4	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java
11	10	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
31	29	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java
5	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
10	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
25	16	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
26	23	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
11	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/bootstrap/TestBootstrapUtils.java
10	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
13	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java
0	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
73	0	hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java
30	15	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
9	6	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java
3	2	hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java
10	5	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieDeltaWriteStat.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java
4	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
8	4	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
7	5	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
4	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java
3	2	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
1	1	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
7	6	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
14	12	hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java

commit ac72470e10f8e7bd437c9e232e58d749750ed483
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-05-11 04:26:01 -0400

    [HUDI-1851] Adding test suite long running automate scripts for docker (#2880)

76	0	docker/demo/config/test-suite/templates/clustering.yaml.template
89	0	docker/demo/config/test-suite/templates/long-running.yaml.template
34	0	docker/demo/config/test-suite/templates/spark_command.txt.template
50	0	docker/demo/config/test-suite/templates/test.properties.template
172	0	docker/generate_test_suite.sh

commit 7a5af806cfe54474014db5c70641c0c6269fff03
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-05-11 11:11:19 +0800

    [HUDI-1818] Validate required fields for Flink HoodieTable (#2930)

31	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
46	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit 42ec7e30d74104a15ff76cb004fe7a0c2649abe6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-11 09:14:51 +0800

    [HUDI-1890] FlinkCreateHandle and FlinkAppendHandle canWrite should always return true (#2933)
    
    The method #canWrite should always return true because they can already
    write based on file size, e.g. the BucketAssigner.

5	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
6	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java

commit aa398f77f13dbf98731b33d027f7f942aef62ffe
Author: jsbali <jsbali@uber.com>
Date:   2021-05-11 03:56:49 +0530

    [HUDI-1789] Support reading older snapshots (#2809)
    
    * [HUDI-1789] In HoodieParquetInoutFormat we currently default to the latest version of base files.
    This PR attempts to add a new jobConf
     `hoodie.%s.consume.snapshot.time`
    
    This new config will allow us to read older snapshots.
    
    -  Reusing hoodie.%s.consume.commit for point in time snapshot queries as well.
    -  Adding javadocs and some more tests

46	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java
55	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
14	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit 8a48d16e41b544787459454ef4b81e6852cd500b
Author: Volodymyr Burenin <vburenin@gmail.com>
Date:   2021-05-10 09:16:02 -0500

    [HUDI-1707] Reduces log level for too verbose messages from info to debug level. (#2714)
    
    * Reduces log level for too verbose messages from info to debug level.
    * Sort config output.
    * Code Review : Small restructuring + rebasing to master
     - Fixing flaky multi delta streamer test
     - Using isDebugEnabled() checks
     - Some changes to shorten log message without moving to DEBUG
    
    Co-authored-by: volodymyr.burenin <volodymyr.burenin@cloudkitchens.com>
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

1	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
7	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java
3	3	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
21	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java
5	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit 511ac4881d6bf3385fd98946594aae16088047f1
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-05-10 21:47:56 +0800

    [MINOR] optimize FilePathUtils (#2931)

3	18	hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java

commit c1b331bcffaffde7661b75a9b846b117e9df63dc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-10 10:43:03 +0800

    [HUDI-1886] Avoid to generates corrupted files for flink sink (#2929)

3	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
29	6	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
17	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
0	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit bfbf993cbe3f1e3fab93095f4342ed17423efab5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-08 14:27:56 +0800

    [HUDI-1878] Add max memory option for flink writer task (#2920)
    
    Also removes the rate limiter because it has the similar functionality,
    modify the create and merge handle cleans the retry files automatically.

7	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
9	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
60	16	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
71	35	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
8	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
7	6	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
72	6	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
1	66	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java
62	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
0	83	hudi-flink/src/test/java/org/apache/hudi/sink/transform/TestRowDataToHoodieFunction.java
1	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 2c5a661a64d7d6ae117013f6df9b24ecb63108fe
Author: li36909 <369091991@qq.com>
Date:   2021-05-08 06:30:26 +0800

    [HUDI-1759] Save one connection retry to hive metastore when hiveSyncTool run with useJdbc=false (#2759)
    
    * [HUDI-1759] Save one connection retry to hive metastore when hiveSyncTool run with useJdbc=false
    
    * Fix review comment

30	28	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
6	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit 528f4ca988209cbc9e519bd42b87b896aea992b6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-05-07 20:04:35 +0800

    [HUDI-1880] Support streaming read with compaction and cleaning (#2921)

5	9	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
2	7	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
18	15	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
11	0	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
0	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 0a5863939b8da149f6dab3ec0fdb86d77baa9739
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-05-07 10:58:49 +0800

    [HUDI-1821] Remove legacy code for Flink writer (#2868)

0	30	hudi-flink/src/main/java/org/apache/hudi/exception/HoodieFlinkStreamerException.java
0	153	hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java
0	297	hudi-flink/src/main/java/org/apache/hudi/sink/InstantGenerateOperator.java
0	194	hudi-flink/src/main/java/org/apache/hudi/sink/KeyedWriteProcessFunction.java
0	66	hudi-flink/src/main/java/org/apache/hudi/sink/KeyedWriteProcessOperator.java
0	88	hudi-flink/src/main/java/org/apache/hudi/sink/transform/JsonStringToHoodieRecordMapFunction.java
36	46	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
0	110	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java
0	73	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
0	89	hudi-flink/src/test/java/org/apache/hudi/sink/transform/TestJsonStringToHoodieRecordMapFunction.java

commit 0284cdecce3136c28cd8599f77f9a0b174145265
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-05-06 00:31:44 -0400

    [HUDI-1876] wiring in Hadoop Conf with AvroSchemaConverters instantiation (#2914)

1	1	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java

commit 1db904a12ed295e08ded14bb5677dc02d76887a2
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-05-05 12:34:20 +0800

    [HUDI-1718] When query incr view of mor table which has Multi level partitions, the query failed (#2716)

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
72	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java

commit c5220b96e94d13530f14cd4ea9ba04cd1e559474
Author: dijie <nj18652727118@gmail.com>
Date:   2021-05-01 19:13:15 +0800

    [HUDI-1781] Fix Flink streaming reader throws ClassCastException (#2900)

5	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
23	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit ea14d687da0e20a4673efa1326e5332978305269
Author: Nick Young <72905543+NickYoungPeng@users.noreply.github.com>
Date:   2021-05-01 10:02:00 +0800

    [HUDI-1852] Add SCHEMA_REGISTRY_SOURCE_URL_SUFFIX and SCHEMA_REGISTRY_TARGET_URL_SUFFIX property (#2884)

14	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java

commit 3418a92de8a45986e55a29a9498791222f6a6fa6
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-04-30 11:20:41 -0700

    [HUDI-1620] Fix Metrics UT (#2894)
    
    Make sure shutdown Metrics between unit test cases to ensure isolation

3	3	azure-pipelines.yml
6	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java
14	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
14	3	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
7	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogMetricsReporter.java
15	3	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPrometheusReporter.java
24	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPushGateWayReporter.java
0	34	pom.xml

commit 46de9e0f3fd0ff5e33c8e37c6bb9dc5d6ae6d214
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-04-30 11:17:36 -0700

    [HUDI-1810] Fix azure setting for integ tests (#2889)

3	16	azure-pipelines.yml

commit faf3785a2de24415ab8cb7c8072cc738f8282db9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-04-30 11:16:55 -0700

    [HUDI-1811] Fix TestHoodieRealtimeRecordReader (#2873)
    
    Pass basePath with scheme 'file://' to HoodieRealtimeFileSplit

29	35	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit 929eca43fe8fb9cac6eedd50656a6616616d0b11
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-04-30 14:57:52 +0800

    [HUDI-1817] Fix getting incorrect partition path while using incr query by spark-sql (#2858)

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
33	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
11	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit 6848a683bd89a6f5f30559f7daff918a498f0808
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-29 20:44:45 +0800

    [HUDI-1867] Streaming read for Flink COW table (#2895)
    
    Supports streaming read for Copy On Write table.

10	2	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
19	6	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
75	3	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
8	6	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 6e9c5dd76548911abd346fad61a0dd6d3c623af9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-29 20:32:10 +0800

    [HUDI-1863] Add rate limiter to Flink writer to avoid OOM for bootstrap (#2891)

10	10	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
13	89	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
66	1	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java
3	3	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java
1	63	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
83	0	hudi-flink/src/test/java/org/apache/hudi/sink/transform/TestRowDataToHoodieFunction.java
1	1	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit c9bcb5e33f7f9f97af0e8429a88d95f58ee48f13
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-04-29 10:11:46 +0800

    [HUDI-1845] Exception Throws When Sync Non-Partitioned Table To Hive With MultiPartKeysValueExtractor (#2876)

6	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java
41	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestMultiPartKeysValueExtractor.java

commit 3ca90302562580a7c5c69fd3f11ab376cfac1f0b
Author: dijie <nj18652727118@gmail.com>
Date:   2021-04-28 14:10:04 +0800

    [HUDI-1858] Fix cannot create table due to jar conflict (#2886)
    
    Co-authored-by: µ“Ω‹ <shenjinxin@accesscorporate.com.cn>

4	0	packaging/hudi-flink-bundle/pom.xml

commit 386767693d46e7419c4fb0fa292ccb7ab7f7098d
Author: satishkotha <satishkotha@uber.com>
Date:   2021-04-27 14:21:42 -0700

    [HUDI-1833] rollback pending clustering even if there is greater commit (#2863)
    
    * [HUDI-1833] rollback pending clustering even if there are greater commits

5	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
40	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java

commit e4fd195d9fd0cc1128b8c6797d88e56402b166bd
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date:   2021-04-27 21:32:32 +0800

    [MINOR] Refactor method up to parent-class (#2822)

1	8	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
1	8	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
39	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
41	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java

commit 299958650916eecc243f20bf9362ed70073d30db
Author: satishkotha <satishkotha@uber.com>
Date:   2021-04-26 23:35:01 -0700

    [HUDI-1690] use jsc union instead of rdd union (#2872)

19	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java

commit 63fa2b618626b2b8e9530ec105e0d4995eebb643
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-04-27 14:00:59 +0800

    [HUDI-1836] Logging consuming instant to StreamReadOperator#processSplits (#2867)

3	0	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java
15	0	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java

commit 5be3997f70415e1752a0b5214f9398880fc8fd1f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-27 10:58:06 +0800

    [HUDI-1841] Tweak the min max commits to keep when setting up cleaning retain commits for Flink (#2875)

12	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
25	11	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
18	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
1	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
56	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit 9bbb458e888273af95b04f72cc5b428524b41487
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date:   2021-04-27 09:34:09 +0800

    [MINOR] Remove redundant method-calling. (#2881)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java

commit f4e3b949714aceaf8823fd1659e44d3b7e98089a
Author: Nick Young <72905543+NickYoungPeng@users.noreply.github.com>
Date:   2021-04-26 22:05:06 +0800

    [HUDI-1742] Improve table level config priority for HoodieMultiTableDeltaStreamer (#2744)

3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
7	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
18	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java
2	1	hudi-utilities/src/test/resources/delta-streamer-config/short_trip_uber_config.properties

commit d047e91d86d6905c0f66dbdb24f2e9ecd3684430
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-26 16:53:18 +0800

    [HUDI-1837] Add optional instant range to log record scanner for log (#2870)

12	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
15	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
30	22	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java
2	2	{hudi-flink/src/main/java/org/apache/hudi/table/format/mor => hudi-common/src/main/java/org/apache/hudi/common/table/log}/InstantRange.java
10	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
76	3	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java
6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	1	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java
1	0	hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java
0	12	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
1	0	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java
1	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 3e4fa170cfd2c198599c3bed3982f2f643c7fbe8
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-04-25 12:16:09 -0400

    [HUDI-1835] Fixing kafka native config param for auto offset reset (#2864)

5	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java

commit 1b27259b530225e3c76fda684f888cad78045d3c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-25 23:06:53 +0800

    [HUDI-1844] Add option to flush when total buckets memory exceeds the threshold (#2877)
    
    Current code supports flushing as per-bucket memory usage, while the
    buckets may still take too much memory for bootstrap from history data.
    
    When the threshold hits, flush out half of the buckets with bigger
    buffer size.

9	3	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
74	12	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
63	1	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
1	1	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit a5789c40673b36d40adab696706acc1446a286f8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-23 09:59:36 +0800

    [HUDI-1829] Use while loop instead of recursive call in MergeOnReadInputFormat to avoid StackOverflow (#2862)
    
    Recursive all is risky for StackOverflow when there are too many.

9	10	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java

commit a1e636dc6b4cd39606f7e47cbb1363f4fa9b79e4
Author: Chanh Le <giaosudau@gmail.com>
Date:   2021-04-22 21:56:20 +0800

    [HUDI-1551] Add support for BigDecimal and Integer when partitioning based on time. (#2851)
    
    Co-authored-by: trungchanh.le <trungchanh.le@bybit.com>

5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
15	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java

commit 4a3431866d995fd877a067967457591a0bc8847d
Author: jsbali <jagmeet.bali@gmail.com>
Date:   2021-04-21 23:01:35 +0530

    [HUDI-1746] Added support for replace commits in commit showpartitions, commit show_write_stats, commit showfiles (#2678)
    
    * Added support for replace commits in commit showpartitions, commit show_write_stats, commit showfiles
    
    * Adding CR changes
    
    * [HUDI-1746] Code review changes

61	18	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
116	4	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
13	8	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java
92	0	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestReplaceCommitMetadatGenerator.java

commit b31c520c66a65723580807b8eb6a2639c96328a8
Author: jsbali <jagmeet.bali@gmail.com>
Date:   2021-04-21 22:57:43 +0530

    [HUDI-1714] Added tests to TestHoodieTimelineArchiveLog for the archival of compl°≠ (#2677)
    
    * Added tests to TestHoodieTimelineArchiveLog for the archival of completed clean and rollback actions.
    
    * Adding code review changes
    
    * [HUDI-1714] Minor Fixes

4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
212	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
9	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
7	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit c24d90d25a049dc6a9e3213f2b6906c2374c0e28
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-04-21 22:41:42 +0800

    [MINOR] Expose the detailed exception object (#2861)

5	1	hudi-common/src/main/java/org/apache/hudi/exception/TableNotFoundException.java

commit cc81ddde01d6c743708e68c7fb6394facca1e672
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-04-21 20:13:30 +0800

    [HUDI-1812] Add explicit index state TTL option for Flink writer (#2853)

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
6	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java

commit ac3589f00659985c39ef29e5edd089279f6c2f70
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-21 20:07:27 +0800

    [HUDI-1814] Non partitioned table for Flink writer (#2859)

2	2	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
13	4	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
36	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
17	0	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java

commit aacb8be5213a64a3cc9ddd791e2321526517d044
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-04-21 05:21:38 +0800

    [HUDI-1415] Read Hoodie Table As Spark DataSource Table (#2283)

4	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
84	15	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
44	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
3	2	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java
5	2	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
31	21	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
10	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
25	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
73	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ConfigUtils.java
25	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java
56	2	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
15	1	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
7	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 3253079507d74f6d52e78ad7f88b297daf969455
Author: Jintao Guan <jintao.guan@uber.com>
Date:   2021-04-20 09:46:42 -0700

    [HUDI-1764] Add Hudi-CLI support for clustering (#2773)
    
    * tmp base
    
    * update
    
    * update unit test
    
    * update
    
    * update
    
    * update CLI parameters
    
    * linting
    
    * update doSchedule in HoodieClusteringJob
    
    * update
    
    * update diff according to comments

107	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ClusteringCommand.java
42	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
4	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java

commit d6d52c60636ae6a0c16469fa6761d0080fddf72f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-20 21:27:09 +0800

    [HUDI-1809] Flink merge on read input split uses wrong base file path for default merge type (#2846)

26	12	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
61	0	hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java
1	0	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java

commit 9a288ccbebf1aee3164e7bc472a3e795bb83652b
Author: Sebastian Bernauer <bernauerse@web.de>
Date:   2021-04-20 01:04:59 +0200

    [MINOR] Added metric reporter Prometheus to HoodieBackedTableMetadataWriter (#2842)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java

commit 6b4b878d089c5a0ba88e94b0ec747d648c6a6084
Author: li36909 <li36909@gmail.com>
Date:   2021-04-20 06:44:11 +0800

    [HUDI-1744] rollback fails on mor table when the partition path hasn't any files (#2749)
    
    Co-authored-by: lrz <lrz@lrzdeMacBook-Pro.local>

3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
16	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java

commit d21753d903a78f2f728c9e77b5fed2e3a06f6c1c
Author: Thinking Chen <744417972@qq.com>
Date:   2021-04-20 00:27:58 +0800

    [HUDI-1802] Timeline Server Bundle need to include com.esotericsoftware package (#2835)

2	0	packaging/hudi-timeline-server-bundle/pom.xml

commit ec2334ceac28463d7586d79f6078c69fb3eb4877
Author: Aditya Tiwari <aditya63700@gmail.com>
Date:   2021-04-19 19:35:20 +0530

    [HUDI-1716]: Resolving default values for schema from dataframe (#2765)
    
    - Adding default values and setting null as first entry in UNION data types in avro schema.
    
    Co-authored-by: Aditya Tiwari <aditya.tiwari@flipkart.com>

2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java
2	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
60	1	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
31	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java
40	0	hudi-spark-datasource/hudi-spark/src/test/resources/exampleEvolvedSchema.txt
164	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionUtils.scala
88	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java
16	8	hudi-utilities/src/test/resources/delta-streamer-config/source-jdbc.avsc

commit dab5114f168112f6e195af8257c01a7c7c8ee082
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-19 19:43:41 +0800

    [HUDI-1804] Continue to write when Flink write task restart because of container killing (#2843)
    
    The `FlinkMergeHande` creates a marker file under the metadata path
    each time it initializes, when a write task restarts from killing, it
    tries to create the existing file and reports error.
    
    To solve this problem, skip the creation and use the original data file
    as base file to merge.

41	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java
20	10	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
36	7	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java

commit f7b6b680632115da7eb63eceadf95bd99f02d355
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date:   2021-04-19 16:27:13 +0800

    [MINOR][hudi-sync] Fix typos (#2844)

20	20	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit 4e050cc2ba2620d83687be5e5d69dcd747e9f72c
Author: satishkotha <satishkotha@uber.com>
Date:   2021-04-17 13:26:07 -0700

    [MINOR] Add jackson module to presto bundle (#2816)

5	0	packaging/hudi-presto-bundle/pom.xml

commit 1d53d6e6c2d3ff967d333d87b308406c8cd6917a
Author: Xu Guang Lv <17280256@qq.com>
Date:   2021-04-16 16:43:14 +0800

    [HUDI-1803] Support BAIDU AFS storage format in hudi (#2836)

2	0	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit 62b8a341ddae0ab80195c41c7a44b84c1fe23d31
Author: hj2016 <hj3245459@163.com>
Date:   2021-04-16 13:59:19 +0800

    [HUDI-1792] flink-client query error when processing files larger than 128mb (#2814)
    
    Co-authored-by: huangjing <huangjing@clinbrain.com>

8	1	hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java

commit b6d949b48a649acac27d5d9b91677bf2e25e9342
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-16 11:40:53 +0800

    [HUDI-1801] FlinkMergeHandle rolling over may miss to rename the latest file handle (#2831)
    
    The FlinkMergeHandle may rename the N-1 th file handle instead of the
    latest one, thus to cause data duplication.

15	24	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
4	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
28	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 191470d1fc9b3596eb4da2413e8bef286ccc7135
Author: MINCWANG <33626973+MINCWANG@users.noreply.github.com>
Date:   2021-04-15 15:16:33 +0800

    [HUDI-1797] Remove the com.google.guave jar from hudi-flink-bundle to avoid conflicts. (#2828)
    
    Co-authored-by: wangminchao <wangminchao@asinking.com>

36	0	packaging/hudi-flink-bundle/pom.xml

commit 6d1aec604fd854dc0fb27a4c6aa6113ae771c7e1
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-04-15 13:50:17 +0800

    [HUDI-1798] Flink streaming reader should always monitor the delta commits files (#2825)
    
    The streaming reader should only monitor the delta log files, if there are parquet commits but we recognize as logs, the reader would report FileNotFound exception.

1	1	hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java

commit 62bb9e10d9d2f2a9807ee46b0ed094ef2fcc89e5
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date:   2021-04-15 09:40:14 +0800

    [Hotfix][utilities] Optimized codes (#2821)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckpointFromAnotherHoodieTimelineProvider.java

commit 8d29863c86aed57dc8f1a0a450bce3b256de2960
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-04-14 03:35:39 -0400

    [HUDI-1615] Fixing usage of NULL schema for delete operation in HoodieSparkSqlWriter (#2777)

6	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
34	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit ab4a7b0b4afc66d2123c7f63fdab77b925a8a7f1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-14 10:23:37 +0800

    [HUDI-1788] Insert overwrite (table) for Flink writer (#2808)
    
    Supports `INSERT OVERWRITE` and `INSERT OVERWRITE TABLE` for Flink
    writer.

89	33	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
32	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/ExplicitWriteHandleTable.java
22	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
69	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteCommitActionExecutor.java
50	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteTableCommitActionExecutor.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java
3	1	hudi-flink/src/main/java/org/apache/hudi/sink/InstantGenerateOperator.java
19	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
47	5	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
4	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
9	4	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java
47	0	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/OverwriteBucketAssigner.java
20	3	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
5	5	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
13	14	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
2	2	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java
2	2	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java
49	1	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
20	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
0	11	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
2	2	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
2	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 65844a8d29b715227f3b2ecdf9b102a08950ee67
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-04-13 18:23:26 +0800

    [HUDI-1720] Fix RealtimeCompactedRecordReader StackOverflowError (#2721)

24	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java

commit e16d31dce2386868634963ec7cf79c5dfae03cc7
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-04-13 10:31:16 +0800

    [HUDI-1787] Remove the rocksdb jar from hudi-flink-bundle (#2807)
    
    Remove the RocksDB jar from hudi-flink-bundle to avoid conflicts.

13	1	packaging/hudi-flink-bundle/pom.xml

commit 1ff99ca7d7bbdcb24ebae96c434a35000eded1fc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-12 17:03:58 +0800

    [HUDI-1786] Add option for merge max memory (#2805)

6	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
1	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 040756d8c0db4633ac3cccaa11e4172e8e077e1e
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-04-12 16:22:33 +0800

    [HUDI-1785] Move OperationConverter to hudi-client-common for code reuse (#2798)

1	1	{hudi-flink/src/main/java/org/apache/hudi/streamer => hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils}/OperationConverter.java
1	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
1	10	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java

commit 1da16dfd2e4c0277ecfab8a5f0928757c3005bb1
Author: hj2016 <hj3245459@163.com>
Date:   2021-04-12 13:46:06 +0800

    [HUDI-1784]  Added print detailed stack log when hbase connection error (#2799)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java

commit f3777f44fe3229e9582a03d5734a4580eaa8503a
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-04-11 21:42:34 +0800

    [MINOR] Remove unused imports and some other checkstyle issues (#2800)

1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
0	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/DeleteConverter.java
0	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java
0	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
0	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/SaferSchemaDagScheduler.java
0	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeleteGeneratorIterator.java
0	19	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java
0	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
0	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
0	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestDeleteConverter.java
0	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java
2	1	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java

commit b554835053b0b2653ac34a8fdb923fd197ede724
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date:   2021-04-11 10:31:07 +0800

    [MINOR] fix typo. (#2804)

1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java

commit 8d4a7fe33e041719e2509f1f8ad3667e2ae7bbb4
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-04-10 13:02:11 +0800

    [HUDI-1783] Support Huawei Cloud Object Storage (#2796)

3	1	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java

commit 6786581c4842e47e1a8a8e942f54003dc151c7c6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-09 13:46:19 +0800

    [HUDI-1775] Add option for compaction parallelism (#2785)

23	2	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
24	8	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
1	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
4	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
4	0	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
2	1	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 08e82c469c456fbafc66c8e232dcd070f05fadee
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2021-04-08 22:00:11 -0700

    [HUDI-1762] Added HiveStylePartitionExtractor to support Hive style partitions (#2769)

42	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveStylePartitionValueExtractor.java
12	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestPartitionValueExtractor.java

commit cf3d2e21ebf66f3709b3fbb036d0e30526e6f938
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-04-08 08:06:13 -0700

    [MINOR] Update doap with 0.8.0 release (#2772)

5	0	doap_HUDI.rdf

commit 5b3608f14951e3aaf4ef7b5238bf32f524c24bb0
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-04-08 19:40:37 +0800

    [HUDI-1778] Add setter to CompactionPlanEvent and CompactionCommitEvent to have better SE/DE performance for Flink (#2789)

18	3	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java
13	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanEvent.java

commit ecdbd2517fd8157d9e96f3d9abf195a589e191ae
Author: hongdd <jn_hdd@163.com>
Date:   2021-04-08 15:35:33 +0800

    [HUDI-699] Fix CompactionCommand and add unit test for CompactionCommand (#2325)

21	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
66	46	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
20	30	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
219	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java
330	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCompactionCommand.java
5	0	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellIntegrationTest.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
48	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
12	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java

commit 18459d4045ec4a85081c227893b226a4d759f84b
Author: Simon <3656562@qq.com>
Date:   2021-04-08 13:35:03 +0800

    [MINOR] Some unit test code optimize (#2782)
    
    * Optimized code
    
    * Optimized code

5	4	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestConcatenatingIterator.java
5	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java

commit 3a926aacf6552fc06005db4a7880a233db904330
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-04-07 18:16:03 +0800

    [HUDI-1773] HoodieFileGroup code optimize (#2781)

3	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java

commit f4f9dd9d83a6a852c0e733802c6c49747cde5531
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-04-07 18:10:38 +0800

    [HUDI-1772] HoodieFileGroupId compareTo logical error(fileId self compare) (#2780)

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java

commit dadd081d454a25cb57668ca89a8338a9cb9493ad
Author: li36909 <li36909@gmail.com>
Date:   2021-04-07 15:47:03 +0800

    [HUDI-1751] DeltaStreamer print many unnecessary warn log (#2754)

6	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit d035fcbb3cf7aa33bafdd902a5e6a76f549e7ee1
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-04-07 14:13:31 +0800

    [HUDI-1767] Add setter to HoodieKey and HoodieRecordLocation to have better SE/DE performance for Flink (#2779)

12	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java
13	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java

commit 8527590772d05b58dcf7db460f743c6a43b78c1b
Author: li36909 <li36909@gmail.com>
Date:   2021-04-07 10:33:32 +0800

    [HUDI-1750] Fail to load user's class if user move hudi-spark-bundle jar into spark classpath (#2753)

2	1	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java

commit e692c704da732c0f2a4d2892729687766a462e53
Author: Harshit Mittal <hmit@users.noreply.github.com>
Date:   2021-04-06 17:57:10 -0700

    [MINOR] Fix deprecated build link for travis (#2778)

1	1	README.md

commit 9c369c607df2816ea2cd1221fb6d879e3fb8f74c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-06 19:06:41 +0800

    [HUDI-1757] Assigns the buckets by record key for Flink writer (#2757)
    
    Currently we assign the buckets by record partition path which could
    cause hotspot if the partition field is datetime type. Changes to assign
    buckets by grouping the record whth their key first, the assignment is
    valid if only there is no conflict(two task write to the same bucket).
    
    This patch also changes the coordinator execution to be asynchronous.

0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
9	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
7	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
6	2	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java
6	42	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
110	144	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
31	11	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
21	31	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
13	77	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
24	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java
6	2	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java
13	7	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/delta/DeltaBucketAssigner.java
65	10	hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java
57	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/CoordinatorExecutor.java
14	8	hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java
2	2	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
7	13	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
6	6	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
52	16	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
8	15	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
113	1	hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java
5	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java
51	0	hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockCoordinatorExecutor.java
10	5	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java

commit 920537cac83d59ac05676fb952d5479c41adf757
Author: li36909 <li36909@gmail.com>
Date:   2021-04-06 14:23:15 +0800

    [HUDI-1749] Clean/Compaction/Rollback command maybe never exit when operation fail (#2752)

122	115	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
7	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
8	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java

commit e970e1f48302aec3af7eeca009a2c793757cd501
Author: Harshit Mittal <hmit@users.noreply.github.com>
Date:   2021-04-01 23:07:30 -0700

    [HUDI-1696] add apache commons-codec dependency to flink-bundle explicitly (#2758)

1	0	packaging/hudi-flink-bundle/pom.xml

commit 94a5e72f16620da86bd2ca7ef27bb9abc266cc47
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date:   2021-04-02 11:39:05 +0800

    [HUDI-1737][hudi-client] Code Cleanup: Extract common method in HoodieCreateHandle & FlinkCreateHandle (#2745)

37	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
11	25	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java

commit 684622c7c9fa6df9eb177b51cb1e7bd6dd16f78d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-04-02 02:12:28 +0800

    [HUDI-1591] Implement Spark's FileIndex for Hudi to support queries via Hudi DataSource using non-globbed table path and partition pruning (#2651)

1	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
34	0	hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/execution/datasources/SparkParsePartitionUtil.scala
10	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
13	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
3	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
64	39	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
12	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala
362	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala
6	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
11	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
30	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
49	21	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
252	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala
51	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
34	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
52	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
33	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/execution/datasources/Spark2ParsePartitionUtil.scala
39	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 9804662bc8e17d6936c20326f17ec7c0360dcaf6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-04-01 15:25:31 +0800

    [HUDI-1738] Emit deletes for flink MOR table streaming read (#2742)
    
    Current we did a soft delete for DELETE row data when writes into hoodie
    table. For streaming read of MOR table, the Flink reader detects the
    delete records and still emit them if the record key semantics are still
    kept.
    
    This is useful and actually a must for streaming ETL pipeline
    incremental computation.

27	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
21	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	13	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
13	60	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
1	13	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java
1	13	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
30	15	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java
3	2	hudi-flink/src/main/java/org/apache/hudi/sink/event/BatchWriteSuccessEvent.java
16	11	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
113	6	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java
32	1	hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java
107	0	hudi-flink/src/main/java/org/apache/hudi/util/StringToRowDataConverter.java
4	2	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
10	8	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
35	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
25	0	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
6	2	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
107	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestStringToRowDataConverter.java
3	8	hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java

commit fe16d0de7c76105775c887b700751241bc82624c
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-03-31 16:36:42 +0800

    [MINOR] Delete useless UpsertPartitioner for flink integration (#2746)

0	319	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java

commit aa0da72c59cb3764205f90b025b24d1640727795
Author: Sebastian Bernauer <bernauerse@web.de>
Date:   2021-03-31 06:50:17 +0200

    Preparation for Avro update (#2650)

2	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/simple/FlinkHoodieSimpleIndex.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
1	1	hudi-common/src/main/avro/HoodieClusteringPlan.avsc
4	4	hudi-common/src/main/avro/HoodieFSPermission.avsc
2	2	hudi-common/src/main/avro/HoodieRequestedReplaceMetadata.avsc
1	1	hudi-common/src/main/avro/HoodieRestoreMetadata.avsc
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
1	2	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java

commit 8bc65b93189e249be43fe6cba2387ca83babc2c8
Author: leo-Iamok <40416931+leo-Iamok@users.noreply.github.com>
Date:   2021-03-31 11:06:04 +0800

    [HUDI-1731] Rename UpsertPartitioner in hudi-java-client (#2734)
    
    Co-authored-by: lei.zhu <lei.zhu@envisioncn.com>

3	3	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
4	4	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/{UpsertPartitioner.java => JavaUpsertPartitioner.java}

commit 3cab928b508be6729c9c8abe30b4beb5ddd12b04
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-03-30 21:35:16 +0800

    [HUDI-1735] Add hive-exec  dependency for hudi-examples (#2737)

17	0	hudi-examples/pom.xml

commit 050626ad6cb8bbd06d138456ccc00dddcff2a860
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-03-29 07:17:23 -0700

    [MINOR] Add Missing Apache License to test files (#2736)

16	0	docker/demo/config/test-suite/test.properties
2	2	scripts/release/validate_staged_release.sh

commit e069b64e10124de76e0d54d0f24d4ec95890e82d
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date:   2021-03-28 22:10:00 +0800

    [HOTFIX] fix deploy staging jars script

1	1	scripts/release/deploy_staging_jars.sh

commit 4db970dc8afd79964bbfa85097954750cb4f1ab2
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-03-28 01:07:57 -0700

    [HOTFIX] Disable ITs for Spark3 and scala2.12 (#2733)

2	0	pom.xml

commit 452f5e2d661ee667cdd1348c0f580fcc650318b7
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-03-26 20:58:29 -0700

    [HOTFIX] close spark session in functional test suite and disable spark3 test for spark2 (#2727)

16	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
1	1	hudi-spark-datasource/hudi-spark2/pom.xml
7	0	hudi-spark-datasource/hudi-spark3/pom.xml
9	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
2	0	pom.xml

commit d415d45416707ca4d5b1dbad65dc80e6fccfa378
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-29 10:47:29 +0800

    [HUDI-1729] Asynchronous Hive sync and commits cleaning for Flink writer (#2732)

79	12	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
10	0	hudi-flink/pom.xml
116	1	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
89	0	hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java
46	1	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
6	2	hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java
16	1	hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java
89	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java
78	0	hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java
7	5	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java
3	6	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
22	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
10	5	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
31	1	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
3	1	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
34	1	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
10	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
9	2	hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java
3	1	hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java
0	0	hudi-flink/src/test/resources/{test_source2.data => test_source_2.data}
8	0	hudi-flink/src/test/resources/test_source_3.data
34	0	packaging/hudi-flink-bundle/pom.xml

commit ecbd389a3f9215e219cb19b8641f2faea4fa3ad7
Author: Shen Hong <shenh062326@126.com>
Date:   2021-03-28 20:28:40 +0800

    [HUDI-1478] Introduce HoodieBloomIndex to hudi-java-client (#2608)

261	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndex.java
2	2	hudi-client/{hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/HoodieFlinkBloomIndexCheckFunction.java => hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndexCheckFunction.java}
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java
1	234	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/FlinkHoodieBloomIndex.java
32	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieBloomIndex.java
3	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java

commit bec70413c0943f38ee5cdf62fa3a79af44d8cded
Author: n3nash <nagarwal@uber.com>
Date:   2021-03-27 10:07:10 -0700

    [HUDI-1728] Fix MethodNotFound for HiveMetastore Locks (#2731)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
14	8	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 8b774fe3313757a8b94ca408079327c62b4a664c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-26 14:25:57 +0800

    [HUDI-1495] Bump Flink version to 1.12.2 (#2718)

14	0	hudi-flink/pom.xml
33	7	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
7	2	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
2	2	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java
36	42	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
62	55	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
76	75	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
2	2	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
0	0	hudi-flink/src/main/resources/META-INF/services/{org.apache.flink.table.factories.TableFactory => org.apache.flink.table.factories.Factory}
6	6	hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java
3	3	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
0	7	hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockOperatorStateStore.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
1	2	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
24	62	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
1	2	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java
2	3	hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java
1	2	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java
5	1	hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java
20	16	hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java
40	22	hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java
1	0	hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.Factory
0	18	hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.TableFactory
65	68	packaging/hudi-flink-bundle/pom.xml
1	1	pom.xml
1	0	style/checkstyle-suppressions.xml

commit 6e803e08b1328b32a5c3a6acd8168fdabc8a1e50
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date:   2021-03-24 21:37:14 +0800

    Moving to 0.9.0-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hudi-cli/pom.xml
2	2	hudi-client/hudi-client-common/pom.xml
2	2	hudi-client/hudi-flink-client/pom.xml
2	2	hudi-client/hudi-java-client/pom.xml
2	2	hudi-client/hudi-spark-client/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-examples/pom.xml
1	1	hudi-flink/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-integ-test/pom.xml
2	2	hudi-spark-datasource/hudi-spark-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark/pom.xml
2	2	hudi-spark-datasource/hudi-spark2/pom.xml
2	2	hudi-spark-datasource/hudi-spark3/pom.xml
1	1	hudi-spark-datasource/pom.xml
1	1	hudi-sync/hudi-dla-sync/pom.xml
1	1	hudi-sync/hudi-hive-sync/pom.xml
1	1	hudi-sync/hudi-sync-common/pom.xml
1	1	hudi-sync/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-flink-bundle/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-sync-bundle/pom.xml
1	1	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit 29b79c99b02d66ef9b087b56223e74c0d1f99e94
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-24 18:25:37 +0800

    [hotfix] Log the error message for creating table source first (#2711)

19	8	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java

commit 01a1d7997bc8f3f82452ebf8e2e655143d00926c
Author: n3nash <nagarwal@uber.com>
Date:   2021-03-24 02:24:02 -0700

    [HUDI-1712] Rename & standardize config to match other configs (#2708)

1	1	hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java
9	9	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
17	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 03668dbaf1a60428d7e0d68c6622605e0809150a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-24 09:41:30 +0800

    [HUDI-1710] Read optimized query type for Flink batch reader (#2702)
    
    Read optimized query returns the records from:
    
    * COW table: the latest parquet files
    * MOR table: parquet file records from the latest compaction committed

62	47	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
24	0	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java
0	2	hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java

commit 0e6909d3e241c794ed1b9318fcb9142a36cb0133
Author: legendtkl <taokelu@gmail.com>
Date:   2021-03-23 20:21:56 +0800

    [MINOR][DOCUMENT] Update README doc for integ test (#2703)

3	3	hudi-integ-test/README.md

commit d7b18783bdd6edd6355ee68714982401d3321f86
Author: n3nash <nagarwal@uber.com>
Date:   2021-03-22 01:22:06 -0700

    [HUDI-1709] Improving config names and adding hive metastore uri config (#2699)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/ZookeeperBasedLockProvider.java
15	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
7	4	hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
11	5	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/{HiveMetastoreLockProvider.java => HiveMetastoreBasedLockProvider.java}
5	5	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/{TestHiveMetastoreLockProvider.java => TestHiveMetastoreBasedLockProvider.java}
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit ce3e8ec87083ef4cd4f33de39b6697f66ff3f277
Author: Liulietong <liulietong@bytedance.com>
Date:   2021-03-20 22:54:20 +0800

    [HUDI-1667]: Fix a null value related bug for spark vectorized reader. (#2636)

1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala

commit 900de34e45b4c1d19c01ea84adc38413f2bd52ff
Author: Volodymyr Burenin <vburenin@gmail.com>
Date:   2021-03-20 02:51:08 -0500

    [HUDI-1650] Custom avro kafka deserializer. (#2619)
    
    * Custom avro kafka deserializer
    
    Co-authored-by: volodymyr.burenin <volodymyr.burenin@cloudkitchens.com>
    Co-authored-by: Sivabalan Narayanan <sivabala@uber.com>

7	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
91	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deser/KafkaAvroSchemaDeserializer.java
4	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java
26	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
141	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java
45	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/SchemaTestProvider.java

commit 161d530f932f4f1bc676e3c1b784858b18e4939f
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-03-19 15:54:29 -0400

    Fixing kafka auto.reset.offsets config param key (#2691)

16	22	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
3	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java

commit 55a489c769c7681d2732aa99f963d02d26ed991b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-03-19 14:21:36 -0400

    [1568] Fixing spark3 bundles (#2625)
    
    - [1568] Fixing spark3 bundles

1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
4	0	pom.xml
4	2	scripts/release/deploy_staging_jars.sh

commit f74828fca10ca5539c1aaad2c5e99bb1ddb373c5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-19 16:30:54 +0800

    [HUDI-1705] Flush as per data bucket for mini-batch write (#2695)
    
    Detects the buffer size for each data bucket before flushing. So that we
    avoid flushing data buckets with few records.

80	32	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
1	2	hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
6	12	hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java

commit 1277c62398c58690cd5a6aa78048335d5313ca05
Author: Jintao Guan <jintaoguan0817@gmail.com>
Date:   2021-03-18 15:33:31 -0700

    [HUDI-1653] Add support for composite keys in NonpartitionedKeyGenerator (#2627)
    
    * [HUDI-1653] Add support for composite keys in NonpartitionedKeyGenerator
    
    * update NonpartitionedKeyGenerator to support composite record keys
    
    * update NonpartitionedKeyGenerator

18	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java
16	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
136	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java

commit e602e5dfb9f3db6ee31267f305f4449dc4b32b40
Author: wangxianghu <wangxianghu@apache.org>
Date:   2021-03-19 05:56:02 +0800

    [MINOR] Remove unused var in AbstractHoodieWriteClient (#2693)

0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java

commit d429169ff7ef66dfcd6825b74fcbceddb46369a5
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-03-19 01:19:18 +0800

    [HUDI-1688]hudi write should uncache rdd£¨ when the write operation is finnished (#2673)

17	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit f1e0018f12b66770ba3785be7aa8f5f6a80bab6f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-18 20:21:52 +0800

    [HUDI-1704] Use PRIMARY KEY syntax to define record keys for Flink Hudi table (#2694)
    
    The SQL PRIMARY KEY semantics is very same with Hoodie record key, using
    PRIMARY KEY is more straight-forward way instead of a table option:
    hoodie.datasource.write.recordkey.field.
    
    After this change, both PRIMARY KEY and table option can define hoodie
    record key, while the PRIMARY KEY has higher priority if both are
    defined.
    
    Note: a column with PRIMARY KEY constraint is forced to be non-nullable.

8	0	hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java
60	11	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
98	8	hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java
2	1	hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java

commit 968488fa3a3c67962ed5b60e00836e71c730a9a5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-17 23:05:18 +0800

    [HUDI-1701] Implement HoodieTableSource.explainSource for all kinds of pushing down (#2690)
    
    We should implement the interface HoodieTableSource.explainSource to
    track the table source signature diff for all kinds of pushing down,
    such as filter pushing or limit pushing.

13	0	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java
9	2	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit 74241947c123c860a1b0344f25cef316440a70d6
Author: n3nash <nagarwal@uber.com>
Date:   2021-03-16 16:43:53 -0700

    [HUDI-845] Added locking capability to allow multiple writers (#2374)
    
    * [HUDI-845] Added locking capability to allow multiple writers
    1. Added LockProvider API for pluggable lock methodologies
    2. Added Resolution Strategy API to allow for pluggable conflict resolution
    3. Added TableService client API to schedule table services
    4. Added Transaction Manager for wrapping actions within transactions

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitUtilities.java
24	0	hudi-client/hudi-client-common/pom.xml
171	50	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
153	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/ConcurrentOperation.java
64	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/ConflictResolutionStrategy.java
105	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/SimpleConcurrentFileWritesConflictResolutionStrategy.java
94	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java
135	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java
168	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/ZookeeperBasedLockProvider.java
132	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java
128	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java
0	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
191	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java
88	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
5	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
14	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
2	80	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
9	84	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java
132	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanPlanActionExecutor.java
26	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
18	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java
7	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java
107	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java
420	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestSimpleConcurrentFileWritesConflictResolutionStrategy.java
116	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestZookeeperBasedLockProvider.java
213	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java
3	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
13	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
52	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkScheduleCleanActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
5	5	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
7	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
52	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaScheduleCleanActionExecutor.java
0	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
4	1	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
65	16	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
8	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
15	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
55	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanPlanActionExecutor.java
15	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
299	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
3	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
0	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
2	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
2	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
7	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
69	0	hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java
56	0	hudi-common/src/main/java/org/apache/hudi/common/lock/LockProvider.java
27	0	hudi-common/src/main/java/org/apache/hudi/common/lock/LockState.java
49	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieMetadataWrapper.java
41	0	hudi-common/src/main/java/org/apache/hudi/common/model/TableServiceType.java
66	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteConcurrencyMode.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
35	18	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java
25	0	hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java
43	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieLockException.java
43	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieWriteConflictException.java
18	4	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
28	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
6	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/ZookeeperTestService.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestCommitUtils.java
43	1	hudi-integ-test/pom.xml
33	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
21	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
4	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java
50	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/ZookeeperServiceProvider.java
0	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java
65	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala
65	0	hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala
73	30	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
43	0	hudi-integ-test/src/test/resources/unit-test-cow-dag-spark-datasource.yaml
24	0	hudi-spark-datasource/hudi-spark/pom.xml
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
226	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreLockProvider.java
158	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveMetastoreLockProvider.java
5	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
14	1	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
286	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
7	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
3	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java
22	0	packaging/hudi-integ-test-bundle/pom.xml
23	1	packaging/hudi-spark-bundle/pom.xml
22	0	packaging/hudi-utilities-bundle/pom.xml
20	0	pom.xml

commit b038623ed3318404f9bc4707f005a9fc458c0adf
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-03-16 12:44:11 -0400

    [HUDI 1615] Fixing null schema in bulk_insert row writer path  (#2653)
    
    * [HUDI-1615] Avoid passing in null schema from row writing/deltastreamer
    * Fixing null schema in bulk insert row writer path
    * Fixing tests
    
    Co-authored-by: vc <vinoth@apache.org>

2	1	hudi-common/src/main/avro/HoodieCommitMetadata.avsc
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java
2	1	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
16	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
39	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
2	1	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
2	1	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java

commit 16864aee14d465a098ca58599bce6c08eadd1b0b
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2021-03-15 20:30:26 -0700

    [HUDI-1695] Fixed the error messaging (#2679)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java

commit 3b36cb805d066a3112e3a355ef502dbe4b2c1824
Author: Prashant Wason <pwason@uber.com>
Date:   2021-03-15 13:42:57 -0700

    [HUDI-1552] Improve performance of key lookups from base file in Metadata Table. (#2494)
    
    * [HUDI-1552] Improve performance of key lookups from base file in Metadata Table.
    
    1. Cache the KeyScanner across lookups so that the HFile index does not have to be read for each lookup.
    2. Enable block caching in KeyScanner.
    3. Move the lock to a limited scope of the code to reduce lock contention.
    4. Removed reuse configuration
    
    * Properly close the readers, when metadata table is accessed from executors
    
     - Passing a reuse boolean into HoodieBackedTableMetadata
     - Preserve the fast return behavior when reusing and opening from multiple threads (no contention)
     - Handle concurrent close() and open readers, for reuse=false, by always synchronizing
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

4	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
0	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
0	15	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
25	10	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
88	54	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
6	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java

commit 76bf2cc790edc0be10dfa2454c42687c38e7e5fc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-15 19:42:36 +0800

    [HUDI-1692] Bounded source for stream writer (#2674)
    
    Supports bounded source such as VALUES for stream mode writer.

12	6	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java
8	18	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java
2	11	hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorFactory.java
70	9	hudi-flink/src/main/java/org/apache/hudi/sink/event/BatchWriteSuccessEvent.java
1	1	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java
2	4	hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java
23	7	hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java
1	1	hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java
16	5	hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java

commit fc6c5f4285098d18cd7f6e81785f59e68a3b6862
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-15 16:02:05 +0800

    [HUDI-1684] Tweak hudi-flink-bundle module pom and reorganize the pacakges for hudi-flink module (#2669)
    
    * Add required dependencies for hudi-flink-bundle module
    * Some packages reorganization of hudi-flink module

3	3	hudi-flink/src/main/java/org/apache/hudi/{operator => configuration}/FlinkOptions.java
1	1	hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java
0	1	hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java
4	4	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/InstantGenerateOperator.java
3	3	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/KeyedWriteProcessFunction.java
1	2	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/KeyedWriteProcessOperator.java
3	2	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/StreamWriteFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/StreamWriteOperator.java
3	2	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/StreamWriteOperatorCoordinator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/StreamWriteOperatorFactory.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/compact/CompactFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/compact/CompactionCommitEvent.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/compact/CompactionCommitSink.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/compact/CompactionPlanEvent.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/compact/CompactionPlanOperator.java
3	3	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/event/BatchWriteSuccessEvent.java
2	2	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/partitioner/BucketAssignFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/partitioner/BucketAssigner.java
2	2	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/partitioner/BucketAssigners.java
2	2	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/partitioner/delta/DeltaBucketAssigner.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => sink/transform}/JsonStringToHoodieRecordMapFunction.java
2	2	hudi-flink/src/main/java/org/apache/hudi/{operator => sink}/transform/RowDataToHoodieFunction.java
6	5	hudi-flink/src/main/java/org/apache/hudi/{operator => source}/StreamReadMonitoringFunction.java
3	3	hudi-flink/src/main/java/org/apache/hudi/{operator => source}/StreamReadOperator.java
6	6	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
4	4	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java
2	4	hudi-flink/src/main/java/org/apache/hudi/{factory => table}/HoodieTableFactory.java
10	10	hudi-flink/src/main/java/org/apache/hudi/{sink => table}/HoodieTableSink.java
10	10	hudi-flink/src/main/java/org/apache/hudi/{source => table}/HoodieTableSource.java
2	2	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/FilePathUtils.java
3	3	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/FormatUtils.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/cow/AbstractColumnReader.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/cow/CopyOnWriteInputFormat.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/cow/Int64TimestampColumnReader.java
3	3	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/cow/ParquetColumnarRowSplitReader.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/cow/ParquetDecimalVector.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/cow/ParquetSplitReaderUtil.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/cow/RunLengthDecoder.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/mor/InstantRange.java
7	7	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/mor/MergeOnReadInputFormat.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/mor/MergeOnReadInputSplit.java
1	1	hudi-flink/src/main/java/org/apache/hudi/{source => table}/format/mor/MergeOnReadTableState.java
4	5	hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java
1	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.TableFactory
11	11	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/StreamWriteITCase.java
4	4	hudi-flink/src/test/java/org/apache/hudi/{operator/StreamWriteOperatorCoordinatorTest.java => sink/TestStreamWriteOperatorCoordinator.java}
6	5	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/TestWriteCopyOnWrite.java
2	2	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/TestWriteMergeOnRead.java
2	1	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/TestWriteMergeOnReadWithCompact.java
2	2	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/partitioner/TestBucketAssigner.java
1	1	hudi-flink/src/test/java/org/apache/hudi/{source => sink/transform}/TestJsonStringToHoodieRecordMapFunction.java
7	7	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/utils/CompactFunctionWrapper.java
1	1	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/utils/MockFunctionInitializationContext.java
1	1	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/utils/MockMapState.java
1	1	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/utils/MockOperatorStateStore.java
1	1	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/utils/MockStreamingRuntimeContext.java
8	7	hudi-flink/src/test/java/org/apache/hudi/{operator => sink}/utils/StreamWriteFunctionWrapper.java
4	5	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java
7	9	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
5	5	hudi-flink/src/test/java/org/apache/hudi/{source => table}/HoodieDataSourceITCase.java
3	5	hudi-flink/src/test/java/org/apache/hudi/{factory => table}/TestHoodieTableFactory.java
5	5	hudi-flink/src/test/java/org/apache/hudi/{source => table}/TestHoodieTableSource.java
5	5	hudi-flink/src/test/java/org/apache/hudi/{source => table}/format/TestInputFormat.java
2	2	hudi-flink/src/test/java/org/apache/hudi/{operator => }/utils/TestConfigurations.java
3	2	hudi-flink/src/test/java/org/apache/hudi/{operator => }/utils/TestData.java
3	3	hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java
1	1	hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java
1	1	hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.TableFactory
160	3	packaging/hudi-flink-bundle/pom.xml

commit e93c6a569310ce55c5a0fc0655328e7fd32a9da2
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-03-14 04:57:57 -0400

    [HUDI-1496] Fixing input stream detection of GCS FileSystem (#2500)
    
    * Adding SchemeAwareFSDataInputStream for abstract out special handling for GCSFileSystem
    * Moving wrapping of fsDataInputStream to separate method in HoodieLogFileReader
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

4	7	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
52	0	hudi-common/src/main/java/org/apache/hudi/common/fs/SchemeAwareFSDataInputStream.java
53	18	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
3	23	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java

commit f5e31be0866848940510b91dd4e9cdc7500a9086
Author: Ankush Kanungo <40214578+akanungoz@users.noreply.github.com>
Date:   2021-03-12 15:53:01 -0800

    [HUDI-1685] keep updating current date for every batch (#2671)

6	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestDatePartitionPathSelector.java

commit 20786ab8a2a1e7735ab846e92802fb9f4449adc9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-12 16:39:24 +0800

    [HUDI-1681] Support object storage for Flink writer (#2662)
    
    In order to support object storage, we need these changes:
    
    * Use the Hadoop filesystem so that we can find the plugin filesystem
    * Do not fetch file size until the file handle is closed
    * Do not close the opened filesystem because we want to use the
      filesystem cache

2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java
5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
6	0	hudi-client/hudi-flink-client/pom.xml
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
1	10	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
1	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
81	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/util/FlinkClientUtil.java
1	1	hudi-flink/src/main/java/org/apache/hudi/factory/HoodieTableFactory.java
13	12	hudi-flink/src/main/java/org/apache/hudi/source/HoodieTableSource.java
52	74	hudi-flink/src/main/java/org/apache/hudi/source/format/FilePathUtils.java
252	1	hudi-flink/src/main/java/org/apache/hudi/source/format/cow/CopyOnWriteInputFormat.java
2	2	hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputFormat.java
11	53	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-flink/src/test/java/org/apache/hudi/source/TestHoodieTableSource.java
5	5	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
1	1	hudi-flink/src/test/java/org/apache/hudi/source/format/TestInputFormat.java

commit e8e6708aea1ace4aecaba594d7fd84a0b5cac635
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-11 19:45:48 +0800

    [HUDI-1664] Avro schema inference for Flink SQL table (#2658)
    
    A Flink SQL table has DDL that defines the table schema, we can use that
    to infer the Avro schema and there is no need to declare a Avro schema
    explicitly anymore.
    
    But we still keep the config option for explicit Avro schema in case
    there is corner cases that the inferred schema is not correct
    (especially for the nullability).

29	4	hudi-flink/src/main/java/org/apache/hudi/factory/HoodieTableFactory.java
11	5	hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java
1	1	hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java
6	0	hudi-flink/src/main/java/org/apache/hudi/sink/HoodieTableSink.java
5	0	hudi-flink/src/main/java/org/apache/hudi/source/HoodieTableSource.java
11	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
177	0	hudi-flink/src/test/java/org/apache/hudi/factory/TestHoodieTableFactory.java
1	1	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java
0	13	hudi-flink/src/test/java/org/apache/hudi/source/HoodieDataSourceITCase.java

commit 12ff562d2bd77b6dc8676eac79cbd631185dac3c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-11 19:44:06 +0800

    [HUDI-1678] Row level delete for Flink sink (#2659)

6	1	hudi-flink/src/main/java/org/apache/hudi/operator/transform/RowDataToHoodieFunction.java
63	11	hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteCopyOnWrite.java
73	44	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java
5	5	hudi-flink/src/test/java/org/apache/hudi/source/HoodieDataSourceITCase.java
1	1	hudi-flink/src/test/java/org/apache/hudi/source/TestHoodieTableSource.java
6	6	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java
8	8	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
7	7	hudi-flink/src/test/java/org/apache/hudi/source/format/TestInputFormat.java

commit 2fdae6835ce3fcad3111205d2373a69b34788483
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-10 22:44:06 +0800

    [HUDI-1663] Streaming read for Flink MOR table (#2640)
    
    Supports two read modes:
    * Read the full data set starting from the latest commit instant and
      subsequent incremental data set
    * Read data set that starts from a specified commit instant

5	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
31	5	hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java
372	0	hudi-flink/src/main/java/org/apache/hudi/operator/StreamReadMonitoringFunction.java
237	0	hudi-flink/src/main/java/org/apache/hudi/operator/StreamReadOperator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/sink/HoodieTableSink.java
57	57	hudi-flink/src/main/java/org/apache/hudi/source/HoodieTableSource.java
108	0	hudi-flink/src/main/java/org/apache/hudi/source/format/FilePathUtils.java
101	0	hudi-flink/src/main/java/org/apache/hudi/source/format/mor/InstantRange.java
11	0	hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputFormat.java
8	1	hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputSplit.java
1	1	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
1	1	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java
8	9	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
28	1	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java
103	2	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java
83	35	hudi-flink/src/test/java/org/apache/hudi/source/HoodieDataSourceITCase.java
2	2	hudi-flink/src/test/java/org/apache/hudi/source/{HoodieTableSourceTest.java => TestHoodieTableSource.java}
269	0	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java
290	0	hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java
10	13	hudi-flink/src/test/java/org/apache/hudi/source/format/{InputFormatTest.java => TestInputFormat.java}
64	0	hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java
174	0	hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java
17	0	hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.Factory
8	0	hudi-flink/src/test/resources/test_source2.data

commit c4a66324cdd3e289e0bf18bdd150b95ee6e4c66c
Author: satishkotha <satishkotha@uber.com>
Date:   2021-03-09 15:56:44 -0800

    [HUDI-1651] Fix archival of requested replacecommit (#2622)

8	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
7	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
31	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
1	1	hudi-common/pom.xml
8	0	hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc
5	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
3	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit d8af24d8a2fdbead4592a36df1bd9dda333f1513
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date:   2021-03-09 13:29:38 -0800

    [HUDI-1635] Improvements to Hudi Test Suite (#2628)

17	1	hudi-integ-test/README.md
56	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
21	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
138	6	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java
15	11	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java
2	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
53	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/SaferSchemaDagScheduler.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
5	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java
12	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
3	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGeneratorMOR.java
34	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java
3	5	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java

commit d3a451611cc01a65cc0f305c72c04d64af0e7d38
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-03-08 01:36:03 -0800

    [MINOR] HoodieClientTestHarness close resources in AfterAll phase (#2646)
    
    Parameterized test case like `org.apache.hudi.table.upgrade.TestUpgradeDowngrade#testUpgrade` incurs flakiness when org.apache.hadoop.fs.FileSystem#closeAll is invoked at BeforeEach; it should be invoked in AfterAll instead.

6	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java

commit 8b9dea4ad9012d84203a888b601cca03bf857aeb
Author: Shen Hong <shenh062326@126.com>
Date:   2021-03-08 14:30:34 +0800

    [HUDI-1673] Replace scala.Tule2 to Pair in FlinkHoodieBloomIndex (#2642)

17	19	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/FlinkHoodieBloomIndex.java
10	12	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/HoodieFlinkBloomIndexCheckFunction.java
19	21	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java

commit 02073235c3bbe72db32ed282b3e318e7daa0800a
Author: xiarixiaoyao <mengtao0326@qq.com>
Date:   2021-03-08 12:16:13 +0800

    [HUDI-1662] Fix hive date type conversion for mor table (#2634)

4	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java

commit 5cf2f2618b6a59a831543b588fb3bb85bdf5f1e8
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-03-07 16:40:40 -0500

    [HUDI-1618] Fixing NPE with Parquet src in multi table delta streamer (#2577)

4	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
32	12	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
91	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java

commit 9437e0ddef9821f728a4edf24ab90506532b6d0d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-03-07 12:37:15 -0800

    [MINOR] Fix import in StreamerUtil.java (#2638)

1	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 11ad4ed26b6046201945f0e14449e1cbc5b6f1f2
Author: satishkotha <satishkotha@uber.com>
Date:   2021-03-05 13:42:19 -0800

    [HUDI-1661] Exclude clustering commits from getExtraMetadataFromLatest API (#2632)

37	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java
38	7	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java

commit f2159c4573810f922fadff640a953175a852dc43
Author: n3nash <nagarwal@uber.com>
Date:   2021-03-05 11:18:09 -0800

    [HUDI-1660] Excluding compaction and clustering instants from inflight rollback (#2631)

13	14	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java

commit bc883db5de5832fa429bbb04a35d3606fdacdb2a
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-03-05 14:10:27 +0800

    [HUDI-1636] Support Builder Pattern To Build Table Properties For HoodieTableConfig (#2596)

7	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java
8	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
14	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
10	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
9	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
7	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
170	106	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	3	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
6	3	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
5	2	hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java
5	2	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java
7	9	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
5	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
18	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
10	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala
16	6	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
9	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
15	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
6	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java
5	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit f53bca404f1482e0e99ad683dd29bfaff8bfb8ab
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-03-04 21:01:51 -0800

    [HUDI-1655] Support custom date format and fix unsupported exception in DatePartitionPathSelector (#2621)
    
    - Add a config to allow parsing custom date format in `DatePartitionPathSelector`. Currently it assumes date partition string in the format of `yyyy-MM-dd`.
    - Fix a bug where `UnsupportedOperationException` was thrown when sort `eligibleFiles` in-place. Changed to sort it and store in a new list.

20	10	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java
21	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestDatePartitionPathSelector.java

commit 7cc75e0be25b7c3345efd890b1a353d49db5bace
Author: satishkotha <satishkotha@uber.com>
Date:   2021-03-04 17:43:31 -0800

    [HUDI-1646] Provide mechanism to read uncommitted data through InputFormat (#2611)

7	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
12	5	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
22	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java
2	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
41	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
20	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit 89003bc7801b035b5be31c76bfbf691bfcf9081a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-05 08:49:32 +0800

    [HUDI-1647] Supports snapshot read for Flink (#2613)

40	1	hudi-flink/pom.xml
84	0	hudi-flink/src/main/java/org/apache/hudi/factory/HoodieTableFactory.java
62	5	hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java
8	0	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java
7	1	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperator.java
21	13	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java
9	1	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorFactory.java
0	1	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java
126	0	hudi-flink/src/main/java/org/apache/hudi/sink/HoodieTableSink.java
411	0	hudi-flink/src/main/java/org/apache/hudi/source/HoodieTableSource.java
320	0	hudi-flink/src/main/java/org/apache/hudi/source/format/FilePathUtils.java
98	0	hudi-flink/src/main/java/org/apache/hudi/source/format/FormatUtils.java
324	0	hudi-flink/src/main/java/org/apache/hudi/source/format/cow/AbstractColumnReader.java
134	0	hudi-flink/src/main/java/org/apache/hudi/source/format/cow/CopyOnWriteInputFormat.java
99	0	hudi-flink/src/main/java/org/apache/hudi/source/format/cow/Int64TimestampColumnReader.java
370	0	hudi-flink/src/main/java/org/apache/hudi/source/format/cow/ParquetColumnarRowSplitReader.java
69	0	hudi-flink/src/main/java/org/apache/hudi/source/format/cow/ParquetDecimalVector.java
398	0	hudi-flink/src/main/java/org/apache/hudi/source/format/cow/ParquetSplitReaderUtil.java
304	0	hudi-flink/src/main/java/org/apache/hudi/source/format/cow/RunLengthDecoder.java
513	0	hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputFormat.java
88	0	hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputSplit.java
79	0	hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadTableState.java
179	1	hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java
316	0	hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java
30	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
17	0	hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.TableFactory
13	30	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java
1	1	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteOperatorCoordinatorTest.java
1	1	hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java
49	3	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java
45	21	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java
162	0	hudi-flink/src/test/java/org/apache/hudi/source/HoodieDataSourceITCase.java
122	0	hudi-flink/src/test/java/org/apache/hudi/source/HoodieTableSourceTest.java
197	0	hudi-flink/src/test/java/org/apache/hudi/source/format/InputFormatTest.java
62	0	hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java
173	0	hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java
18	0	hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.TableFactory
1	0	style/checkstyle-suppressions.xml

commit 899ae70fdb70c1511c099a64230fd91b2fe8d4ee
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-03-03 20:13:12 -0800

    [HUDI-1587] Add latency and freshness support (#2541)
    
    Save min and max of event time in each commit and compute the latency and freshness metrics.

20	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/WriteStatus.java
9	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java
20	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
3	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestWriteStatus.java
18	0	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
17	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
13	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java
36	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java
40	0	hudi-common/src/main/java/org/apache/hudi/common/util/DateTimeUtils.java
38	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java
55	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestDateTimeUtils.java
6	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
3	6	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala

commit f11a6c7b2d4ef045419a4522e8e203f51292b816
Author: Prashant Wason <pwason@uber.com>
Date:   2021-03-02 21:58:41 -0800

    [HUDI-1553] Configuration and metrics for the TimelineService. (#2495)

3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java
9	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
20	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
81	4	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java
34	6	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java

commit 4fa43359cb1f95a0f663bb32b6f479fd85bdb255
Author: t0il3ts0ap <anoop_narang2003@yahoo.com>
Date:   2021-03-03 07:19:18 +0530

    [MINOR] Fix default value for hoodie.deltastreamer.source.kafka.auto.reset.offsets (#2617)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit 0dde7f9185a350599adaab5af5738b73a15243d7
Author: ZhangChaoMing <72908278+ZhangChaoming@users.noreply.github.com>
Date:   2021-03-02 17:52:21 +0800

    [HUDI-1584] Modify maker file path, which should start with the target base path. (#2539)

11	2	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java

commit 73fa308ff0c2e3bd0a1e53052187eabe9889d596
Author: Prashant Wason <pwason@uber.com>
Date:   2021-03-01 20:31:55 -0800

    [HUDI-1634] Re-bootstrap metadata table when un-synced instants have been archived. (#2595)

23	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
32	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java

commit 7a6b071647fae632af2126b517ac869e81f539cb
Author: satishkotha <satishkotha@uber.com>
Date:   2021-03-01 09:40:00 -0800

    [HUDI-1644] Do not delete older rollback instants as part of rollback. Archival can take care of removing old instants cleanly (#2610)

0	12	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
0	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
0	24	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
2	52	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java

commit 657e73f9b157a1ed4d6e6e515ae8f63156061b88
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-03-01 12:34:10 -0500

    [HUDI-1540] Fixing commons codec dependency in bundle jars (#2562)
    
    - Actually including `commons-codec` into the spark/utilities bundles

1	0	packaging/hudi-spark-bundle/pom.xml
1	0	packaging/hudi-utilities-bundle/pom.xml

commit 7a11de12764d8f68f296c6e68a22822318bfbefa
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-03-01 12:29:41 +0800

    [HUDI-1632] Supports merge on read write mode for Flink writer (#2593)
    
    Also supports async compaction with pluggable strategies.

32	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
12	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
101	20	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
0	10	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java
3	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/{ExplicitCreateHandleFactory.java => ExplicitWriteHandleFactory.java}
125	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java
7	7	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
4	24	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
63	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
63	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
1	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
10	19	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
7	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
65	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/BaseFlinkDeltaCommitActionExecutor.java
52	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertDeltaCommitActionExecutor.java
75	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkCompactHelpers.java
152	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkScheduleCompactionActionExecutor.java
235	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java
38	2	hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java
5	3	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java
19	0	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java
94	0	hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactFunction.java
62	0	hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionCommitEvent.java
150	0	hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionCommitSink.java
47	0	hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionPlanEvent.java
146	0	hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionPlanOperator.java
6	3	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java
2	2	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigner.java
54	0	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigners.java
114	0	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/delta/DeltaBucketAssigner.java
6	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
83	0	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java
55	30	hudi-flink/src/test/java/org/apache/hudi/operator/{StreamWriteFunctionTest.java => TestWriteCopyOnWrite.java}
96	0	hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteMergeOnRead.java
58	0	hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteMergeOnReadWithCompact.java
142	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/CompactFunctionWrapper.java
16	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java
96	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java

commit be257b58c689510a21529019a766b7a2bfc7ebe6
Author: Liulietong <liulietong@sina.com>
Date:   2021-02-27 06:43:47 +0800

    [Hudi-1583]: Fix bug that Hudi will skip remaining log files if there is logFile with zero size in logFileList when merge on read. (#2584)
    
    Co-authored-by: liulietong <liulietong@bytedance.com>

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java

commit 022df0d1b134422f7b6f305cd7ec04b25caa23f0
Author: Prashant Wason <pwason@uber.com>
Date:   2021-02-25 16:52:28 -0800

    [HUDI-1611] Added a configuration to allow specific directories to be filtered out during Metadata Table bootstrap. (#2565)

6	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
17	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
15	0	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java

commit 9f5e8cc7c3789fd3658f52f960fb5cbc8e4efce9
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-02-25 19:50:18 -0500

    Fixing README for hudi test suite long running job (#2578)

58	34	hudi-integ-test/README.md

commit 8c2197ae5e9c139e488a33f5a507b79bfa2f6f27
Author: liujinhui <965147871@qq.com>
Date:   2021-02-25 23:09:32 +0800

    [HUDI-1269] Make whether the failure of connect hive affects hudi ingest process configurable (#2443)
    
    Co-authored-by: Sivabalan Narayanan <sivabala@uber.com>

2	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
2	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
4	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
45	29	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
22	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit 617cc24ad1a28196b872df5663e9e0f48cd7f0fa
Author: liujinhui <965147871@qq.com>
Date:   2021-02-25 20:08:13 +0800

    [HUDI-1367] Make deltaStreamer transition from dfsSouce to kafkasouce (#2227)
    
    
    Co-authored-by: Sivabalan Narayanan <sivabala@uber.com>

45	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
141	10	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
13	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
13	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 06dc7c7fd8a867a1e1da90f7dc19b0cc2da69bba
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-02-25 14:33:21 +0800

    [HUDI-1638] Some improvements to BucketAssignFunction (#2600)
    
    - The #initializeState executes before #open, thus, the
      #checkPartitionsLoaded may see null `initialPartitionsToLoad`
      - Only load the existing partitions

25	14	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java

commit 97864a48c1979ca2b3f0579cf26bba81fba7e46c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-02-25 10:21:27 +0800

    [HUDI-1637] Avoid to rename for bucket update when there is only one flush action during a checkpoint (#2599)
    
    Some of the object storages do not have strong read-after-write
    consistency, we should promote to remove the rename operations in the
    future.

8	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java

commit 77ba561a6bacbf9e7dc9c1582eb068f7ad800cd9
Author: hj2016 <hj3245459@163.com>
Date:   2021-02-24 09:56:58 +0800

    [HUDI-1347] Fix Hbase index to make rollback synchronous (via config) (#2188)
    
    
    Co-authored-by: huangjing <huangjing@clinbrain.com>
    Co-authored-by: Sivabalan Narayanan <sivabala@uber.com>

14	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
74	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
71	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java

commit ab9933f20606d0b35d32ae1e971d5fa370012647
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-02-23 16:52:41 -0800

    [HUDI-1620] Add azure pipelines configs (#2582)

165	0	azure-pipelines.yml
34	0	pom.xml

commit 3b8d0f3b1f368af8d3a38027d2ac82662ff9779f
Author: Ankush Kanungo <40214578+akanungoz@users.noreply.github.com>
Date:   2021-02-23 10:35:14 -0800

    [MINOR] hive sync checks for table after creating db if auto create is true (#2591)

3	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java

commit d2f360f5dd80ff7f85a18225d68d684f071cc734
Author: Prashant Wason <pwason@uber.com>
Date:   2021-02-23 08:05:59 -0800

    [MINOR] Ensure directory exists before listing all marker files. (#2594)

6	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java

commit 2efd0760acb5de06adc0f0a4a045df792ff3b6ab
Author: Shen Hong <shenh062326@126.com>
Date:   2021-02-23 20:50:55 +0800

    [HUDI-1477] Support copyOnWriteTable in java client (#2382)

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
13	0	hudi-client/hudi-java-client/pom.xml
41	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaBulkInsertInternalPartitionerFactory.java
67	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaGlobalSortPartitioner.java
46	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaNonSortPartitioner.java
21	7	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
11	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
67	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertCommitActionExecutor.java
113	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java
63	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertPreppedCommitActionExecutor.java
79	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteCommitActionExecutor.java
63	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteTableCommitActionExecutor.java
66	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/restore/JavaCopyOnWriteRestoreActionExecutor.java
72	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaCopyOnWriteRollbackActionExecutor.java
237	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaListingBasedRollbackHelper.java
76	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaMarkerBasedRollbackStrategy.java
479	0	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java
128	0	hudi-client/hudi-java-client/src/test/resources/testDataGeneratorSchema.txt
1	1	hudi-common/src/main/java/org/apache/hudi/common/engine/EngineType.java

commit 3ceb1b4c83d4e004c9b397bd05600c2aaf86196d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-02-23 13:37:44 +0800

    [HUDI-1624] The state based index should bootstrap from existing base files (#2581)

27	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
2	3	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
143	9	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java
4	0	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigner.java
71	0	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteFunctionTest.java
1	1	hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockFunctionInitializationContext.java
13	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java

commit 43a0776c7c88a5f7beac6c8853db7e341810635a
Author: ZhangChaoMing <72908278+ZhangChaoming@users.noreply.github.com>
Date:   2021-02-21 11:54:04 +0800

    [HUDI-1586] [Common Core] [Flink Integration] Reduce the coupling of hadoop. (#2540)
    
    
    Co-authored-by: zhangchaoming <zhangchaoming@360.com>

2	0	hudi-common/pom.xml
2	5	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
4	39	hudi-flink/pom.xml

commit ffcfb58bacab377bc72d20041baa54a3fd8fc812
Author: n3nash <nagarwal@uber.com>
Date:   2021-02-19 20:12:22 -0800

    [HUDI-1486] Remove inline inflight rollback in hoodie writer (#2359)
    
    1. Refactor rollback and move cleaning failed commits logic into cleaner
    2. Introduce hoodie heartbeat to ascertain failed commits
    3. Fix test cases

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
5	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
8	0	hudi-client/hudi-client-common/pom.xml
8	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
72	53	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
102	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HeartbeatUtils.java
289	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HoodieHeartbeatClient.java
11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
39	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
15	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
31	16	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointHelpers.java
93	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/heartbeat/TestHoodieHeartbeatClient.java
4	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
6	0	hudi-client/hudi-spark-client/pom.xml
9	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
13	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
222	26	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
17	17	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
10	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
2	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
189	12	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
9	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
10	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java
5	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
31	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
2	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java
43	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFailedWritesCleaningPolicy.java
13	5	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
17	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
1	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
6	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
7	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
36	0	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
50	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieHeartbeatException.java
45	18	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
31	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
1	1	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
15	7	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
18	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
3	9	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
12	14	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
10	0	pom.xml

commit c9fcf964b2bae56a54cb72951c8d8999eb323ed6
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-02-19 20:54:26 -0500

    [HUDI-1315] Adding builder for HoodieTableMetaClient initialization (#2534)

2	2	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
4	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java
2	2	hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
4	7	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
4	7	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
4	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java
6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
5	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
8	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
13	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
18	18	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java
59	24	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
4	3	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/CompactionTestUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
3	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java
3	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java
3	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java
1	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
4	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
1	1	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
1	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
4	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
2	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
1	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
2	2	hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java
8	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
6	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
1	1	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckpointFromAnotherHoodieTimelineProvider.java
1	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
10	10	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 0d91c451b0e823162c261ec09fed9b5f4748d9e6
Author: satishkotha <satishkotha@uber.com>
Date:   2021-02-19 15:45:43 -0800

    [HUDI-1539] Fix bug in HoodieCombineRealtimeRecordReader with reading empty iterators (#2583)

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java

commit b0010bf3b449a9d2e01955b0746b795e22e577db
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date:   2021-02-17 17:34:15 -0800

    [HUDI-1582] Throw an exception when syncHoodieTable() fails, with RuntimeException (#2536)

1	1	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java
2	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java

commit 9431aabfab47a3b679bd6ccfa8b5fa584260fc9e
Author: Karl_Wang <wskqing@gmail.com>
Date:   2021-02-17 23:44:53 +0800

    [HUDI-1381] Schedule compaction based on time elapsed (#2260)
    
    - introduce configs to control how compaction is triggered
    - Compaction can be triggered using time, number of delta commits and/or combinations
    - Default behaviour remains the same.

20	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
9	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
30	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/CompactionTriggerStrategy.java
81	22	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java
169	17	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java
9	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
30	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieCompactException.java

commit c4bbcb7f0e83732b63ed7bb81c20470ae8d9a0dc
Author: lamber-ken <lamberken@163.com>
Date:   2021-02-17 20:04:38 +0800

    [HUDI-1621] Gets the parallelism from context when init StreamWriteOperatorCoordinator (#2579)

4	4	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java
2	5	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorFactory.java
1	1	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java
1	1	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java
2	2	hudi-flink/src/test/resources/log4j-surefire.properties

commit 37972071ff4d1912ea58834061abf95fc499739d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-02-17 19:36:29 +0800

    [HUDI-1109] Support Spark Structured Streaming read from Hudi table (#2485)

3	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/{SparkRowDeserializer.java => SparkRowSerDe.java}
19	0	hudi-spark-datasource/hudi-spark/pom.xml
35	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
6	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
69	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieSourceOffset.scala
197	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala
154	0	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala
6	3	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/hudi/{Spark2RowDeserializer.scala => Spark2RowSerDe.scala}
7	3	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/{Spark3RowDeserializer.scala => Spark3RowSerDe.scala}
21	0	pom.xml

commit 5d2491d10c70e4e5fc9b7aeb62cc64bcaaf6043f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-02-17 15:24:50 +0800

    [HUDI-1598] Write as minor batches during one checkpoint interval for the new writer (#2553)

5	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
21	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
42	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
8	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/{FlinkCreateHandleFactory.java => ExplicitCreateHandleFactory.java}
148	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java
202	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java
30	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/MiniBatchHandle.java
128	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/ExplicitWriteHandleTable.java
109	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
31	8	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
7	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteCommitActionExecutor.java
3	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertCommitActionExecutor.java
3	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertPreppedCommitActionExecutor.java
6	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
3	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertCommitActionExecutor.java
3	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertPreppedCommitActionExecutor.java
6	0	hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java
9	1	hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java
93	21	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java
49	27	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java
49	2	hudi-flink/src/main/java/org/apache/hudi/operator/event/BatchWriteSuccessEvent.java
2	1	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java
7	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
92	10	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteFunctionTest.java
39	5	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteOperatorCoordinatorTest.java
8	1	hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java

commit 302bd29dab2866e07eb71823e4142f2da9addbb4
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-02-13 23:39:14 +0800

    [MINOR] Add clustering to feature list (#2568)

1	0	README.md

commit 527175ab0be59d15f035a09a0466bfeca9abfb23
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-02-12 23:52:03 -0800

    [MINOR] Default to empty list for unset datadog tags property (#2574)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
39	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestHoodieMetricsDatadogConfig.java

commit d5f202821b11659693a2e934d4b8f4c99f19755e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-02-12 12:29:21 -0500

    Adding fixes to test suite framework. Adding clustering node and validate async operations node. (#2400)

22	8	docker/demo/config/test-suite/complex-dag-cow.yaml
28	63	docker/demo/config/test-suite/complex-dag-mor.yaml
76	0	docker/demo/config/test-suite/cow-clustering-example.yaml
30	9	docker/demo/config/test-suite/cow-long-running-example.yaml
89	0	docker/demo/config/test-suite/cow-long-running-multi-partitions.yaml
4	0	docker/demo/config/test-suite/test.properties
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
11	0	hudi-integ-test/pom.xml
1	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
32	7	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
20	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/ExecutionContext.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CleanNode.java
48	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ClusteringNode.java
2	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java
2	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DelayNode.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java
2	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/SparkSQLQueryNode.java
124	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateAsyncOperations.java
14	12	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java
2	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateNode.java
5	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
5	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	0	packaging/hudi-integ-test-bundle/pom.xml

commit ff0e3f5669f1a70cbe9d302e8b1e6a5dbc801b25
Author: lamber-ken <lamberken@163.com>
Date:   2021-02-11 23:37:19 +0800

    [HUDI-1612] Fix write test flakiness in StreamWriteITCase (#2567)
    
    * [HUDI-1612] Fix write test flakiness in StreamWriteITCase

9	7	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java
54	2	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java

commit 26da4f546275e8ab6496537743efe73510cb723d
Author: teeyog <teeyog@gmail.com>
Date:   2021-02-11 01:07:54 +0800

    [HUDI-1526] Translate the api partitionBy in spark datasource to hoodie.datasource.write.partitionpath.field (#2431)

39	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
15	5	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
154	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit a2f85d90de73a58e924b4de757d09d6133b046a4
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-02-10 02:33:34 +0800

    [MINOR] Fix the wrong comment for HoodieJavaWriteClientExample (#2559)

3	3	hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java

commit 7a98b1c878e330e53e53ddd1b9161c8669806efa
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-02-09 23:53:45 +0800

    [HUDI-1603] fix DefaultHoodieRecordPayload serialization failure (#2556)

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java

commit c30481f4b0d7552a5ac73bb9955f6326f90ba329
Author: Sun Ke <sunke3296@163.com>
Date:   2021-02-08 13:47:01 +0800

    [HUDI-1545] Add test cases for INSERT_OVERWRITE Operation (#2483)
    
    Co-authored-by: sunke.03 <sunke.03@bytedance.com>

90	10	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit 4c5b6923ccfaaa6616a934a3f690b1a795a42d41
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-02-06 22:03:52 +0800

    [HUDI-1557] Make Flink write pipeline write task scalable (#2506)
    
    This is the #step 2 of RFC-24:
    https://cwiki.apache.org/confluence/display/HUDI/RFC+-+24%3A+Hoodie+Flink+Writer+Proposal
    
    This PR introduce a BucketAssigner that assigns bucket ID (partition
    path & fileID) for each stream record.
    
    There is no need to look up index and partition the records anymore in
    the following pipeline for these records,
    we actually decide the write target location before the write and each
    record computes its location when the BucketAssigner receives it, thus,
    the indexing is with streaming style.
    
    Computing locations for a batch of records all at a time is resource
    consuming so a pressure to the engine,
    we should avoid that in streaming system.

7	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadStat.java
38	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketInfo.java
13	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
3	37	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java
41	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandleFactory.java
57	142	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
42	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
2	8	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
2	8	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
2	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
2	16	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java
36	14	hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java
31	55	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java
2	3	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperator.java
4	28	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java
1	3	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorFactory.java
149	0	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java
326	0	hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigner.java
108	0	hudi-flink/src/main/java/org/apache/hudi/operator/transform/RowDataToHoodieFunction.java
1	2	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
17	2	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
17	11	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java
43	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
51	14	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteFunctionTest.java
105	14	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java
235	0	hudi-flink/src/test/java/org/apache/hudi/operator/partitioner/TestBucketAssigner.java
55	19	hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java
13	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java
26	2	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java

commit 291f92069eee7bbff5e192d7ea6576a25a8c400c
Author: ZhangChaoMing <72908278+ZhangChaoming@users.noreply.github.com>
Date:   2021-02-06 16:40:31 +0800

    [MINOR] Fix wrong logic for checking state condition (#2524)

1	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit b2c47a24be53016d1c9220cb98d9fb7cd587e748
Author: n3nash <nagarwal@uber.com>
Date:   2021-02-05 16:03:34 -0800

    [HUDI-1589] Fix Rollback Metadata AVRO backwards incompatiblity (#2543)

4	4	hudi-common/src/main/avro/HoodieRollbackMetadata.avsc

commit b5d4a046bb4d4addc9675a802d5e9c2ecf42445a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-02-05 07:53:24 -0500

    [HUDI-1571] Adding commit_show_records_info to display record sizes for commit (#2514)

3	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
39	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java

commit b51b3a39a81848e6fcb5bf7a2480769a012a4339
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date:   2021-02-05 16:24:35 +0800

    [HUDI-1420] HoodieTableMetaClient.getMarkerFolderPath works incorrectly on windows client with hdfs server for wrong file seperator (#2526)
    
    * Fix HUDI-1420
    
    FIX https://issues.apache.org/jira/browse/HUDI-1420
    
    * fix(hudi-common): fix HUDI-1420 HoodieTableMetaClient.getMarkerFolderPath works incorrectly on windows client with hdfs server for wrong file seperator
    
    Co-authored-by: –ª≤® <xiebo1@yonghui.cn>

12	13	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java

commit 4a5683d54a3910e1c860f26b291e1e99931b5949
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-02-04 08:43:03 -0500

    [MINOR] Fixing the default value for source ordering field for payload config (#2516)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java

commit 647e9faf255b9ae5796f513d13c769a8c87788d4
Author: wangxianghu <wxhjsxz@126.com>
Date:   2021-02-04 11:20:01 +0800

    [HUDI-1547] CI intermittent failure: TestJsonStringToHoodieRecordMapF°≠ (#2521)

1	3	hudi-flink/src/test/java/org/apache/hudi/source/TestJsonStringToHoodieRecordMapFunction.java

commit 17802569fd64d865317353b3d855a68a6b3874bd
Author: Volodymyr Burenin <vburenin@gmail.com>
Date:   2021-02-03 14:29:08 -0600

    [HUDI-1538] Try to init class trying different signatures instead of checking its name (#2476)
    
    * [HUDI-1538] Try to init class trying different signatures instead of checking its name.
    
    * Removed unused imports
    
    Co-authored-by: volodymyr.burenin <volodymyr.burenin@cloudkitchens.com>

12	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit eb91e5ba7006ec9297fbc17658ee951afeb903f1
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-02-03 09:02:37 -0500

    [HUDI-1523] Call mkdir(partition) only if not exists (#2501)

3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java
3	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java

commit d74d8e208439df8cb2eb6c24019be55c002d00a5
Author: wangxianghu <wxhjsxz@126.com>
Date:   2021-02-03 08:59:49 +0800

    [HUDI-1335] Introduce FlinkHoodieSimpleIndex to hudi-flink-client (#2271)

3	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java
142	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/simple/FlinkHoodieSimpleIndex.java

commit 50ff9ab2d2d4fe217fb1ac540d96bddd07c2f6f8
Author: vinoyang <yanghua1127@gmail.com>
Date:   2021-02-03 01:15:53 +0800

    [MINOR] Rename FileSystemViewHandler to RequestHandler and corrected the class comment (#2458)

4	4	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/{FileSystemViewHandler.java => RequestHandler.java}
2	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java

commit ec950b4cfe0e86d4e06b7b80d595510540768fdb
Author: jackiehff <hffwustnetwork@gmail.com>
Date:   2021-02-02 19:23:29 +0800

    [MINOR] Fix method comment typo (#2518)
    
    Co-authored-by: ª∆∑…∑… <huangfeifei@mininglamp.com>

1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java

commit 0d8a4d0a56dcb35e499216c7bfab17a05716bc44
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2021-02-01 21:04:27 +0800

    [HUDI-1550] Honor ordering field for MOR Spark datasource reader (#2497)

6	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
41	5	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
2	0	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
17	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
3	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
12	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
15	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
42	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit f159c0c49a7bad564f1fb6ba2758e4b89db4704a
Author: steven zhang <stevenz1985@outlook.com>
Date:   2021-02-01 20:51:57 +0800

    [HUDI-1519] Improve minKey/maxKey computation in HoodieHFileWriter (#2427)
    
    Co-authored-by: zhang wen <steven@stevendeMac-mini.local>

2	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java

commit 5d053b495b8cb44cce88a67e82cbdfdc3d8b3180
Author: jiangjiguang <jiangjiguang719@163.com>
Date:   2021-01-30 10:28:00 +0800

    [MINOR] Quickstart.generateUpdates method add check (#2505)

12	9	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
45	0	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestQuickstartUtils.java

commit 9cb6cb818968d3ef10b3264714e30b8df957ec9d
Author: satishkotha <satishkotha@uber.com>
Date:   2021-01-29 10:28:08 -0800

    [HUDI-1266] Add unit test for validating replacecommit rollback (#2418)

61	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java
20	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java

commit 2d2d5c83b1ca33ad413746987c4aa816dd43520d
Author: satishkotha <satishkotha@uber.com>
Date:   2021-01-29 10:27:09 -0800

    [HUDI-1555] Remove isEmpty to improve clustering execution performance (#2502)

9	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java
3	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
21	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
6	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
15	8	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala

commit 23f2ef3efbea5e9a686bac195cdf97605f20d91d
Author: wangxianghu <wxhjsxz@126.com>
Date:   2021-01-29 09:48:50 +0800

    [HUDI-623] Remove UpgradePayloadFromUberToApache (#2455)

0	118	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java

commit bc0325f6ea0a734f106f21a2fcd4ead413a6cf7b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2021-01-28 08:53:13 +0800

    [HUDI-1522] Add a new pipeline for Flink writer (#2430)
    
    * [HUDI-1522] Add a new pipeline for Flink writer

34	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
1	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java
2	2	hudi-common/src/main/avro/HoodieRollbackMetadata.avsc
6	5	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
8	1	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
69	34	hudi-flink/pom.xml
0	198	hudi-flink/src/main/java/org/apache/hudi/HoodieFlinkStreamer.java
249	0	hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java
5	5	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java
3	3	hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java
313	0	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java
52	0	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperator.java
419	0	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java
77	0	hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorFactory.java
57	0	hudi-flink/src/main/java/org/apache/hudi/operator/event/BatchWriteSuccessEvent.java
13	4	hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java
0	8	hudi-flink/src/main/java/org/apache/hudi/schema/SchemaProvider.java
3	3	hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java
2	2	hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java
124	0	hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java
105	0	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java
102	0	hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java
34	0	hudi-flink/src/main/java/org/apache/hudi/streamer/OperationConverter.java
147	0	hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java
309	0	hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java
139	28	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
303	0	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteFunctionTest.java
129	0	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java
101	0	hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteOperatorCoordinatorTest.java
48	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockFunctionInitializationContext.java
90	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockMapState.java
141	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockOperatorStateStore.java
124	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockStreamingRuntimeContext.java
122	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java
59	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java
164	0	hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java
1	1	hudi-flink/src/test/java/org/apache/hudi/source/TestJsonStringToHoodieRecordMapFunction.java
45	0	hudi-flink/src/test/resources/test_read_schema.avsc
8	0	hudi-flink/src/test/resources/test_source.data

commit 7b2e658ac00410b2a20dd456e431394a75dcb0d3
Author: wangxianghu <wxhjsxz@126.com>
Date:   2021-01-28 08:48:42 +0800

    [MINOR] Add Jira URL and Mailing List (#2404)

26	0	pom.xml

commit 2ee1c3fb0cb9740dc6d924f5e6e638aec19ed9b3
Author: SteNicholas <programgeek@163.com>
Date:   2021-01-28 02:09:51 +0800

    [HUDI-1234] Insert new records to data files without merging for "Insert" operation.  (#2111)
    
    * Added HoodieConcatHandle to skip merging for "insert" operation when the corresponding config is set
    
    Co-authored-by: Sivabalan Narayanan <sivabala@uber.com>

15	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
31	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
94	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieConcatHandle.java
17	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadProfile.java
4	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
104	20	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java

commit a54550d94f2973f5e6c73ce4c3bb9eaba8aff711
Author: luokey <854194341@qq.com>
Date:   2021-01-27 21:00:20 +0800

    [MINOR]Fix NPE when using HoodieFlinkStreamer with multi parallelism (#2492)

1	1	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java

commit c8ee40f8ae34607072a27d4e7ccb21fc4df13ca1
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-01-26 09:28:22 -0800

    [MINOR] Update doap with 0.7.0 release (#2491)

5	0	doap_HUDI.rdf

commit c4afd179c1983a382b8a5197d800b0f5dba254de
Author: Shen Hong <shenh062326@126.com>
Date:   2021-01-25 03:17:19 +0800

    [HUDI-1476] Introduce unit test infra for java client (#2478)

0	0	hudi-client/{hudi-spark-client => hudi-client-common}/src/test/java/org/apache/hudi/testutils/Assertions.java
0	0	hudi-client/{hudi-spark-client => hudi-client-common}/src/test/java/org/apache/hudi/testutils/MetadataMergeWriteStatus.java
6	0	hudi-client/hudi-java-client/pom.xml
48	0	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/testutils/HoodieJavaClientTestBase.java
242	0	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/testutils/HoodieJavaClientTestHarness.java

commit 81836f0309b293892a3013017dbd90c93dbf3df9
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-01-24 07:42:52 -0800

    Removing spring repos from pom (#2481)
    
    - These are being deprecated
    - Causes build issues when .m2 does not have this cached already

0	8	pom.xml

commit 84df26323d2bb2ad36beb6228f70a60e21e7a57f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2021-01-24 05:36:41 -0800

    [MINOR] Use skipTests flag for skip.hudi-spark2.unit.tests property (#2477)

1	1	pom.xml

commit e302c6bc12c7eb764781898fdee8ee302ef4ec10
Author: wangxianghu <wxhjsxz@126.com>
Date:   2021-01-23 10:27:40 +0800

    [HUDI-1453] Fix NPE using HoodieFlinkStreamer to etl data from kafka to hudi (#2474)

1	1	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java

commit d3ea0f957e231029c5c21ac479039159aa499cb4
Author: wangxianghu <wxhjsxz@126.com>
Date:   2021-01-23 02:55:46 +0800

    [HOTFIX] Revert upgrade flink verison to 1.12.0 (#2473)

7	0	packaging/hudi-flink-bundle/pom.xml
1	1	pom.xml

commit 048633da1a913a05252b1b5dea0b3d40d75c81b4
Author: cooper <1322849632@qq.com>
Date:   2021-01-22 13:47:14 +0800

    [MINOR] Improve code readability,remove the continue keyword (#2459)

0	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSDeltaInputReader.java

commit 748dcc9aae88d8d8b7d4fb70341c78d02b9ab5fb
Author: wangxianghu <wxhjsxz@126.com>
Date:   2021-01-22 13:46:25 +0800

    [MINOR] Remove InstantGeneratorOperator parallelism limit in HoodieFlinkStreamer and update docs (#2471)

1	2	hudi-flink/src/main/java/org/apache/hudi/HoodieFlinkStreamer.java
6	7	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java

commit 641abe8ab7c1c4d9915c6582389476fa5f7ae067
Author: Xiang Yang <csu_yang@126.com>
Date:   2021-01-22 10:36:28 +0800

    [HUDI-1332] Introduce FlinkHoodieBloomIndex to hudi-flink-client (#2375)
    
    * [HUDI] Add bloom index for hudi-flink-client
    
    Co-authored-by: yangxiang <yangxiang@oppo.com>

3	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java
267	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/FlinkHoodieBloomIndex.java
127	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/HoodieFlinkBloomIndexCheckFunction.java
31	0	hudi-client/hudi-flink-client/src/main/resources/log4j-surefire.properties
469	0	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java
94	0	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java
136	0	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java

commit b64d22e0478b967c83be22509beaaf8c5f114e19
Author: luokey <854194341@qq.com>
Date:   2021-01-22 09:17:50 +0800

    [HUDI-1511] InstantGenerateOperator support multiple parallelism (#2434)

123	47	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java

commit 976420c49a3fe764f7cecd30b6cdb32861be5537
Author: wenningd <wenningding95@gmail.com>
Date:   2021-01-21 07:04:28 -0800

    [HUDI-1512] Fix spark 2 unit tests failure with Spark 3 (#2412)
    
    * [HUDI-1512] Fix spark 2 unit tests failure with Spark 3
    
    * resolve comments
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

8	1	hudi-spark-datasource/hudi-spark2/pom.xml
6	3	pom.xml

commit 81ccb0c71ad2c17c5613698d4fb50f3b49b21fb4
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-01-20 21:46:05 -0800

    [MINOR] Make a separate travis CI job for hudi-utilities (#2469)

4	2	.travis.yml

commit 5e30fc1b2b3c3a2c0b08640ff800ba4f801c0623
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-01-20 14:24:34 -0800

    [MINOR] Disabling problematic tests temporarily to stabilize CI (#2468)

2	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
2	0	hudi-flink/src/test/java/org/apache/hudi/source/TestJsonStringToHoodieRecordMapFunction.java

commit 3719e7b3883cc3656b30d4aeac619fb42790d47b
Author: Vinoth Chandar <vinoth@apache.org>
Date:   2021-01-20 11:31:22 -0800

    Moving to 0.8.0-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hudi-cli/pom.xml
2	2	hudi-client/hudi-client-common/pom.xml
2	2	hudi-client/hudi-flink-client/pom.xml
2	2	hudi-client/hudi-java-client/pom.xml
2	2	hudi-client/hudi-spark-client/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-examples/pom.xml
1	1	hudi-flink/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-integ-test/pom.xml
2	2	hudi-spark-datasource/hudi-spark-common/pom.xml
2	2	hudi-spark-datasource/hudi-spark/pom.xml
2	2	hudi-spark-datasource/hudi-spark2/pom.xml
2	2	hudi-spark-datasource/hudi-spark3/pom.xml
1	1	hudi-spark-datasource/pom.xml
1	1	hudi-sync/hudi-dla-sync/pom.xml
1	1	hudi-sync/hudi-hive-sync/pom.xml
1	1	hudi-sync/hudi-sync-common/pom.xml
1	1	hudi-sync/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-flink-bundle/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-sync-bundle/pom.xml
1	1	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit 244f6def9c905382739e76cb8ad0feaa6801a311
Author: liujinhui <965147871@qq.com>
Date:   2021-01-20 22:58:18 +0800

    [MINOR] Fix dataSource cannot use hoodie.datasource.hive_sync.auto_create_database (#2444)
    
    fix dataSource cannot use hoodie.datasource.hive_sync.auto_create_database

1	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit c931dc5406a808f7afc25a62d22a2ccd545eb066
Author: teeyog <teeyog@gmail.com>
Date:   2021-01-20 20:41:09 +0800

    [MINOR] Remove redundant judgments (#2466)

1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java

commit 5ca0625b277efa3a73d2ae0fbdfa4c6163f312d2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-01-19 21:20:28 -0800

    [HUDI 1308] Harden RFC-15 Implementation based on production testing (#2441)
    
    Addresses leaks, perf degradation observed during testing. These were regressions from the original rfc-15 PoC implementation.
    
    * Pass a single instance of HoodieTableMetadata everywhere
    * Fix tests and add config for enabling metrics
     - Removed special casing of assumeDatePartitioning inside FSUtils#getAllPartitionPaths()
     - Consequently, IOException is never thrown and many files had to be adjusted
    - More diligent handling of open file handles in metadata table
     - Added config for controlling reuse of connections
     - Added config for turning off fallback to listing, so we can see tests fail
     - Changed all ipf listing code to cache/amortize the open/close for better performance
     - Timelineserver also reuses connections, for better performance
     - Without timelineserver, when metadata table is opened from executors, reuse is not allowed
     - HoodieMetadataConfig passed into HoodieTableMetadata#create as argument.
     -  Fix TestHoodieBackedTableMetadata#testSync

7	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java
11	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
12	21	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
22	13	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java
24	42	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
17	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java
8	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
32	40	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
5	11	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
1	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java
1	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
7	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	9	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java
3	10	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java
0	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
7	16	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java
1	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java
1	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
24	11	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
19	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
3	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
81	1	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
23	7	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
26	0	hudi-common/src/main/java/org/apache/hudi/common/function/SerializableSupplier.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/metrics/Metric.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
49	31	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
25	15	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
71	64	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
5	0	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
98	69	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
18	8	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
7	8	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
17	17	hudi-common/src/main/java/org/apache/hudi/metadata/{HoodieMetadataMergedInstantRecordScanner.java => TimelineMergedTableMetadata.java}
2	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java
2	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
18	14	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
44	32	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
22	27	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
1	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
6	6	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
6	12	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
9	3	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
6	2	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java

commit e23967b9e9fcc95dbe71369098c8d12cba90eb95
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-01-20 00:00:13 -0500

    [HUDI-1540] Fixing commons codec shading in spark bundle (#2460)

4	0	packaging/hudi-spark-bundle/pom.xml

commit 91b9cb53d35e315668f4f82029a34f2b69d01d73
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-01-19 18:16:25 -0500

    [MINOR] Fixing setting defaults for index config (#2457)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java

commit b9c2856d164c58075a2a0f88ed07fb00d24f65e5
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-01-19 15:20:43 -0500

    [HUDI-1535] Fix 0.7.0 snapshot (#2456)
    
    * Revert "[MINOR] Bumping snapshot version to 0.7.0 (#2435)"
    
    This reverts commit a43e191d6cd91f8fb787fc1fc99ec12218195313.
    
    * Fixing 0.7.0 snapshot bump

1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	3	docker/hoodie/hadoop/prestobase/pom.xml
2	3	hudi-client/hudi-client-common/pom.xml
2	3	hudi-client/hudi-flink-client/pom.xml
2	3	hudi-client/hudi-java-client/pom.xml
2	3	hudi-client/hudi-spark-client/pom.xml
1	2	hudi-flink/pom.xml
1	1	hudi-spark-datasource/hudi-spark-common/pom.xml
1	1	hudi-spark-datasource/hudi-spark/pom.xml
1	1	hudi-spark-datasource/hudi-spark2/pom.xml
1	1	hudi-spark-datasource/hudi-spark3/pom.xml
1	2	packaging/hudi-flink-bundle/pom.xml
1	2	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
2	2	packaging/hudi-spark-bundle/pom.xml
1	3	packaging/hudi-timeline-server-bundle/pom.xml
1	2	packaging/hudi-utilities-bundle/pom.xml
3	3	pom.xml

commit a38612b10f6ae04644519270f9b5eb631a77c148
Author: Volodymyr Burenin <vburenin@gmail.com>
Date:   2021-01-19 01:07:27 -0600

    [HUDI-1532] Fixed suboptimal implementation of a magic sequence search  (#2440)
    
    * Fixed suboptimal implementation of a magic sequence search on GCS.
    
    * Fix comparison.
    
    * Added buffered reader around plugged storage plugin such as GCS.
    
    * 1. Corrected some comments 2. Refactored GCS input stream check
    
    Co-authored-by: volodymyr.burenin <volodymyr.burenin@cloudkitchens.com>
    Co-authored-by: Nishith Agarwal <nagarwal@uber.com>

10	12	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
21	9	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java

commit 684e12e9fcfa45c6ac922a84fb3116ac8142bc18
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-01-18 07:29:53 -0800

    [HUDI-1529] Add block size to the FileStatus objects returned from metadata table to avoid too many file splits (#2451)

8	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
7	3	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java

commit 3d1d5d00b00987e0c04e4ff4692fc50d1be85922
Author: satishkotha <satishkotha@uber.com>
Date:   2021-01-17 12:36:55 -0800

    [HUDI-1533] Make SerializableSchema work for large schemas and add ability to sortBy numeric values (#2453)

12	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java
7	2	hudi-common/src/main/java/org/apache/hudi/common/config/SerializableSchema.java
21	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializableSchema.java

commit a43e191d6cd91f8fb787fc1fc99ec12218195313
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-01-16 09:56:28 -0500

    [MINOR] Bumping snapshot version to 0.7.0 (#2435)

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hudi-cli/pom.xml
1	1	hudi-client/hudi-client-common/pom.xml
1	1	hudi-client/hudi-flink-client/pom.xml
1	1	hudi-client/hudi-java-client/pom.xml
1	1	hudi-client/hudi-spark-client/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-examples/pom.xml
1	1	hudi-flink/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-integ-test/pom.xml
1	1	hudi-spark-datasource/hudi-spark-common/pom.xml
1	1	hudi-spark-datasource/hudi-spark/pom.xml
1	1	hudi-spark-datasource/hudi-spark2/pom.xml
1	1	hudi-spark-datasource/hudi-spark3/pom.xml
1	1	hudi-spark-datasource/pom.xml
1	1	hudi-sync/hudi-dla-sync/pom.xml
1	1	hudi-sync/hudi-hive-sync/pom.xml
1	1	hudi-sync/hudi-sync-common/pom.xml
1	1	hudi-sync/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-flink-bundle/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-sync-bundle/pom.xml
1	1	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit 749f6578561cbf065c7f74ab51b1c01881a1bd97
Author: n3nash <nagarwal@uber.com>
Date:   2021-01-14 12:47:50 -0800

    [HUDI-1509]: Reverting LinkedHashSet changes to combine fields from oldSchema and newSchema in favor of using only new schema for record rewriting (#2424)

1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
33	33	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java

commit e926c1a45ca95fa1911f6f88a0577554f2797760
Author: n3nash <nagarwal@uber.com>
Date:   2021-01-12 23:30:21 -0800

    HUDI-1525 fix test hbase index (#2436)

1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java

commit e3d3677b7e7899705b624925666317f0c074f7c7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-01-11 16:23:13 -0500

    [HUDI-1502] MOR rollback and restore support for metadata sync (#2421)
    
    - Adds field to RollbackMetadata that capture the logs written for rollback blocks
    - Adds field to RollbackMetadata that capture new logs files written by unsynced deltacommits
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
18	8	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseMergeOnReadRollbackActionExecutor.java
4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
17	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
14	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java
26	17	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
93	37	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java
11	5	hudi-common/src/main/avro/HoodieRollbackMetadata.avsc
18	2	hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java
9	4	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
15	13	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java
26	8	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
14	13	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java

commit de42adc2302528541145a714078cc6d10cbb8d9a
Author: lw0090 <lw309637554@gmail.com>
Date:   2021-01-12 01:07:47 +0800

    [HUDI-1520] add configure for spark sql overwrite use INSERT_OVERWRITE_TABLE (#2428)

6	7	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
0	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 7ce3ac778eb475bf23ffa31243dc0843ec7d089a
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-01-10 21:19:52 -0800

    [HUDI-1479] Use HoodieEngineContext to parallelize fetching of partiton paths (#2417)
    
    * [HUDI-1479] Use HoodieEngineContext to parallelize fetching of partition paths
    
    * Adding testClass for FileSystemBackedTableMetadata
    
    Co-authored-by: Nishith Agarwal <nagarwal@uber.com>

3	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
3	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
13	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
4	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
20	16	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
1	4	hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java
90	0	hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java
45	0	hudi-common/src/main/java/org/apache/hudi/common/engine/LocalTaskContextSupplier.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
13	5	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
53	5	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
9	7	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
5	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
12	5	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
174	0	hudi-common/src/test/java/org/apache/hudi/metadata/TestFileSystemBackedTableMetadata.java
4	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
4	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
4	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
3	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
6	6	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
0	3	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
5	1	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
4	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
5	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java

commit 23e93d05c02775b0c518a2da160810b23bb4bca4
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-01-10 13:08:55 +0800

    [MINOR] fix spark 3 build for incremental query on MOR (#2425)

3	6	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala

commit 368c1a8f5c36d06ed49706b4afde4a83073a9011
Author: lw0090 <lw309637554@gmail.com>
Date:   2021-01-10 09:30:16 +0800

    [HUDI-1399] support a independent clustering spark job to asynchronously clustering (#2379)
    
    * [HUDI-1481]  add  structured streaming and delta streamer clustering unit test
    
    * [HUDI-1399] support a independent clustering spark job to asynchronously clustering
    
    * [HUDI-1399]  support a  independent clustering spark job to asynchronously clustering
    
    * [HUDI-1498] Read clustering plan from requested file for inflight instant (#2389)
    
    * [HUDI-1399]  support  a independent clustering spark job with schedule generate instant time
    
    Co-authored-by: satishkotha <satishkotha@uber.com>

19	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
12	1	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
14	13	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
170	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java
9	14	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
18	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
74	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
18	0	hudi-utilities/src/test/resources/delta-streamer-config/clusteringjob.properties

commit 65866c45ec04820b01ab701e7de5cf6a406d2a8e
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-01-09 16:53:34 -0800

    [HUDI-1276] [HUDI-1459] Make Clustering/ReplaceCommit and Metadata table be compatible (#2422)
    
    * [HUDI-1276] [HUDI-1459] Make Clustering/ReplaceCommit and Metadata table be compatible
    
    * Use filesystemview and json format from metadata. Add tests
    
    Co-authored-by: Satish Kotha <satishkotha@uber.com>

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java
56	21	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
11	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
107	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
6	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java
20	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
30	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
11	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java
7	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
7	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
5	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
15	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
10	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java

commit 79ec7b4894b997183a6e10fdc19d34f5ab4ea437
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2021-01-10 00:02:08 +0800

    [HUDI-920] Support Incremental query for MOR table (#1938)

41	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
6	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
50	10	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
3	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
218	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala
3	3	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
142	23	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 1a836f9a84f0191fe4e40017308af95d872767db
Author: puyvqi <729276581@qq.com>
Date:   2021-01-09 02:36:13 -0800

    [HUDI-1514] Avoid raw type use for parameter of Transformer interface (#2420)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java

commit c151147819abb6b4c418138d9b401f374fc021a0
Author: Trevor <wowtuanzi@gmail.com>
Date:   2021-01-09 07:57:56 +0800

    [MINOR] Sync HUDI-1196 to  FlinkWriteHelper (#2415)

2	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java

commit 17df517b812c9a37dd64014f0d5c35a3cfac0c4e
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2021-01-07 11:34:06 -0800

    [HUDI-1510] Move HoodieEngineContext and its dependencies to hudi-common (#2410)

2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/ReplaceArchivalHelper.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/FullRecordBootstrapDataProvider.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/HoodieBootstrapSchemaProvider.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/CopyOnWriteInsertHandler.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/HoodieLazyInsertIterable.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/AppendHandleFactory.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/CreateHandleFactory.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieBootstrapHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/WriteHandleFactory.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/BaseClusteringPlanActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringExecutionStrategy.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/UpdateStrategy.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractDeleteHelper.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseCopyOnWriteRollbackActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseMergeOnReadRollbackActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java
2	2	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/DummyTaskContextSupplier.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
1	1	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/providers/HoodieEngineContextProvider.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/FlinkTaskContextSupplier.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
10	7	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkCleanActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertPreppedCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertPreppedCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
10	7	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
2	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/JavaTaskContextSupplier.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/JavaLazyInsertIterable.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaInMemoryHashIndex.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaCleanActionExecutor.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteCommitActionExecutor.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertCommitActionExecutor.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertCommitActionExecutor.java
1	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncCompactService.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java
5	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkInMemoryHashIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeletePartitionCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwritePartitioner.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMergeOnReadRollbackActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
1	1	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common => hudi-common/src/main/java/org/apache/hudi/common/engine}/EngineProperty.java
1	1	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common => hudi-common/src/main/java/org/apache/hudi/common/engine}/EngineType.java
4	4	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common => hudi-common/src/main/java/org/apache/hudi/common/engine}/HoodieEngineContext.java
1	1	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common => hudi-common/src/main/java/org/apache/hudi/common/engine}/TaskContextSupplier.java
1	1	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client => hudi-common/src/main/java/org/apache/hudi}/common/function/FunctionWrapper.java
1	1	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client => hudi-common/src/main/java/org/apache/hudi}/common/function/SerializableConsumer.java
1	1	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client => hudi-common/src/main/java/org/apache/hudi}/common/function/SerializableFunction.java
1	1	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client => hudi-common/src/main/java/org/apache/hudi}/common/function/SerializablePairFunction.java
1	1	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java
1	1	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
1	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java

commit 5ff8e88d58c2a6efa1046716e11dca0d61cdf872
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2021-01-06 23:08:30 -0800

    [HUDI-1513] Introduce WriteClient#preWrite() and relocate metadata table syncing (#2413)
    
    - Syncing to metadata table, setting operation type, starting async cleaner done in preWrite()
     - Fixes an issues where delete() was not starting async cleaner correctly
     - Fixed tests and enabled metadata table for TestAsyncCompaction

14	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
0	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
3	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
5	9	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java
10	18	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
17	17	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
4	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java

commit b593f1062931a4d017ae8bd7dd42e47a8873a39f
Author: wangxianghu <wxhjsxz@126.com>
Date:   2021-01-06 23:07:24 +0800

    [MINOR] Rename unit test package of hudi-spark3 from scala to java (#2411)

0	0	hudi-spark-datasource/hudi-spark3/src/test/{scala => java}/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java
0	0	hudi-spark-datasource/hudi-spark3/src/test/{scala => java}/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java

commit 2c4868e7707bcdb2b2e1f1530c7b2b4d81584a1f
Author: satishkotha <satishkotha@uber.com>
Date:   2021-01-06 04:55:14 -0800

    [HUDI-1507] Change timeline utils to support reading replacecommit metadata (#2407)

14	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java
64	0	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java

commit da2919a75f564be6c3d731a2c503959e416ebe71
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2021-01-06 07:49:44 -0500

    [HUDI-1383] Fixing sorting of partition vals for hive sync computation (#2402)

0	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
55	11	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
20	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java

commit 47c5e518a756df815287502a50da9d73d28fc662
Author: wangxianghu <wxhjsxz@126.com>
Date:   2021-01-06 19:49:17 +0800

    [HUDI-1506] Fix wrong exception thrown in HoodieAvroUtils (#2405)

3	1	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
30	0	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java

commit 698694a1571cdcc9848fc79aa34c8cbbf9662bc4
Author: satishkotha <satishkotha@uber.com>
Date:   2021-01-04 10:36:44 -0800

    [HUDI-1498] Read clustering plan from requested file for inflight instant (#2389)

15	5	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java
13	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
16	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestClusteringUtils.java

commit 31e674eb57c7e01af783dccb01828a0b6eb2a632
Author: Vinoth Chandar <vinoth@apache.org>
Date:   2021-01-04 01:15:49 -0800

    [HUDI-1504] Allow log files generated during restore/rollback to be synced as well
    
     - TestHoodieBackedMetadata#testSync etc now run for MOR tables
     - HUDI-1502 is still pending and has issues for MOR/rollbacks
     - Also addressed bunch of code review comments.

2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java
0	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
0	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
2	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/{metrics => metadata}/SparkHoodieBackedTableMetadataWriter.java
35	44	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
9	2	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java

commit 1a0579ca7df8d3ab83775d356f34f5b432b05176
Author: rmpifer <rmpifer@umich.edu>
Date:   2020-12-29 13:09:55 -0800

    [HUDI-1312] [RFC-15] Support for metadata listing for snapshot queries through Hive/SparkSQL (#2366)
    
    Co-authored-by: Ryan Pifer <ryanpife@amazon.com>

4	8	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java
5	8	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
40	13	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
19	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java

commit 4b94529aafd45b608c6d1ab13376216144b934f6
Author: Ryan Pifer <ryanpife@amazon.com>
Date:   2020-12-31 08:57:13 -0800

    [HUDI-1325] [RFC-15] Merge updates of unsynced instants to metadata table (apache#2342)
    
    [RFC-15] Fix partition key in metadata table when bootstrapping from file system (apache#2387)
    
    Co-authored-by: Ryan Pifer <ryanpife@amazon.com>

22	234	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
6	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java
132	20	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/{TestHoodieFsMetadata.java => TestHoodieBackedMetadata.java}
6	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
6	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
293	0	hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java
15	212	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
115	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedInstantRecordScanner.java
311	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java
3	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit 2bd4a68731826698d120765c534cabe6c3069a95
Author: Prashant Wason <pwason@uber.com>
Date:   2020-12-31 01:40:12 -0800

    [HUDI-1469] Faster initialization of metadata table using parallelized listing. (#2343)
    
     * [HUDI-1469] Faster initialization of metadata table using parallelized listing which finds partitions and files in a single scan.
     * MINOR fixes
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

12	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
56	33	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java

commit 4e642268442782cdd7ad753981dd2571388cd189
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2020-12-31 01:20:02 -0800

    [HUDI-1450] Use metadata table for listing in HoodieROTablePathFilter (apache#2326)
    
    [HUDI-1394] [RFC-15] Use metadata table (if present) to get all partition paths (apache#2351)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
5	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
3	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
5	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
13	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
2	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
3	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieFsMetadata.java
6	5	{hudi-client/hudi-client-common/src/main/java/org/apache/hudi => hudi-common/src/main/java/org/apache/hudi/common}/config/HoodieMetadataConfig.java
6	3	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
17	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
69	0	hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java
11	13	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
16	5	{hudi-client/hudi-client-common => hudi-common}/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
14	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
3	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
4	2	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
7	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
13	6	hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
13	2	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
12	0	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java
2	1	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
30	18	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
9	2	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
13	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
9	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
6	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java

commit 298808baaf771a3707cf55db8d89ed4421e1f8c3
Author: Prashant Wason <pwason@uber.com>
Date:   2020-12-30 18:29:55 -0800

    [HUDI-842] Implementation of HUDI RFC-15.
    
     - Introduced an internal metadata table, that stores file listings.
     - metadata table is kept upto date with
     - Fixed handling of CleanerPlan.
     - [HUDI-842] Reduce parallelism to speed up the test.
     - [HUDI-842] Implementation of CLI commands for metadata operations and lookups.
     - [HUDI-842] Extend rollback metadata to include the files which have been appended to.
     - [HUDI-842] Support for rollbacks in MOR Table.
     - MarkerBasedRollbackStrategy needs to correctly provide the list of files for which rollback blocks were appended.
     - [HUDI-842] Added unit test for rollback of partial commits (inflight but not completed yet).
     - [HUDI-842] Handled the error case where metadata update succeeds but dataset commit fails.
     - [HUDI-842] Schema evolution strategy for Metadata Table. Each type of metadata saved (FilesystemMetadata, ColumnIndexMetadata, etc.) will be a separate field with default null. The type of the record will identify the valid field. This way, we can grow the schema when new type of information is saved within in which still keeping it backward compatible.
     - [HUDI-842] Fix non-partitioned case and speedup initial creation of metadata table.Choose only 1 partition for jsc as the number of records is low (hundreds to thousands). There is more overhead of creating large number of partitions for JavaRDD and it slows down operations like WorkloadProfile.
    For the non-partitioned case, use "." as the name of the partition to prevent empty keys in HFile.
     - [HUDI-842] Reworked metrics pusblishing.
     - Code has been split into reader and writer side. HoodieMetadata code to be accessed by using HoodieTable.metadata() to get instance of metdata for the table.
    Code is serializable to allow executors to use the functionality.
     - [RFC-15] Add metrics to track the time for each file system call.
     - [RFC-15] Added a distributed metrics registry for spark which can be used to collect metrics from executors. This helps create a stats dashboard which shows the metadata table improvements in real-time for production tables.
     - [HUDI-1321] Created HoodieMetadataConfig to specify configuration for the metadata table. This is safer than full-fledged properties for the metadata table (like HoodieWriteConfig) as it makes burdensome to tune the metadata. With limited configuration, we can control the performance of the metadata table closely.
    
    [HUDI-1319][RFC-15] Adding interfaces for HoodieMetadata, HoodieMetadataWriter (apache#2266)
     - moved MetadataReader to HoodieBackedTableMetadata, under the HoodieTableMetadata interface
     - moved MetadataWriter to HoodieBackedTableMetadataWriter, under the HoodieTableMetadataWriter
     - Pulled all the metrics into HoodieMetadataMetrics
     - Writer now wraps the metadata, instead of extending it
     - New enum for MetadataPartitionType
     - Streamlined code flow inside HoodieBackedTableMetadataWriter w.r.t initializing metadata state
     - [HUDI-1319] Make async operations work with metadata table (apache#2332)
     - Changes the syncing model to only move over completed instants on data timeline
     - Syncing happens postCommit and on writeClient initialization
     - Latest delta commit on the metadata table is sufficient as the watermark for data timeline archival
     - Cleaning/Compaction use a suffix to the last instant written to metadata table, such that we keep the 1-1
     - .. mapping between data and metadata timelines.
     - Got rid of a lot of the complexity around checking for valid commits during open of base/log files
     - Tests now use local FS, to simulate more failure scenarios
     - Some failure scenarios exposed HUDI-1434, which is needed for MOR to work correctly
    
    co-authored by: Vinoth Chandar <vinoth@apache.org>

226	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java
5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
18	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
4	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java
5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
150	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetadataConfig.java
8	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
48	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
647	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java
52	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java
43	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java
29	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
19	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
2	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
11	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
4	4	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
43	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
107	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metrics/DistributedRegistry.java
186	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metrics/SparkHoodieBackedTableMetadataWriter.java
801	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieFsMetadata.java
1	0	hudi-common/pom.xml
56	0	hudi-common/src/main/avro/HoodieMetadata.avsc
9	1	hudi-common/src/main/avro/HoodieRollbackMetadata.avsc
26	1	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
186	111	hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java
13	6	hudi-common/src/main/java/org/apache/hudi/common/fs/SizeAwareFSDataOutputStream.java
79	0	hudi-common/src/main/java/org/apache/hudi/common/fs/TimedFSDataInputStream.java
70	0	hudi-common/src/main/java/org/apache/hudi/common/metrics/LocalRegistry.java
61	49	hudi-common/src/main/java/org/apache/hudi/common/metrics/Registry.java
9	7	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
33	16	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
10	6	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
9	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java
11	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
34	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieMetadataException.java
7	7	hudi-common/src/main/java/org/apache/hudi/exception/TableNotFoundException.java
447	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java
75	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java
147	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java
233	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java
93	0	hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java
33	0	hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java

commit c3e9243ea1066adb2f12cf5b9cee82445d61a840
Author: jshmchenxi <jshmchenxi@gmail.com>
Date:   2021-01-04 12:19:48 +0800

    [MINOR] Add maven profile to support skipping shade sources jars (#2358)
    
    Co-authored-by: Xi Chen <chenxi07@qiyi.com>

1	1	packaging/hudi-flink-bundle/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-sync-bundle/pom.xml
1	1	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
13	0	pom.xml

commit ff8313caf1dfe0b13fa9f160489a74600b0e8756
Author: Shen Hong <shenh062326@126.com>
Date:   2021-01-03 20:38:45 +0800

    [HUDI-1423] Support delete in hudi-java-client (#2353)

5	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
2	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
46	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteCommitActionExecutor.java
125	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java
10	0	hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java

commit a23aa41a1a3082eda080ec1cf3ad99e5ec37a9a0
Author: steven zhang <stevenz1985@outlook.com>
Date:   2020-12-31 11:06:41 +0800

    [MINOR] Sync UpsertPartitioner modify of HUDI-1398 to flink/java (#2390)
    
    Co-authored-by: zhang wen <wen.zhang@dmall.com>

5	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
5	1	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java

commit c5e8a024f6a2169f8d6256039de00a44fdb2f5a0
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-12-31 08:57:22 +0800

    [HUDI-1418] Set up flink client unit test infra (#2281)

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java
39	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
6	52	hudi-client/{hudi-spark-client => hudi-client-common}/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
22	0	hudi-client/hudi-flink-client/pom.xml
136	0	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
6	6	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
3	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
0	20	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
102	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieSparkWriteableTestTable.java
19	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java
97	0	hudi-flink/pom.xml
14	4	hudi-flink/src/main/java/org/apache/hudi/HoodieFlinkStreamer.java
29	12	hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java
0	9	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
89	0	hudi-flink/src/test/java/org/apache/hudi/source/TestJsonStringToHoodieRecordMapFunction.java
30	0	hudi-flink/src/test/resources/log4j-surefire-quiet.properties
31	0	hudi-flink/src/test/resources/log4j-surefire.properties
4	3	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit 605b617cfa9a25bff48e618beccfaa7b4eaeee56
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-12-31 06:22:15 +0800

    [HUDI-1434] fix incorrect log file path in HoodieWriteStat (#2300)
    
    * [HUDI-1434] fix incorrect log file path in HoodieWriteStat
    
    * HoodieWriteHandle#close() returns a list of WriteStatus objs
    
    * Handle rolled-over log files and return a WriteStatus per log file written
    
     - Combined data and delete block logging into a single call
     - Lazily initialize and manage write status based on returned AppendResult
     - Use FSUtils.getFileSize() to set final file size, consistent with other handles
     - Added tests around returned values in AppendResult
     - Added validation of the file sizes returned in write stat
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
4	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/CopyOnWriteInsertHandler.java
165	63	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
5	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
4	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
11	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java
5	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
5	6	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
7	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java
5	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
2	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/AbstractSparkDeltaCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
42	28	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
25	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDeltaWriteStat.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java
50	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/AppendResult.java
28	13	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
75	62	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
86	72	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormatAppendFailure.java
50	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieDeltaWriteStat.java
5	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit ef28763f083375c4fe8c1f94acdf785d9bc7f9bf
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-12-30 19:47:04 +0800

    [MINOR] Update report_coverage.sh (#2396)

3	2	scripts/report_coverage.sh

commit c6bf95233240d75160670ee96c356946c44c6169
Author: Prashant Wason <pwason@uber.com>
Date:   2020-12-29 17:02:21 -0800

    [HUDI-1493] Fixed schema compatibility check for fields. (#2350)
    
    Some field types changes are allowed (e.g. int -> long) while maintaining schema backward compatibility within HUDI. The check was reversed with the reader schema being passed for the write schema.

27	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java

commit e33a8f733c4a9a94479c166ad13ae9d53142cd3f
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date:   2020-12-29 13:33:19 -0800

    [HUDI-1147] Modify GenericRecordFullPayloadGenerator to generate vali°≠ (#2045)
    
    * [HUDI-1147] Modify GenericRecordFullPayloadGenerator to generate valid timestamps
    
    Co-authored-by: Sivabalan Narayanan <sivabala@uber.com>

2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
14	9	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java
32	11	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
35	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java

commit da51aa64fcaf8cd3099ef9c085c207283999306f
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date:   2020-12-28 20:04:38 -0800

    [HUDI-1474] Add additional unit tests to TestHBaseIndex (#2349)

120	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java

commit b83d1d3e61d51a7b098789532e31531d94330cb0
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2020-12-29 12:02:36 +0800

    [HUDI-1484] Escape the partition value in HiveSyncTool (#2363)

5	0	docker/demo/sparksql-incremental.commands
2	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
23	5	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
14	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit 4c17528de021054699c60e292874cdfdbcf592af
Author: steven zhang <stevenz1985@outlook.com>
Date:   2020-12-29 11:52:35 +0800

    [HUDI-1398] Align insert file size for reducing IO (#2256)
    
    * [HUDI-1398] Align insert file size for reducing IO
    
    Co-authored-by: zhang wen <wen.zhang@dmall.com>

5	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
17	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java

commit 0ecdec348efdc0d34401bae5d75435d4821f72b5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2020-12-29 10:49:24 +0800

    [MINOR] Remove the duplicate code in AbstractHoodieWriteClient.startCommit (#2385)

0	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java

commit 76faf59652468e9d6b8507216e52f282c585841d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2020-12-29 10:15:43 +0800

    [HUDI-1495] Upgrade Flink version to 1.12.0 (#2384)

0	7	packaging/hudi-flink-bundle/pom.xml
1	1	pom.xml

commit e177466fd266ebf3a8d371ce1bf2ecf3bdfe90ed
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-12-29 07:01:06 +0800

    [HUDI-1350] Support Partition level delete API in HUDI (#2254)
    
    * [HUDI-1350] Support Partition level delete API in HUDI
    
    * [HUDI-1350] Support Partition level delete API in HUDI base InsertOverwriteCommitAction
    
    * [HUDI-1350] Support Partition level delete API in HUDI base InsertOverwriteCommitAction

9	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
5	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
5	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
7	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
6	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
68	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeletePartitionCommitActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java
0	6	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java
104	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
19	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java

commit 6cdf59d92b1c260abae82bba7d30d8ac280bddbf
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-12-28 12:30:29 +0800

    [HUDI-1354] Block updates and replace on file groups in clustering (#2275)
    
    * [HUDI-1354] Block updates and replace on file groups in clustering
    
    * [HUDI-1354]  Block updates and replace on file groups in clustering

26	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
14	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
29	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieClusteringUpdateException.java
48	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/UpdateStrategy.java
67	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java
21	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
34	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
100	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java

commit 9e6889a8ce522ec455a11d6f6cf4949255c91a0f
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-12-28 12:27:09 +0800

    [HUDI-1481]  add  structured streaming and delta streamer clustering unit test (#2360)

1	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
142	23	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
40	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 8cf6a7223f5fa6c2014a7351198ac6d1ebd26621
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-12-26 12:29:24 -0500

    [HUDI-1331] Adding support for validating entire dataset and long running tests in test suite framework (#2168)
    
    * trigger rebuild
    
    * [HUDI-1156] Remove unused dependencies from HoodieDeltaStreamerWrapper Class (#1927)
    
    * Adding support for validating records and long running tests in test sutie framework
    
    * Adding partial validate node
    
    * Fixing spark session initiation in Validate nodes
    
    * Fixing validation
    
    * Adding hive table validation to ValidateDatasetNode
    
    * Rebasing with latest commits from master
    
    * Addressing feedback
    
    * Addressing comments
    
    Co-authored-by: lamber-ken <lamberken@163.com>
    Co-authored-by: linshan-ma <mabin194046@163.com>

53	119	docker/demo/config/test-suite/complex-dag-cow.yaml
104	100	docker/demo/config/test-suite/complex-dag-mor.yaml
68	0	docker/demo/config/test-suite/cow-long-running-example.yaml
0	37	docker/demo/config/test-suite/test-source.properties
8	0	docker/demo/config/test-suite/test.properties
184	3	hudi-integ-test/README.md
3	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java
17	17	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
5	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
5	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/UpdateConverter.java
34	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java
4	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/SimpleWorkflowDagGenerator.java
28	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WorkflowDag.java
6	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java
11	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java
43	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DelayNode.java
148	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java
36	21	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
17	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
6	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java
9	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
5	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java
16	16	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java
43	39	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
25	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/schema/SchemaUtils.java
66	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/schema/TestSuiteFileBasedSchemaProvider.java
19	10	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java
7	6	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriterFactory.java
8	7	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/configuration/TestWorkflowBuilder.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java
59	55	hudi-integ-test/src/test/resources/unit-test-cow-dag.yaml
59	55	hudi-integ-test/src/test/resources/unit-test-mor-dag.yaml
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java

commit 3ec9270e8e0be4c94106bdb09543971296ebe2d2
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-12-26 09:17:49 -0800

    [HUDI-1490] Incremental Query should work even when there are  partitions that have no incremental changes (#2371)
    
    * Incremental Query should work even when there are  partitions that have no incremental changes
    
    Co-authored-by: Sivabalan Narayanan <sivabala@uber.com>

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
28	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java

commit e807bb895e5a31a40f51b2c2bd9b732d26bebd46
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-12-26 01:54:23 +0800

    [HUDI-1487] fix unit test testCopyOnWriteStorage random failed (#2364)

5	4	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit 286055ce34bdbbac68c995a2710fc7be07734b12
Author: wenningd <wenningding95@gmail.com>
Date:   2020-12-25 06:43:34 -0800

    [HUDI-1451] Support bulk insert v2 with Spark 3.0.0 (#2328)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>
    
    - Added support for bulk insert v2 with datasource v2 api in Spark 3.0.0.

1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
32	0	hudi-spark-datasource/hudi-spark-common/pom.xml
45	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BaseDefaultSource.java
45	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BaseWriterCommitMessage.java
113	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java
107	0	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java
112	0	hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java
17	8	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
8	0	hudi-spark-datasource/hudi-spark2/pom.xml
3	27	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java
7	67	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java
16	49	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java
5	15	hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieWriterCommitMessage.java
11	80	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java
13	79	hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java
61	0	hudi-spark-datasource/hudi-spark3/pom.xml
54	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java
64	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java
52	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriterFactory.java
91	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java
55	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java
77	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java
36	0	hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieWriterCommitMessage.java
150	0	hudi-spark-datasource/hudi-spark3/src/test/scala/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java
265	0	hudi-spark-datasource/hudi-spark3/src/test/scala/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java
5	4	pom.xml

commit 89f482eaf249bf89b7182c4ca97ffda0929b4b7e
Author: wenningd <wenningding95@gmail.com>
Date:   2020-12-23 11:26:24 -0800

    [HUDI-1489] Fix null pointer exception when reading updated written bootstrap table (#2370)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

5	1	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala
113	238	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala

commit 38b9264dd041db955ffa4c0f10273e1b5fa21cfb
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2020-12-23 16:47:38 +0800

    [HUDI-1488] Fix Test Case Failure in TestHBaseIndex (#2365)

3	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java

commit 01ad449ad68d9c77ee1493fcdf833df53df6106a
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-12-22 23:10:19 +0800

    [HUDI-1485] Fix Deletes issued without any prior commits exception (#2361)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java

commit f8ccb2872dc9ba10853650fac2baed1406f3b731
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-12-22 21:14:18 +0800

    [HUDI-1471] Make QuickStartUtils generate deletes according to specific ts (#2357)

8	4	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 959afb8ba4cadf0fe09ddd6d67f9bf38bea13050
Merge: 0c821fecc2 6dc03b65bf
Author: satishkotha <satishkotha@uber.com>
Date:   2020-12-21 19:18:18 -0800

    Merge pull request #2263 from satishkotha/sk/clustering
    
    [HUDI-1075] Implement simple clustering strategies to create and run ClusteringPlan

commit 6dc03b65bfd98d0a1fde2d48ebb31f36b1186cf9
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-11-07 17:08:55 -0800

    [HUDI-1075] Implement simple clustering strategies to create ClusteringPlan and to run the plan

73	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
60	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/ConcatenatingIterator.java
67	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/FileSliceMetricUtils.java
176	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java
52	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
31	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieClusteringException.java
10	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
22	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
74	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/BaseClusteringPlanActionExecutor.java
67	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringExecutionStrategy.java
142	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java
108	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java
13	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractBulkInsertHelper.java
7	26	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/CompactionStrategy.java
0	19	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/LogFileSizeBasedCompactionStrategy.java
65	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestConcatenatingIterator.java
5	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
11	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
5	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
11	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
56	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
125	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java
89	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java
11	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java
4	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java
77	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java
18	3	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
74	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java
230	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java
3	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertCommitActionExecutor.java
31	17	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java
9	9	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
10	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java
93	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
58	9	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java
93	7	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
8	10	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java
5	0	hudi-common/src/main/avro/HoodieClusteringGroup.avsc
77	0	hudi-common/src/main/java/org/apache/hudi/common/config/SerializableSchema.java
129	0	hudi-common/src/main/java/org/apache/hudi/common/model/ClusteringOperation.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
62	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java
37	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
5	1	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
68	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializableSchema.java

commit 0c821fecc2140683de24d9b350c8142b4b8b8c47
Author: jshmchenxi <jshmchenxi@gmail.com>
Date:   2020-12-22 09:02:23 +0800

    [MINOR] Pass root exception to HoodieKeyGeneratorException for more information (#2354)
    
    Co-authored-by: Xi Chen <chenxi07@qiyi.com>

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java

commit e4e2fbc3bb2c4796c6813114dd1c37ffa5a1e03a
Author: Shen Hong <shenh062326@126.com>
Date:   2020-12-20 11:25:27 +0800

    [HUDI-1419] Add base implementation for hudi java client (#2286)

0	0	hudi-client/{hudi-flink-client => hudi-client-common}/src/main/java/org/apache/hudi/table/action/commit/Partitioner.java
6	0	hudi-client/hudi-java-client/pom.xml
235	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java
4	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
45	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/JavaTaskContextSupplier.java
80	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/JavaLazyInsertIterable.java
71	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java
120	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaInMemoryHashIndex.java
178	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java
31	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java
72	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java
130	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaCleanActionExecutor.java
329	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java
50	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertCommitActionExecutor.java
49	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertPreppedCommitActionExecutor.java
115	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java
50	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertCommitActionExecutor.java
49	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPreppedCommitActionExecutor.java
68	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java
319	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
6	0	hudi-examples/pom.xml
1	1	hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java
109	0	hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java

commit 33d338f3923862fdff24443a02d8a33a56d92e63
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-12-19 22:19:42 -0500

    [HUDI-115] Adding DefaultHoodieRecordPayload to honor ordering with combineAndGetUpdateValue (#2311)
    
    * Added ability to pass in `properties` to payload methods, so they can perform table/record specific merges
    * Added default methods so existing payload classes are backwards compatible.
    * Adding DefaultHoodiePayload to honor ordering while merging two records
    * Fixing default payload based on feedback

74	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java
15	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
82	0	hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java
32	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java
55	18	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java
107	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java
3	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
4	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
5	2	hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java
0	1	hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala
61	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
3	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 5388c7f7a3efb84516af71a2533e8953113b30da
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date:   2020-12-18 03:18:52 -0800

    [HUDI-1470] Use the latest writer schema, when reading from existing parquet files in the hudi-test-suite (#2344)

4	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java

commit 8b5d6f94304229e9ec61d44aeda3b514dd67f2a6
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-12-18 07:20:13 +0800

    [HUDI-1437]  support more accurate spark JobGroup for better performance tracking (#2322)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
1	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/ReplaceArchivalHelper.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
1	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncCompactService.java
6	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
4	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java
2	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkRunCompactionActionExecutor.java
1	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java
1	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java

commit 14d5d1100c69839d2bcfea26af0efdcd2057650d
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-12-17 03:59:30 -0800

    [HUDI-1406] Add date partition based source input selector for Delta streamer (#2264)
    
    - Adds ability to list only recent date based partitions from source data.
    - Parallelizes listing for faster tailing of DFSSources

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java
19	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java
209	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java
212	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestDatePartitionPathSelector.java

commit 4ddfc61d70e39bc09dd1aa020bde26284ed35d39
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-12-17 18:00:23 +0800

    [MINOR] Make QuickstartUtil generate random timestamp instead of 0 (#2340)

12	1	hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 6a6b772c4980106efe71e3799da9e6a00746dd4e
Author: ChangLi <69448640+lichang-bd@users.noreply.github.com>
Date:   2020-12-16 19:37:01 +0800

    [MINOR] Fix error information in exception (#2341)

1	1	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java

commit 26cdc457f6b2491caf28dcb7e33f03e7a2dac6fa
Author: wenningd <wenningding95@gmail.com>
Date:   2020-12-15 16:20:48 -0800

    [HUDI-1376] Drop Hudi metadata cols at the beginning of Spark datasource writing (#2233)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

8	4	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
21	5	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
17	1	hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala

commit 93d9c25aee37d36c03e4c0edfc18db7da819ce2d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2020-12-15 14:35:24 +0800

    [MINOR] Improve code readability by passing in the fileComparisonsRDD in bloom index (#2319)

9	10	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java

commit 069a1dcf24e076388bf0579275155f42bfe09075
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-12-14 22:24:12 -0800

    [HUDI-1435] Fix bug in Marker File Reconciliation for Non-Partitioned datasets (#2301)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java

commit facde4c16f9a61e1c62ed268c869493696aa6a06
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-12-14 23:25:10 +0800

    [HUDI-1448]  Hudi dla sync support skip rt table syncing (#2324)

4	0	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java
3	1	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java
2	0	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/util/Utils.java

commit 11bc1fe6f498850d2c496151741813001d3850a3
Author: steven zhang <stevenz1985@outlook.com>
Date:   2020-12-13 22:28:53 +0800

    [HUDI-1428] Clean old fileslice is invalid (#2292)
    
    
    Co-authored-by: zhang wen <wen.zhang@dmall.com>
    Co-authored-by: zhang wen <steven@stevendeMac-mini.local>

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
44	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java

commit 236d1b0dec409efb9c7a9febd260b1060da6a9c1
Author: Shen Hong <shenh062326@126.com>
Date:   2020-12-11 16:36:37 +0800

    [HUDI-1439] Remove scala dependency from hudi-client-common (#2306)

0	7	hudi-client/hudi-client-common/pom.xml
2	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializablePairFunction.java
4	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
2	2	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
3	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
4	5	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
2	3	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/client/common/TestHoodieFlinkEngineContext.java
2	2	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
2	3	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/client/common/TestHoodieJavaEngineContext.java
10	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java
2	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
5	0	style/checkstyle.xml
26	0	style/import-control.xml

commit 6cf25d5c8a4c0ee7e8cd09a7a2884806b0fee1b7
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-12-10 20:16:00 +0800

    [MINOR] Minor improve in IncrementalRelation (#2314)

2	11	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala

commit 4bc45a391afc14738a42fc731fe958b2af5e3ee8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date:   2020-12-10 20:02:02 +0800

    [HUDI-1445] Refactor AbstractHoodieLogRecordScanner to use Builder (#2313)

19	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
17	7	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
12	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java
24	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
81	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
74	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java
146	25	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
12	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
12	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
15	8	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
19	14	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala

commit bd9cceccb582ede88b989824241498e8c32d4f13
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-12-09 18:19:19 -0800

    [HUDI-1395] Fix partition path using FSUtils (#2312)
    
    Fixed the logic to get partition path in Copier and Exporter utilities.

2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java

commit 007014c1ef11083f4adad908ce390ec976fcdc33
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-12-10 09:56:19 +0800

    [MINOR] Throw an exception when keyGenerator initialization failed (#2307)

5	8	hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java

commit fce1453fa608fcff5df4d5aca8c88107d4151b09
Author: wenningd <wenningding95@gmail.com>
Date:   2020-12-09 15:52:23 -0800

    [HUDI-1040] Make Hudi support Spark 3 (#2208)
    
    * Fix flaky MOR unit test
    
    * Update Spark APIs to make it be compatible with both spark2 & spark3
    
    * Refactor bulk insert v2 part to make Hudi be able to compile with Spark3
    
    * Add spark3 profile to handle fasterxml & spark version
    
    * Create hudi-spark-common module & refactor hudi-spark related modules
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

2	0	LICENSE
8	0	README.md
28	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkRowDeserializer.java
1	27	hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
4	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieRowCreateHandle.java
1	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/TestHoodieInternalRowParquetWriter.java
24	35	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java
18	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
1	7	hudi-integ-test/pom.xml
3	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/SparkBasedReader.java
3	3	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
178	0	hudi-spark-datasource/hudi-spark-common/pom.xml
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark-common}/src/main/java/org/apache/hudi/DataSourceUtils.java
2	2	{hudi-spark => hudi-spark-datasource/hudi-spark-common}/src/main/scala/org/apache/hudi/DataSourceOptions.scala
20	2	{hudi-spark => hudi-spark-datasource/hudi-spark}/pom.xml
1	1	{hudi-spark => hudi-spark-datasource/hudi-spark}/run_hoodie_app.sh
1	1	{hudi-spark => hudi-spark-datasource/hudi-spark}/run_hoodie_generate_app.sh
1	1	{hudi-spark => hudi-spark-datasource/hudi-spark}/run_hoodie_streaming_app.sh
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/java/org/apache/hudi/QuickstartUtils.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java
2	2	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/java/org/apache/hudi/exception/HoodieDeltaStreamerException.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/DefaultSource.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/HoodieEmptyRelation.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
6	2	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
121	0	hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/IncrementalRelation.scala
0	3	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/main/scala/org/apache/hudi/package.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/java/HoodieJavaApp.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/java/HoodieJavaGenerateApp.java
2	2	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/java/HoodieJavaStreamingApp.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/TestDataSourceUtils.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/client/TestBootstrap.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/resources/exampleSchema.txt
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/resources/log4j-surefire.properties
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/scala/org/apache/hudi/TestAvroConversionHelper.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
2	2	{hudi-spark => hudi-spark-datasource/hudi-spark}/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala
225	0	hudi-spark-datasource/hudi-spark2/pom.xml
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark2}/src/main/java/org/apache/hudi/internal/DefaultSource.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark2}/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark2}/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriterFactory.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark2}/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java
0	0	{hudi-spark => hudi-spark-datasource/hudi-spark2}/src/main/java/org/apache/hudi/internal/HoodieWriterCommitMessage.java
30	0	hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/hudi/Spark2RowDeserializer.scala
8	4	{hudi-spark => hudi-spark-datasource/hudi-spark2}/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java
9	6	{hudi-spark => hudi-spark-datasource/hudi-spark2}/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java
163	0	hudi-spark-datasource/hudi-spark3/pom.xml
33	0	hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3RowDeserializer.scala
39	0	hudi-spark-datasource/pom.xml
0	50	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala
15	0	hudi-utilities/pom.xml
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
14	0	packaging/hudi-integ-test-bundle/pom.xml
18	0	packaging/hudi-spark-bundle/pom.xml
19	0	packaging/hudi-utilities-bundle/pom.xml
29	4	pom.xml

commit 3a91d26d625415b7ccd74f9f32418f8a84aa3e3c
Author: jshmchenxi <jshmchenxi@gmail.com>
Date:   2020-12-08 22:28:20 +0800

    fix typo (#2308)
    
    Co-authored-by: Xi Chen <chenxi07@qiyi.com>

1	1	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala

commit de2fbeac334e65abee38f5f5867805ad07b8dcd2
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-12-07 09:29:53 +0800

    [HUDI-1412] Make HoodieWriteConfig support setting different default °≠ (#2278)
    
    * [HUDI-1412] Make HoodieWriteConfig support setting different default value according to engine type

26	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/EngineType.java
35	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
25	4	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
17	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
2	4	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit 319b7a58e4773ca51c4ef9b82faf55d03d208e46
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2020-12-05 08:07:25 +0800

    [HUDI-1427] Fix FileAlreadyExistsException when set HOODIE_AUTO_COMMIT_PROP to true (#2295)

3	2	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
13	0	hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit 62b392b49c13455199e0372204dedf8a371b452c
Author: liujinhui <965147871@qq.com>
Date:   2020-12-04 11:28:34 +0800

    [HUDI-1343] Add standard schema postprocessor which would rewrite the schema using spark-avro conversion (#2192)
    
    Co-authored-by: liujh <liujh@t3go.cn>

12	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
47	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SparkAvroPostProcessor.java
36	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/SparkAvroSchemaProvider.java
37	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java

commit 1f0d5c077ea34ea91c6577cf2391291d06917378
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-12-04 04:26:21 +0800

    [HUDI-1349] spark sql support overwrite use insert_overwrite_table (#2196)

11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
5	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
17	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
6	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
8	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java
74	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java
6	2	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
4	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
3	1	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
2	1	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
1	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
7	4	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
79	0	hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit 78fd12259404cad8117862fdf0b948cbe115e453
Author: rmpifer <rmpifer@umich.edu>
Date:   2020-12-01 13:50:46 -0800

    [HUDI-1196] Update HoodieKey when deduplicating records with global index (#2248)
    
    - Works only for overwrite payload (default)
    - Does not alter current semantics otherwise
    
    Co-authored-by: Ryan Pifer <ryanpife@amazon.com>

3	4	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java
1	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java

commit ac23d2587f58d2199535dea779925cec02304b2d
Author: Prashant Wason <pwason@uber.com>
Date:   2020-12-01 13:44:57 -0800

    [HUDI-1357] Added a check to validate records are not lost during merges. (#2216)
    
    - Turned off by default

15	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
27	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
49	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
17	0	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
1	2	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java
13	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java

commit b826c53e331fa5a80b7f9505dcdee0cbf16740e2
Author: Guy Khazma <33684427+guykhazma@users.noreply.github.com>
Date:   2020-12-01 23:19:40 +0200

    [HUDI-1373] Add Support for OpenJ9 JVM (#2231)
    
    * add supoort for OpenJ9 VM
    * add 32bit openJ9
    * Pulled the memory layout specs into their own classes.

51	135	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
46	0	hudi-common/src/main/java/org/apache/hudi/common/util/jvm/HotSpotMemoryLayoutSpecification32bit.java
46	0	hudi-common/src/main/java/org/apache/hudi/common/util/jvm/HotSpotMemoryLayoutSpecification64bit.java
46	0	hudi-common/src/main/java/org/apache/hudi/common/util/jvm/HotSpotMemoryLayoutSpecification64bitCompressed.java
60	0	hudi-common/src/main/java/org/apache/hudi/common/util/jvm/MemoryLayoutSpecification.java
46	0	hudi-common/src/main/java/org/apache/hudi/common/util/jvm/OpenJ9MemoryLayoutSpecification32bit.java
46	0	hudi-common/src/main/java/org/apache/hudi/common/util/jvm/OpenJ9MemoryLayoutSpecification64bit.java
46	0	hudi-common/src/main/java/org/apache/hudi/common/util/jvm/OpenJ9MemoryLayoutSpecification64bitCompressed.java

commit 36ce5bcd92fa6cb2fb88677eae1a7a846f606e3f
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2020-11-30 23:07:21 +0800

    [HUDI-1424]  Write Type changed to BULK_INSERT when set ENABLE_ROW_WRITER_OPT_KEY=true (#2289)

2	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 3d5e9fee7f42d45f737e170a1937bdf676df9c60
Author: leesf <leesf@apache.org>
Date:   2020-11-28 21:47:05 +0800

    [MINOR] refactor code in HoodieMergeHandle (#2272)

2	5	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit 56866a11fe8b7a0ef8340f221da30c83c72b85da
Author: steven zhang <stevenz1985@outlook.com>
Date:   2020-11-25 11:55:33 +0800

    [HUDI-1392] lose partition info when using spark parameter basePath (#2243)
    
    Co-authored-by: zhang wen <wen.zhang@dmall.com>

7	3	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	1	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala

commit 0ebef1c0a0e4b96616ee7e4372d3b9f0eb83a919
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-11-23 10:56:26 -0800

    [HUDI-1358] Fix leaks in DiskBasedMap and LazyFileIterable (#2249)

2	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
37	27	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
9	6	hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java

commit 751e4ee88219c9d7d212cd2abcfe57ec59bb322e
Author: wenningd <wenningding95@gmail.com>
Date:   2020-11-23 10:43:24 -0800

    [HUDI-1396] Fix for preventing bootstrap datasource jobs from hanging via spark-submit (#2253)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

9	3	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
60	4	hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit d9411c38dbe6684ed2b0b59b27fbb1a46ac16c34
Author: Shen Hong <shenh062326@126.com>
Date:   2020-11-24 02:06:28 +0800

    [HUDI-1364] Add HoodieJavaEngineContext to hudi-java-client (#2222)

0	0	hudi-client/{hudi-flink-client => hudi-client-common}/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java
48	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/DummyTaskContextSupplier.java
152	0	hudi-client/hudi-java-client/pom.xml
86	0	hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java
23	0	hudi-client/hudi-java-client/src/main/resources/log4j.properties
85	0	hudi-client/hudi-java-client/src/test/java/org/apache/hudi/client/common/TestHoodieJavaEngineContext.java
31	0	hudi-client/hudi-java-client/src/test/resources/log4j-surefire.properties
1	0	hudi-client/pom.xml

commit 971f028aaf3e90ddee571e9862509d34a637782d
Author: hongdd <jn_hdd@163.com>
Date:   2020-11-23 16:53:01 +0800

    [HUDI-1393] Add compaction action in archive command (#2246)

25	35	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java

commit 537502a8efd92ebed43ab245b0802f3b9d251cc2
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-11-22 10:41:11 +0800

    [MINOR] Add apacheflink label (#2268)

1	0	.asf.yaml

commit c8d5ea2752f8289b9dec37a149e82c030f657924
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-11-19 15:27:52 +0800

    [MINOR] clean up and add comments to flink client (#2261)

9	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractMergeHelper.java
5	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
5	3	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java
8	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
1	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java
3	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java
3	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
12	11	hudi-flink/src/main/java/org/apache/hudi/{HudiFlinkStreamer.java => HoodieFlinkStreamer.java}
14	13	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java
3	3	hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java
3	2	hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessOperator.java
4	3	hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java
2	1	hudi-flink/src/main/java/org/apache/hudi/schema/SchemaProvider.java
8	7	hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java
6	5	hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java
2	1	hudi-flink/src/main/java/org/apache/hudi/util/AvroConvertor.java
9	8	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java

commit d7af8caa45095acac7fe62d215c22c5989b81b09
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2020-11-19 13:44:03 +0800

    [HUDI-1384] Decoupling hive jdbc dependency when HIVE_USE_JDBC_OPT_KEY set false (#2241)

1	12	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit a23230c8c2be5e0d6e9d8cbf936892402b7d741f
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-11-19 13:40:04 +0800

    [HUDI-1400] Replace Operation enum with WriteOperationType (#2259)

6	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
6	9	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
31	31	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 4d05680038752077ceaebef261b66a5afc761e10
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-11-18 17:57:11 +0800

    [HUDI-1327] Introduce base implemetation of hudi-flink-client (#2176)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/HoodieEngineContext.java
2	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java
10	0	hudi-client/hudi-flink-client/pom.xml
65	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/FlinkTaskContextSupplier.java
213	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java
10	4	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
2	1	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java
80	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java
77	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java
135	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java
140	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java
31	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java
72	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java
131	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkCleanActionExecutor.java
331	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java
46	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteCommitActionExecutor.java
123	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java
50	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertCommitActionExecutor.java
47	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertPreppedCommitActionExecutor.java
116	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java
50	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertCommitActionExecutor.java
47	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertPreppedCommitActionExecutor.java
68	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java
27	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/Partitioner.java
316	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
71	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java
73	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java
236	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
61	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java
49	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
137	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
7	28	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/client/common/TestHoodieFlinkEngineContext.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
177	0	hudi-flink/pom.xml
188	0	hudi-flink/src/main/java/org/apache/hudi/HudiFlinkStreamer.java
30	0	hudi-flink/src/main/java/org/apache/hudi/exception/HoodieFlinkStreamerException.java
224	0	hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java
164	0	hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java
66	0	hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessOperator.java
79	0	hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java
43	0	hudi-flink/src/main/java/org/apache/hudi/schema/SchemaProvider.java
153	0	hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java
73	0	hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java
80	0	hudi-flink/src/main/java/org/apache/hudi/util/AvroConvertor.java
149	0	hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java
286	0	packaging/hudi-flink-bundle/pom.xml
36	0	packaging/hudi-flink-bundle/src/main/java/org/apache/hudi/flink/bundle/Main.java
24	1	pom.xml

commit 430d4b428e7c5b325c7414a187f9cda158c2758a
Author: Karl_Wang <wskqing@gmail.com>
Date:   2020-11-11 02:08:08 +0800

    [HUDI-1377] remove duplicate code (#2235)

1	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 42b6aeca28664767add190374b13f57c99e17286
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-11-09 19:26:13 -0800

    [HUDI-1358] Fix Memory Leak in HoodieLogFormatWriter (#2217)

11	7	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
7	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
12	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java

commit 0364498ae3be553f7c9fab78469283a6958da2ff
Author: wenningd <wenningding95@gmail.com>
Date:   2020-11-05 17:30:17 -0800

    [HUDI-1375] Fix bug in HoodieAvroUtils.removeMetadataFields() method (#2232)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

1	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
10	0	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java

commit 33ec88fc3840c47a54b5862e4d276889c4121231
Author: satishkotha <satishkotha@uber.com>
Date:   2020-11-05 08:49:58 -0800

    [HUDI-1352] Add FileSystemView APIs to query pending clustering operations (#2202)

5	0	hudi-common/pom.xml
49	0	hudi-common/src/main/avro/HoodieClusteringGroup.avsc
50	0	hudi-common/src/main/avro/HoodieClusteringPlan.avsc
42	0	hudi-common/src/main/avro/HoodieClusteringStrategy.avsc
47	0	hudi-common/src/main/avro/HoodieRequestedReplaceMetadata.avsc
56	0	hudi-common/src/main/avro/HoodieSliceInfo.avsc
2	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
18	10	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java
62	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/ClusteringOpDTO.java
45	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
54	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
17	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
59	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
17	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java
178	0	hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java
11	1	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java
60	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
142	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestClusteringUtils.java
7	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
7	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java

commit 5f5c15b0d9f807dc7f9112a5220c3daeb01f0cb8
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-11-03 12:00:12 +0800

    [HUDI-892] RealtimeParquetInputFormat skip adding projection columns if there are no log files (#2190)
    
    * [HUDI-892] RealtimeParquetInputFormat skip adding projection columns if there are no log files
    * [HUDI-892]  for test
    * [HUDI-892]  fix bug generate array from split
    * [HUDI-892] revert test log

13	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
3	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
5	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java

commit d160abb43740e0bcdf40458c345ecd2d74e6698c
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-11-03 05:12:51 +0800

    [HUDI-912] Refactor and relocate KeyGenerator to support more engines (#2200)
    
    * [HUDI-912] Refactor and relocate KeyGenerator to support more engines
    
    * Rename KeyGenerators

5	0	hudi-client/hudi-client-common/pom.xml
33	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieKeyGeneratorException.java
81	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java
50	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java
124	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java
59	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java
29	4	{hudi-spark => hudi-client/hudi-client-common}/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
1	37	{hudi-spark => hudi-client/hudi-client-common}/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
51	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java
57	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java
24	55	hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java => hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java
41	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java
3	3	{hudi-spark => hudi-client/hudi-client-common}/src/main/java/org/apache/hudi/keygen/parser/AbstractHoodieDateTimeParser.java
5	5	{hudi-spark => hudi-client/hudi-client-common}/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java
7	0	hudi-client/hudi-spark-client/pom.xml
35	45	{hudi-spark => hudi-client/hudi-spark-client}/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
18	18	{hudi-spark => hudi-client/hudi-spark-client}/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
30	40	{hudi-spark => hudi-client/hudi-spark-client}/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
9	9	{hudi-spark => hudi-client/hudi-spark-client}/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
10	10	{hudi-spark => hudi-client/hudi-spark-client}/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
1	3	{hudi-spark => hudi-client/hudi-spark-client}/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
9	7	{hudi-spark => hudi-client/hudi-spark-client}/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
82	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
9	8	{hudi-spark => hudi-client/hudi-spark-client}/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
11	10	{hudi-spark => hudi-client/hudi-spark-client}/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
154	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
25	25	{hudi-spark => hudi-client/hudi-spark-client}/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
7	7	{hudi-spark => hudi-client/hudi-spark-client}/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java
11	11	{hudi-spark => hudi-client/hudi-spark-client}/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
25	25	{hudi-spark => hudi-client/hudi-spark-client}/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
0	0	{hudi-spark => hudi-client/hudi-spark-client}/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java
2	2	hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
7	6	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
0	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
0	86	hudi-spark/src/test/java/TestComplexKeyGenerator.java
0	96	hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
1	2	hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionHelper.scala
16	3	hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala

commit 59f995a3f5476e8171f24a32250da85e13d28daf
Author: Venkatesh Rudraraju <33071342+v3nkatesh@users.noreply.github.com>
Date:   2020-11-02 08:33:27 -0800

    Use RateLimiter instead of sleep. Repartition WriteStatus to optimize Hbase index writes (#1484)

149	62	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
90	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
16	19	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBasePutBatchSizeCalculator.java
91	0	hudi-common/src/main/java/org/apache/hudi/common/util/RateLimiter.java
52	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestRatelimiter.java

commit a205dd10faba0a83dcb39a12abb6f744b5224992
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-11-01 00:15:41 -0400

    [HUDI-1338] Adding Delete support to test suite framework (#2172)
    
    - Adding Delete support to test suite.
             Added DeleteNode
             Added support to generate delete records

49	10	docker/demo/config/test-suite/complex-dag-cow.yaml
5	1	docker/demo/config/test-suite/source.avsc
4	0	docker/demo/config/test-suite/target.avsc
27	0	docker/demo/config/test-suite/test.properties
2	37	hudi-integ-test/README.md
28	7	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
44	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/DeleteConverter.java
54	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DeleteNode.java
7	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
54	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeleteGeneratorIterator.java
46	10	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
5	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java
53	43	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
4	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java
6	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java
84	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestDeleteConverter.java

commit 6310a2307abba94c7ff8a770f45462deae2c312e
Author: Prashant Wason <pwason@uber.com>
Date:   2020-10-29 06:50:37 -0700

    [HUDI-1351] Improvements to the hudi test suite for scalability and repeated testing. (#2197)
    
    1. Added the --clean-input and --clean-output parameters to clean the input and output directories before starting the job
    2. Added the --delete-old-input parameter to deleted older batches for data already ingested. This helps keep number of redundant files low.
    3. Added the --input-parallelism parameter to restrict the parallelism when generating input data. This helps keeping the number of generated input files low.
    4. Added an option start_offset to Dag Nodes. Without ability to specify start offsets, data is generated into existing partitions. With start offset, DAG can control on which partition, the data is to be written.
    5. Fixed generation of records for correct number of partitions
      - In the existing implementation, the partition is chosen as a random long. This does not guarantee exact number of requested partitions to be created.
    6. Changed variable blacklistedFields to be a Set as that is faster than List for membership checks.
    7. Fixed integer division for Math.ceil. If two integers are divided, the result is not double unless one of the integer is casted to double.

29	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
16	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DFSDeltaConfig.java
11	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
2	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java
39	9	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
9	6	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java
53	15	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
5	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java
18	8	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java
4	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java

commit 736a9408549f66014bfdfdc72832be11aa9fd39b
Author: liujinhui <965147871@qq.com>
Date:   2020-10-29 11:29:50 +0800

    [HUDI-1274] Make hive synchronization supports hourly partition (#2122)

67	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedHourPartitionValueExtractor.java
38	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestPartitionValueExtractor.java

commit e109a61803326ac81edc60ae3a889d8d6c75e902
Author: n3nash <nagarwal@uber.com>
Date:   2020-10-28 19:34:26 -0700

    1. Fix merge on read DAG to make docker demo pass (#2092)
    
    1. Fix merge on read DAG to make docker demo pass (#2092)
    2. Fix repeat_count, rollback node

5	5	docker/demo/config/test-suite/complex-dag-cow.yaml
9	13	docker/demo/config/test-suite/complex-dag-mor.yaml
11	3	hudi-integ-test/README.md
20	8	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
8	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java
6	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java
10	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java
17	12	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
18	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java
11	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
33	3	hudi-integ-test/src/test/resources/unit-test-cow-dag.yaml
33	3	hudi-integ-test/src/test/resources/unit-test-mor-dag.yaml

commit e206ddd431131da26cf1bb00f70fe64ad0450059
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-10-26 12:22:11 +0800

    [MINOR] Private the NoArgsConstructor of SparkMergeHelper and code clean (#2194)

1	8	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java
2	5	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java
3	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java

commit 8545ea3856134d9252339614390672b1872ec75c
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-10-26 12:04:56 +0800

    [HUDI-1118] Cleanup rollback files residing in .hoodie folder (#2205)

2	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java

commit 49e855c3488ebe53af3a72fc3b5a22ba47a45e01
Author: Prashant Wason <pwason@uber.com>
Date:   2020-10-24 16:47:24 -0700

    [HUDI-1326] Added an API to force publish metrics and flush them. (#2152)
    
    * [HUDI-1326] Added an API to force publish metrics and flush them.
    
    Using the added API, publish metrics after each level of the DAG completed in hudi-test-suite.
    
    * Code cleanups
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

26	6	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java
4	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java

commit 14c4611857ea796b8d3aef96f867db9cd0ae31f7
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-10-21 19:50:10 -0700

    [MINOR] Fix caller to SparkBulkInsertCommitActionExecutor (#2195)
    
    Fixed calling the wrong constructor

1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java

commit 49407169ac1711c0babb77fb3014473c0b236edd
Author: Shen Hong <shenh062326@126.com>
Date:   2020-10-22 08:49:28 +0800

    [HUDI-1209] Properties File must be optional when running deltastreamer (#2085)

14	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
12	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit e4931744ebcb6380ec967636213c406fd80a735f
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-10-21 12:06:25 +0530

    [HUDI-1200] fixed NPE in CustomKeyGenerator (#2093)
    
    - config field is no longer transient in key generator
    - verified that the key generator object is shipped from the driver to executors, just the one time and reused for each record

0	1	hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java

commit af5ef4d49d9c7eb610c446d8058216f39bb2fcfa
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date:   2020-10-21 14:20:19 +0800

    [HUDI-1330] handle prefix filtering at directory level (#2157)
    
    The current DFSPathSelector only ignore prefix(_, .) at the file level while files under subdirectories
    e.g. (.checkpoint/*) are still considered which result in bad-format exception during reading.

27	22	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java
13	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractDFSSourceTestBase.java

commit fd269ddeb07fad015f71fc2c7daa53ace0e0e2da
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date:   2020-10-20 17:52:31 +0800

    [MINOR] Make sure factory method is used to instanciate DFSPathSelector (#2187)
    
    * Move createSourceSelector into DFSPathSelector factory method
    * Replace constructor call with factory method
    * Added some javadoc

0	18	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java
29	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java

commit 6490b029dd05e5a3d704ebd5b314899a53dd76fb
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-10-19 14:11:08 -0700

    [HUDI-1345] Remove Hbase and htrace relocation from utilities bundle (#2185)

0	8	packaging/hudi-utilities-bundle/pom.xml

commit 4d80e1e221b0ddfd542baeee9b6cbb3b28a88e68
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-10-19 22:38:04 +0800

    [HUDI-284] add more test for UpdateSchemaEvolution (#2127)
    
    Unit test different schema evolution scenarios.

4	7	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
0	0	hudi-client/hudi-client-common/src/test/resources/{exampleEvolvedSchema.txt => exampleEvolvedSchema.avsc}
40	0	hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchemaChangeOrder.avsc
40	0	hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchemaColumnRequire.avsc
36	0	hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchemaColumnType.avsc
32	0	hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchemaDeleteColumn.avsc
0	0	hudi-client/hudi-client-common/src/test/resources/{exampleSchema.txt => exampleSchema.avsc}
139	55	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java

commit 35d406de4025ccd6c117e241c2174dbfc63e2e88
Author: Guy Khazma <33684427+guykhazma@users.noreply.github.com>
Date:   2020-10-18 12:24:53 +0300

    [HUDI-1344] IBM Cloud Object Storage Support (#2182)

3	1	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit ec6267c30328521621e6e803dfd6aaa65ae489f7
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-10-18 17:18:50 +0800

    [HUDI-307] add test to check timestamp date decimal type write and read consistent (#2177)

36	2	hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala

commit a44f66869f1b938e83857ceaed9291eca9194f45
Author: rmpifer <rmpifer@umich.edu>
Date:   2020-10-14 17:04:35 -0700

    [HUDI-1289] Remove relocation of pattern for hbase dependencies and add shading of guava in hadoop, spark, and presto bundles (#2147)
    
    - Update hudi-spark-bundle pom to not relocate hbase and htrace pattern
    - Remove codec relocation as this is not included in bundle which was causing error

3	12	packaging/hudi-hadoop-mr-bundle/pom.xml
0	8	packaging/hudi-presto-bundle/pom.xml
3	11	packaging/hudi-spark-bundle/pom.xml

commit 7fa641ea9ad2318b185f8492964b30ebc90759b0
Author: satishkotha <satishkotha@uber.com>
Date:   2020-10-13 22:58:00 -0700

    [HUDI-1302] Add support for timestamp field in HiveSync (#2129)

2	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
2	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	0	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
4	0	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java
1	1	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java
1	0	hudi-sync/hudi-dla-sync/src/test/java/org/apache/hudi/dla/TestDLASyncConfig.java
6	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
1	1	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
33	20	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java
34	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit c7d962efffa9440746d54dd2bcba73a9df8b354a
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-10-14 09:30:49 +0800

    [HUDI-1328] Introduce HoodieFlinkEngineContext to hudi-flink-client (#2161)

220	0	hudi-client/hudi-flink-client/pom.xml
89	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java
73	0	hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java
23	0	hudi-client/hudi-flink-client/src/main/resources/log4j.properties
115	0	hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/client/common/TestHoodieFlinkEngineContext.java
31	0	hudi-client/hudi-flink-client/src/test/resources/log4j-surefire.properties
1	0	hudi-client/pom.xml

commit b66c3ef23a021114c3c05ccf4d724b4a16926c53
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-10-13 15:45:10 +0800

    [HUDI-1298] Add better error messages when IOException occurs during log file reading (#2133)

5	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java

commit 0d407342efb8e7c29012a42b989585f239594359
Author: satishkotha <satishkotha@uber.com>
Date:   2020-10-12 16:48:29 -0700

    [HUDI-1304] Add unit test for testing compaction on replaced file groups (#2150)

26	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
52	0	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java

commit c5e10d668f9366f29bdf7721f7efe4140782527b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-10-11 23:39:10 -0700

    [HUDI-995] Migrate HoodieTestUtils APIs to HoodieTestTable (#2167)
    
    Remove APIs in `HoodieTestUtils`
    - `createCommitFiles`
    - `createDataFile`
    - `createNewLogFile`
    - `createCompactionRequest`
    
    Migrated usages in `TestCleaner#testPendingCompactions`.
    
    Also improved some API names in `HoodieTestTable`.

1	1	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java
79	71	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java
27	4	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
0	75	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java

commit c0472d3317e9bfe0b39ee2212e760e96b5a67ee9
Author: hj2016 <hj3245459@163.com>
Date:   2020-10-12 10:05:57 +0800

    [HUDI-1184] Fix the support of hbase index partition path change (#1978)
    
    When the hbase index is used, when the record partition is changed to another partition, the path does not change according to the value of the partition column
    
    Co-authored-by: huangjing <huangjing@clinbrain.com>

18	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
47	29	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java
64	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java

commit b58daf29ba7f0100d16deb793757d93d073c9a03
Author: dugenkui <dugenkui@meituan.com>
Date:   2020-10-12 09:38:42 +0800

    [MINOR] remove unused generics type (#2163)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractMergeHelper.java
1	1	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java
3	7	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReaderFactory.java

commit 2126f13e130ea0394bb395aa38bc6df4052576e6
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-10-12 09:29:57 +0800

    [HUDI-791]  Replace null by Option in Delta Streamer (#2171)

25	32	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 032bc3b08fe61ff23c8a1002d78a8197893d4f89
Author: dugenkui <dugenkui@meituan.com>
Date:   2020-10-12 08:55:41 +0800

    [MINOR] NPE Optimization for Option (#2158)

6	1	hudi-common/src/main/java/org/apache/hudi/common/util/Option.java

commit d4d4c8c8994d4da988005b7930b797213aed4303
Author: dugenkui <dugenkui@meituan.com>
Date:   2020-10-12 08:52:44 +0800

    [MINOR] Fix typo and others (#2164)
    
    
    * remove HoodieSerializationException that will never be throw
    * remove unused method, make HoodieException more readable
    * fix typo

2	2	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
0	3	hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java
0	8	hudi-common/src/main/java/org/apache/hudi/exception/HoodieException.java
4	4	hudi-common/src/main/java/org/apache/hudi/exception/{SchemaCompatabilityException.java => SchemaCompatibilityException.java}
2	2	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java

commit 86db4da33cca40858529abd998bbe81b19f25c69
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-10-12 08:10:52 +0800

    [HUDI-1339] delete useless import in hudi-spark module (#2173)

1	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
2	2	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	2	hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
1	8	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala

commit 585ce0094d6527bab988f7657b4e84d12274ee28
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-10-10 20:53:41 +0800

    [HUDI-1301]  use  spark INCREMENTAL mode query hudi dataset support schema version. (#2125)

27	2	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
9	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
15	8	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala

commit eafd7bf289f901edfedc350beec30fa3cc09bb85
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-10-10 06:09:26 +0800

    [MINOR] Fix wrong javadoc and refactor some naming issues (#2156)

10	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/FullRecordBootstrapDataProvider.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java
3	3	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java

commit 00271af64e8a913f69a093935fc4e412a48f16ae
Author: dugenkui <dugenkui@meituan.com>
Date:   2020-10-10 05:52:55 +0800

    [MINOR] Fix typo (#2159)
    
    * fix typo
    
    * fix typo

5	6	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableType.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java
5	6	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java

commit 1d1d91d444b6af2b24b17d94068512a930877a98
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-10-08 19:21:27 -0700

    [HUDI-995] Migrate HoodieTestUtils APIs to HoodieTestTable (#2143)
    
    * [HUDI-995] Migrate HoodieTestUtils APIs to HoodieTestTable
    
    Remove APIs in `HoodieTestUtils`
    - listAllDataFilesAndLogFilesInPath
    - listAllLogFilesInPath
    - listAllDataFilesInPath
    - writeRecordsToLogFiles
    - createCleanFiles
    - createPendingCleanFiles
    
    Migrate the callers to use `HoodieTestTable` and `HoodieWriteableTestTable` with new APIs added
    - listAllBaseAndLogFiles
    - listAllLogFiles
    - listAllBaseFiles
    - withLogAppends
    - addClean
    - addInflightClean
    
    Also added related APIs in `FileCreateUtils`
    - createCleanFile
    - createRequestedCleanFile
    - createInflightCleanFile

4	4	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
8	8	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
5	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	1	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
47	18	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
2	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java
26	25	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
5	5	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
3	2	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
14	13	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java
60	3	hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
19	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java
52	4	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
9	162	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java

commit 788d236c443eb4ced819f9305ed8e0460b5984b7
Author: Prashant Wason <pwason@uber.com>
Date:   2020-10-07 05:33:51 -0700

    [HUDI-1303] Some improvements for the HUDI Test Suite. (#2128)
    
    1. Use the DAG Node's label from the yaml as its name instead of UUID names which are not descriptive when debugging issues from logs.
    2. Fix CleanNode constructor which is not correctly implemented
    3. When generating upsets, allows more granualar control over the number of inserts and upserts - zero or more inserts and upserts can be specified instead of always requiring both inserts and upserts.
    4. Fixed generation of records of specific size
       - The current code was using a class variable "shouldAddMore" which was reset to false after the first record generation causing subsequent records to be of minimum size.
       - In this change, we pre-calculate the extra size of the complex fields. When generating records, for complex fields we read the field size from this map.
    5. Refresh the timeline of the DeltaSync service before calling readFromSource. This ensures that only the newest generated data is read and data generated in the older Dag Nodes is ignored (as their AVRO files will have an older timestamp).
    6. Making --workload-generator-classname an optional parameter as most probably the default will be used

2	1	docker/compose/hadoop.env
1	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java
2	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
5	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
7	5	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java
3	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CleanNode.java
37	28	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
72	80	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordPartialPayloadGenerator.java
2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java

commit 524193eb4bd45eb21a64c68e927600a52b9ade1d
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-10-07 09:04:03 +0530

    [HUDI-603]: DeltaStreamer can now fetch schema before every run in continuous mode (#1566)
    
    Co-authored-by: Balaji Varadarajan <balaji.varadarajan@robinhood.com>

4	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java
5	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractCompactor.java
7	10	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
72	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java
3	2	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java
84	13	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
20	15	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
13	17	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java
44	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaSet.java

commit fed01cd3c94bb340976fc214fb199b0c891365fe
Author: rmpifer <rmpifer@umich.edu>
Date:   2020-10-05 15:22:28 -0700

    [MINOR] Update spark master default to yarn (#2148)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java

commit fdae388626b8d97acc01191aa0e7075c36a41132
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-10-06 02:36:54 +0800

    [HUDI-1203]  add port  configuration for EmbeddedTimelineService (#2142)

1	1	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
4	2	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
11	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
32	5	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java

commit b335459c805748815ccc858ff1a9ef4cd830da8c
Author: Shen Hong <shenh062326@126.com>
Date:   2020-10-05 02:34:21 +0800

    [HUDI-1208] Ordering Field should be optional when precombine is turned off (#2088)

1	1	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
19	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java
11	5	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
57	1	hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
4	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 080ba3ed54fc12942d7ce8326435d80a46fb48bf
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-10-04 23:52:01 +0530

    [HUDI-1199] relocated jetty in hudi-utilities-bundle pom (#1990)
    
    * [HUDI-1199]: relocated jetty in hudi-utilities-bundle pom
    
    * [HUDI-1199]: re trigger travis build

4	0	packaging/hudi-utilities-bundle/pom.xml

commit 6c610b91efad789db7d5b7d8dbe7503f63427de9
Author: Prashant Wason <pwason@uber.com>
Date:   2020-10-04 09:30:04 -0700

    [HUDI-1305] Added an API to shutdown and remove the metrics reporter. (#2132)
    
    This helps in removing reporter once the test has complete. Prevents log pollution from un-necessary metric logs.
    
    - Added an API to shutdown the metrics reporter after tests.

3	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/ConsoleMetricsReporter.java
21	9	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java
6	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java

commit 1f7add92916c37b05be270d9c75a9042134ec506
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-10-02 05:25:29 +0800

    [HUDI-1089] Refactor hudi-client to support multi-engine (#1827)
    
    - This change breaks `hudi-client` into `hudi-client-common` and `hudi-spark-client` modules
    - Simple usages of Spark using jsc.parallelize() has been redone using EngineContext#map, EngineContext#flatMap etc
    - Code changes in the PR, break classes into `BaseXYZ` parent classes with no spark dependencies living in `hudi-client-common`
    - Classes on `hudi-spark-client` are named `SparkXYZ` extending the parent classes with all the Spark dependencies
    - To simplify/cleanup, HoodieIndex#fetchRecordLocation has been removed and its usages in tests replaced with alternatives
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

4	4	.travis.yml
8	1	hudi-cli/pom.xml
4	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
13	11	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
4	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
4	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
264	0	hudi-client/hudi-client-common/pom.xml
16	13	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/async/AsyncCompactService.java
4	4	hudi-client/{src/main/java/org/apache/hudi/async/AbstractAsyncService.java => hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java}
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/callback/HoodieWriteCommitCallback.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/callback/common/HoodieWriteCommitCallbackMessage.java
2	3	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/callback/impl/HoodieWriteCommitHttpCallback.java
2	3	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/callback/util/HoodieWriteCommitCallbackUtil.java
41	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractCompactor.java
15	10	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
274	246	hudi-client/{src/main/java/org/apache/hudi/client/HoodieWriteClient.java => hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java}
5	5	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/AsyncCleanerService.java
13	13	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java
11	10	hudi-client/{src/main/java/org/apache/hudi/table => hudi-client-common/src/main/java/org/apache/hudi/client}/ReplaceArchivalHelper.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/WriteStatus.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/BootstrapMode.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/BootstrapRecordPayload.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/BootstrapWriteStatus.java
8	10	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/FullRecordBootstrapDataProvider.java
69	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/HoodieBootstrapSchemaProvider.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapModeSelector.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapRegexModeSelector.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/selector/FullRecordBootstrapModeSelector.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/selector/MetadataOnlyBootstrapModeSelector.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/selector/UniformBootstrapModeSelector.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/translator/BootstrapPartitionPathTranslator.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/bootstrap/translator/IdentityBootstrapPartitionPathTranslator.java
33	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/EngineProperty.java
71	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/HoodieEngineContext.java
9	13	hudi-client/{src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java => hudi-client-common/src/main/java/org/apache/hudi/client/common/TaskContextSupplier.java}
31	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializableConsumer.java
32	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializableFunction.java
31	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializablePairFunction.java
9	13	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/utils/LazyIterableIterator.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/client/utils/MergingIterator.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
2	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java
6	3	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieAppendException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieCommitCallbackException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieCommitException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieCompactionException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieInsertException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieRestoreException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieRollbackException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieSavepointException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieUpgradeDowngradeException.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/exception/HoodieUpsertException.java
11	11	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/execution/CopyOnWriteInsertHandler.java
20	45	hudi-client/{src/main/java/org/apache/hudi/execution/LazyInsertIterable.java => hudi-client-common/src/main/java/org/apache/hudi/execution/HoodieLazyInsertIterable.java}
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertSortMode.java
12	57	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/HoodieIndex.java
16	19	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/bloom/IndexFileFilter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/bloom/KeyRangeLookupTree.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/bloom/ListBasedIndexFileFilter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/index/hbase/HBaseIndexQPSResourceAllocator.java
5	5	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/AppendHandleFactory.java
6	6	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/CreateHandleFactory.java
14	10	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
5	5	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieBootstrapHandle.java
12	12	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
3	3	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieIOHandle.java
2	2	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java
2	2	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
12	12	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	2	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java
2	2	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieReadHandle.java
8	8	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
14	14	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
74	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java
4	4	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/WriteHandleFactory.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java
10	10	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java
5	5	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
7	7	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
0	5	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/keygen/KeyGeneratorInterface.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/ConsoleMetricsReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/HoodieGauge.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/InMemoryMetricsReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/Metrics.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/MetricsReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/datadog/DatadogHttpClient.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/datadog/DatadogMetricsReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/datadog/DatadogReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/prometheus/PrometheusReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayMetricsReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/metrics/userdefined/AbstractUserDefinedMetricsReporter.java
4	9	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java
100	117	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/HoodieTable.java
16	15	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
13	13	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/MarkerFiles.java
73	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadProfile.java
2	2	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/WorkloadStat.java
8	7	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
4	6	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/HoodieWriteMetadata.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapRecordConsumer.java
6	7	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java
7	7	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/bootstrap/HoodieBootstrapWriteMetadata.java
20	92	hudi-client/{src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java}
3	3	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/clean/PartitionCleanStat.java
34	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractBulkInsertHelper.java
48	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractDeleteHelper.java
6	58	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/MergeHelper.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractMergeHelper.java}
91	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java
159	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/commit/BucketInfo.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/commit/BucketType.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/commit/InsertBucket.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/commit/InsertBucketCumulativeWeightPair.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/commit/SmallFile.java
58	0	hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/AbstractCompactHelpers.java
10	44	hudi-client/{src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java}
7	9	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/compact/OperationResult.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedIOCompactionStrategy.java
4	4	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
0	3	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/compact/strategy/CompactionStrategy.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/compact/strategy/DayBasedCompactionStrategy.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/compact/strategy/LogFileSizeBasedCompactionStrategy.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/compact/strategy/UnBoundedCompactionStrategy.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java
6	5	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
13	48	hudi-client/{src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java}
20	26	hudi-client/{src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseCopyOnWriteRollbackActionExecutor.java}
20	32	hudi-client/{src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java => hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseMergeOnReadRollbackActionExecutor.java}
11	16	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
0	0	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackRequest.java
7	7	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
11	13	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
3	3	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/action/savepoint/SavepointHelpers.java
13	32	hudi-client/{src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java => hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java}
3	4	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java
3	4	hudi-client/{ => hudi-client-common}/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java
0	0	hudi-client/{ => hudi-client-common}/src/main/resources/log4j.properties
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/ClientFunctionalTestSuite.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogMetricsReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/metrics/prometheus/TestPrometheusReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/metrics/prometheus/TestPushGateWayReporter.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/testutils/providers/DFSProvider.java
26	0	hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/providers/HoodieEngineContextProvider.java
0	0	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/testutils/providers/HoodieMetaClientProvider.java
2	2	hudi-client/{ => hudi-client-common}/src/test/java/org/apache/hudi/testutils/providers/HoodieWriteClientProvider.java
0	0	hudi-client/{ => hudi-client-common}/src/test/resources/exampleEvolvedSchema.txt
0	0	hudi-client/{ => hudi-client-common}/src/test/resources/exampleSchema.txt
0	0	hudi-client/{ => hudi-client-common}/src/test/resources/log4j-surefire-quiet.properties
0	0	hudi-client/{ => hudi-client-common}/src/test/resources/log4j-surefire.properties
235	0	hudi-client/hudi-spark-client/pom.xml
36	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncCompactService.java
25	20	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/client/HoodieReadClient.java
9	13	hudi-client/{src/main/java/org/apache/hudi/client/Compactor.java => hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java}
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/client/HoodieWriteResult.java
319	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java
84	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java
11	43	hudi-client/{src/main/java/org/apache/hudi/client/bootstrap/BootstrapSchemaProvider.java => hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java}
112	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java
44	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkMemoryUtils.java
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/execution/SparkBoundedInMemoryExecutor.java
78	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerFactory.java
5	5	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java
1	1	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/execution/bulkinsert/GlobalSortPartitioner.java
1	1	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/execution/bulkinsert/NonSortPartitioner.java
1	1	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/execution/bulkinsert/RDDPartitionSortPartitioner.java
85	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java
21	31	hudi-client/{src/main/java/org/apache/hudi/index/InMemoryHashIndex.java => hudi-spark-client/src/main/java/org/apache/hudi/index/SparkInMemoryHashIndex.java}
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java
21	50	hudi-client/{src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java => hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java}
5	5	hudi-client/{src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java => hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java}
19	22	hudi-client/{src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java => hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java}
21	32	hudi-client/{src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java => hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java}
29	58	hudi-client/{src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java => hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java}
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriter.java
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriterFactory.java
2	2	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowParquetWriter.java
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetConfig.java
0	0	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetWriteSupport.java
31	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SparkKeyGeneratorInterface.java
215	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java
163	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java
72	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java
86	33	hudi-client/{src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java}
13	11	hudi-client/{src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapDeltaCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapDeltaCommitActionExecutor.java}
134	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanActionExecutor.java
143	111	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java}
12	10	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertCommitActionExecutor.java}
37	14	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java}
11	10	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertPreppedCommitActionExecutor.java}
11	9	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/DeleteCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteCommitActionExecutor.java}
36	19	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/DeleteHelper.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java}
10	9	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/InsertCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertCommitActionExecutor.java}
10	10	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/InsertOverwriteCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java}
6	7	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/InsertOverwritePartitioner.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwritePartitioner.java}
10	8	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/UpsertPreppedCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertPreppedCommitActionExecutor.java}
110	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java
10	9	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/UpsertCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertCommitActionExecutor.java}
10	8	hudi-client/{src/main/java/org/apache/hudi/table/action/commit/InsertPreppedCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertPreppedCommitActionExecutor.java}
69	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java
10	8	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
44	32	hudi-client/{src/main/java/org/apache/hudi/table/action/compact/HoodieMergeOnReadTableCompactor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java}
27	22	hudi-client/{src/main/java/org/apache/hudi/table/action/compact/CompactHelpers.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkCompactHelpers.java}
19	17	hudi-client/{src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkRunCompactionActionExecutor.java}
88	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java
19	19	hudi-client/{src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/AbstractSparkDeltaCommitActionExecutor.java}
17	15	hudi-client/{src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertDeltaCommitActionExecutor.java}
12	11	hudi-client/{src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertPreppedDeltaCommitActionExecutor.java}
12	10	hudi-client/{src/main/java/org/apache/hudi/table/action/deltacommit/DeleteDeltaCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkDeleteDeltaCommitActionExecutor.java}
11	10	hudi-client/{src/main/java/org/apache/hudi/table/action/deltacommit/InsertDeltaCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertDeltaCommitActionExecutor.java}
10	8	hudi-client/{src/main/java/org/apache/hudi/table/action/deltacommit/UpsertPreppedDeltaCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertPreppedDeltaCommitActionExecutor.java}
9	9	hudi-client/{src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitActionExecutor.java}
5	5	hudi-client/{src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitPartitioner.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitPartitioner.java}
10	8	hudi-client/{src/main/java/org/apache/hudi/table/action/deltacommit/InsertPreppedDeltaCommitActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertPreppedDeltaCommitActionExecutor.java}
19	11	hudi-client/{src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkCopyOnWriteRestoreActionExecutor.java}
19	11	hudi-client/{src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java => hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkMergeOnReadRestoreActionExecutor.java}
11	8	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
73	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java
77	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java
82	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMergeOnReadRollbackActionExecutor.java
6	7	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
66	0	hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java
15	11	hudi-client/{ => hudi-spark-client}/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
23	0	hudi-client/hudi-spark-client/src/main/resources/log4j.properties
8	8	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/TestClientRollback.java
1	1	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java
45	44	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/TestHoodieInternalWriteStatus.java
15	15	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java
2	2	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/TestMultiFS.java
24	24	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
3	3	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/TestWriteStatus.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/bootstrap/TestBootstrapRegexModeSelector.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/bootstrap/TestUniformBootstrapModeSelector.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/client/model/TestHoodieInternalRow.java
9	10	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java
4	5	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java
1	1	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java
37	29	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
21	24	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java
34	24	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
13	12	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java
46	45	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
1	6	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndexUsage.java
1	3	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/hbase/TestHBasePutBatchSizeCalculator.java
3	3	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java
6	5	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
3	3	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
19	22	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/io/TestHoodieRowCreateHandle.java
31	19	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
12	8	hudi-client/{src/test/java/org/apache/hudi/client/utils/TestSparkConfigUtils.java => hudi-spark-client/src/test/java/org/apache/hudi/io/TestSparkIOUtils.java}
2	1	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java
5	9	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/io/storage/TestHoodieInternalRowParquetWriter.java
29	28	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/TestCleaner.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
59	56	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
7	3	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/TestMarkerFiles.java
2	2	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/bootstrap/TestBootstrapUtils.java
22	21	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
14	14	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java
8	8	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
6	6	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
11	10	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
17	16	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
5	5	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java
2	2	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java
6	6	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
3	3	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java
6	6	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java
13	13	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/Assertions.java
13	5	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
26	26	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
59	13	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/MetadataMergeWriteStatus.java
0	0	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java
2	2	hudi-client/{ => hudi-spark-client}/src/test/java/org/apache/hudi/testutils/providers/SparkProvider.java
30	0	hudi-client/hudi-spark-client/src/test/resources/log4j-surefire-quiet.properties
31	0	hudi-client/hudi-spark-client/src/test/resources/log4j-surefire.properties
0	0	hudi-client/{ => hudi-spark-client}/src/test/resources/testDataGeneratorSchema.txt
5	285	hudi-client/pom.xml
0	266	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
0	42	hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java
0	106	hudi-client/src/main/java/org/apache/hudi/client/utils/SparkConfigUtils.java
0	216	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
0	161	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
0	121	hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java
0	139	hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java
0	106	hudi-client/src/main/java/org/apache/hudi/table/action/commit/WriteHelper.java
7	1	hudi-examples/pom.xml
4	3	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java
7	1	hudi-integ-test/pom.xml
11	9	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
3	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java
15	2	hudi-spark/pom.xml
8	7	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
11	4	hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java
6	6	hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java
6	4	hudi-spark/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
10	9	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
5	4	hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
6	5	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
3	3	hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
12	10	hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
3	2	hudi-spark/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java
2	2	hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
15	2	hudi-utilities/pom.xml
8	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
12	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
14	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
6	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
6	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
6	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
7	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
8	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java
7	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
17	3	packaging/hudi-integ-test-bundle/pom.xml
8	2	packaging/hudi-spark-bundle/pom.xml
8	2	packaging/hudi-utilities-bundle/pom.xml
2	0	style/checkstyle.xml

commit 5aaaf8bff17fcff595aa3927b45f4928e0d400e8
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-09-30 17:17:44 +0800

    [MINOR] Change the log level of the dag scheduler for the test suite (#2134)

2	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java

commit a99e93bed542c8ae30a641d1df616cc2cd5798e1
Author: satishkotha <satishkotha@uber.com>
Date:   2020-09-29 17:04:25 -0700

    [HUDI-1072] Introduce REPLACE top level action. Implement insert_overwrite operation on top of replace action (#2048)

27	20	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
37	6	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
68	0	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteResult.java
7	0	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
6	0	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
38	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
99	0	hudi-client/src/main/java/org/apache/hudi/table/ReplaceArchivalHelper.java
12	2	hudi-client/src/main/java/org/apache/hudi/table/action/HoodieWriteMetadata.java
25	26	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
80	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertOverwriteCommitActionExecutor.java
51	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertOverwritePartitioner.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
2	1	hudi-client/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
84	4	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
128	76	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
2	0	hudi-common/pom.xml
8	0	hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc
32	0	hudi-common/src/main/avro/HoodieInstantInfo.avsc
64	0	hudi-common/src/main/avro/HoodieReplaceCommitMetadata.avsc
10	0	hudi-common/src/main/avro/HoodieRestoreMetadata.avsc
10	0	hudi-common/src/main/avro/HoodieRollbackMetadata.avsc
2	1	hudi-common/src/main/java/org/apache/hudi/common/model/ActionType.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
142	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieReplaceCommitMetadata.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
2	8	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
18	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
10	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
24	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
12	6	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java
151	36	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
12	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
36	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
45	4	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
20	6	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
58	4	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
41	6	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java
96	0	hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java
11	1	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java
10	12	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java
25	4	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
156	5	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
171	39	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
24	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
36	24	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
13	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
15	16	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
96	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestCommitUtils.java
24	12	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
4	0	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
7	5	hudi-spark/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java
1	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
35	33	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
8	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
6	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java

commit 32c9cad52c7eef1067f12867afc405a1624cef14
Author: hongdd <jn_hdd@163.com>
Date:   2020-09-29 23:02:15 +0800

    [HUDI-840] Avoid blank file created by HoodieLogFormatWriter (#1567)

71	50	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
6	3	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
6	0	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormatAppendFailure.java

commit 20b9b399c980270afdd60cc5fbce783c700a8376
Author: liujinhui <965147871@qq.com>
Date:   2020-09-29 13:44:31 +0800

    [HUDI-1233] Deltastreamer Kafka consumption delay reporting indicators (#2074)

12	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
5	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java
6	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
6	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
15	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
9	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java

commit c0c0095fa96636d620c5ff428610d75aee902d74
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-09-29 05:12:57 +0800

    [MINOR] Reformat prepare_integration_suite script (#2126)

23	23	hudi-integ-test/prepare_integration_suite.sh

commit a86f5574ed68333f03165ae560a4d88812ba7478
Author: liujinhui <965147871@qq.com>
Date:   2020-09-27 14:10:13 +0800

    [HUDI-1192] Make create hive database automatically configurable (#1968)

2	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
2	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
3	0	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
11	5	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
21	4	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit b0f1b736f8f16253cf7522589a343ef384d7d407
Author: leesf <leesf@apache.org>
Date:   2020-09-26 22:25:19 +0800

    [MINOR] Fix checkstyle (#2117)

1	1	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java

commit 1be0b06ef8839c46318cfa900f18ac6e237d928b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-09-26 06:21:47 -0700

    [HUDI-995] Migrate HoodieTestUtils APIs to HoodieTestTable (#2112)
    
    Remove APIs in HoodieTestUtils
    
    - HoodieTestUtils#createInflightCommitFiles
    - HoodieTestUtils#getCommitFilePath
    - HoodieTestUtils#doesCommitExist
    
    and migrate usages to HoodieTestTable in
    
    - hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
    - hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
    - hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java
    - hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java
    - hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
23	15	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
28	26	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
8	6	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java
24	36	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
31	25	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java
26	41	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java
64	62	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
0	29	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java

commit ae68b2b355a9dd23ff9fd1dd3f5637039b02c14a
Author: dugenkui <dugenkui@meituan.com>
Date:   2020-09-26 20:40:33 +0800

    [MINOR] fix typos (#2116)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/BootstrapCommand.java
6	6	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java
8	8	hudi-common/src/main/java/org/apache/hudi/common/model/BootstrapFileMapping.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
41	21	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueProducer.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java
2	2	hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java

commit 1dd6635fbbe0e8bb9e2844d1b78c916e8ddaf7c1
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-09-26 01:13:39 +0800

    [MINOR] Fix ClassCastException when use QuickstartUtils generate data (#2105)

1	1	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 2eaba0962a67d72000a3b1033f5f3d5bde5f4d7f
Author: hongdd <jn_hdd@163.com>
Date:   2020-09-26 00:36:41 +0800

    [HUDI-544] Archived commits command code cleanup (#1242)
    
    * Archived commits command code cleanup

6	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
7	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
11	4	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 6837118c21d2575cfba0486b0a7344f55d41675f
Author: dugenkui <dugenkui@gmail.com>
Date:   2020-09-25 22:21:37 +0800

    [MINOR] Improve description (#2113)

1	2	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
1	1	hudi-examples/src/main/java/org/apache/hudi/examples/common/ExampleDataSchemaProvider.java
4	2	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java

commit 83d2e03cf7f51059c292c2acf1d124fe69259d65
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-09-24 15:01:32 -0700

    [MINOR] Adding scripts to checkout and push to PRs (#2109)
    
    - Tested the checkout_pr.sh locally
     - Tested a dryrun of pr_push_command.sh

61	0	scripts/checkout_pr.sh
60	0	scripts/pr_push_command.sh

commit d37977b310713f59ddbecb3c6127d9e86414a8b0
Author: wenningd <wenningding95@gmail.com>
Date:   2020-09-22 13:29:59 -0700

    [MINOR] Remove useless config for bootstrap integ testing (#2102)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

0	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java

commit fcc497eff11f128b2c1feaa5ced6c340b6b41849
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-09-23 00:57:20 +0800

    [HUDI-1268] fix UpgradeDowngrade fs Rename issue for hdfs and aliyun oss (#2099)

8	0	hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java
12	3	hudi-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
19	0	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java

commit 80870165044ed675d2c40d05eb04740bc6b9216a
Author: Kaiux <kaiux@foxmail.com>
Date:   2020-09-22 18:28:19 +0800

    [HUDI-1213] Set Default for the bootstrap config : hoodie.bootstrap.full.input.provider (#2087)

3	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java

commit c8e19e2def0c33415bc3945ffb81f524c484c924
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   2020-09-19 11:18:36 -0700

    [HUDI-801] Adding a way to post process schema after it is fetched (#1524)
    
    * [HUDI-801] Adding a way to post process schema after it is fetched
    
    Co-authored-by: Alex Filipchik <alex.filipchik@csscompany.com>
    Co-authored-by: Balaji Varadarajan <balaji.varadarajan@robinhood.com>

44	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
13	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
8	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DelegatingSchemaProvider.java
58	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaPostProcessor.java
54	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProviderWithPostProcessor.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java
35	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/DummySchemaProvider.java
67	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java
1	14	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit 7c45894f432387463b05c096bfe15d196e596ef5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-09-19 02:55:24 -0700

    [HUDI-995] Migrate HoodieTestUtils APIs to HoodieTestTable (#2094)
    
    Migrate deprecated APIs in HoodieTestUtils to HoodieTestTable for test classes
    - TestClientRollback
    - TestCopyOnWriteRollbackActionExecutor
    
    Use FileCreateUtils APIs in CompactionTestUtils.
    
    Then remove unused deprecated APIs after migration.

109	107	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
49	48	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
26	26	hudi-common/src/test/java/org/apache/hudi/common/testutils/CompactionTestUtils.java
7	3	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
47	16	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
0	30	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java

commit 73e5b4c7bbd1306a6a2686f6e8d85a2c871ac7ff
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-09-18 17:07:52 +0530

    [HUDI-796] Add deduping logic for upserts case (#1558)

8	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
6	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
28	0	hudi-cli/src/main/scala/org/apache/hudi/cli/DeDupeType.scala
84	28	hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala
65	1	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java

commit bf65269f66075069b421dfa25f90b105bc4ec662
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date:   2020-09-17 20:03:35 -0700

    [HUDI-1230] Fix for preventing MOR datasource jobs from hanging via spark-submit (#2046)

5	5	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
105	33	hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala

commit 3201665295122a892c8ade92aca5f72426a403fd
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-09-17 09:29:07 -0700

    [HUDI-995] Use HoodieTestTable in more classes (#2079)
    
    * [HUDI-995] Use HoodieTestTable in more classes
    
    Migrate test data prep logic in
    - TestStatsCommand
    - TestHoodieROTablePathFilter
    
    Re-implement methods for create new commit times in HoodieTestUtils and HoodieClientTestHarness
    - Move relevant APIs to HoodieTestTable
    - Migrate usages
    
    After changing to HoodieTestTable APIs, removed unused deprecated APIs in HoodieTestUtils

12	9	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
31	9	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
8	7	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
2	8	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
17	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
79	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
11	88	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
46	52	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java

commit 581d54097c89e5f9c04d8f606c9081dc17138bd5
Author: shenh062326 <shenh062326@126.com>
Date:   2020-09-06 16:00:45 +0800

    [HUDI-1143] Change timestamp field in HoodieTestDataGenerator from double to long

1	1	docker/demo/config/test-suite/target.avsc
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java
2	1	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
128	0	hudi-client/src/test/resources/testDataGeneratorSchema.txt
14	14	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
2	2	hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java
2	2	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
10	10	hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
6	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java
1	1	hudi-utilities/src/test/resources/delta-streamer-config/source-flattened.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/source_short_trip_uber.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/source_uber.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/target-flattened.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/target_short_trip_uber.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/target_uber.avsc

commit 6c84ef20ac737087ed76c12b2f3e40d9c3aa4b30
Author: liujinhui <965147871@qq.com>
Date:   2020-09-16 10:43:52 +0800

    [HUDI-1282] Check whether the topic exists before deltastrmer consumes Kafka (#2090)

13	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit 5e61454a6c343225e6ca90c4be79e0c2937a748a
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-09-11 16:11:42 -0700

    [HUDI-802] AWSDmsTransformer does not handle insert and delete of a row in a single batch correctly (#2084)

19	4	hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java
132	0	hudi-spark/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java

commit a1cff8abae9d9dab87d439c90451da73cc71eebf
Author: Karl-WangSK <53078090+Karl-WangSK@users.noreply.github.com>
Date:   2020-09-10 12:54:21 +0800

    [HUDI-1255] Add new Payload(OverwriteNonDefaultsWithLatestAvroPayload) for updating specified fields in storage (#2056)
    
    Add new Payload(OverwriteNonDefaultsWithLatestAvroPayload) for updating specified fields in storage
    
    ## Brief change log
    
    update current value for several fields that you want to change.
    
    The default payload OverwriteWithLatestAvroPayload overwrite the whole record when
    
    compared to `orderingVal`.This doesn't meet our need when we just want to change specified fields.
    For example: (suppose Default value is null)
    ```
    current Value
    Field:      name   age   gender
    Value:     karl     20    male
    ```
    ```
    insert Value
    Field:      name   age   gender
    Value:     null     30    null
    ```
    ```
    After insert:
    Field:      name   age   gender
    Value:     karl     30    male
    ```
    ## Verify this pull request
    
    Added TestOverwriteNonDefaultsWithLatestAvroPayload to verify the change.

72	0	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java
8	1	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
121	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteNonDefaultsWithLatestAvroPayload.java

commit 063a98fc2b76beac28a4797884973abd2911c887
Author: linshan-ma <mabin194046@163.com>
Date:   2020-09-09 23:42:41 +0800

    [HUDI-1254] TypedProperties can not get values by initializing an existing properties (#2059)

16	7	hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java
84	0	hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java

commit fec7cd3c9704ce366d1d92fd4d9941a7edbe8198
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date:   2020-08-24 15:56:07 -0700

    [HUDI-1130] hudi-test-suite support for schema evolution (can be triggered on any insert/upsert DAG node).

4	15	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
10	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
9	7	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/ExecutionContext.java
102	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java
5	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java
3	4	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java

commit 53d1e551108c6fcde3b39f0080b64996892256de
Author: Abhishek Modi <modi@uber.com>
Date:   2020-09-01 20:12:22 -0700

    Test Suite should work with Docker + Unit Tests

7	9	docker/demo/config/test-suite/complex-dag-cow.yaml
17	7	docker/demo/config/test-suite/test-source.properties
19	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
156	122	hudi-integ-test/README.md
12	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
0	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java
2	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
2	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
3	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java
16	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
2	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGenerator.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java
34	22	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
40	0	hudi-integ-test/src/test/resources/unit-test-cow-dag.yaml
40	0	hudi-integ-test/src/test/resources/unit-test-mor-dag.yaml
2	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
2	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	0	hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
61	9	packaging/hudi-integ-test-bundle/pom.xml

commit 2fee087f0f167370570a88b6d9d28ddbe8402a3e
Author: wenningd <wenningding95@gmail.com>
Date:   2020-09-08 17:50:54 -0700

    [HUDI-1181] Fix decimal type display issue for record key field (#1953)
    
    * [HUDI-1181] Fix decimal type display issue for record key field
    
    * Remove getNestedFieldVal method from DataSourceUtils
    
    * resolve comments
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

38	16	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
0	74	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
24	2	hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit e3cf34dff924fe6d93ad5e7c603d3095a8714e38
Merge: fe7c9e71eb 51b16bd36f
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-09-08 00:02:08 -0700

    Merge pull request #2077 from chuangehh/typofix
    
    [MINOR] Fix typo in the pom files

commit 51b16bd36fd7b49f453bfbfcfb1e344ca14ca11a
Author: chuangehh <job_lcc@sina.com>
Date:   2020-09-08 11:55:38 +0800

    [MINOR] fix typo

2	2	packaging/hudi-hadoop-mr-bundle/pom.xml
2	2	packaging/hudi-presto-bundle/pom.xml
2	2	packaging/hudi-spark-bundle/pom.xml
2	2	packaging/hudi-utilities-bundle/pom.xml

commit fe7c9e71eb0aa365306c2d91da82234a96a5c1c6
Author: Prashant Wason <pwason@uber.com>
Date:   2020-09-07 19:30:45 -0700

    [MINOR] Fix BindException when running tests of shared machines. (#2070)
    
    When unit tests are run on shared machines (e.g. jenkins cluster), the unit tests sometimes fail due to BindException in starting HDFS Cluster. This is because the port chosen may have been bound by another process using the same machine. The fix is to retry the port selection a few times.

27	14	hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java

commit 83e39e2b179fb1db13f1c4865a1849855fc32b65
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-09-07 02:54:36 -0700

    [HUDI-781] Add HoodieWriteableTestTable (#2040)
    
    - Introduce HoodieWriteableTestTable for writing records into files
    - Migrate writeParquetFiles() in HoodieClientTestUtils to HoodieWriteableTestTable
    - Adopt HoodieWrittableTestTable for test cases in
      - ITTestRepairsCommand.java
      - TestHoodieIndex.java
      - TestHoodieKeyLocationFetchHandle.java
      - TestHoodieGlobalBloomIndex.java
      - TestHoodieBloomIndex.java
    - Renamed HoodieTestTable and FileCreateUtils APIs
      - dataFile changed to baseFile

15	36	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java
30	56	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
44	71	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
37	80	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
15	49	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
48	48	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
13	13	hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
5	5	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java
0	64	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
131	0	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java
54	20	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
29	20	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java

commit 6537af26761ca785aaf4f8e9158909205875c1bf
Author: Sreeram Ramji <sreeram.ramji@robinhood.com>
Date:   2020-09-04 09:08:30 -0700

    [HUDI-1153] Spark DataSource and Streaming Write must fail when operation type is misconfigured (#2014)

8	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
13	10	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
6	5	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
16	18	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
4	3	hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java

commit 8d19ebfd0f1edc412332045ca6ba10f50af01d9f
Author: Dongwook <kwondw@users.noreply.github.com>
Date:   2020-09-01 09:55:31 -0700

    [HUDI-993] Let delete API use "hoodie.delete.shuffle.parallelism" (#1703)
    
    For Delete API, "hoodie.delete.shuffle.parallelism" isn't used as opposed to "hoodie.upsert.shuffle.parallelism" is used for upsert, this creates the performance difference between delete by upsert API with "EmptyHoodieRecordPayload" and delete API for certain cases.
    
    This patch makes the following fixes in this regard.
    - Let deduplicateKeys method use "hoodie.delete.shuffle.parallelism"
    - Repartition inputRDD as "hoodie.delete.shuffle.parallelism" in case "hoodie.combine.before.delete=false"

1	0	docker/demo/config/base.properties
1	0	docker/demo/config/hoodie-incr.properties
1	0	docker/demo/config/test-suite/base.properties
11	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
16	7	hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteHelper.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
1	0	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
2	0	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
186	0	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java
1	1	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
1	0	hudi-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java
2	1	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java
1	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java
1	0	hudi-spark/src/test/java/HoodieJavaApp.java
1	0	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java
1	0	hudi-utilities/src/test/resources/delta-streamer-config/base.properties

commit 48a58c98a11ec9d5d3f40c07f23e64a1d5ccd6e6
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-08-31 16:26:10 -0700

    [MINOR] fix get classname for hive sync (#2008)

17	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
1	2	hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java

commit 6461927eac3f8a225b17af5ecb6ace8c9cf1757b
Author: Prashant Wason <pwason@uber.com>
Date:   2020-08-31 08:05:59 -0700

    [HUDI-960] Implementation of the HFile base and log file format. (#1804)
    
    * [HUDI-960] Implementation of the HFile base and log file format.
    
    1. Includes HFileWriter and HFileReader
    2. Includes HFileInputFormat for both snapshot and realtime input format for Hive
    3. Unit test for new code
    4. IT for using HFile format and querying using Hive (Presto and SparkSQL are not supported)
    
    Advantage:
    HFile file format saves data as binary key-value pairs. This implementation chooses the following values:
    1. Key = Hoodie Record Key (as bytes)
    2. Value = Avro encoded GenericRecord (as bytes)
    
    HFile allows efficient lookup of a record by key or range of keys. Hence, this base file format is well suited to applications like RFC-15, RFC-08 which will benefit from the ability to lookup records by key or search in a range of keys without having to read the entire data/log format.
    
    Limitations:
    HFile storage format has certain limitations when used as a general purpose data storage format.
    1. Does not have a implemented reader for Presto and SparkSQL
    2. Is not a columnar file format and hence may lead to lower compression levels and greater IO on query side due to lack of column pruning
    
    
    Other changes:
     - Remove databricks/avro from pom
     - Fix HoodieClientTestUtils from not using scala imports/reflection based conversion etc
     - Breaking up limitFileSize(), per parquet and hfile base files
     - Added three new configs for HoodieHFileConfig - prefetchBlocksOnOpen, cacheDataInL1, dropBehindCacheCompaction
     - Throw UnsupportedException in HFileReader.getRecordKeys()
     - Updated HoodieCopyOnWriteTable to create the correct merge handle (HoodieSortedMergeHandle for HFile and HoodieMergeHandle otherwise)
    
    * Fixing checkstyle
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

6	0	hudi-client/pom.xml
30	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
15	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
15	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
6	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
126	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java
22	4	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
95	0	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java
166	0	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java
10	5	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
6	0	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
33	10	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
6	1	hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java
2	3	hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieMergeOnReadTableCompactor.java
2	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
6	1	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
2	1	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
2	1	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
5	0	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java
124	116	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
4	2	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
2	1	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
3	2	hudi-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
4	4	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
49	5	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java
14	2	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java
159	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
14	1	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java
12	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReaderFactory.java
300	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java
0	30	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieAvroLogFormat.java
21	15	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
163	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java
101	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java
110	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java
2	68	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
19	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
54	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
426	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieHFileInputFormat.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
33	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
17	0	packaging/hudi-spark-bundle/pom.xml
17	1	packaging/hudi-utilities-bundle/pom.xml

commit 6df8f88d86a20bbabeb0acc1103376ac6f461df6
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-31 18:03:10 +0800

    [HUDI-1252] Remove unused class NoOpBulkInsertPartitioner in DataSourceTestUtils (#2054)

0	45	hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java

commit 6b417d1a867c51dad174fce7c68dd7a3146931b5
Author: Thinking Chen <744417972@qq.com>
Date:   2020-08-29 16:16:42 +0800

    [HUDI-1225] Fix: Avro Date logical type not handled correctly when converting to Spark Row (#2047)

4	4	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
59	0	hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionHelper.scala

commit 0360bef2173e95462975eb967424ec9f68b74123
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-08-28 23:06:25 -0700

    [MINOR] Improve helper methods in TestCleaner (#2052)
    
    - Use private static assert methods
    - Use ParameterizedTest
    - Rename HoodieTestTable APIs

19	32	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java

commit 4dbeabffa3b2b9f30c48f2deae3ea4f91570afdd
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-08-25 21:48:28 -0700

    [HUDI-1228] Add utility method to query extra metadata

30	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java
43	3	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java

commit fa812482473f0cc8c2f34e2db07366cc3e5f7066
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-28 08:44:40 +0800

    [HUDI-531] Add java doc for hudi test suite general classes (#1900)

1	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
3	3	hudi-integ-test/README.md
6	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/Converter.java
3	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BulkInsertNode.java
4	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CleanNode.java
10	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java
7	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java
3	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java
3	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java
3	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java
9	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java
3	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java
9	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/SparkSQLQueryNode.java
3	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/UpsertNode.java
9	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateNode.java
21	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
1	1	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
58	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
12	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadSizeEstimator.java
3	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java
3	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriterAdapter.java

commit 3a578d740234db9c44e6b9f8d27d21713eb5f386
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-08-26 12:26:33 -0400

    [HUDI-1056] Fix release validate script for rc_num and release_type (#2025)

34	12	scripts/release/validate_staged_release.sh

commit dedc4517dd7014af697169130f5a72c1e90469b7
Author: hongdd <jn_hdd@163.com>
Date:   2020-08-26 21:08:09 +0800

    [HUDI-978] Specify version information for each component separately (#1772)

3	6	hudi-integ-test/prepare_integration_suite.sh

commit f468c20c6cb237c1d190989045f397758db8d685
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-08-25 13:37:48 -0700

    [HUDI-1226] Fix ComplexKeyGenerator for non-partitioned tables

2	2	hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
4	0	hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
19	0	hudi-spark/src/test/java/TestComplexKeyGenerator.java

commit df8f099c999379038bf189491ff71dfb958806dd
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-26 08:49:01 +0800

    [HUDI-532] Add java doc for the test classes of hudi test suite (#1901)

3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestFileDeltaInputWriter.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/configuration/TestWorkflowBuilder.java
9	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java
9	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/ComplexDagGenerator.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGenerator.java
4	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGeneratorMOR.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadEstimator.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSAvroDeltaInputReader.java
3	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java
12	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/utils/TestUtils.java

commit 7e68c42eb19bfe955217f0e8e25acbeb4a6974b5
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-26 08:46:19 +0800

    [HUDI-1223] Remove unused UpdateHandler class in HoodieCopyOnWriteTable (#2032)

0	27	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java

commit cc555ba1882ba12724a34953db042f719519534a
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date:   2020-08-25 08:21:21 -0700

    [HUDI-1133] Tune buffer sizes for the diskbased external spillable map

2	2	hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java

commit 492ddcbb06e107618ae71fa369ba07af47a036fb
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-08-13 17:14:25 -0700

    [HUDI-1191] Add incremental meta client API to query partitions modified in a time window

101	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java
213	0	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java
5	21	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java

commit 6a4dc7384c8f7efbbce729b8e57b3eaaf5cab104
Author: Trevor <wowtuanzi@gmail.com>
Date:   2020-08-25 19:04:13 +0800

    [HUDI-1218] Introduce BulkInsertSortMode as Independent class (#2021)

1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	7	hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerFactory.java
28	0	hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertSortMode.java
4	4	hudi-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java

commit 218d4a6836ce86216d289fa5fbb389871ad7ba0f
Author: Prashant Wason <pwason@uber.com>
Date:   2020-08-24 14:10:48 -0700

    [HUDI-1135] Make timeline server timeout settings configurable.

3	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
14	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
7	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java

commit 9b1f16b604143f5a6926db57173f9eeee21fbb6c
Author: Prashant Wason <pwason@uber.com>
Date:   2020-08-24 14:24:50 -0700

    [HUDI-1136] Add back findInstantsAfterOrEquals to the HoodieTimeline class.

7	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java

commit f7e02aa8a309bfaa3e5c9c2f2523c82715628df3
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-08-24 14:47:38 -0700

    [MINOR] Update DOAP with 0.6.0 Release (#2024)

5	0	doap_HUDI.rdf

commit ea983ff912dab8604eec3085bc1c041cb6e60bc8
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-08-24 11:11:10 -0700

    [HUDI-1137] Add option to configure different path selector

12	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java
7	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java

commit 111a9753a0dc8a8634a5aaf549ceff5cbd89bcb8
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-08-24 09:28:29 -0700

    [MINOR] Update README.md (#2010)
    
    - add maven profile to test running commands
    - remove -DskipITs for packaging commands

11	6	README.md

commit f8dcd5334effb0157cfa764c4f6a08976eb346e1
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-24 17:33:28 +0800

    [HUDI-1217] Improve avroToBytes method of HoodieAvroUtils (#2018)

10	8	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
1	7	hudi-common/src/main/java/org/apache/hudi/common/model/BaseAvroPayload.java
4	9	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java
4	10	hudi-common/src/test/java/org/apache/hudi/common/testutils/AvroBinaryTestPayload.java

commit 35b21855da209c812e006c1afff3d940d5ac2a18
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-23 19:56:50 +0800

    [HUDI-1150] Fix unable to parse input partition field :1 exception when using TimestampBasedKeyGenerator(#1920)

3	3	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
33	5	hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
31	9	hudi-spark/src/main/java/org/apache/hudi/keygen/parser/{HoodieDateTimeParser.java => AbstractHoodieDateTimeParser.java}
4	13	hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java
37	2	hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java

commit 7291607ae31dc9fc887b6af79e8275f42da6b50a
Author: Trevor <wowtuanzi@gmail.com>
Date:   2020-08-22 21:45:50 +0800

    [MINOR] Remove unused log code in HoodieReadClient (#2000)

0	3	hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java

commit 1d09c02f1cb9a3929995fb6df1bb7d58cdcb3eb3
Author: Shen Hong <shenh062326@126.com>
Date:   2020-08-22 19:41:39 +0800

    [HUDI-1083] Optimization in determining insert bucket location for a given key (#1868)
    
    - To determine insert bucket location for a given key, hudi walks through all insert buckets with O(N) cost, while this patch adds an optimization to make it O(logN).

69	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertBucketCumulativeWeightPair.java
23	16	hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
33	18	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java

commit bfdce7b082256f3f6c51321e102284191e847145
Author: liujinhui <965147871@qq.com>
Date:   2020-08-21 20:24:04 +0800

    [HUDI-1193](Upgrade http dependency version) (#1970)

4	3	pom.xml

commit 3a2ae16961131ed22e3b09877ff00cc42d47aa7d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-08-20 20:46:33 -0700

    [HUDI-781] Introduce HoodieTestTable for test preparation (#1997)

7	6	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
1	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
1	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java
2	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
8	7	hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java
5	3	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
6	9	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
135	260	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
14	14	hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
5	5	hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java
4	4	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
6	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
30	39	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java
6	120	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
8	7	{hudi-client/src/main/java/org/apache/hudi/io => hudi-common/src/main/java/org/apache/hudi/common/model}/IOType.java
147	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
232	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
42	44	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java

commit 34c8c9e3ea068f969b4ffa263071b79bf1d11bd5
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-20 23:12:20 +0800

    [MINOR] Move HoodieUpgradeDowngradeException to exception package (#1993)

1	3	hudi-client/src/main/java/org/apache/hudi/{table/upgrade => exception}/HoodieUpgradeDowngradeException.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java

commit b883b6d2682a3043eaf263c86182b19922660fd9
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-20 23:00:59 +0800

    [HUDI-1122] Introduce a kafka implementation of hoodie write commit ca°≠ (#1886)

3	10	hudi-client/src/main/java/org/apache/hudi/callback/impl/HoodieWriteCommitHttpCallback.java
44	0	hudi-client/src/main/java/org/apache/hudi/callback/util/HoodieWriteCommitCallbackUtil.java
7	6	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java
7	0	hudi-utilities/pom.xml
141	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallback.java
48	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java
7	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	0	packaging/hudi-utilities-bundle/pom.xml

commit bd7814dadf9f6f5faa5b9ab61ff5f6bbfe5da5e2
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-20 18:18:36 +0800

    [HUDI-1206] Remove unused variable in Compactor (#1994)

1	1	hudi-client/src/main/java/org/apache/hudi/async/AsyncCompactService.java
1	4	hudi-client/src/main/java/org/apache/hudi/client/Compactor.java

commit a2312fa1b79609e35a9c7f775eb1d76cd0c0754a
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-08-20 06:13:34 +0530

    [HUDI-1177]: fixed TaskNotSerializableException in TimestampBasedKeyGenerator (#1987)
    
    
    Co-authored-by: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>

25	15	hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
5	2	hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParser.java
11	11	hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java

commit 1137b0b3434a788fa42a17e5755af8ffb0d3f473
Author: Ryan Pifer <rmpifer@umich.edu>
Date:   2020-08-13 15:39:37 -0700

    Fix HBASE index MOR tables not considering record index valid

2	5	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
14	3	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java

commit 6fa371a79c27aa532700b5f1eecf5933fc618693
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-08-18 21:29:52 -0700

    [MINOR] Fix release script for onetime uploading of gpgkeys (#1949)

15	6	scripts/release/preparation_before_release.sh

commit 824f23bcb8b017aca44a6fbd8af41f4170e1eee0
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-08-18 08:41:16 -0700

    [HUDI-1197] Fix import issue that fails scala 2.12 build (#1976)

2	2	hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala

commit bedbb825e06d479f90bb09d09be4ade37fdaa8b3
Author: Abhishek Modi <modi@uber.com>
Date:   2020-08-18 07:42:05 -0700

    [HUDI-1025] Meter RPC calls in HoodieWrapperFileSystem (#1916)

13	0	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
31	0	hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java
43	0	hudi-common/src/main/java/org/apache/hudi/common/metrics/Counter.java
26	0	hudi-common/src/main/java/org/apache/hudi/common/metrics/Metric.java
104	0	hudi-common/src/main/java/org/apache/hudi/common/metrics/Registry.java
75	0	hudi-common/src/test/java/org/apache/hudi/common/TestRegistry.java

commit 4226d7514400d86761e39639e9554809b72b627c
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-08-14 12:54:15 -0700

    Moving to 0.6.1-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hudi-cli/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-examples/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-integ-test/pom.xml
1	1	hudi-spark/pom.xml
1	1	hudi-sync/hudi-dla-sync/pom.xml
1	1	hudi-sync/hudi-hive-sync/pom.xml
1	1	hudi-sync/hudi-sync-common/pom.xml
1	1	hudi-sync/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-sync-bundle/pom.xml
1	1	packaging/hudi-integ-test-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit b8f4a30efd8bb6257c926a4b79a092cb96b8aff8
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-08-14 01:42:15 -0700

    Fix Integration test flakiness in HoodieJavaStreamingApp (#1967)

27	17	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
1	1	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
4	0	hudi-spark/src/test/java/HoodieJavaApp.java
3	1	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
2	2	hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala

commit 9bde6d616c5ee2ef131037af5b5527a0717cc527
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-08-13 23:28:17 -0700

    [HUDI-1190] Introduce @PublicAPIClass and @PublicAPIMethod annotations to mark public APIs (#1965)
    
    - Maturity levels one of : evolving, stable, deprecated
    - Took a pass and marked out most of the existing public API

11	0	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
42	0	hudi-common/src/main/java/org/apache/hudi/ApiMaturityLevel.java
37	0	hudi-common/src/main/java/org/apache/hudi/PublicAPIClass.java
38	0	hudi-common/src/main/java/org/apache/hudi/PublicAPIMethod.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java
5	0	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
8	0	hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckPointProvider.java
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java
5	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
5	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java

commit 379cf0786fe9fea94ec8c0da7d467ae2fb30dd0b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-08-13 03:33:39 -0400

    [HUDI-1013] Adding Bulk Insert V2 implementation (#1834)
    
     - Adding ability to use native spark row writing for bulk_insert
     - Controlled by `ENABLE_ROW_WRITER_OPT_KEY` datasource write option
     - Introduced KeyGeneratorInterface in hudi-client, moved KeyGenerator back to hudi-spark
     - Simplified the new API additions to just two new methods : getRecordKey(row), getPartitionPath(row)
     - Fixed all built-in key generators with new APIs
     - Made the field position map lazily created upon the first call to row based apis
     - Implemented native row based key generators for CustomKeyGenerator
     - Fixed all the tests, with these new APIs
    
    Co-authored-by: Balaji Varadarajan <varadarb@uber.com>
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

2	2	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
5	6	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
150	0	hudi-client/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java
243	0	hudi-client/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java
203	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java
36	0	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java
12	11	hudi-client/src/main/java/org/apache/hudi/io/storage/{HoodieParquetConfig.java => HoodieBaseParquetConfig.java}
1	1	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java
46	0	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriter.java
79	0	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriterFactory.java
72	0	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowParquetWriter.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
34	0	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetConfig.java
89	0	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetWriteSupport.java
0	88	hudi-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
18	17	hudi-spark/src/test/java/org/apache/hudi/keygen/TestKeyGeneratorUtilities.java => hudi-client/src/main/java/org/apache/hudi/keygen/KeyGeneratorInterface.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java
87	0	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieInternalWriteStatus.java
239	0	hudi-client/src/test/java/org/apache/hudi/client/model/TestHoodieInternalRow.java
231	0	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieRowCreateHandle.java
117	0	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieInternalRowParquetWriter.java
2	2	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
175	0	hudi-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
1	1	hudi-common/src/test/resources/timestamp-test-evolved.avsc
26	31	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
108	0	hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java
91	0	hudi-spark/src/main/java/org/apache/hudi/internal/DefaultSource.java
119	0	hudi-spark/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java
52	0	hudi-spark/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriterFactory.java
119	0	hudi-spark/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java
45	0	hudi-spark/src/main/java/org/apache/hudi/internal/HoodieWriterCommitMessage.java
130	0	hudi-spark/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
14	19	hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
44	31	hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
16	12	hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
0	0	{hudi-client => hudi-spark}/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
34	1	{hudi-client => hudi-spark}/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
9	6	hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
202	0	hudi-spark/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java
23	25	hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
80	37	hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
9	2	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	4	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
48	52	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
77	0	hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala
3	3	hudi-spark/src/test/java/HoodieJavaApp.java
1	1	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
156	0	hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java
213	0	hudi-spark/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java
321	0	hudi-spark/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java
10	2	hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
61	6	hudi-spark/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
11	2	hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java
28	1	hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
156	80	hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
106	0	hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java
68	0	hudi-spark/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java
36	0	hudi-spark/src/test/resources/exampleSchema.txt
272	29	hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
133	6	hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
2	0	style/checkstyle-suppressions.xml

commit 8d0426826472f5b861b6bd7c43d8935917431467
Author: Udit Mehrotra <uditme@amazon.com>
Date:   2020-08-12 17:51:31 -0700

    [HUDI-1174] Changes for bootstrapped tables to work with presto (#1944)
    
    The purpose of this pull request is to implement changes required on Hudi side to get Bootstrapped tables integrated with Presto. The testing was done against presto 0.232 and following changes were identified to make it work:
    
    Annotation UseRecordReaderFromInputFormat is required on HoodieParquetInputFormat as well, because the reading for bootstrapped tables needs to happen through record reader to be able to perform the merge. On presto side, this annotation is already handled.
    
    We need to internally maintain VIRTUAL_COLUMN_NAMES because presto's internal hive version hive-apache-1.2.2 has VirutalColumn as a class, versus the one we depend on in hudi which is an enum.
    
    Dependency changes in hudi-presto-bundle to avoid runtime exceptions.

3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
5	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java
11	7	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestAnnotation.java
58	0	packaging/hudi-presto-bundle/pom.xml
2	0	pom.xml

commit 8b928e9bca5ecac8f956b17e5d18f2deaf526253
Author: wenningd <wenningding95@gmail.com>
Date:   2020-08-11 01:43:46 -0700

    [HUDI-808] Support cleaning bootstrap source data (#1870)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>
    Co-authored-by: Balaji Varadarajan <vbalaji@apache.org>

10	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
4	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
35	23	hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
27	12	hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
36	6	hudi-client/src/main/java/org/apache/hudi/table/action/clean/PartitionCleanStat.java
264	88	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
1	0	hudi-common/pom.xml
11	12	hudi-common/src/main/avro/HoodieCleanMetadata.avsc
29	0	hudi-common/src/main/avro/HoodieCleanPartitionMetadata.avsc
28	0	hudi-common/src/main/avro/HoodieCleanerPlan.avsc
55	2	hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java
47	0	hudi-common/src/main/java/org/apache/hudi/common/model/CleanFileInfo.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanMetadataMigrator.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/{CleanV1MigrationHandler.java => CleanMetadataV1MigrationHandler.java}
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/{CleanV2MigrationHandler.java => CleanMetadataV2MigrationHandler.java}
36	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanMigrator.java
66	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV1MigrationHandler.java
64	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV2MigrationHandler.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
33	9	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
12	10	hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
1	1	hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java

commit 626f78f6f639cae2d3d57d29e7ef0642cb0be7ee
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-08-10 22:13:02 -0700

    Revert "[HUDI-781] Introduce HoodieTestTable for test preparation (#1871)"
    
    This reverts commit b2e703d4427abca02b053fa4444cd5058aa256ef.

0	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
0	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
0	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
7	8	{hudi-common/src/main/java/org/apache/hudi/common/model => hudi-client/src/main/java/org/apache/hudi/io}/IOType.java
7	8	hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java
3	5	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
253	140	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
14	14	hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
5	5	hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java
4	4	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
1	6	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
39	30	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java
79	20	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
0	113	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
0	232	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
52	50	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java

commit 9c24151929659f80f88607f068662fdc5855fc91
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-08-11 00:00:57 -0400

    [HUDI-1175] Commenting out testsuite tests from Integration tests until we investigate the CI flakiness (#1945)

21	0	docker/demo/compaction-bootstrap.commands
0	4	docker/demo/compaction.commands
5	7	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
2	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
0	1	pom.xml

commit b2e703d4427abca02b053fa4444cd5058aa256ef
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-08-10 18:44:03 -0700

    [HUDI-781] Introduce HoodieTestTable for test preparation (#1871)

1	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
1	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
8	7	hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java
5	3	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
140	253	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
14	14	hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
5	5	hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java
4	4	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
6	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
30	39	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java
20	79	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
8	7	{hudi-client/src/main/java/org/apache/hudi/io => hudi-common/src/main/java/org/apache/hudi/common/model}/IOType.java
113	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java
232	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java
50	52	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java

commit 934f00b68976b68b9393406d83b9953811de90b4
Author: liujinhui <965147871@qq.com>
Date:   2020-08-11 09:06:17 +0800

    [HUDI-1173] fix hudi-prometheus pom dependency  (#1942)

5	0	packaging/hudi-spark-bundle/pom.xml
5	0	packaging/hudi-utilities-bundle/pom.xml

commit 858eda85d7a5e4ee3be9aa28e7e7311bc8fb8983
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-08-09 20:51:37 -0400

    [HUDI-1098] Adding OptimisticConsistencyGuard to be used during FinalizeWrite (#1912)

15	3	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
83	32	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
57	7	hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
35	5	hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java
60	44	hudi-common/src/main/java/org/apache/hudi/common/fs/FailSafeConsistencyGuard.java
90	0	hudi-common/src/main/java/org/apache/hudi/common/fs/OptimisticConsistencyGuard.java

commit ff53e8f0b62448815a487285ce0cc337398272f2
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-08-09 18:32:43 -0400

    [HUDI-1014] Adding Upgrade and downgrade infra for smooth transitioning from list based rollback to marker based rollback (#1858)
    
    - This pull request adds upgrade/downgrade infra for smooth transition from list based rollback to marker based rollback*
     - A new property called hoodie.table.version is added to hoodie.properties file as part of this. Whenever hoodie is launched with newer table version i.e 1(or moving from pre 0.6.0 to 0.6.0), an upgrade step will be executed automatically to adhere to marker based rollback.*
     - This automatic upgrade step will happen just once per dataset as the hoodie.table.version will be updated in property file after upgrade is completed once*
     - Similarly, a command line tool for Downgrading is added if incase some user wants to downgrade hoodie from table version 1 to 0 or move from hoodie 0.6.0 to pre 0.6.0*
     - *Added UpgradeDowngrade to assist in upgrading or downgrading hoodie table*
     - *Added Interfaces for upgrade and downgrade and concrete implementations for upgrading from 0 to 1 and downgrading from 1 to 0.*
     - *Made some changes to ListingBasedRollbackHelper to expose just rollback stats w/o performing actual rollback, which will be consumed by Upgrade infra*
    - Reworking failure handling for upgrade/downgrade
     - Changed tests accordingly, added one test around left over cleanup
     - New tables now write table version into hoodie.properties
     - Clean up code naming, abstractions.
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

38	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
81	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/UpgradeOrDowngradeCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
128	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java
10	1	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
10	10	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
17	15	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
15	28	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java
74	36	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java
14	158	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
173	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
38	0	hudi-client/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java
32	0	hudi-client/src/main/java/org/apache/hudi/table/upgrade/HoodieUpgradeDowngradeException.java
49	0	hudi-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java
153	0	hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java
38	0	hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java
132	0	hudi-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java
408	0	hudi-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java
25	0	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
27	6	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
3	5	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
54	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java

commit e4a2d98f79f920ea60346fb78ef4b5af1f874afd
Author: Udit Mehrotra <uditme@amazon.com>
Date:   2020-08-09 14:06:13 -0700

    [HUDI-426] Bootstrap datasource integration (#1702)

4	0	hudi-cli/pom.xml
5	0	hudi-client/pom.xml
33	10	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapSchemaProvider.java
6	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java
22	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
13	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
2	1	hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java
6	0	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
3	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
65	30	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
131	0	hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala
185	0	hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala
103	41	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
70	24	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
630	0	hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala
9	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit c24c528fb7275a3ee1db4774f321dfc075b4f8a8
Author: linshan-ma <mabin194046@163.com>
Date:   2020-08-09 17:09:28 +0800

    [HUDI-1156] Remove unused dependencies from HoodieDeltaStreamerWrapper Class (#1927)

commit 6b349b771198d463b0ffd5f45e22846db95c2238
Author: liujinhui <965147871@qq.com>
Date:   2020-08-09 15:29:54 +0800

    [HUDI-210] Hudi Supports Prometheus Pushgateway (#1931)
    
    Co-authored-by: leesf <leesf@apache.org>

16	0	hudi-client/pom.xml
4	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
102	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java
28	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
8	0	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
2	2	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java
80	0	hudi-client/src/main/java/org/apache/hudi/metrics/prometheus/PrometheusReporter.java
84	0	hudi-client/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayMetricsReporter.java
95	0	hudi-client/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayReporter.java
43	0	hudi-client/src/test/java/org/apache/hudi/metrics/prometheus/TestPrometheusReporter.java
47	0	hudi-client/src/test/java/org/apache/hudi/metrics/prometheus/TestPushGateWayReporter.java
22	0	pom.xml

commit 3c949d2ff5527a698d703f64923095dd931d3b66
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-08-08 21:45:10 -0700

    [MINOR] Fix path to hudi-hive-sync-bundle jars from run_sync_tool.sh (#1937)

1	1	hudi-sync/hudi-hive-sync/run_sync_tool.sh

commit 9fe2d2b14a2a0f465d75e39fdfdcc4d5e0101ee7
Author: wenningd <wenningding95@gmail.com>
Date:   2020-08-08 12:37:29 -0700

    [HUDI-427] [HUDI-971]  Implement CLI support for performing bootstrap (#1869)
    
    * [HUDI-971] Clean partitions & fileIds returned by HFileBootstrapIndex
    * [HUDI-427] Implement CLI support for performing bootstrap
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>
    Co-authored-by: Balaji Varadarajan <vbalaji@apache.org>

7	0	hudi-cli/pom.xml
186	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/BootstrapCommand.java
53	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
114	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java
4	2	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
4	3	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/BootstrapIndex.java
61	9	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java
13	7	hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java
3	3	hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit 5ee676e34fa2429d02ecd1a3cf7f586518ed2081
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-08-08 03:25:55 -0700

    [MINOR] Move a test method to Transformations (#1934)
    
    - Move TestHoodieKeyLocationFetchHandle#getRecordsPerPartition to Transformations
    - Improve some var namings

6	16	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
7	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/Transformations.java

commit 1072f2748a3e6802b0c1c9492edf7573779645ac
Author: cheshta2904 <69254936+cheshta2904@users.noreply.github.com>
Date:   2020-08-08 09:37:22 +0530

    [HUDI-1026] Removed slf4j dependency from HoodieClientTestHarness (#1928)

3	3	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java

commit 8b66524090a5f21a11c2546580c952aa917bd0ad
Author: Yungthuis <36870105+Yungthuis@users.noreply.github.com>
Date:   2020-08-08 12:04:31 +0800

    [MINOR] Remove unused import (#1932)
    
    Co-authored-by: tom_glb <goodMorning_glb@hotmail.com>

0	2	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java
0	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
0	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java

commit 4f74a84607d46249e9bb6e1397246f8dc076b390
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-08-07 00:28:14 -0700

    [HUDI-69] Support Spark Datasource for MOR table - RDD approach (#1848)
    
    - This PR implements Spark Datasource for MOR table in the RDD approach.
    - Implemented SnapshotRelation
    - Implemented HudiMergeOnReadRDD
    - Implemented separate Iterator to handle merge and unmerge record reader.
    - Added TestMORDataSource to verify this feature.
    - Clean up test file name, add tests for mixed query type tests
     - We can now revert the change made in DefaultSource
    
    Co-authored-by: Vinoth Chandar <vchandar@confluent.io>

1	1	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java
15	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
0	9	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
6	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
9	9	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
13	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java
13	1	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
8	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
36	20	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
2	2	hudi-spark/src/main/scala/org/apache/hudi/{HudiEmptyRelation.scala => HoodieEmptyRelation.scala}
274	0	hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala
2	2	hudi-spark/src/main/scala/org/apache/hudi/{HudiSparkUtils.scala => HoodieSparkUtils.scala}
4	3	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
151	0	hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala
2	8	hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
8	7	hudi-spark/src/test/scala/org/apache/hudi/{TestHudiSparkUtils.scala => TestHoodieSparkUtils.scala}
197	0	hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala
0	337	hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala
391	0	hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala
180	0	hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala

commit ab453f26235c67fa3536b494c6c9f9c31e265ef8
Author: Udit Mehrotra <uditme@amazon.com>
Date:   2020-08-06 23:44:57 -0700

    [HUDI-999] [RFC-12] Parallelize fetching of source data files/partitions (#1924)

2	8	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java
79	24	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java
3	8	hudi-client/src/test/java/org/apache/hudi/table/action/bootstrap/TestBootstrapUtils.java
9	10	hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java

commit b51646dcc76acc68e97dd6a67cc7557e362b590d
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-07 00:03:20 +0800

    [HUDI-1151] Fix NPE when no new data in kafka using HoodieDeltaStreamer (#1921)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 51ea27d665d8053895dd047ca85e3338b357a81d
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-08-06 12:34:55 +0800

    [HUDI-875] Abstract hudi-sync-common, and support hudi-hive-sync, hudi-dla-sync (#1810)
    
    - Generalize the hive-sync module for syncing to multiple metastores
    - Added new options for datasource
    - Added new command line for delta streamer
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

1	1	docker/demo/setup_demo_container.sh
5	0	hudi-spark/pom.xml
5	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
46	9	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
171	0	hudi-sync/hudi-dla-sync/pom.xml
0	0	{hudi-hive-sync => hudi-sync/hudi-dla-sync}/src/assembly/src.xml
96	0	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java
212	0	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java
403	0	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java
75	0	hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/util/Utils.java
54	0	hudi-sync/hudi-dla-sync/src/test/java/org/apache/hudi/dla/TestDLASyncConfig.java
0	0	{hudi-hive-sync => hudi-sync/hudi-dla-sync}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hudi-hive-sync => hudi-sync/hudi-dla-sync}/src/test/resources/log4j-surefire.properties
7	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/pom.xml
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/run_sync_tool.sh
46	0	hudi-sync/hudi-hive-sync/src/assembly/src.xml
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
6	3	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
14	111	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/HoodieHiveSyncException.java
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java
3	1	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/SchemaDifference.java
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java
2	2	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
0	0	{hudi-hive-sync => hudi-sync/hudi-hive-sync}/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java
29	0	hudi-sync/hudi-hive-sync/src/test/resources/log4j-surefire-quiet.properties
30	0	hudi-sync/hudi-hive-sync/src/test/resources/log4j-surefire.properties
71	0	hudi-sync/hudi-sync-common/pom.xml
189	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java
35	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncTool.java
42	0	hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncException.java
38	0	hudi-sync/pom.xml
46	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
13	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
19	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java
2	1	packaging/hudi-hive-sync-bundle/pom.xml
1	0	packaging/hudi-spark-bundle/pom.xml
1	0	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit c21209cb58a5cff3267aca9f17fe7d2c4edd3190
Author: Prashant Wason <pwason@uber.com>
Date:   2020-08-04 17:14:36 -0700

    [HUDI-1149] Added a console metrics reporter and associated unit tests.

72	0	hudi-client/src/main/java/org/apache/hudi/metrics/ConsoleMetricsReporter.java
3	0	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
1	1	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java
46	0	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java

commit 9bcd3221fd440081dbae70e89d08539c3b484862
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-08-05 09:19:10 -0700

    [HUDI-1144] Speedup spark read queries by caching metaclient in HoodieROPathFilter (#1919)

16	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
6	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java

commit 7a2429f5ba45e3c3c6f4e167fdc5b79be716febb
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-08-05 07:50:15 -0700

    [HUDI-575] Spark Streaming with async compaction support (#1752)

17	3	hudi-client/src/main/java/org/apache/hudi/async/AbstractAsyncService.java
161	0	hudi-client/src/main/java/org/apache/hudi/async/AsyncCompactService.java
1	3	{hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer => hudi-client/src/main/java/org/apache/hudi/client}/Compactor.java
20	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
2	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java
2	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
31	17	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
1	1	hudi-spark/run_hoodie_app.sh
40	0	hudi-spark/run_hoodie_generate_app.sh
40	0	hudi-spark/run_hoodie_streaming_app.sh
8	3	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
35	0	hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java
4	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	2	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
166	111	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
89	15	hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala
3	0	hudi-spark/src/test/java/HoodieJavaApp.java
171	41	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
2	1	hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
36	5	hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala
6	103	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java

commit 61e027fadda4cefc56a18bc284267d34b336f6cc
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date:   2020-08-05 07:46:34 -0700

    [MINOR] Adding timeout for each command execution in docker and capture output. This will help get stdout/stderr of stuck commands (#1918)

17	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java

commit 217a84192c594929963856d2224b9282a71c4048
Author: Sreeram Ramji <sreeram.ramji@robinhood.com>
Date:   2020-08-04 21:42:51 -0700

    [HUDI-1140] Fix Jcommander issue for --hoodie-conf in DeltaStreamer (#1898)

2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
33	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/IdentitySplitter.java
99	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
107	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java

commit d3711a26415703c3db412ad3102856ce15459cde
Author: liujianhui <liujianhui@bytedance.com>
Date:   2020-04-12 22:11:38 +0800

    [HUDI-525] lack of insert info in delta_commit inflight
    
    [HUDI-525] lack of insert info in delta_commit inflight
    
    [HUDI-525] lack of insert info in delta_commit inflight
    
    [HUDI-525] lack of insert info in delta_commit inflight
    
    [HUDI-525] lack of insert info in delta_commit inflight
    
    [HUDI-525] lack of insert info in delta_commit inflight
    
    HUDI-525

6	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java

commit ab11ba43e1a5496cf85a7a772929bb90fcbf07d3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-08-04 18:20:38 -0400

    [REVERT] "[HUDI-1058] Make delete marker configurable (#1819)" (#1914)
    
    This reverts commit 433d7d2c9886fed161557efe88b62ebdce0fe5df.

0	9	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	9	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
23	44	hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteWithLatestAvroPayload.java
9	18	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
6	17	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java
0	7	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	4	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
0	46	hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
1	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
0	97	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestDeltaStreamerWithOverwriteLatestAvroPayload.java
0	4	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties
0	4	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc

commit 539621bd33893d99a07b8f739a1e965ca72acdc9
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-08-03 20:19:21 -0700

    [HUDI-242] Support for RFC-12/Bootstrapping of external datasets to hudi (#1876)
    
    - [HUDI-418] Bootstrap Index Implementation using HFile with unit-test
     - [HUDI-421] FileSystem View Changes to support Bootstrap with unit-tests
     - [HUDI-424] Implement Query Side Integration for querying tables containing bootstrap file slices
     - [HUDI-423] Implement upsert functionality for handling updates to these bootstrap file slices
     - [HUDI-421] Bootstrap Write Client with tests
     - [HUDI-425] Added HoodieDeltaStreamer support
     - [HUDI-899] Add a knob to change partition-path style while performing metadata bootstrap
     - [HUDI-900] Metadata Bootstrap Key Generator needs to handle complex keys correctly
     - [HUDI-424] Simplify Record reader implementation
     - [HUDI-423] Implement upsert functionality for handling updates to these bootstrap file slices
     - [HUDI-420] Hoodie Demo working with hive and sparkSQL. Also, Hoodie CLI working with bootstrap tables
    
    Co-authored-by: Mehrotra <uditme@amazon.com>
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>
    Co-authored-by: Balaji Varadarajan <varadarb@uber.com>

1	0	LICENSE
4	1	docker/demo/compaction.commands
8	0	docker/demo/hive-batch1.commands
6	0	docker/demo/hive-batch2-after-compaction.commands
6	0	docker/demo/hive-incremental-cow.commands
6	0	docker/demo/hive-incremental-mor-ro.commands
6	0	docker/demo/hive-incremental-mor-rt.commands
10	0	docker/demo/sparksql-batch1.commands
10	0	docker/demo/sparksql-batch2.commands
22	0	docker/demo/sparksql-bootstrap-prep-source.commands
32	2	docker/demo/sparksql-incremental.commands
4	1	hudi-cli/hudi-cli.sh
6	20	hudi-cli/pom.xml
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
3	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
1	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java
1	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
36	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
35	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapMode.java
51	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapRecordPayload.java
77	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapSchemaProvider.java
48	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapWriteStatus.java
58	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/FullRecordBootstrapDataProvider.java
48	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapModeSelector.java
56	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapRegexModeSelector.java
29	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/FullRecordBootstrapModeSelector.java
29	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/MetadataOnlyBootstrapModeSelector.java
48	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/UniformBootstrapModeSelector.java
39	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/translator/BootstrapPartitionPathTranslator.java
36	0	hudi-client/src/main/java/org/apache/hudi/client/bootstrap/translator/IdentityBootstrapPartitionPathTranslator.java
52	0	hudi-client/src/main/java/org/apache/hudi/client/utils/MergingIterator.java
135	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java
72	4	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
49	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieBootstrapHandle.java
15	6	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
18	9	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
27	6	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
88	0	hudi-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java
110	0	hudi-client/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java
12	1	{hudi-spark => hudi-client}/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
22	28	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
16	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
15	0	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
356	0	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java
47	0	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapDeltaCommitActionExecutor.java
55	0	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapRecordConsumer.java
77	0	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java
45	0	hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/HoodieBootstrapWriteMetadata.java
27	22	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
18	13	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java
4	5	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java
13	54	hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java
185	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/MergeHelper.java
7	6	hudi-client/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
15	9	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java
11	4	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java
8	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
3	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java
2	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
75	0	hudi-client/src/test/java/org/apache/hudi/client/bootstrap/TestBootstrapRegexModeSelector.java
66	0	hudi-client/src/test/java/org/apache/hudi/client/bootstrap/TestUniformBootstrapModeSelector.java
85	0	hudi-client/src/test/java/org/apache/hudi/table/action/bootstrap/TestBootstrapUtils.java
4	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java
58	26	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java
1	0	hudi-client/src/test/resources/log4j-surefire-quiet.properties
1	0	hudi-client/src/test/resources/log4j-surefire.properties
27	2	hudi-common/pom.xml
44	0	hudi-common/src/main/avro/HoodieBootstrapFilePartitionInfo.avsc
44	0	hudi-common/src/main/avro/HoodieBootstrapIndexInfo.avsc
47	0	hudi-common/src/main/avro/HoodieBootstrapPartitionMetadata.avsc
5	0	hudi-common/src/main/avro/HoodieCompactionOperation.avsc
49	0	hudi-common/src/main/avro/HoodieFSPermission.avsc
84	0	hudi-common/src/main/avro/HoodieFileStatus.avsc
34	0	hudi-common/src/main/avro/HoodiePath.avsc
120	2	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
123	0	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/FileStatusUtils.java
161	0	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/BootstrapIndex.java
534	0	hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java
38	6	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
101	0	hudi-common/src/main/java/org/apache/hudi/common/model/BaseFile.java
54	0	hudi-common/src/main/java/org/apache/hudi/common/model/BootstrapBaseFileMapping.java
110	0	hudi-common/src/main/java/org/apache/hudi/common/model/BootstrapFileMapping.java
17	5	hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java
28	54	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieBaseFile.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileFormat.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
10	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
22	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
79	25	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
7	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
7	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
29	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/BaseFileDTO.java
6	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileStatusDTO.java
137	29	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
19	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
55	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
57	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
29	8	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
12	1	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
180	0	hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java
135	25	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
7	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java
18	19	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
6	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
1	0	hudi-common/src/test/resources/log4j-surefire-quiet.properties
1	0	hudi-common/src/test/resources/log4j-surefire.properties
1	2	hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/hive/HoodieCombineHiveInputFormat.java
71	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BootstrapBaseFileSplit.java
110	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BootstrapColumnStichingRecordReader.java
42	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/FileStatusWithBootstrapBaseFile.java
300	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieColumnProjectionUtils.java
98	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
67	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputSplitUtils.java
44	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/LocatedFileStatusWithBootstrapBaseFile.java
43	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithBootstrapFileStatus.java
8	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
23	9	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
11	24	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java
94	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java
5	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
107	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
22	6	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
22	8	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
5	8	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java
4	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
4	6	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
7	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
103	36	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
6	14	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
82	0	hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java
11	53	hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
16	14	hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
17	29	hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
11	10	hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
24	33	hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
27	13	hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
2	1	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
6	4	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
6	5	hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
589	0	hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java
1	0	hudi-spark/src/test/resources/log4j-surefire-quiet.properties
1	0	hudi-spark/src/test/resources/log4j-surefire.properties
10	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckPointProvider.java
64	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckpointFromAnotherHoodieTimelineProvider.java
181	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java
17	14	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
60	25	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
31	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
1	2	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
1	2	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc
1	0	hudi-utilities/src/test/resources/log4j-surefire-quiet.properties
1	0	hudi-utilities/src/test/resources/log4j-surefire.properties
56	0	packaging/hudi-hadoop-mr-bundle/pom.xml
13	0	packaging/hudi-presto-bundle/pom.xml
50	0	packaging/hudi-spark-bundle/pom.xml
4	0	packaging/hudi-timeline-server-bundle/pom.xml
51	0	packaging/hudi-utilities-bundle/pom.xml
1	0	pom.xml

commit 266bce12b32ae5dc35e04d1c25530df9257d5dc9
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-08-03 13:38:36 -0400

    [MINOR] Fixing usage of right config value for parallelism to dedup in Bulk Insert (#1905)

1	1	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java

commit 433d7d2c9886fed161557efe88b62ebdce0fe5df
Author: Shen Hong <shenh062326@126.com>
Date:   2020-08-03 23:06:31 +0800

    [HUDI-1058] Make delete marker configurable (#1819)

9	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
9	1	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
44	23	hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteWithLatestAvroPayload.java
18	9	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
17	6	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
7	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
4	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
46	0	hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala
4	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
97	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestDeltaStreamerWithOverwriteLatestAvroPayload.java
4	0	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties
4	0	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc

commit 8aa9142de85e7a87f42ee43659024cb10c7b43a7
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-08-02 20:33:58 -0700

    [MINOR] Prevent scalatest plugin from running in non-UTs (#1897)

1	1	hudi-spark/pom.xml
1	1	scripts/run_travis_tests.sh

commit 4ebd2db05b9c272ab8676e82a4113f46701c2aef
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-08-02 19:44:51 -0700

    [MINOR] Suppressing full hive log and fetching only exceptions with context (#1903)
    
    Co-authored-by: Bhavani Sudha Saktheeswaran <bsaktheeswaran@moveworks.ai>

1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java

commit 30dcd5cf06c3f48bbdde1e18403ff7d0556ca511
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-08-02 21:30:23 +0800

    [MINOR] Remove redundant import in hudi-integ-test (#1899)

0	3	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
0	6	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/HiveServiceProvider.java
2	3	hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java
0	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestFileDeltaInputWriter.java
0	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/configuration/TestWorkflowBuilder.java
0	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java
0	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/ComplexDagGenerator.java
0	3	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGenerator.java
0	3	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGeneratorMOR.java
0	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
0	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSAvroDeltaInputReader.java
0	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java

commit 10e426879237b636f8b5913ac931dd7f8af8b817
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-08-01 05:57:18 -0700

    [HUDI-995] Use Transformations, Assertions and SchemaTestUtil (#1884)
    
    - Consolidate transform functions for tests in Transformations.java
    - Consolidate assertion functions for tests in Assertions.java
    - Make use of SchemaTestUtil for loading schema from resource

12	13	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
5	4	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
6	13	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
14	19	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
11	18	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
2	1	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
14	13	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
5	4	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
0	44	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
20	15	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
41	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/Assertions.java
0	11	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
20	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java
20	5	hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java
75	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/Transformations.java
5	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
0	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
9	7	hudi-spark/src/test/java/HoodieJavaApp.java
8	6	hudi-spark/src/test/java/HoodieJavaGenerateApp.java
4	3	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
21	7	hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java
0	76	hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java
10	12	hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala

commit e79fbc07fe803bc51cdf4f11948b133bbaa70595
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2020-07-31 20:10:28 -0700

    [HUDI-1054] Several performance fixes during finalizing writes (#1768)
    
    Co-authored-by: Udit Mehrotra <uditme@amazon.com>

1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
2	2	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
13	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
9	8	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
7	6	hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
76	24	hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
7	7	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
13	3	hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java

commit 727f1df62c343ca3649678f6e28ec7914ea7d247
Author: n3nash <nagarwal@uber.com>
Date:   2020-07-31 19:01:25 -0700

    [MINOR] Suppressing spark logs for hudi-integ and hudi-utilities (#1894)

41	0	docker/demo/config/log4j.properties
1	0	docker/demo/setup_demo_container.sh
12	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
6	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit ccd70a7e486850ca6ce4d7fcc806e396ff0b6aa0
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2020-07-31 06:52:42 -0700

    [HUDI-472] Introduce configurations and new modes of sorting for bulk_insert (#1149)
    
    * [HUDI-472] Introduce the configuration and new modes of record sorting for bulk_insert(#1149). Three sorting modes are implemented: global sort ("global_sort"), local sort inside each RDD partition ("partition_sort") and no sort ("none")

7	7	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
16	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
116	0	hudi-client/src/main/java/org/apache/hudi/execution/CopyOnWriteInsertHandler.java
16	56	hudi-client/src/main/java/org/apache/hudi/execution/LazyInsertIterable.java
48	0	hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerFactory.java
9	5	hudi-client/src/main/java/org/apache/hudi/execution/{ => bulkinsert}/BulkInsertMapFunction.java
57	0	hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/GlobalSortPartitioner.java
46	0	hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/NonSortPartitioner.java
69	0	hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDPartitionSortPartitioner.java
13	1	hudi-client/src/main/java/org/apache/hudi/table/{UserDefinedBulkInsertPartitioner.java => BulkInsertPartitioner.java}
4	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java
10	16	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java
121	0	hudi-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java
57	15	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
4	4	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
7	2	hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java

commit 2fc2b01d8647aafe2862db14fc169aa40d4ae3d5
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-11-01 12:40:09 -0700

    [HUDI-394] Provide a basic implementation of test suite

1	1	.travis.yml
21	0	docker/demo/config/test-suite/base.properties
97	0	docker/demo/config/test-suite/complex-dag-cow.yaml
119	0	docker/demo/config/test-suite/complex-dag-mor.yaml
466	0	docker/demo/config/test-suite/complex-source.avsc
51	0	docker/demo/config/test-suite/source.avsc
54	0	docker/demo/config/test-suite/target.avsc
27	0	docker/demo/config/test-suite/test-source.properties
1	0	docker/hoodie/hadoop/hive_base/Dockerfile
1	3	docker/hoodie/hadoop/hive_base/pom.xml
12	5	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java
9	0	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
4	0	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
13	2	hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
262	0	hudi-integ-test/README.md
205	0	hudi-integ-test/pom.xml
174	0	hudi-integ-test/prepare_integration_suite.sh
77	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java
186	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java
219	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java
73	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DFSDeltaConfig.java
256	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java
33	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/Converter.java
53	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/UpdateConverter.java
217	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java
54	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/ExecutionContext.java
75	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/SimpleWorkflowDagGenerator.java
39	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WorkflowDag.java
31	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WorkflowDagGenerator.java
40	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BulkInsertNode.java
34	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CleanNode.java
47	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java
125	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java
87	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java
46	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java
60	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java
48	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java
56	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java
61	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/SparkSQLQueryNode.java
52	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/UpsertNode.java
48	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateNode.java
100	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java
237	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java
70	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java
285	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java
121	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadSizeEstimator.java
82	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordPartialPayloadGenerator.java
48	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/LazyRecordGeneratorIterator.java
56	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java
92	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java
74	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/HiveServiceProvider.java
89	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSAvroDeltaInputReader.java
98	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSDeltaInputReader.java
338	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java
62	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DeltaInputReader.java
26	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DeltaInputType.java
70	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/SparkBasedReader.java
117	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/AvroFileDeltaInputWriter.java
62	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java
42	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSSparkAvroDeltaWriter.java
53	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaInputWriter.java
26	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaOutputMode.java
72	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriteStats.java
34	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriterAdapter.java
57	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriterFactory.java
69	0	hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/SparkAvroDeltaInputWriter.java
138	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java
147	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestFileDeltaInputWriter.java
80	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/configuration/TestWorkflowBuilder.java
93	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java
81	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/ComplexDagGenerator.java
58	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGenerator.java
58	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGeneratorMOR.java
95	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java
56	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadEstimator.java
130	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java
224	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java
74	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSAvroDeltaInputReader.java
119	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java
63	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/utils/TestUtils.java
4	3	hudi-integ-test/src/test/resources/log4j-surefire-quiet.properties
2	2	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
11	2	hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
9	1	hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
0	1	hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
67	0	hudi-spark/src/test/java/TestComplexKeyGenerator.java
10	0	hudi-utilities/pom.xml
13	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
43	14	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
13	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
5	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
7	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
10	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java
31	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
466	0	hudi-utilities/src/test/resources/delta-streamer-config/complex-source.avsc
565	0	packaging/hudi-integ-test-bundle/pom.xml
36	0	packaging/hudi-integ-test-bundle/src/main/java/org/apache/hudi/testsuite/bundle/Main.java
4	1	pom.xml

commit d5b593b7d952a39679cade2b18aadbdfb2dc3eed
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-07-28 09:49:03 -0700

    [MINOR] change log.info to log.debug (#1883)

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java

commit b2763f433b3efb92fdcc0e760a88a43eaa2e5be3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-07-28 11:22:09 -0400

    [MINOR] Fixing default index parallelism for simple index (#1882)

2	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java

commit 5e7931b1f9d586a44bcfa13e21917b24d4f78596
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2020-07-27 23:02:58 -0700

    [MINOR] Fix master compilation failure (#1881)
    
    Co-authored-by: Udit Mehrotra <uditme@amazon.com>

1	1	hudi-spark/src/test/java/HoodieJavaGenerateApp.java

commit fa419213f62d2006aeea228180302024977feb16
Author: hongdd <jn_hdd@163.com>
Date:   2020-07-28 08:31:43 +0800

    [HUDI-703] Add test for HoodieSyncCommand (#1774)

31	0	docker/demo/config/hoodie-incr.properties
145	0	docker/demo/config/hoodie-schema.avsc
19	0	docker/demo/sync-validate.commands
17	0	hudi-cli/pom.xml
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
121	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java
2	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
3	3	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
75	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/command/ITTestHoodieSyncCommand.java
18	0	hudi-integ-test/src/test/resources/hoodie-docker.properties
2	2	hudi-spark/run_hoodie_app.sh
190	0	hudi-spark/src/test/java/HoodieJavaGenerateApp.java

commit ca36c44cb3a081ce68282742f177f471fb7ed8c3
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-07-27 04:21:45 -0700

    [HUDI-995] Move TestRawTripPayload and HoodieTestDataGenerator to hudi-common (#1873)

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java
4	4	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
10	10	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
10	10	hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
6	6	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
1	1	hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java
1	1	hudi-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java
16	15	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
23	23	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
32	32	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java
4	4	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
3	3	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
13	13	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
4	3	hudi-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
4	3	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java
5	4	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
5	4	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
3	2	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
3	3	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
2	0	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java
85	0	hudi-client/src/test/java/org/apache/hudi/testutils/MetadataMergeWriteStatus.java
10	12	{hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs => hudi-common/src/test/java/org/apache/hudi/common/fs/inline}/TestParquetInLining.java
27	27	{hudi-client/src/test/java/org/apache/hudi => hudi-common/src/test/java/org/apache/hudi/common}/testutils/HoodieTestDataGenerator.java
13	71	hudi-client/src/test/java/org/apache/hudi/testutils/TestRawTripPayload.java => hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java
1	1	hudi-spark/src/test/java/HoodieJavaApp.java
1	1	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
2	1	hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java
2	1	hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractDFSSourceTestBase.java

commit 0cb24e4a2defd8e639437b6cd145a26f038ef1af
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-07-24 18:48:56 -0700

    [MINOR] Use HoodieActiveTimeline.COMMIT_FORMATTER (#1874)

5	5	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
9	10	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java

commit 467d097dae5d38bfba8e1249ab52fe0f294e6172
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-07-24 18:47:09 -0700

    [MINOR] Add Databricks File System to StorageSchemes (#1877)

3	1	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit c3279cd5989805946267b046007ea23ba4b615c2
Author: Shen Hong <shenh062326@126.com>
Date:   2020-07-23 20:31:49 +0800

    [HUDI-1082] Fix minor bug in deciding the insert buckets (#1838)

6	5	hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
57	0	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java

commit da106803b6d0bdbb37f22b9bd73b9b3a77f77063
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-07-23 19:07:05 +0800

    [HUDI-1037] Introduce a write committed callback hook and given a default http callback implementation (#1842)

35	0	hudi-client/src/main/java/org/apache/hudi/callback/HoodieWriteCommitCallback.java
108	0	hudi-client/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java
76	0	hudi-client/src/main/java/org/apache/hudi/callback/common/HoodieWriteCommitCallbackMessage.java
58	0	hudi-client/src/main/java/org/apache/hudi/callback/impl/HoodieWriteCommitHttpCallback.java
47	0	hudi-client/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java
12	0	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
106	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java
20	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
35	0	hudi-client/src/main/java/org/apache/hudi/exception/HoodieCommitCallbackException.java
119	0	hudi-client/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java
1	0	packaging/hudi-spark-bundle/pom.xml
1	0	packaging/hudi-utilities-bundle/pom.xml

commit f61cd1086ae8014b2e1da129dccfe47b64116369
Author: lamber-ken <2217232293@qq.com>
Date:   2020-07-23 13:59:24 +0800

    [HUDI-985] Introduce rerun ci bot (#1693)
    
    * [HUDI-985] Introduce rerun ci bot
    
    * Implement bot using github-script
    
    * trigger rebuild

36	0	.github/actions/bot/package.json
100	0	.github/actions/bot/src/action.js
43	0	.github/workflows/bot.yml
2	0	.gitignore

commit c39778c150ad2d5f38af4628fea21de4c191d3ca
Author: zherenyu831 <52404525+zherenyu831@users.noreply.github.com>
Date:   2020-07-23 14:46:36 +0900

    [HUDI-1113] Add user define metrics reporter (#1851)

12	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
4	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
18	0	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
44	0	hudi-client/src/main/java/org/apache/hudi/metrics/userdefined/AbstractUserDefinedMetricsReporter.java
56	0	hudi-client/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java

commit 3dd189ec7d748eecb3750521870130fb81f17842
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-07-22 21:54:45 -0700

    [MINOR] Fix checkstyle issue on TestHoodieClientOnCopyOnWriteStorage (#1865)

1	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java

commit a8bd76c299b13af93c9eed92309ecb3a86a6734c
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-07-22 21:22:06 -0700

    [HUDI-1029] In inline compaction mode, previously failed compactions needs to be retried before new compactions (#1857)
    
    - Prevents failed compactions from causing issues with future commits

9	0	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
243	0	hudi-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java
3	210	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
116	0	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java

commit 9bd37ef2912eefc7bbc34382525032570d6f9c60
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-07-22 19:52:34 -0700

    [MINOR] Fix flaky testUpsertsUpdatePartitionPath* tests (#1863)

11	7	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java

commit 5b6026ba436f7bde0e810983b6934d07dbe46e8d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-07-22 22:39:57 -0400

    [HUDI-802] Fixing deletes for inserts in same batch in write path (#1792)
    
    * Fixing deletes for inserts in same batch in write path
    * Fixing delta streamer tests
    * Adding tests for OverwriteWithLatestAvroPayload

31	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java
5	0	hudi-client/src/test/java/org/apache/hudi/testutils/TestRawTripPayload.java
15	11	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
103	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteWithLatestAvroPayload.java
7	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java

commit 12ef8c9249249a3c02e6bd8f0392614f8e195982
Author: hongdd <jn_hdd@163.com>
Date:   2020-07-23 08:43:46 +0800

    [HUDI-708] Add temps show and unit test for TempViewCommand (#1770)

12	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
32	13	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TempViewCommand.java
18	0	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java
6	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/TempViewProvider.java
84	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTempViewCommand.java
70	0	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellBaseIntegrationTest.java
4	34	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellIntegrationTest.java

commit 743ef322b88d90be9775b889f6381925cdda5f35
Author: DeyinZhong <44561252+DeyinZhong@users.noreply.github.com>
Date:   2020-07-22 17:40:19 +0800

    [HUDI-871] Add support for Tencent Cloud Object Storage(COS) (#1855)
    
    Co-authored-by: deyzhong <deyzhong@tencent.com>

3	1	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java

commit 5e7ab11e2ead23428ed5089421f2abd6433fe8e5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-07-21 10:23:43 -0700

    [HUDI-994] Move TestHoodieIndex test cases to unit tests (#1850)

6	149	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
181	0	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java

commit 1ec89e9a94161aa5d48b8f170bf67633b389d997
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-07-21 13:41:42 +0800

    [HUDI-839] Introducing support for rollbacks using marker files (#1756)
    
    * [HUDI-839] Introducing rollback strategy using marker files
    
     - Adds a new mechanism for rollbacks where it's based on the marker files generated during the write
     - Consequently, marker file/dir deletion now happens post commit, instead of during finalize
     - Marker files are also generated for AppendHandle, making it consistent throughout the write path
     - Until upgrade-downgrade mechanism can upgrade non-marker based inflight writes to marker based, this should only be turned on for new datasets.
     - Added marker dir deletion after successful commit/rollback, individual files are not deleted during finalize
     - Fail safe for deleting marker directories, now during timeline archival process
     - Added check to ensure completed instants are not rolled back using marker based strategy. This will be incorrect
     - Reworked tests to rollback inflight instants, instead of completed instants whenever necessary
     - Added an unit test for MarkerBasedRollbackStrategy
    
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
4	2	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
9	5	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
13	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
15	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
9	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
8	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
7	23	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
28	0	hudi-client/src/main/java/org/apache/hudi/io/IOType.java
44	60	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
53	38	hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
153	0	hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java
2	1	hudi-client/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java
2	1	hudi-client/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java
69	34	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
27	16	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java
24	45	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/{RollbackHelper.java => ListingBasedRollbackHelper.java}
21	35	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/{RollbackRequest.java => ListingBasedRollbackRequest.java}
161	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java
38	30	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
66	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java
20	7	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
21	24	hudi-client/src/test/java/org/apache/hudi/io/{TestHoodieCommitArchiveLog.java => TestHoodieTimelineArchiveLog.java}
5	9	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
139	68	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
148	0	hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
98	0	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java
198	0	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java
135	0	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java
157	0	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java
120	0	hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java
0	2	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
47	2	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java
20	2	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java
19	0	hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java
11	54	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
15	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/FileSystemTestUtils.java
12	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java
15	26	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
2	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java

commit b71f25f210c4004a2dcc97a9967399e74f870fc7
Author: Prashant Wason <pwason@uber.com>
Date:   2020-07-19 10:29:25 -0700

    [HUDI-92] Provide reasonable names for Spark DAG stages in HUDI. (#1289)

12	0	README.md
3	0	hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
1	0	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
1	0	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
2	0	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
3	0	hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
2	0	hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieMergeOnReadTableCompactor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackHelper.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
17	5	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
21	0	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
2	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java

commit 1aae437257cfd94fd277cf667257f6abffcc0c21
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2020-07-18 16:16:32 -0700

    [HUDI-1102] Add common useful Spark related and Table path detection utilities (#1841)
    
    Co-authored-by: Mehrotra <uditme@amazon.com>

1	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
110	0	hudi-common/src/main/java/org/apache/hudi/common/util/TablePathUtils.java
126	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java
23	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
50	0	hudi-spark/src/main/scala/org/apache/hudi/HudiSparkUtils.scala
105	0	hudi-spark/src/test/scala/org/apache/hudi/TestHudiSparkUtils.scala

commit bf1d36fa639cae558aa388d8d547e58ad2e67aba
Author: wenningd <wenningding95@gmail.com>
Date:   2020-07-15 07:30:58 -0700

    [HUDI-1087] Handle decimal type for realtime record reader with SparkSQL (#1831)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

4	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java

commit b399b4ad43b8caa69f129e756e51ad4bc8c81de2
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-07-14 17:28:50 -0700

    [HUDI-996] Add functional test in hudi-client (#1824)
    
    - Add functional test suite in hudi-client
    - Tag TestHBaseIndex as functional

18	0	hudi-client/pom.xml
32	0	hudi-client/src/test/java/org/apache/hudi/ClientFunctionalTestSuite.java
37	43	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
45	7	hudi-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
1	1	hudi-client/src/test/java/org/apache/hudi/testutils/{ => providers}/DFSProvider.java
40	0	hudi-client/src/test/java/org/apache/hudi/testutils/providers/HoodieMetaClientProvider.java
30	0	hudi-client/src/test/java/org/apache/hudi/testutils/providers/HoodieWriteClientProvider.java
1	1	hudi-client/src/test/java/org/apache/hudi/testutils/{ => providers}/SparkProvider.java

commit f5dc8ca733014d15a6d7966a5b6ae4308868adfa
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-07-13 20:32:01 -0700

    [HUDI-994] Split TestHBaseIndex to unit tests  (#1818)
    
    - Refactor and improve TestHBaseIndex for performance
    - Move HBaseIndex unit tests to different test classes

4	4	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
62	125	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
45	0	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndexUsage.java
66	0	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBasePutBatchSizeCalculator.java

commit 21bb1b505a0a433bdbe367f7f252afdddafafc96
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-07-13 22:34:07 -0400

    [HUDI-1068] Fixing deletes in global bloom when update partition path is set (#1793)

5	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
5	3	hudi-client/src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java
169	40	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
21	0	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java

commit 10e457278bee529d14e445012fa61e875e3f77cd
Author: miaomiaomiao <33487819+miaomiao2miaomiao@users.noreply.github.com>
Date:   2020-07-13 23:38:06 +0800

    [HUDI-1078]Fix IllegalArgumentException in Delete data demo of Quick-Start Guide (#1808)

1	1	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 20ac7c3337a14dd777f6ebe21b13dab2786f2479
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-07-11 09:15:05 -0700

    [HUDI-994] Make TestHBaseQPSResourceAllocator a unit test (#1820)

6	36	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java

commit abfebd30f30d7a5975e3ecea403fec13d5d27cd5
Author: GuoPhilipse <46367746+GuoPhilipse@users.noreply.github.com>
Date:   2020-07-11 22:57:12 +0800

    [MINOR] Update parameter description (#1821)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java

commit 9627a385febbc8769021e7d0a805756b74c2a82a
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-07-11 00:58:45 +0530

    [HUDI-916]: Added support for multiple input formats in TimestampBasedKeyGenerator (#1648)

16	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
6	1	hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
49	38	hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java
48	0	hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParser.java
122	0	hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java
164	6	hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java
0	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit c7f1a781ab4ff3784d53a102364fd85e379811d1
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-07-09 17:05:07 +0530

    [HUDI-728]: Implemented custom key generator (#1433)

1	3	{hudi-utilities/src/main/java/org/apache/hudi/utilities => hudi-spark/src/main/java/org/apache/hudi}/exception/HoodieDeltaStreamerException.java
26	30	hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
126	0	hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java
7	6	hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
5	1	hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
14	9	hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
12	13	{hudi-utilities/src/main/java/org/apache/hudi/utilities => hudi-spark/src/main/java/org/apache/hudi}/keygen/TimestampBasedKeyGenerator.java
88	0	hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java
169	0	hudi-spark/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java
78	0	hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java
40	0	hudi-spark/src/test/java/org/apache/hudi/keygen/TestKeyGeneratorUtilities.java
97	0	hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java
3	4	{hudi-utilities/src/test/java/org/apache/hudi/utilities => hudi-spark/src/test/java/org/apache/hudi}/keygen/TestTimestampBasedKeyGenerator.java
8	0	hudi-utilities/pom.xml
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit d58644b6573152ac191a1119c395d71cdc7c9c7d
Author: Trevor <33487819+Trevor-zhang@users.noreply.github.com>
Date:   2020-07-09 12:07:34 +0800

    [HUDI-1062]Remove unnecessary maxEvent check and add some log in KafkaOffsetGen (#1779)

8	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
34	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java

commit 086853c004c6581e08744c5900210b6aaffd90e4
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-07-07 13:30:58 -0700

    [HUDI-1080] Fix backward compatibility for com.uber inputformats

60	0	hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/hive/HoodieCombineHiveInputFormat.java
30	14	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java

commit 7b2a947aed5649f8cbbade748e464e1228da6e5d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-07-07 22:58:15 -0700

    [HUDI-1069] Remove duplicate assertNoWriteErrors() (#1797)

1	0	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
1	0	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
1	0	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java
1	7	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
1	8	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
1	13	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
1	0	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
3	9	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
1	0	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
41	0	hudi-client/src/test/java/org/apache/hudi/testutils/Assertions.java
1	12	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java

commit 8c4ff185f1752b5041c4e66ac595bd90c2693137
Author: mabin001 <mabin194046@163.com>
Date:   2020-07-07 19:10:16 +0800

    [HUDI-1064]Trim hoodie table name (#1805)

11	10	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit be85a6c32bd9ef1931f2af7d268a7e0cb8631002
Author: Shen Hong <shenh062326@126.com>
Date:   2020-07-07 00:44:02 +0800

    [HUDI-1004] Support update metrics in HoodieDeltaStreamerMetrics (#1732)

52	0	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieGauge.java
2	2	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java

commit 3b9a30528bd6a6369181702303f3384162b04a7f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-07-05 16:44:31 -0700

    [HUDI-996] Add functional test suite for hudi-utilities (#1746)
    
    - Share resources for functional tests
    - Add suite for functional test classes from hudi-utilities

34	0	hudi-client/src/test/java/org/apache/hudi/testutils/DFSProvider.java
122	0	hudi-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java
55	0	hudi-client/src/test/java/org/apache/hudi/testutils/SparkProvider.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java
18	0	hudi-utilities/pom.xml
57	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java
10	20	hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java
7	24	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestAWSDatabaseMigrationServiceSource.java
69	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestChainedTransformer.java
145	195	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java
10	26	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java
46	79	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java
8	16	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestJdbcbasedSchemaProvider.java
32	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/UtilitiesFunctionalTestSuite.java
0	52	hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestChainedTransformer.java
24	2	pom.xml
1	1	style/checkstyle.xml

commit 574dcf920c4677513f6fdc8d441bb42827afa5a2
Author: Cory Locklear <corylocklear@gmail.com>
Date:   2020-07-03 19:22:52 -0400

    [MINOR] Relocate jetty during shading/packaging for Databricks runtime (#1781)

15	12	packaging/hudi-spark-bundle/pom.xml

commit 37ea79566de190605d0a941d6b65e2f46196de88
Author: andreitaleanu <andrei.taleanu@gmail.com>
Date:   2020-07-03 23:39:53 +0300

    [HUDI-539] Make HoodieROTablePathFilter implement Configurable (#1784)
    
    Co-authored-by: Andrei Taleanu <taleanu@adobe.com>

12	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java

commit 2be924fd3a04e2106f1ad3f9ce91890ea58c8a88
Author: baobaoyeye <bao.renyi@gmail.com>
Date:   2020-07-01 11:07:09 +0800

    [HUDI-760]Remove Rolling Stat management from Hudi Writer (#1739)

1	46	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
1	14	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
11	20	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
45	75	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java

commit 8919be6a5d8038db7265bfd7459d72fbd545f133
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-06-28 02:04:50 -0700

    [HUDI-855] Run Cleaner async with writing (#1577)
    
    - Cleaner can now run concurrently with write operation
    - Configs to turn on/off
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

13	15	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
0	106	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCleansCommand.java
17	3	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java
12	10	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java => hudi-client/src/main/java/org/apache/hudi/async/AbstractAsyncService.java
85	0	hudi-client/src/main/java/org/apache/hudi/client/AsyncCleanerService.java
35	15	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
10	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
4	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	2	hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
25	25	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 31247e9b3417871d90454c1c62f8d3bdcbd7ffa9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-06-27 23:16:12 -0700

    [HUDI-896] Report test coverage by modules & parallelize CI (#1753)
    
    - use codecov flags for each module to report coverage
    - parallelize CI jobs for shorter time
    - add a testcase for MetricsReporterFactory (to trigger codecov comment)

45	0	.codecov.yml
14	7	.travis.yml
2	23	hudi-cli/pom.xml
48	0	hudi-client/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java
3	25	hudi-integ-test/pom.xml
1	0	hudi-spark/pom.xml
0	4	hudi-timeline-service/pom.xml
0	18	packaging/hudi-spark-bundle/pom.xml
191	42	pom.xml
33	0	scripts/report_coverage.sh
10	8	scripts/run_travis_tests.sh

commit 2603cfb33e272632d7f36a53e1b13fe86dbb8627
Author: Prashant Wason <pwason@uber.com>
Date:   2020-06-25 23:46:55 -0700

    [HUDI-684] Introduced abstraction for writing and reading different types of base file formats. (#1687)
    
    Notable changes:
        1. HoodieFileWriter and HoodieFileReader abstractions for writer/reader side of a base file format
        2. HoodieDataBlock abstraction for creation specific data blocks for base file formats. (e.g. Parquet has HoodieAvroDataBlock)
        3. All hardocded references to Parquet / Parquet based classes have been abstracted to call methods which accept a base file format
        4. HiveSyncTool accepts the base file format as a CLI parameter
        5. HoodieDeltaStreamer accepts the base file format as a CLI parameter
        6. HoodieSparkSqlWriter accepts the base file format as a parameter

5	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
7	8	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
10	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
9	10	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
3	6	hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java
10	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieReadHandle.java
9	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/storage/{HoodieStorageWriter.java => HoodieFileWriter.java}
5	7	hudi-client/src/main/java/org/apache/hudi/io/storage/{HoodieStorageWriterFactory.java => HoodieFileWriterFactory.java}
3	14	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
8	8	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
31	5	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
7	8	hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java
4	2	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackHelper.java
5	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
5	5	hudi-client/src/test/java/org/apache/hudi/io/storage/{TestHoodieStorageWriterFactory.java => TestHoodieFileWriterFactory.java}
170	116	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
10	4	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java
19	16	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java
20	6	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
28	5	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	18	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java
27	71	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
132	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java
1	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
1	1	{hudi-client/src/main/java/org/apache/hudi/client/utils => hudi-common/src/main/java/org/apache/hudi/common/util}/ParquetReaderIterator.java
44	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java
47	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReaderFactory.java
80	0	hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java
30	0	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieAvroLogFormat.java
71	53	hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java
45	5	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java
1	1	{hudi-client/src/test/java/org/apache/hudi/client/utils => hudi-common/src/test/java/org/apache/hudi/common/util}/TestParquetReaderIterator.java
54	0	hudi-common/src/test/java/org/apache/hudi/io/storage/TestHoodieFileReaderFactory.java
3	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
6	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
1	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
59	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
7	8	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java
17	14	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
15	8	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
3	0	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
19	18	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
9	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
2	1	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
2	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	0	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
15	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 5e476733417c3f92ea97d3e5f9a5c8bc48246e99
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-06-24 08:01:03 +0800

    [HUDI-1035] Remove unused class KeyLookupResult (#1754)

0	49	hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyLookupResult.java

commit 89e37d5273ea1c6bf2fe3a8f7053e7a3cc44011d
Author: Shen Hong <shenh062326@126.com>
Date:   2020-06-22 23:13:28 +0800

    [HUDI-908] Add some data types to HoodieTestDataGenerator and fix some some bugs. (#1690)

7	6	hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
32	2	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java
11	3	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
2	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java
5	1	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
35	2	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties
34	0	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc

commit 68a656b01650cfcd8c099dd04cea59fb083dca69
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-06-21 22:34:47 +0800

    [HUDI-1032] Remove unused code in HoodieCopyOnWriteTable and code clean (#1750)

1	64	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
1	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java

commit 8a9fdd603e3e532ea5252b98205acfb8aa648795
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-06-19 12:12:35 -0700

    [HUDI-1023] Add validation error messages in delta sync (#1710)
    
    - Remove explicitly specifying BLOOM_INDEX since thats the default anyway

44	44	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
16	9	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit ab724af5c4e5b267919ee2a07ef41169f24924cd
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-06-19 12:08:19 -0700

    [MINOR] Rename `TestSourceConfig` to `SourceConfigs` (#1749)

5	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
5	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/DistributedTestDataSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/config/{TestSourceConfig.java => SourceConfigs.java}

commit f3a701757b9fb838acc4fb2975f378009d71f104
Author: hongdd <jn_hdd@163.com>
Date:   2020-06-18 21:42:13 +0800

    [HUDI-696] Add unit test for CommitsCommand (#1724)

29	2	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
52	32	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
320	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java
3	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
98	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java
6	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java

commit 5099a91edd3aaba114a86251336ae98374722270
Author: hongdd <jn_hdd@163.com>
Date:   2020-06-18 19:54:14 +0800

    [HUDI-709] Add unit test for UtilsCommand (#1686)

11	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/UtilsCommand.java
77	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUtilsCommand.java

commit 2a04647f5e7b33e7a4d658b1258d21cc947b6f94
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-06-16 15:47:30 -0400

    [MINOR] Updating doap file for 0.5.3 release (#1740)

6	1	doap_HUDI.rdf

commit 043eb564c2c7e4578237b5d0f2bbad8276db51f4
Author: Yajun Luo <yajunfree@163.com>
Date:   2020-06-15 19:02:03 +0800

    [HUDI-1003] Handle partitions correctly for syncing hudi non-parititioned table to hive (#1720)

6	0	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
29	0	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit ede6c9bda4dba8a9981252bd05f0725ff1024b95
Author: Litianye <litianyeye@outlook.com>
Date:   2020-06-14 18:01:44 +0800

    [HUDI-1006] Deltastreamer use kafkaSource with offset reset strategy:latest can't consume data (#1719)

4	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
0	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
38	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java

commit 31ef4acc59e82c55862e9170e7511a0a06024748
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-06-14 16:27:26 +0800

    [MINOR] Fix the ordered list for the hudi-examples README file (#1733)

10	0	hudi-examples/README.md

commit fcabc8fbca1670c9d50105495278ff147ccbdd4a
Author: hongdd <jn_hdd@163.com>
Date:   2020-06-14 14:30:28 +0800

    [HUDI-1019] Clean refresh command in CLI (#1725)

0	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
1	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
3	9	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
10	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java
52	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java

commit a7fd33162447b4c2816d1910bb166721cff1ed31
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-06-08 12:09:21 -0700

    Add unit test for snapshot reads in hadoop-mr

40	13	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
33	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java

commit df2e0c760e7df0bd1b200867b3f0d2ca3a3f1fce
Author: sathyaprakashg <sathyaprakashg@gmail.com>
Date:   2020-06-10 16:16:44 -0700

    HUDI-942 Increase default value number of delta commits for inline compaction (#1664)
    
    Co-authored-by: Sathyaprakash Govindasamy <sathyaprakashg@zillowgroup.com>

1	1	docker/demo/compaction.commands
1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
2	0	hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
3	0	hudi-spark/src/test/java/HoodieJavaApp.java

commit 37838cea6094ddc66191df42e8b2c84f132d1623
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-06-09 06:10:16 -0700

    [HUDI-822] decouple Hudi related logics from HoodieInputFormat (#1592)
    
    - Refactoring business logic out of InputFormat into Utils helpers.

6	6	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
5	5	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
25	211	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
2	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java
42	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/config/HoodieRealtimeConfig.java
9	262	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
2	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java
9	97	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
21	14	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
5	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/{HoodieHiveUtil.java => utils/HoodieHiveUtils.java}
342	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java
154	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java
271	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java
14	13	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
2	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
5	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java

commit 3387b3841f784fef2bb8548375b8c2078bc03506
Author: shenhong <shenh062326@126.com>
Date:   2020-06-08 11:59:09 +0800

    [HUDI-1005] fix NPE in HoodieWriteClient.clean

1	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java

commit 6318e943d168b961e4def3f37de47faf9ae44136
Author: Shen Hong <shenh062326@126.com>
Date:   2020-06-09 19:14:26 +0800

    [HUDI-1016] Code optimization in MergeOnReadRollbackActionExecutor(#1718)

3	4	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java

commit 22cd824d993bf43d88121ea89bad3a1f23a28518
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date:   2020-05-14 20:20:44 -0700

    HUDI-494 fix incorrect record size estimation

13	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
4	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
0	31	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
5	4	hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
5	3	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
0	116	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java
91	0	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
7	1	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java

commit 9e07cebece3b4c8b964ddca2f40053734a392ce2
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-06-09 09:22:06 +0800

    [HUDI-974]  Fix fields out of order in MOR mode when using Hive (#1711)

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java

commit 7d40f19f395460bc78a12ac452831a9f0393ab49
Author: Wenning Ding <wenningd@amazon.com>
Date:   2020-05-16 13:39:53 -0700

    HUDI-515 Resolve API conflict for Hive 2 & Hive 3

36	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
3	1	hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java

commit 97ab97b72635164db5ac2a4f93e72e224603ffe0
Author: liujinhui <965147871@qq.com>
Date:   2020-06-08 20:46:47 +0800

    [HUDI-918] Fix kafkaOffsetGen can not read kafka data bug (#1652)

6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit 2901f5423a08c8f0c5fe60c8a3f23acbd36c0aed
Author: Shen Hong <shenh062326@126.com>
Date:   2020-06-08 19:38:32 +0800

    [HUDI-1002] Ignore case when setting incremental mode in hive query (#1715)

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java
3	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java

commit e0a5e0d3435acc5f01812aa46d96cc7d5eb65860
Author: hj2016 <hj3245459@163.com>
Date:   2020-06-08 15:34:42 +0800

    [HUDI-1000] Fix incremental query for COW non-partitioned table with no data (#1708)

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java

commit e9cab67b8095b30205af27498dc0b279d188a454
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date:   2020-06-05 17:25:59 -0700

    [HUDI-988] Fix More Unit Test Flakiness

0	8	hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java
1	3	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
0	12	hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
1	2	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
1	2	hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java
1	1	hudi-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java
2	11	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
1	3	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
2	3	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	3	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
1	5	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
57	66	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
3	29	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
2	21	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
1	4	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
53	14	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
1	1	pom.xml

commit fb283934a33a0bc7b11f80e4149f7922fa4f0af5
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-06-03 00:35:14 -0700

    [HUDI-990] Timeline API : filterCompletedAndCompactionInstants needs to handle requested state correctly. Also ensure timeline gets reloaded after we revert committed transactions

3	1	hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
2	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java
2	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
5	1	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
1	0	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
21	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java

commit a68180b179ae57f16ff0a8d74b72b43b501d36c6
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-06-02 01:49:37 -0700

    [HUDI-988] Fix Unit Test Flakiness : Ensure all instantiations of HoodieWriteClient is closed properly. Fix bug in TestRollbacks. Make CLI unit tests for Hudi CLI check skip redering strings

9	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
6	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
9	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java
9	6	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
12	7	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
8	6	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
3	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java
6	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java
6	4	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java
9	0	hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellIntegrationTest.java
0	4	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
3	1	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
2	5	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
9	12	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
4	7	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
19	22	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
3	6	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
0	19	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java
35	2	hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java
1	1	pom.xml

commit a9a97d6af47841caaa745497ec425267db0873c8
Author: Yajun Luo <499253305@qq.com>
Date:   2020-06-02 19:50:55 +0800

    [HUDI-934] Add processing logic for the decimal LogicalType (#1677)

10	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java

commit 742c2040995167871db976fc0eb280347401ffc4
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-06-01 19:25:42 -0700

    [HUDI-811] Restructure test packages in hudi-client/cli (#1689)

3	3	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
7	7	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
3	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java
6	6	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCleansCommand.java
7	8	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java
3	3	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java
2	3	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/{ => testutils}/AbstractShellIntegrationTest.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/{common => testutils}/HoodieTestCommitMetadataGenerator.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/{common => testutils}/HoodieTestCommitUtilities.java
4	3	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
3	2	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
2	1	hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java
7	6	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
2	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java
3	3	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
12	11	hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
1	3	hudi-client/src/test/java/org/apache/hudi/{common => }/config/TestHoodieWriteConfig.java
2	2	hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java
3	3	hudi-client/src/test/java/org/apache/hudi/execution/{TestBoundedInMemoryExecutor.java => TestSparkBoundedInMemoryExecutor.java}
4	4	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
3	3	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
3	3	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
8	9	hudi-client/src/test/java/org/apache/hudi/index/{TestHbaseIndex.java => hbase/TestHBaseIndex.java}
4	6	hudi-client/src/test/java/org/apache/hudi/index/{ => hbase}/TestHBaseQPSResourceAllocator.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
5	5	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
3	3	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
3	3	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
4	4	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
7	7	hudi-client/src/test/java/org/apache/hudi/table/{TestMergeOnReadTable.java => TestHoodieMergeOnReadTable.java}
4	4	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
3	3	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
5	5	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
65	66	hudi-client/src/test/java/org/apache/hudi/{client/TestHoodieClientBase.java => testutils/HoodieClientTestBase.java}
3	8	hudi-client/src/test/java/org/apache/hudi/{common => testutils}/HoodieClientTestHarness.java
1	1	hudi-client/src/test/java/org/apache/hudi/{common => testutils}/HoodieClientTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/{common => testutils}/HoodieMergeOnReadTestUtils.java
2	2	hudi-client/src/test/java/org/apache/hudi/{common => testutils}/HoodieTestDataGenerator.java
1	1	hudi-client/src/test/java/org/apache/hudi/{common => testutils}/TestRawTripPayload.java
2	2	hudi-spark/src/test/java/HoodieJavaApp.java
1	1	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
0	1	hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java
1	2	hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractDFSSourceTestBase.java

commit 7c59095314f5525590eea308084079a31bde3e17
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date:   2020-06-01 22:23:28 +0800

    [HUDI-975] Add unit tests in TestHoodieTableFileSystemView to test view for non-partitioned table (#1692)

13	7	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java

commit 8cb86b4d36de2ee7f8360b715f9f85c635c71a90
Author: Vinoth Govindarajan <vinothg@uber.com>
Date:   2020-05-31 22:53:50 -0700

    Added python3 to the spark_base docker image to support pyspark (#1632)

6	0	docker/hoodie/hadoop/spark_base/Dockerfile

commit 1a9fef48e767c2bb56b9fba5cac48540c5d6c6c1
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-05-30 23:09:21 -0400

    Fixing binary file checks and disclaimer file checks (#1691)

4	4	scripts/release/validate_staged_release.sh

commit 7fb1251c6ed769ea6877126957a03c5f95d42d8f
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-05-29 20:42:20 -0400

    [HUDI-980] Fixing dir path for metastore_db and derby.logs generated in hive tests (#1688)

1	0	hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java

commit 5a0d3f1cf963e0061364d915ac86a465dd079bac
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-05-28 15:59:11 -0400

    [HUDI-786] Fixing read beyond inline length in InlineFS (#1616)

22	4	hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFsDataInputStream.java
27	25	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java

commit 3574a89232ad8573d1f76b27f127cc2ab9195e38
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date:   2020-05-29 01:50:47 +0800

    [HUDI-973] RemoteHoodieTableFileSystemView supports non-partitioned table queries (#1674)

12	12	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java

commit bde7a7043e100242fec8fc0111e489a269a1d997
Author: dengziming <dengziming1993@gmail.com>
Date:   2020-05-28 01:44:39 +0800

    [HUDI-476]: Add hudi-examples module (#1151)
    
    add hoodie delta streamer mock source example and dfs source and kafka source examples
    
    Signed-off-by: dengziming <dengziming1993@gmail.com>
    
    add defaultSparkConf utils method
    
    change version of hudi-examples to 0.5.2-SNAPSHOT
    change the artifcatId of hudi-spark and hudi-utilities
    alter some code to adapt kafka2.0
    
    Update scritps
    
    Add license

0	144	hudi-client/src/test/java/HoodieClientExample.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java
35	0	hudi-examples/README.md
35	0	hudi-examples/bin/custom-delta-streamer-example.sh
35	0	hudi-examples/bin/dfs-delta-streamer-example.sh
39	0	hudi-examples/bin/hudi-delta-streamer
36	0	hudi-examples/bin/kafka-delta-streamer-example.sh
199	0	hudi-examples/pom.xml
40	0	hudi-examples/src/main/java/org/apache/hudi/examples/common/ExampleDataSchemaProvider.java
186	0	hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java
60	0	hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleSparkUtils.java
38	0	hudi-examples/src/main/java/org/apache/hudi/examples/common/IdentityTransformer.java
48	0	hudi-examples/src/main/java/org/apache/hudi/examples/common/RandomJsonSource.java
133	0	hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java
10	0	hudi-examples/src/main/resources/delta-streamer-config/dfs/source-file.json
31	0	hudi-examples/src/main/resources/delta-streamer-config/kafka/kafka-source.properties
173	0	hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala
10	0	pom.xml

commit 03f136361a5fed594855992ab10bee8bb5060c5b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-05-27 01:28:17 -0700

    [HUDI-811] Restructure test packages in hudi-common (#1644)
    
    * [HUDI-811] Restructure test packages in hudi-common

10	10	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java
6	7	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
2	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
2	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
1	3	hudi-common/src/test/java/org/apache/hudi/common/{storage => fs}/TestStorageSchemes.java
3	2	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java
8	6	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/{TestHFileInLining.java => TestInLineFileSystemHFileInLining.java}
2	2	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInMemoryFileSystem.java
8	5	hudi-common/src/test/java/org/apache/hudi/common/{table/log => functional}/TestHoodieLogFormat.java
5	4	hudi-common/src/test/java/org/apache/hudi/common/{table/log => functional}/TestHoodieLogFormatAppendFailure.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
1	4	hudi-common/src/test/java/org/apache/hudi/common/table/{ => timeline}/TestTimelineLayout.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedFileSystemView.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedIncrementalFSViewSync.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/{model => testutils}/AvroBinaryTestPayload.java
5	3	hudi-common/src/test/java/org/apache/hudi/common/{util => testutils}/CompactionTestUtils.java
8	4	hudi-common/src/test/java/org/apache/hudi/common/{fs/inline => testutils}/FileSystemTestUtils.java
0	1	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java
9	1	hudi-common/src/test/java/org/apache/hudi/common/{model => testutils}/HoodieTestUtils.java
5	1	hudi-common/src/test/java/org/apache/hudi/common/{table/timeline => testutils}/MockHoodieTimeline.java
4	4	hudi-common/src/test/java/org/apache/hudi/common/{util/TestRecord.java => testutils/SampleTestRecord.java}
4	3	hudi-common/src/test/java/org/apache/hudi/common/{util => testutils}/SchemaTestUtil.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/{util => testutils}/SpillableMapTestUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/{ => testutils}/minicluster/HdfsTestService.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/{ => testutils}/minicluster/MiniClusterUtil.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/{ => testutils}/minicluster/ZookeeperTestService.java
6	6	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
4	4	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/collection/{TestRocksDBManager.java => TestRocksDBDAO.java}
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java
5	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/{hive => functional}/TestHoodieCombineHiveInputFormat.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java
113	113	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
1	1	hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
4	4	hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/{TestUtil.java => HiveTestUtil.java}
2	1	hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/keygen/TestTimestampBasedKeyGenerator.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java

commit 9697fbf71ead328cae6d56e9f99872e871342887
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2020-05-26 21:09:02 -0700

    [HUDI-936] Fix fetch ordering val in HoodieSparkSqlWriter to remove unnecessary conversion to String (#1659)

2	2	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 6c450957ced051de6231ad047bce22752210b786
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-05-26 09:23:34 -0700

    [HUDI-690] Filter out inflight compaction in exporter (#1667)

2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java

commit 46572d04c4fed19941cb136882d4895d36b5c2fb
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-05-25 09:12:29 -0700

    [MINOR] Fix PMC tag in doap file (#1666)

1	0	doap_HUDI.rdf

commit 492f324bc79febd8299fbb837b67c900ace18ac2
Author: leesf <leesf@apache.org>
Date:   2020-05-24 18:28:13 +0800

    [HUDI-938] Removing incubating/incubator from project (#1658)

1	1	NOTICE
3	3	README.md
3	4	doap_HUDI.rdf
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
5	9	pom.xml
6	6	scripts/release/cut_release_branch.sh
2	2	scripts/release/preparation_before_release.sh
11	11	scripts/release/validate_staged_release.sh

commit f22c3e933e828d1342bed67874b9ab3fee0ad099
Author: leesf <leesf@apache.org>
Date:   2020-05-24 18:27:08 +0800

    [HUDI-926] Removing DISCLAIMER from the repo (#1657)

0	10	DISCLAIMER

commit d3edac4612bde2fa9deca9536801dbc48961fb95
Author: sathyaprakashg <sathyaprakashg@gmail.com>
Date:   2020-05-24 01:09:18 -0700

    HUDI-921 Remove inlineCompactionEvery method in HoodieCompactionConfig.Builder (#1654)
    
    Co-authored-by: Sathyaprakash Govindasamy <sathyaprakashg@zillowgroup.com>

0	5	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java

commit 45acccdb8a1aadc8aa499f0eb564f98247880357
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-05-23 14:51:58 -0700

    [MINOR] Remove incubating from README

2	2	README.md

commit f34de3fb2738c8c36c937eba8df2a6848fafa886
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-05-22 09:14:21 -0700

    [HUDI-836] Implement datadog metrics reporter (#1572)
    
    - Adds support for emitting metrics to datadog
    - Tests, configs..

3	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
127	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java
44	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
4	0	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
1	1	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java
127	0	hudi-client/src/main/java/org/apache/hudi/metrics/datadog/DatadogHttpClient.java
93	0	hudi-client/src/main/java/org/apache/hudi/metrics/datadog/DatadogMetricsReporter.java
171	0	hudi-client/src/main/java/org/apache/hudi/metrics/datadog/DatadogReporter.java
152	0	hudi-client/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java
77	0	hudi-client/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogMetricsReporter.java
105	0	hudi-client/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java
1	1	packaging/hudi-spark-bundle/pom.xml

commit 802d16c8c9793156ef7fef0c59088040800fe025
Author: hongdd <jn_hdd@163.com>
Date:   2020-05-21 18:28:04 +0800

    [HUDI-707] Add unit test for StatsCommand (#1645)

17	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
22	9	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
176	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java
20	8	hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java
23	0	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java

commit 6a0aa9a645d11ed7b50e18aa0563dafcd9d145f7
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-05-20 21:34:43 +0530

    [HUDI-803] Replaced used of NullNode with JsonProperties.NULL_VALUE in HoodieAvroUtils (#1538)
    
    - added more test cases in TestHoodieAvroUtils.class
    
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

8	9	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
89	4	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java

commit 74ecc27e920c70fa4598d8e5a696954203a5b127
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-05-20 05:29:43 -0700

    [HUDI-846][HUDI-848] Enable Incremental cleaning and embedded timeline-server by default (#1634)

1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
8	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
0	6	hudi-hive-sync/pom.xml
1	0	hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java
43	1	hudi-spark/pom.xml
1	6	hudi-utilities/pom.xml
1	8	pom.xml

commit f802d4400b14a4b11be6f6a1b758e1bb6fbb62a3
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-05-20 05:07:30 -0700

    [MINOR] Fix resource cleanup in TestTableSchemaEvolution (#1640)
    
    - Remove Xms it is not needed.
    - extending process exit timeout from 30 to 120 sec should be safe to do

3	3	hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
2	1	pom.xml

commit 244d47494e2d4d5b3ca60e460e1feb9351fb8e69
Author: rolandjohann <rmmjohann@gmail.com>
Date:   2020-05-20 13:22:35 +0200

    [HUDI-888] fix NullPointerException in HoodieCompactor (#1622)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
18	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java

commit 0dc2fa6172cd62a6ea3b117735132ff9a80211a2
Author: wenningd <wenningding95@gmail.com>
Date:   2020-05-19 21:03:54 -0700

    [MINOR] Fix HoodieCompactor config abbreviation (#1642)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java

commit 161a7983375b0787398a1219a80531019810e692
Author: hongdd <jn_hdd@163.com>
Date:   2020-05-19 18:36:01 +0800

    [HUDI-706] Add unit test for SavepointsCommand (#1624)

5	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
47	29	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
42	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
110	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java
157	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java

commit e6f3bf10cf2c62a1008b82765abdcd33cfd64c67
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-05-18 19:27:24 -0700

    [HUDI-858] Allow multiple operations to be executed within a single commit (#1633)

25	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	1	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
2	1	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java
38	0	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
17	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 2600d2de8d9d963db920ff486032482a946fe3d6
Author: Joey <joey.frazee@icloud.com>
Date:   2020-05-18 13:16:49 -0500

    [MINOR] Fix apache-rat violations (#1639)
    
    * MINOR Fix apache-rat violations. Also, enabling RAT for hudi-utilities and hudi-integ-test

17	15	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
4	0	hudi-integ-test/pom.xml
4	0	hudi-utilities/pom.xml
18	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSnapshotExporterException.java
18	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestInputBatch.java
1	0	pom.xml

commit 459356e292ea869ffe5f39235646dc474da76ea5
Author: rolandjohann <rmmjohann@gmail.com>
Date:   2020-05-18 13:28:27 +0200

    [HUDI-863] get decimal properties from derived spark DataType (#1596)

10	12	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
1	3	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala

commit 57132f79bb2dad6cfb215480b435a778714a442d
Author: hongdd <jn_hdd@163.com>
Date:   2020-05-18 14:04:06 +0800

    [HUDI-705] Add unit test for RollbacksCommand (#1611)

10	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
12	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
182	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java

commit 29edf4b3b8ade64ec7822d6b7b2a125d5ca781c4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-05-17 21:32:24 -0400

    [HUDI-407] Adding Simple Index to Hoodie. (#1402)
    
    This index finds the location by joining incoming records with records from base files.

4	0	hudi-client/src/main/java/org/apache/hudi/client/utils/SparkConfigUtils.java
46	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
16	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
11	4	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
90	0	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java
6	29	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
4	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
169	0	hudi-client/src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java
181	0	hudi-client/src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java
57	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java
484	26	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
0	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
210	0	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java
18	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
51	1	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
34	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java

commit 3c9da2e5f038ea90a823334a7b07bb4d13f90996
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-05-17 18:18:53 -0700

    [HUDI-895] Remove unnecessary listing .hoodie folder when using timeline server (#1636)

2	4	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
35	24	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java

commit 25a0080b2f6ddce0e528b2a72aea33a565f0e565
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-05-16 20:36:51 +0800

    [HUDI-714]Add javadoc and comments to hudi write method link (#1409)
    
    * [HUDI-714] Add javadoc and comments to hudi write method link

6	0	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
9	2	hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
2	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
7	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
27	9	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
8	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java

commit 148b2458f678025698a802cc9f72ee11dc829a1a
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-05-16 01:11:57 -0700

    [MINOR] Increase heap space for surefire (#1623)

1	0	pom.xml

commit 2ada2ef50fc373ed3083d0e7a96e5e644be52bfb
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-05-15 21:33:02 -0700

    [HUDI-902] Avoid exception when getSchemaProvider (#1584)
    
    * When no new input data, don't throw exception for null SchemaProvider
    * Return the newly added NullSchemaProvider instead

22	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java
37	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestInputBatch.java

commit 25e0b75b3d03b6d460dc18d1a5fce7b881b0e019
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   2020-05-15 12:44:03 -0700

    [HUDI-723] Register avro schema if infered from SQL transformation (#1518)
    
    * Register avro schema if infered from SQL transformation
    * Make HoodieWriteClient creation done lazily always. Handle setting schema-provider and avro-schemas correctly when using SQL transformer
    
    Co-authored-by: Alex Filipchik <alex.filipchik@csscompany.com>
    Co-authored-by: Balaji Varadarajan <varadarb@uber.com>

22	17	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
51	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DelegatingSchemaProvider.java

commit a64afdfd17ac974e451bceb877f3d40a9c775253
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-05-14 22:55:25 -0700

    HUDI-528 Handle empty commit in incremental pulling (#1612)

12	17	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
8	0	hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala

commit f094f4285782e1253b52fef788fa7461c67d95a7
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   2020-05-14 13:37:59 -0700

    [HUDI-843] Add ability to specify time unit for  TimestampBasedKeyGenerator (#1541)
    
    
    
    Co-authored-by: Alex Filipchik <alex.filipchik@csscompany.com>
    Co-authored-by: Vinoth Chandar <vinoth@apache.org>

39	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
21	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/keygen/TestTimestampBasedKeyGenerator.java

commit 3a2fe13fcb7c168f8ff023e3bdb6ae482b400316
Author: hongdd <jn_hdd@163.com>
Date:   2020-05-14 19:15:49 +0800

    [HUDI-701] Add unit test for HDFSParquetImportCommand (#1574)

7	0	hudi-cli/pom.xml
3	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
9	10	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
186	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java

commit 83796b3189570182c68a9c41e57b356124c301ca
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   2020-05-13 18:04:38 -0700

    [HUDI-793] Adding proper default to hudi metadata fields and proper handling to rewrite routine (#1513)
    
    * Adding proper default to hudi metadata fields and proper handling to rewrite routine
    * Handle fields declared with a null default
    
    Co-authored-by: Alex Filipchik <alex.filipchik@csscompany.com>

11	6	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
4	3	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java

commit 0d4848b68b625a17d05b38864a84a6cc71189bfa
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-05-13 15:37:03 -0700

    [HUDI-811] Restructure test packages (#1607)
    
    * restructure hudi-spark tests
    * restructure hudi-timeline-service tests
    * restructure hudi-hadoop-mr hudi-utilities tests
    * restructure hudi-hive-sync tests

1	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/{InputPathHandlerTest.java => TestInputPathHandler.java}
2	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/{realtime => hive}/TestHoodieCombineHiveInputFormat.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
2	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/{ => testutils}/InputFormatTestUtil.java
1	0	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
1	1	hudi-hive-sync/src/test/java/org/apache/hudi/hive/{util => testutils}/HiveTestService.java
12	10	hudi-hive-sync/src/test/java/org/apache/hudi/hive/{ => testutils}/TestUtil.java
1	0	hudi-spark/src/test/java/HoodieJavaApp.java
1	0	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
4	3	hudi-spark/src/test/java/{DataSourceUtilsTest.java => org/apache/hudi/TestDataSourceUtils.java}
3	0	hudi-spark/src/test/java/{ => org/apache/hudi/testutils}/DataSourceTestUtils.java
2	1	hudi-spark/src/test/scala/{ => org/apache/hudi}/TestDataSourceDefaults.scala
2	1	hudi-spark/src/test/scala/org/apache/hudi/{ => functional}/HoodieSparkSqlWriterSuite.scala
3	0	hudi-spark/src/test/scala/{ => org/apache/hudi/functional}/TestDataSource.scala
1	1	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/{table/view => service/functional}/TestRemoteHoodieTableFileSystemView.java
7	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => deltastreamer}/TestSchedulerConfGenerator.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => functional}/TestAWSDatabaseMigrationServiceSource.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => functional}/TestHDFSParquetImporter.java
5	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => functional}/TestHoodieDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => functional}/TestHoodieMultiTableDeltaStreamer.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => functional}/TestHoodieSnapshotCopier.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => functional}/TestHoodieSnapshotExporter.java
3	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => functional}/TestJdbcbasedSchemaProvider.java
1	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => keygen}/TestTimestampBasedKeyGenerator.java
4	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java
1	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java
4	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
3	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java
4	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => testutils}/UtilitiesTestBase.java
4	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => testutils}/sources/AbstractBaseTestSource.java
17	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => testutils}/sources/AbstractDFSSourceTestBase.java
3	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => testutils}/sources/DistributedTestDataSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => testutils}/sources/config/TestSourceConfig.java

commit 32bada29dc95f1d5910713ae6b4f4a4ef39677c9
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date:   2020-05-14 00:20:13 +0800

    [HUDI-889] Writer supports useJdbc configuration when hive synchronization is enabled (#1627)

2	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
2	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
3	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 32ea4c70ff259798dee571670dbcc501cc477cb0
Author: liujinhui <965147871@qq.com>
Date:   2020-05-13 21:00:34 +0800

    [HUDI-869] Add support for alluxio (#1608)

3	1	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java

commit 404c7e82d9b538c356f93ffbbcb2c20d23310fd0
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2020-05-12 11:40:31 -0700

    [HUDI-884] Shade avro and parquet-avro in hudi-hive-sync-bundle (#1618)
    
    Co-authored-by: Mehrotra <uditme@amazon.com>

9	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
19	0	packaging/hudi-hive-sync-bundle/pom.xml

commit e8ffc6f0aa91e2ba2f4affe09d4cb29bd12d41e4
Author: Shen Hong <shenh062326@126.com>
Date:   2020-05-13 00:33:29 +0800

    [HUDI-881] Replace part of spark context by hadoop configuration in AbstractHoodieClient and HoodieReadClient (#1620)

4	4	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
2	2	hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
4	0	hudi-client/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java

commit b54517aad07750071c9df164d9e573ed3335652d
Author: Shen Hong <shenh062326@126.com>
Date:   2020-05-12 23:51:31 +0800

    [HUDI-886] Replace jsc.hadoopConfiguration by hadoop configuration in hudi-client testcase (#1621)

4	4	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
18	18	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
2	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
22	22	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
5	5	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
19	19	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java

commit 295d00beea1c84f83d707f7c6e70292787f1e3e0
Author: Shen Hong <shenh062326@126.com>
Date:   2020-05-12 14:33:57 +0800

    [HUDI-880] Replace part of spark context by hadoop configuration in HoodieTable. (#1614)

1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
3	0	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
3	3	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
4	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
14	14	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
3	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
3	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
9	9	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieMergeOnReadTableCompactor.java
3	3	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
3	3	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
2	0	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java
13	13	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
8	8	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
4	4	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
7	7	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
7	7	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
23	23	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
6	6	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
5	5	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
1	1	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala

commit 5d37e66b7ee99a4a496261d98e33e3244b9b9a2a
Author: liujinhui <965147871@qq.com>
Date:   2020-05-11 23:14:43 +0800

    [MINOR] Fix HoodieNotSupportedException description in KafkaOffsetGen  (#1615)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit 6dac10115c155b619734938caac447c8b04d4c8e
Author: Shen Hong <shenh062326@126.com>
Date:   2020-05-11 19:05:36 +0800

    [HUDI-870] Remove spark context in ClientUtils and HoodieIndex (#1609)

1	1	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
4	5	hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
3	3	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
7	7	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java

commit 8d0e23173b3f21d7cdb24942913eb1132a111a32
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-05-10 18:25:54 -0700

    [HUDI-820] cleaner repair command should only inspect clean metadata files (#1542)

15	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
12	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java

commit f92b9fdcc4d7c0dff9953e42205fca22472525c9
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-05-10 16:23:26 -0700

    [MINOR] Fix hardcoding of ports in TestHoodieJmxMetrics (#1606)

3	2	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
5	14	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
35	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/NetworkTestUtils.java

commit fa6aba751d8de16d9d109a8cfc21150b17b59cff
Author: Carm <154939034@qq.com>
Date:   2020-05-10 09:45:07 +0800

    [MINOR] fixed building IndexFileFilter with a wrong condition in HoodieGlobalBloomIndex class (#1537)

1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java

commit d54b4b8a525868ea6d15e2e2cc6ffccc62d5c43c
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2020-05-07 16:33:09 -0700

    [HUDI-838] Support schema from HoodieCommitMetadata for HiveSync (#1559)
    
    Co-authored-by: Mehrotra <uditme@amazon.com>

1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
10	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
57	7	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
4	3	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
80	30	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
47	16	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java

commit e783ab174946a0b767396239c0132c31c8d26458
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   2020-05-07 13:05:32 -0700

    [HUDI-784] Adressing issue with log reader on GCS (#1516)
    
    [HUDI-784] Adressing issue with log reader on GCS (#1516)
    Co-authored-by: Alex Filipchik <alex.filipchik@csscompany.com>

4	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java

commit f921469afcd03baaf2a4f3266c8ba97e516d6935
Author: hongdd <jn_hdd@163.com>
Date:   2020-05-07 23:02:28 +0800

    [HUDI-704] Add test for RepairsCommand (#1554)

9	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
31	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
6	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
4	0	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
207	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java
179	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java
21	0	hudi-cli/src/test/resources/table-config.properties

commit 366bb10d8c4fe98424f09a6cf6f4aee7716451a4
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-05-06 04:15:20 -0700

    [HUDI-812] Migrate hudi common tests to JUnit 5 (#1590)
    
    * [HUDI-812] Migrate hudi-common tests to JUnit 5

2	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java
1	13	hudi-common/pom.xml
22	29	hudi-common/src/test/java/org/apache/hudi/common/bloom/TestBloomFilter.java
6	4	hudi-common/src/test/java/org/apache/hudi/common/bloom/TestInternalDynamicBloomFilter.java
64	62	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
17	17	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestHFileInLining.java
58	90	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java
23	38	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInMemoryFileSystem.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
15	12	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java
6	10	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
6	9	hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
183	180	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
10	8	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatVersion.java
36	39	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
64	60	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDBBasedIncrementalFSViewSync.java
6	9	hudi-common/src/test/java/org/apache/hudi/common/{ => testutils}/HoodieCommonTestHarness.java
0	52	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarnessJunit5.java
7	5	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
4	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestBase64CodecUtil.java
28	25	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
13	20	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java
30	37	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
10	5	hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializationUtils.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java
8	8	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
17	14	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
29	24	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDBManager.java
7	6	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java
3	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieCombineHiveInputFormat.java
5	6	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java
0	8	pom.xml
4	2	style/checkstyle.xml

commit e21441ad8317f302fed947c414e059a332e4d1ef
Author: bschell <bdscheller@gmail.com>
Date:   2020-05-04 11:27:14 -0700

    Add changes for presto mor queries (#1578)
    
    Adds the neccessary changes to hudi for support of presto querying hudi
    merge-on-read table's realtime view.
    
    Co-authored-by: Brandon Scheller <bschelle@amazon.com>

38	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/UseRecordReaderFromInputFormat.java
2	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
21	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestAnnotation.java
18	0	packaging/hudi-presto-bundle/pom.xml

commit 5e0f5e5521c52a08c284a92a3a6a00e34805cce5
Author: AakashPradeep <email2aakash@gmail.com>
Date:   2020-05-03 23:09:17 -0700

    [HUDI-852] adding check for table name for Append Save mode  (#1580)
    
    * adding check for table name for Append Save mode
    
    * adding existing table validation for delete and upsert operation
    
    Co-authored-by: Aakash Pradeep <apradeep@twilio.com>

8	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
56	4	hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala

commit 096f7f55b2553265c0b72f42a1eb7f291e5626ad
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-05-03 21:43:42 -0700

    [HUDI-813] Migrate hudi-utilities tests to JUnit 5 (#1589)

8	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestAWSDatabaseMigrationServiceSource.java
16	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java
7	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java
40	48	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
35	43	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieMultiTableDeltaStreamer.java
6	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestJdbcbasedSchemaProvider.java
8	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchedulerConfGenerator.java
8	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java
22	26	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestUtilHelpers.java
8	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
5	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java
11	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java
10	10	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestFlatteningTransformer.java

commit 506447fd4fde4cd922f7aa8f4e17a7f06666dc97
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-05-01 21:37:21 -0700

    [HUDI-850] Avoid unnecessary listings in incremental cleaning mode (#1576)

64	23	hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
21	22	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
0	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java

commit c4b71622b90fc66f20f361d4c083b0a396572b75
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-04-30 09:19:39 -0700

    [MINOR] Reorder HoodieTimeline#compareTimestamp arguments for better readability (#1575)
    
    - reads nicely as (instantTime1, GREATER_THAN_OR_EQUALS, instantTime2) etc

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
2	2	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java
9	7	hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
8	8	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineDiffHelper.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit 9059bce977cee98e2d65769622c46a1941c563dd
Author: hongdd <jn_hdd@163.com>
Date:   2020-04-29 18:47:27 +0800

    [HUDI-702] Add test for HoodieLogFileCommand (#1522)

11	1	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
13	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
222	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java

commit 69b16309c8c46f831c8b9be42de8b2e29c74f03e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-04-28 22:57:28 -0700

    [HUDI-814] Migrate hudi-client tests to JUnit 5 (#1570)

4	4	hudi-client/src/test/java/org/apache/hudi/common/config/TestHoodieWriteConfig.java
12	12	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java
2	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java
26	28	hudi-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java

commit 06dae30297ea02ab122c9029a54f7927e8212039
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-04-28 08:38:16 -0700

    [HUDI-810] Migrate ClientTestHarness to JUnit 5 (#1553)

9	8	hudi-cli/src/test/java/org/apache/hudi/cli/AbstractShellIntegrationTest.java
11	11	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
27	22	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
21	21	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java
4	4	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java
9	9	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java
19	14	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCleansCommand.java
15	21	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
45	41	hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java
39	40	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
103	108	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
10	10	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java
8	8	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
36	35	hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
14	15	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
2	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java
11	9	hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutor.java
44	45	hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java
17	16	hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java
32	36	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
31	26	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
55	59	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
35	33	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
95	95	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
51	53	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
7	10	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
82	81	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
25	15	hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
99	99	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
17	21	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java
38	34	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
64	83	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java
16	13	hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java
12	6	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
10	5	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
123	140	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java

commit 6de9f5d9e5cb1f82d7c32d04b114e7d4a181619b
Author: satishkotha <satishkotha@uber.com>
Date:   2020-04-27 12:50:39 -0700

    [HUDI-819] Fix a bug with MergeOnReadLazyInsertIterable.
    
    Variable declared here[1] masks protected statuses variable. So although hoodie writes data, will not include writestatus in the completed section. This can cause duplicates being written (#1540)
    [1] https://github.com/apache/incubator-hudi/blob/master/hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java#L53

1	1	hudi-client/src/main/java/org/apache/hudi/execution/BulkInsertMapFunction.java
20	15	hudi-client/src/main/java/org/apache/hudi/execution/{CopyOnWriteLazyInsertIterable.java => LazyInsertIterable.java}
0	74	hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java
36	0	hudi-client/src/main/java/org/apache/hudi/io/AppendHandleFactory.java
36	0	hudi-client/src/main/java/org/apache/hudi/io/CreateHandleFactory.java
35	0	hudi-client/src/main/java/org/apache/hudi/io/WriteHandleFactory.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java
4	3	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java
2	2	hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutor.java
2	2	hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java

commit 19ca0b56296bf89c611406bb86c3626f87d562ee
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-04-25 18:26:44 -0700

    [HUDI-785] Refactor compaction/savepoint execution based on ActionExector abstraction (#1548)
    
    - Savepoint and compaction classes moved to table.action.* packages
     - HoodieWriteClient#savepoint(...) returns void
     - Renamed HoodieCommitArchiveLog -> HoodieTimelineArchiveLog
     - Fixed tests to take into account the additional validation done
     - Moved helper code into CompactHelpers and SavepointHelpers

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
5	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
4	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitUtilities.java
3	35	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
3	9	hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
90	394	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
2	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
12	6	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
11	44	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
69	26	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/{HoodieCommitArchiveLog.java => HoodieTimelineArchiveLog.java}
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/{commit => }/HoodieWriteMetadata.java
26	2	hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java
1	3	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteCommitActionExecutor.java
3	2	hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteHelper.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertCommitActionExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertPreppedCommitActionExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertCommitActionExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPreppedCommitActionExecutor.java
4	3	hudi-client/src/main/java/org/apache/hudi/table/action/commit/WriteHelper.java
70	0	hudi-client/src/main/java/org/apache/hudi/table/action/compact/CompactHelpers.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/HoodieCompactor.java
2	3	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/HoodieMergeOnReadTableCompactor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/OperationResult.java
93	0	hudi-client/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java
121	0	hudi-client/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/strategy/BoundedIOCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/strategy/CompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/strategy/DayBasedCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/strategy/LogFileSizeBasedCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/strategy/UnBoundedCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeleteDeltaCommitActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertDeltaCommitActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertPreppedDeltaCommitActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertPreppedDeltaCommitActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
115	0	hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java
71	0	hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointHelpers.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java
9	9	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/{ => action}/compact/TestAsyncCompaction.java
19	23	hudi-client/src/test/java/org/apache/hudi/table/{ => action}/compact/TestHoodieCompactor.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/{ => action}/compact/strategy/TestHoodieCompactionStrategy.java
14	0	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java

commit 19cc15c0987043175685aaeb45facb15af23e34f
Author: dengziming <dengziming1993@gmail.com>
Date:   2020-04-23 02:37:17 +0800

    [MINOR]: Fix cli docs for DeltaStreamer (#1547)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java

commit aea7c1657ee41ac740b4974f4239c90960553f64
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   2020-04-22 09:47:32 -0700

    [HUDI-795] Handle auto-deleted empty aux folder (#1515)
    
    Co-authored-by: Alex Filipchik <alex.filipchik@csscompany.com>

21	3	hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java

commit 26684f5984baafdfcbef3718fa5abcbd0983a6a4
Author: leesf <leesf@apache.org>
Date:   2020-04-22 16:33:18 +0800

    [HUDI-816] Fixed MAX_MEMORY_FOR_MERGE_PROP and MAX_MEMORY_FOR_COMPACTION_PROP do not work due to HUDI-678 (#1536)

9	1	hudi-client/src/main/java/org/apache/hudi/client/utils/SparkConfigUtils.java
65	0	hudi-client/src/test/java/org/apache/hudi/client/utils/TestSparkConfigUtils.java

commit 6e15eebd81da41b1076179a8ddcedcf07d1c9043
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-04-21 23:10:25 -0700

    [HUDI-809] Migrate CommonTestHarness to JUnit 5 (#1530)

26	28	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
13	11	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineLayout.java
165	170	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java
52	0	hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarnessJunit5.java
10	10	hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java
0	6	hudi-hadoop-mr/pom.xml
30	37	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
40	41	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
11	15	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java
24	28	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieCombineHiveInputFormat.java
64	63	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
11	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java
11	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java

commit 2a56f82908a8b8f788a7547d3c707c144696c1df
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   2020-04-21 20:12:34 -0700

    [HUDI-821] Fixing JCommander param parsing in deltastreamer (#1525)
    
    Co-authored-by: Alex Filipchik <alex.filipchik@csscompany.com>

1	15	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java

commit 62bd3e7ded0b9f02742ece746fd7179ba20b5c92
Author: Prashant Wason <pwason@uber.com>
Date:   2020-03-31 22:32:13 -0700

    [HUDI-757] Added hudi-cli command to export metadata of Instants.
    
    Example:
    hudi:db.table-> export instants --localFolder /tmp/ --limit 5 --actions clean,rollback,commit --desc false

231	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java
29	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java

commit 84dd9047d3902650d7ff5bc95b9789d6880ca8e2
Author: hongdd <jn_hdd@163.com>
Date:   2020-04-21 14:21:30 +0800

    [HUDI-789]Adjust logic of upsert in HDFSParquetImporter (#1511)

14	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
203	52	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java

commit 332072bc6d5fd04e9325d21e55dfac66bc8f848a
Author: n3nash <nagarwal@uber.com>
Date:   2020-04-20 20:40:06 -0700

    [HUDI-371] Supporting hive combine input format for realtime tables (#1503)

2	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
62	0	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ArrayUtils.java
1	1	hudi-hadoop-mr/pom.xml
357	269	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
169	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineRealtimeFileSplit.java
44	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineRealtimeHiveSplit.java
3	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
103	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
1	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java
10	12	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
100	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
14	14	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
160	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieCombineHiveInputFormat.java
18	73	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit 2a2f31d919dbabde76284f3b7fdae1e45dc9ceb1
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-04-21 09:40:22 +0800

    [MINOR] Remove reduntant code and fix typo in HoodieDefaultTimeline (#1535)

1	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java

commit ddd105bb3119174b613c6917ee25795f2939f430
Author: Dongwook <kwondw@users.noreply.github.com>
Date:   2020-04-20 08:38:18 -0700

    [HUDI-772] Make UserDefinedBulkInsertPartitioner configurable for DataSource (#1500)

10	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
25	2	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
13	0	hudi-spark/src/test/java/DataSourceTestUtils.java
86	0	hudi-spark/src/test/java/DataSourceUtilsTest.java

commit 09fd6f64c527e6a822c4e17dc4e61b8fdee28189
Author: lw0090 <lw309637554@gmail.com>
Date:   2020-04-19 21:33:07 +0800

    [HUDI-800] Fix Metrics getReporter().close() throws NPE. (#1529)

4	2	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java

commit 75523657a4b5c67209e48c1c989a4dd017b4fdd1
Author: baobaoyeye <bao.renyi@gmail.com>
Date:   2020-04-18 12:51:37 +0800

    [MINOR] use Option and fix description in toString method (#1527)
    
    * [MINOR] fix some places are not elegant, as a newcomer
    
    * [MINOR] fix some places are not elegant, as a newcomer

2	2	hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertBucket.java
7	19	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackHelper.java
0	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java

commit acb1ada2f756b49d9f9a0aa152f99fcc9e86dde7
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   2020-04-16 13:49:39 -0700

    [HUDI-799] Use appropriate FS when loading configs (#1517)
    
    Co-authored-by: Alex Filipchik <alex.filipchik@csscompany.com>

3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit acdc4a8d004394590f9e5ffcc703ea23624e66d9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-04-16 01:07:32 -0700

    [HUDI-798] Migrate to Mockito Jupiter for JUnit 5 (#1521)

1	1	hudi-cli/pom.xml
1	1	hudi-client/pom.xml
7	7	hudi-client/src/test/java/org/apache/hudi/client/TestWriteStatus.java
9	10	hudi-client/src/test/java/org/apache/hudi/client/utils/TestParquetReaderIterator.java
23	22	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
3	3	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java
1	1	hudi-common/pom.xml
66	58	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java
1	1	hudi-hadoop-mr/pom.xml
16	24	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java
1	1	hudi-hive-sync/pom.xml
1	1	hudi-spark/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
3	3	pom.xml

commit 19d29ac7d0ac451324d25bfe85b51b1eca10bc67
Author: Prashant Wason <pwason@uber.com>
Date:   2020-03-27 00:53:49 -0700

    [HUDI-741] Added checks to validate Hoodie's schema evolution.
    
    HUDI specific validation of schema evolution should ensure that a newer schema can be used for the dataset by checking that the data written using the old schema can be read using the new schema.
    
    Code changes:
    
    1. Added a new config in HoodieWriteConfig to enable schema validation check (disabled by default)
    2. Moved code that reads schema from base/log files into hudi-common from hudi-hive-sync
    3. Added writerSchema to the extraMetadata of compaction commits in MOR table. This is same as that for commits on COW table.
    
    Testing changes:
    
    4. Extended TestHoodieClientBase to add insertBatch API which allows inserting a new batch of unique records into a HUDI table
    5. Added a unit test to verify schema evolution for both COW and MOR tables.
    6. Added unit tests for schema compatiblity checks.

4	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
63	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
12	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
0	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
28	0	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
3	3	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
487	0	hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java
18	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
8	0	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
360	0	hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java
2	2	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
7	122	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
2	31	hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/{SchemaUtil.java => HiveSchemaUtil.java}
9	9	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit 9ca710cb02d34ab26fbf59b2d9152f2df86875f3
Author: Iftach Schonbaum <iftachsc@cloudzone.io>
Date:   2020-04-16 00:56:13 +0300

    [HUDI-777] Updated description for --target-table parameter (#1519)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java

commit d65efe659d36dfb80be16a6389c5aba2f8701c39
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-04-15 12:35:01 -0700

    [HUDI-780] Migrate test cases to Junit 5 (#1504)

31	0	hudi-cli/pom.xml
24	0	hudi-client/pom.xml
2	2	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
8	7	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
24	0	hudi-common/pom.xml
16	12	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java
9	12	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroWriteSupport.java
24	0	hudi-hadoop-mr/pom.xml
14	14	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputPathHandlerTest.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestAnnotation.java
8	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java
22	4	hudi-hive-sync/pom.xml
148	149	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
1	1	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java
21	3	hudi-integ-test/pom.xml
9	9	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
10	10	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
18	15	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
27	2	hudi-spark/pom.xml
3	3	hudi-spark/src/test/java/DataSourceUtilsTest.java
9	12	hudi-spark/src/test/scala/TestDataSource.scala
9	9	hudi-spark/src/test/scala/TestDataSourceDefaults.scala
20	2	hudi-timeline-service/pom.xml
24	0	hudi-utilities/pom.xml
7	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestChainedTransformer.java
32	2	pom.xml

commit 14d4fea8339913c0df8ea829036a45a187c55208
Author: Gary Li <yanjia.gary.li@gmail.com>
Date:   2020-04-14 14:51:04 -0700

    [HUDI-759] Integrate checkpoint provider with delta streamer (#1486)

21	9	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
31	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckPointProvider.java
18	9	hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/KafkaConnectHdfsProvider.java
4	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
33	24	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
28	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
11	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java

commit 644c1cc8bd1965271c4433edccb17aa8fda5f403
Author: hongdd <jn_hdd@163.com>
Date:   2020-04-14 17:54:47 +0800

    [HUDI-698]Add unit test for CleansCommand (#1449)

25	0	hudi-cli/pom.xml
9	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
10	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
183	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java
101	0	hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCleansCommand.java
19	0	hudi-cli/src/test/resources/clean.properties
7	0	scripts/run_travis_tests.sh

commit 661b0b3bab85c8fd958a9e256dab99790ea92713
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-04-13 08:29:19 -0700

    [HUDI-761] Refactoring rollback and restore actions using the ActionExecutor abstraction (#1492)
    
    - rollback() and restore() table level APIs introduced
    - Restore is implemented by wrapping calls to rollback executor
    - Existing tests transparently cover this, since its just a refactor

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
1	117	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
54	102	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
26	0	hudi-client/src/main/java/org/apache/hudi/exception/HoodieRestoreException.java
8	71	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
11	187	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
26	13	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
111	0	hudi-client/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java
57	0	hudi-client/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java
64	0	hudi-client/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java
192	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java
94	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java
241	0	hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/rollback/RollbackHelper.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/{ => action}/rollback/RollbackRequest.java
5	11	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
6	9	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java
3	2	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java

commit 17bf9303423821483f17785f8536b7bfed45e42e
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-04-12 23:11:00 -0700

    [HUDI-770] Organize upsert/insert API implementation under a single package (#1495)

13	7	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
55	264	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
40	309	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
41	139	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
72	20	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
3	2	hudi-client/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
291	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java
41	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BucketInfo.java
23	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BucketType.java
60	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java
84	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java
61	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java
176	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java
45	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteCommitActionExecutor.java
96	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteHelper.java
104	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/HoodieWriteMetadata.java
41	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertBucket.java
47	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertCommitActionExecutor.java
45	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertPreppedCommitActionExecutor.java
40	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/SmallFile.java
47	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertCommitActionExecutor.java
316	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java
45	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPreppedCommitActionExecutor.java
105	0	hudi-client/src/main/java/org/apache/hudi/table/action/commit/WriteHelper.java
62	0	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java
63	0	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java
47	0	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeleteDeltaCommitActionExecutor.java
94	0	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java
49	0	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertDeltaCommitActionExecutor.java
45	0	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertPreppedDeltaCommitActionExecutor.java
49	0	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitActionExecutor.java
142	0	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitPartitioner.java
45	0	hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertPreppedDeltaCommitActionExecutor.java
2	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
30	18	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
6	2	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
26	97	hudi-client/src/test/java/org/apache/hudi/table/{TestCopyOnWriteTable.java => action/commit/TestCopyOnWriteActionExecutor.java}
148	0	hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java

commit 447ba3bae6dbaec7b6cfa0950cd24f5c4fcf5025
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-04-12 22:38:56 -0400

    [MINOR] Disabling flaky test in InlineFileSystem (#1510)

2	1	hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java

commit 6d7ca2cf7e441ad19d32d7a25739e454f39ed253
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-04-13 06:25:26 +0530

    [HUDI-727]: Copy default values of fields if not present when rewriting incoming record with new schema (#1427)

30	13	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java
52	2	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java

commit 5d717a28f45137bea71dffa31b0ae7ccbf1bda00
Author: Shen Hong <shenh062326@126.com>
Date:   2020-04-12 10:06:30 +0800

    [HUDI-782] Add support of Aliyun object storage service. (#1506)

2	0	hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java

commit a464a2972e83e648585277ebe567703c8285cf1e
Author: hongdd <jn_hdd@163.com>
Date:   2020-04-11 10:12:21 +0800

    [HUDI-700]Add unit test for FileSystemViewCommand (#1490)

56	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java
28	19	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
267	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java

commit c0f96e072650d39433929c6efe3bc0b2cd882a39
Author: satishkotha <satishkotha@uber.com>
Date:   2020-04-10 10:45:41 -0700

    [HUDI-687] Stop incremental reader on RO table when there is a pending compaction (#1396)

24	16	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
49	42	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
233	46	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
8	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java
10	6	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
24	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java
53	14	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
7	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
6	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
122	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java

commit 8c7cef3e50471d3645b207d97d515107764688c9
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2020-04-10 08:58:55 -0700

    [HUDI - 738] Add validation to DeltaStreamer to fail fast when filterDupes is enabled on UPSERT mode. (#1505)
    
    Summary:
    This fix ensures for UPSERT operation, '--filter-dupes' is disabled and fails fast if not. Otherwise it would drop all updates silently and only take in new records.

0	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
3	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
12	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit f5f34bb1c16e6d070668486eba2a29f554c0bbc7
Author: Ramachandran Madtas Subramaniam <mramachandran@uber.com>
Date:   2020-03-11 12:58:31 -0700

    [HUDI-568] Improve unit test coverage
    
    Classes improved:
    * HoodieTableMetaClient
    * RocksDBDAO
    * HoodieRealtimeFileSplit

0	3	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBDAO.java
19	0	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
148	20	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDBManager.java
6	0	hudi-hadoop-mr/pom.xml
162	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java

commit 996f7612323729d3ab4bedc1b0c7754aded2dc00
Author: Abhishek Modi <modi@uber.com>
Date:   2020-04-08 22:50:36 -0700

    Trying git merge --squash

69	0	hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroWriteSupport.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
8	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java

commit 3c803421e0e138c223c9bec90f9b7c8a6751317d
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-04-08 16:35:15 -0700

    rename variable per review comments

4	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java

commit 1f6be820f327503b460f9e8c372c07d6b0918fca
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-04-02 11:05:54 -0700

    [HUDI-758] Modify Integration test to include incremental queries for MOR tables

0	0	docker/demo/{get_min_commit_time.sh => get_min_commit_time_cow.sh}
20	0	docker/demo/get_min_commit_time_mor.sh
1	1	docker/demo/{hive-incremental.commands => hive-incremental-cow.commands}
27	0	docker/demo/hive-incremental-mor-ro.commands
27	0	docker/demo/hive-incremental-mor-rt.commands
31	14	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java

commit f7b55afb74545aefd440cc83f3d0552e333048e3
Author: Jiayi Liao <buptliaojiayi@gmail.com>
Date:   2020-04-09 09:14:50 +0800

    [MINOR] Fix typo in TimelineService (#1497)
    
    Co-authored-by: Jiayi Liao <bupt_ljy@163.com>

1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java

commit 4e5c8671ef3213ffa5c40f09aae27aacfa20f907
Author: hongdd <jn_hdd@163.com>
Date:   2020-04-08 21:33:15 +0800

    [HUDI-740]Fix can not specify the sparkMaster and code clean for SparkUtil (#1452)

46	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCliSparkConfig.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
8	8	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
25	37	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
23	13	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java

commit d610252d6b54dcbb1897bb8881d59c3838a46c18
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-04-08 04:40:26 +0530

    [HUDI-288]: Add support for ingesting multiple kafka streams in a single DeltaStreamer deployment (#1150)
    
    * [HUDI-288]: Add support for ingesting multiple kafka streams in a single DeltaStreamer deployment

2	8	hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
131	20	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
6	0	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
6	3	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java
25	0	hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
4	4	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
1	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
25	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
393	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java
85	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/TableExecutionContext.java
62	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
166	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieMultiTableDeltaStreamer.java
11	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
10	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java
4	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java
23	0	hudi-utilities/src/test/resources/delta-streamer-config/invalid_hive_sync_uber_config.properties
24	0	hudi-utilities/src/test/resources/delta-streamer-config/short_trip_uber_config.properties
44	0	hudi-utilities/src/test/resources/delta-streamer-config/source_short_trip_uber.avsc
44	0	hudi-utilities/src/test/resources/delta-streamer-config/source_uber.avsc
44	0	hudi-utilities/src/test/resources/delta-streamer-config/target_short_trip_uber.avsc
44	0	hudi-utilities/src/test/resources/delta-streamer-config/target_uber.avsc
25	0	hudi-utilities/src/test/resources/delta-streamer-config/uber_config.properties

commit b5d093a21bbb19f164fbc549277188f2151232a8
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date:   2020-04-06 16:31:54 +0800

    [MINOR] Clear up the redundant comment. (#1489)

1	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java

commit eaf6cc2d90bf27c0d9414a4ea18dbd1b61f58e50
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-04-04 00:07:34 -0700

    [HUDI-756] Organize Cleaning Action execution into a single package in hudi-client (#1485)
    
    - Introduced a thin abstraction ActionExecutor, that all actions will implement
    - Pulled cleaning code from table, writeclient into a single package
    - CleanHelper is now CleanPlanner, HoodieCleanClient is no longer around
    - Minor refactor of HoodieTable factory method
    - HoodieTable.create() methods with and without metaclient passed in
    - HoodieTable constructor now does not do a redundant instantiation
    - Fixed existing unit tests to work at the HoodieWriteClient level

0	4	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
7	9	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
0	197	hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
32	30	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java
11	161	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
3	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
28	29	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
43	0	hudi-client/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java
280	0	hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java
5	6	hudi-client/src/main/java/org/apache/hudi/table/{CleanHelper.java => action/clean/CleanPlanner.java}
70	0	hudi-client/src/main/java/org/apache/hudi/table/action/clean/PartitionCleanStat.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java
3	3	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
3	8	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
1	1	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
3	3	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
13	13	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
8	8	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
4	4	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
23	25	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
9	11	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
23	25	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java
5	5	hudi-client/src/test/java/org/apache/hudi/table/compact/TestHoodieCompactor.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
1	1	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala

commit 575d87cf7d6f0f743cb7cec6520d80e6fcc3e20a
Author: YanJia-Gary-Li <yanjia.gary.li@gmail.com>
Date:   2020-04-03 18:57:34 -0700

    HUDI-644 kafka connect checkpoint provider (#1453)

31	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckPointProvider.java
152	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/KafkaConnectHdfsProvider.java
94	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java

commit deb95ad9962bd40dc3edcc66281e8d333f32bab3
Author: Prashant Wason <pwason@uber.com>
Date:   2020-04-03 16:25:01 -0700

    [HUDI-748] Adding .codecov.yml to set exclusions for code coverage reports. (#1468)

44	0	.codecov.yml

commit 6808559b018366b4bc6d47b40dbbe362f48f65d7
Author: Prashant Wason <pwason@uber.com>
Date:   2020-04-03 16:23:05 -0700

    [HUDI-717] Fixed usage of HiveDriver for DDL statements. (#1416)
    
    When using HiveDriver mode in HudiHiveClient, Hive 2.x DDL operations like ALTER PARTITION may fail. This is because Hive 2.x doesn't like `db`.`table_name` for operations. In this fix, we set the name of the database in the SessionState create for the Driver.

3	1	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
89	2	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
9	7	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java

commit 639ec20412f73d221c24737e35667b37b35cc583
Author: Ramachandran Madtas Subramaniam <mramachandran@uber.com>
Date:   2020-03-23 23:23:19 -0700

    [HUDI-562] Enable testing at debug log level
    
    This is to ensure that tests will execute all code paths, even the ones
    written under DEBUG log levels. This will improve coverage as well as
    ensure there are no surprised when DEBUG log level is enabled in
    production.

12	6	hudi-cli/src/test/resources/log4j-surefire-quiet.properties
12	6	hudi-client/src/test/resources/log4j-surefire-quiet.properties
11	10	hudi-client/src/test/resources/log4j-surefire.properties
12	6	hudi-common/src/test/resources/log4j-surefire-quiet.properties
11	8	hudi-common/src/test/resources/log4j-surefire.properties
12	6	hudi-hadoop-mr/src/test/resources/log4j-surefire-quiet.properties
11	6	hudi-hadoop-mr/src/test/resources/log4j-surefire.properties
12	6	hudi-hive-sync/src/test/resources/log4j-surefire-quiet.properties
11	7	hudi-hive-sync/src/test/resources/log4j-surefire.properties
12	6	hudi-integ-test/src/test/resources/log4j-surefire-quiet.properties
11	6	hudi-integ-test/src/test/resources/log4j-surefire.properties
12	6	hudi-spark/src/test/resources/log4j-surefire-quiet.properties
11	10	hudi-spark/src/test/resources/log4j-surefire.properties
12	6	hudi-timeline-service/src/test/resources/log4j-surefire-quiet.properties
11	8	hudi-timeline-service/src/test/resources/log4j-surefire.properties
12	6	hudi-utilities/src/test/resources/log4j-surefire-quiet.properties
11	6	hudi-utilities/src/test/resources/log4j-surefire.properties

commit bd716ece1826fcc44092bd0add6cbbc097eeaec2
Author: yanghua <yanghua1127@gmail.com>
Date:   2020-04-02 16:14:35 +0800

    [MINIOR] Add license header for .asf.yaml and adjust labels

21	3	.asf.yaml

commit 194e20e66189e9e7ef313804532386339aeb6212
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-04-02 15:51:51 +0800

    [MINOR] Fix label issue in .asf.yaml (#1478)

3	3	.asf.yaml

commit 5b53b0d85e0d60a37c37941b5a653b0718534e7b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-04-01 08:21:31 -0700

    [HUDI-731] Add ChainedTransformer (#1440)
    
    * [HUDI-731] Add ChainedTransformer

10	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
18	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
54	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/ChainedTransformer.java
34	33	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
101	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestUtilHelpers.java
92	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestChainedTransformer.java
1	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/{ => transform}/TestFlatteningTransformer.java

commit 2a611f4ad3816b67b54e0fcd1ef588668fba0732
Author: Trevor <33487819+Trevor-zhang@users.noreply.github.com>
Date:   2020-04-01 22:19:54 +0800

    [HUDI-749] Fix hudi-timeline-server-bundle run_server.sh start error (#1477)

1	1	packaging/hudi-timeline-server-bundle/run_server.sh

commit c146ca90fdd102f2bda90a2b15f6aef56414f9f4
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-04-01 10:02:47 +0800

    [HUDI-754] Configure .asf.yaml for Hudi Github repository (#1472)
    
    * [HUDI-754] Configure .asf.yaml for Hudi Github repository

12	0	.asf.yaml

commit 78b3194e8241c519a85310997f31b2b55df487e1
Author: Shaofeng Shi <shaofengshi@gmail.com>
Date:   2020-03-31 21:19:32 +0800

    [HUDI-751] Fix some coding issues reported by FindBugs (#1470)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
4	12	hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java
1	0	hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java
1	0	hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
1	0	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
1	0	hudi-client/src/main/java/org/apache/hudi/client/WriteStatus.java
1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/DayBasedCompactionStrategy.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/config/SerializableConfiguration.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieBaseFile.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java
4	3	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
1	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
1	0	hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java
3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
5	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java
2	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java

commit 9ecf0ccfb263cee8190afeb965ba350525860d6e
Author: Edwin Guo <altergzj@yahoo.com>
Date:   2020-03-31 00:56:20 -0400

    [HUDI-742] Fix Java Math Exception (#1466)

1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java
17	0	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java

commit ce0a4c64d07d6eea926d1bfb92b69ae387b88f50
Author: wenningd <wenningding95@gmail.com>
Date:   2020-03-30 15:52:15 -0700

    [HUDI-713] Fix conversion of Spark array of struct type to Avro schema (#1406)
    
    Co-authored-by: Wenning Ding <wenningd@amazon.com>

17	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
4	4	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
0	10	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
27	0	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties
26	0	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc

commit dbc9acd23a4eb208c7cd458bb3adaf54731d4145
Author: lamber-ken <lamberken@163.com>
Date:   2020-03-30 13:19:17 -0500

    [HUDI-716] Exception: Not an Avro data file when running HoodieCleanClient.runClean (#1432)

21	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
5	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java
19	0	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
9	0	hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java
24	0	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java

commit 9f51b99174da2ce72adc632b9ef84cfd3760c153
Author: Prashant Wason <pwason@uber.com>
Date:   2020-03-30 07:36:12 -0700

    [MINOR] Updated HoodieMergeOnReadTestUtils for future testing requirements (#1456)
    
    1. getRecordsUsingInputFormat() can take a custom Configuration which can be used to specify HUDI table properties (e.g. <table>.consume.mode or <table>.consume.start.timestamp)
    2. Fixed the return to return an empty List rather than raise an Exception if no records are found

10	4	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java

commit 1f5b0c77d6c87a936f2d34287ec6a1df1cb18b33
Author: ffcchi <fengfeichi@gmail.com>
Date:   2020-03-30 01:14:38 -0600

    [HUDI-724] Parallelize getSmallFiles for partitions (#1421)
    
    Co-authored-by: Feichi Feng <feicfeng@amazon.com>

2	2	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
27	10	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
4	8	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java

commit fa36082554373dd4dce3e3d3159ab87300a4601d
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-03-29 23:46:52 -0400

    [HUDI-746] Reduce build warnings < 10 (#1465)

2	3	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
4	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
2	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
0	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java
1	0	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
1	0	hudi-cli/src/test/java/org/apache/hudi/cli/AbstractShellIntegrationTest.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
1	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java
2	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java
6	5	hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
4	5	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
3	3	hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java
7	7	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java
2	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
3	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java
4	3	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
6	4	hudi-client/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/CleanHelper.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java
7	7	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
10	10	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieCompactor.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/CompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java
1	1	hudi-client/src/test/java/HoodieClientExample.java
3	3	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
1	0	hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java
5	5	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
6	6	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
1	2	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java
6	6	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
3	3	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
2	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
2	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
3	3	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
1	2	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
9	9	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
6	4	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java
8	7	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
3	3	hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/compact/TestHoodieCompactor.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/compact/strategy/TestHoodieCompactionStrategy.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/fs/FailSafeConsistencyGuard.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
7	7	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanV1MigrationHandler.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanV2MigrationHandler.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/compaction/CompactionV1MigrationHandler.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/compaction/CompactionV2MigrationHandler.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineLayout.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java
4	4	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
5	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java
22	20	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
10	8	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
13	11	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputPathHandlerTest.java
13	11	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
3	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
3	3	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
3	2	hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
3	3	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java
5	5	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
1	1	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
6	4	hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
2	1	hudi-spark/src/test/java/DataSourceUtilsTest.java
2	2	hudi-spark/src/test/java/HoodieJavaApp.java
2	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
1	1	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/JdbcbasedSchemaProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/AWSDmsTransformer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java
6	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java
4	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java

commit fad4bd377bb14a9ff6e684a526d0eaa65458d91d
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-03-29 10:59:40 -0700

    [HUDI-745] CI should fail PRs with unapproved license files (#1464)

1	1	pom.xml

commit e057c27603301d8b49e9b50b78a3ffce247b1059
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-03-29 10:58:49 -0700

    [HUDI-744] Restructure hudi-common and clean up files under util packages (#1462)
    
     - Brings more order and cohesion to the classes in hudi-common
     - Utils classes related to a particular concept (avro, timeline,...) are placed near to the package
     - common.fs package now contains all the filesystem level classes including wrapper filesystem
     - bloom.filter package renamed to just bloom
     - config package contains classes that help store properties
     - common.fs.inline package contains all the inline filesystem classes/impl
     - common.table.timeline now consolidates all timeline related classes
     - common.table.view consolidates all the classes related to filesystem view metadata
     - common.table.timeline.versioning contains all classes related to versioning of timeline
     - Fix few unit tests as a result
     - Moved the test packages around to match the source file move
     - Rename AvroUtils to TimelineMetadataUtils & minor fixes/typos

2	2	LICENSE
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
4	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
7	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
5	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
1	1	hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala
1	1	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
1	1	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java
2	2	hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java
5	5	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
6	6	hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
5	5	hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java
11	11	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java
1	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
1	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
2	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
2	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
1	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
2	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
3	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
3	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
3	3	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
3	3	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java
1	1	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/CleanHelper.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
12	12	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/CompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java
1	1	hudi-client/src/test/java/HoodieClientExample.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java
4	4	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
9	9	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java
7	7	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
5	5	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
3	1	hudi-client/src/test/java/org/apache/hudi/{ => common}/config/TestHoodieWriteConfig.java
5	5	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
2	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
7	7	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
3	3	hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java
3	3	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java
4	4	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/compact/TestHoodieCompactor.java
1	1	hudi-common/src/main/java/org/apache/hudi/{common/util => avro}/HoodieAvroUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/{filter => }/BloomFilter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/{filter => }/BloomFilterFactory.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/{filter => }/BloomFilterTypeCode.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/{filter => }/BloomFilterUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/{filter => }/HoodieDynamicBoundedBloomFilter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/{filter => }/InternalDynamicBloomFilter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/{filter => }/InternalFilter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/bloom/{filter => }/SimpleBloomFilter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{util => config}/DFSPropertiesConfiguration.java
1	1	hudi-common/src/main/java/org/apache/hudi/{ => common}/config/DefaultHoodieConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{ => config}/SerializableConfiguration.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{util => config}/TypedProperties.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{util => fs}/ConsistencyGuard.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/{util => fs}/ConsistencyGuardConfig.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/{util => fs}/FSUtils.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/{util => fs}/FailSafeConsistencyGuard.java
1	5	hudi-common/src/main/java/org/apache/hudi/common/{io/storage => fs}/HoodieWrapperFileSystem.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{util => fs}/NoOpConsistencyGuard.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{storage => fs}/SizeAwareDataInputStream.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{util/collection/io/storage => fs}/SizeAwareDataOutputStream.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/{io/storage => fs}/SizeAwareFSDataOutputStream.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{storage => fs}/StorageSchemes.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{inline/fs => fs/inline}/InLineFSUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{inline/fs => fs/inline}/InLineFileSystem.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{inline/fs => fs/inline}/InLineFsDataInputStream.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{inline/fs => fs/inline}/InMemoryFileSystem.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/BaseAvroPayload.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieBaseFile.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
9	7	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/{util => table/log}/LogReaderUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/{ => timeline}/HoodieTimeline.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/{util => table/timeline}/TimelineDiffHelper.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/{ => timeline}/TimelineLayout.java
4	5	hudi-common/src/main/java/org/apache/hudi/common/{util/AvroUtils.java => table/timeline/TimelineMetadataUtils.java}
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{ => table/timeline}/versioning/AbstractMigratorBase.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{ => table/timeline}/versioning/MetadataMigrator.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{model => table/timeline/versioning}/TimelineLayoutVersion.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/{ => table/timeline}/versioning/VersionMigrator.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/{ => table/timeline}/versioning/clean/CleanMetadataMigrator.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/{ => table/timeline}/versioning/clean/CleanV1MigrationHandler.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/{ => table/timeline}/versioning/clean/CleanV2MigrationHandler.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/{ => table/timeline}/versioning/compaction/CompactionPlanMigrator.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/{ => table/timeline}/versioning/compaction/CompactionV1MigrationHandler.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/{ => table/timeline}/versioning/compaction/CompactionV2MigrationHandler.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
7	7	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/{ => view}/SyncableFileSystemView.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/{ => view}/TableFileSystemView.java
6	5	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
6	5	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java
5	2	hudi-common/src/main/java/org/apache/hudi/common/util/{ => collection}/RocksDBDAO.java
1	1	hudi-common/src/test/java/org/apache/hudi/{common/util => avro}/TestHoodieAvroUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/bloom/{filter => }/TestBloomFilter.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/bloom/{filter => }/TestInternalDynamicBloomFilter.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/{util => fs}/TestFSUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/{inline/fs => fs/inline}/FileSystemTestUtils.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/{inline/fs => fs/inline}/TestHFileInLining.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/{inline/fs => fs/inline}/TestInLineFileSystem.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/{inline/fs => fs/inline}/TestInMemoryFileSystem.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java
7	7	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineLayout.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
1	5	hudi-common/src/test/java/org/apache/hudi/common/table/{string => timeline}/MockHoodieTimeline.java
3	6	hudi-common/src/test/java/org/apache/hudi/common/table/{string => timeline}/TestHoodieActiveTimeline.java
8	9	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
9	10	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
2	3	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDBBasedIncrementalFSViewSync.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedFileSystemView.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedIncrementalFSViewSync.java
5	3	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
2	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
4	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/util/{ => collection}/TestRocksDBManager.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
3	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
1	1	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
3	3	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
5	5	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java
1	1	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
1	1	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java
2	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	hudi-spark/src/test/scala/TestDataSource.scala
2	1	hudi-spark/src/test/scala/TestDataSourceDefaults.scala
2	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
2	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
3	3	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/JdbcbasedSchemaProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/AWSDmsTransformer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestJdbcbasedSchemaProvider.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
6	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java

commit 07c3c5d797f612f9b73b2805b65275c2029c2442
Author: leesf <490081539@qq.com>
Date:   2020-03-29 16:54:00 +0800

    [HUDI-679] Make io package Spark free (#1460)
    
    * [HUDI-679] Make io package Spark free

2	1	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
42	0	hudi-client/src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java
1	1	hudi-client/src/main/java/org/apache/hudi/execution/BulkInsertMapFunction.java
7	3	hudi-client/src/main/java/org/apache/hudi/execution/CopyOnWriteLazyInsertIterable.java
5	4	hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java
7	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
7	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
7	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
19	6	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
6	4	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
7	6	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
7	0	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
2	2	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
3	0	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java
3	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
4	2	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java

commit ac73bdcdc39e100d4082cf54359690490e5774f7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-03-28 12:13:35 -0400

    [HUDI-430] Adding InlineFileSystem to support embedding any file format as an InlineFile (#1176)
    
    * Adding InlineFileSystem to support embedding any file format (parquet, hfile, etc). Supports reading the embedded file using respective readers.

1	0	hudi-client/pom.xml
15	0	hudi-common/pom.xml
98	0	hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InLineFSUtils.java
133	0	hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InLineFileSystem.java
114	0	hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InLineFsDataInputStream.java
138	0	hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InMemoryFileSystem.java
66	0	hudi-common/src/test/java/org/apache/hudi/common/inline/fs/FileSystemTestUtils.java
241	0	hudi-common/src/test/java/org/apache/hudi/common/inline/fs/TestHFileInLining.java
356	0	hudi-common/src/test/java/org/apache/hudi/common/inline/fs/TestInLineFileSystem.java
145	0	hudi-common/src/test/java/org/apache/hudi/common/inline/fs/TestInMemoryFileSystem.java
153	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java
0	7	pom.xml

commit 04449f33feb300b99750c52ec37f2561aa644456
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-03-28 06:03:15 -0400

    [HUDI-743]: Remove FileIOUtils.close() (#1461)

1	2	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
0	25	hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java

commit 8c3001363d80b29733470221c192a72f541381c5
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-03-28 03:11:32 -0400

    HUDI-479: Eliminate or Minimize use of Guava if possible (#1159)

2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
10	10	hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java
3	3	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
2	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
5	5	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
10	8	hudi-client/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java
2	3	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java
4	8	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
23	28	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
28	9	hudi-client/src/test/java/org/apache/hudi/table/compact/strategy/TestHoodieCompactionStrategy.java
17	8	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	6	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
9	9	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
5	6	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
111	0	hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
25	0	hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java
60	9	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java
6	6	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java
14	8	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
3	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java
9	6	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
7	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
5	4	hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
19	21	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
3	2	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
0	7	pom.xml
2	2	style/checkstyle.xml

commit 1713f686f86e8c2f0a908c313cca9b595c6aed33
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-03-26 19:21:38 -0700

    [MINOR] Add error message when check arguments (#1451)

5	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java

commit 8b0a4009a9c662f45a0b7bbbb6f01c2b07c36809
Author: leesf <490081539@qq.com>
Date:   2020-03-26 23:30:27 +0800

    [HUDI-678] Make config package spark free (#1418)

2	1	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
3	2	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
94	0	hudi-client/src/main/java/org/apache/hudi/client/utils/SparkConfigUtils.java
0	47	hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
1	26	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
2	1	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
2	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
4	2	hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java

commit e101ea9bd4405a461bc78aad1af64499f797daed
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-03-25 23:37:32 -0400

    [MINOR] Update DOAP with 0.5.2 Release (#1448)

5	0	doap_HUDI.rdf

commit 5eed6c98a8880dc3b4e64ec9ff9dae4859e89b4c
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-03-25 22:25:47 +0800

    [MINOR] Fix javadoc of InsertBucket (#1445)

1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java

commit bc82e2be6cf080ab99092758368e91f509a2004c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-03-25 03:02:24 -0700

    [HUDI-711] Refactor exporter main logic (#1436)
    
    * Refactor exporter main logic
    * break main method into multiple readable methods
    * fix bug of passing wrong file list
    * avoid deleting output path when exists
    * throw exception to early abort on multiple cases
    * use JavaSparkContext instead of SparkSession
    * improve unit test for expected exceptions

86	75	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
10	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSnapshotExporterException.java
58	13	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java

commit cafc87041baf4055c39244e7cde0187437bb03d4
Author: hongdd <jn_hdd@163.com>
Date:   2020-03-23 13:46:10 +0800

    [HUDI-697]Add unit test for ArchivedCommitsCommand (#1424)

194	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java
124	0	hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java
54	0	hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitUtilities.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java

commit 0241b21f771fd1b7438a103a7b49f913632d4b97
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date:   2020-03-23 09:06:00 +0800

    [HUDI-65] commitTime rename to instantTime (#1431)

3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
12	12	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
11	11	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
4	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
12	12	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
2	2	hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala
2	2	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
22	22	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
69	69	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
5	5	hudi-client/src/main/java/org/apache/hudi/execution/BulkInsertMapFunction.java
5	5	hudi-client/src/main/java/org/apache/hudi/execution/CopyOnWriteLazyInsertIterable.java
4	4	hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
5	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
6	6	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
4	4	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
5	5	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
4	4	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/CleanHelper.java
24	24	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
8	8	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java
4	4	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java
53	53	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java
4	4	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java
22	22	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
50	50	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
2	2	hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutor.java
5	5	hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
3	3	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
11	11	hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java
14	14	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
35	35	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
21	21	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
8	8	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java
52	52	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java
6	6	hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java
27	27	hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java
6	6	hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
17	17	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
10	10	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
20	20	hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java
6	6	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
12	12	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
11	11	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java
5	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java

commit 38c3ccc51a069dbccab718423055c0a708b44d63
Author: lamber-ken <lamberken@163.com>
Date:   2020-03-22 12:31:48 -0500

    [HUDI-663] Fix HoodieDeltaStreamer offset not handled correctly (#1377)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit 1e1d9e1d345a104d6f873403ef2826778ac114d3
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2020-03-22 19:49:47 +0530

    [HUDI-616] Fixed parquet files getting created on local FS (#1434)

2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit 06652aa93515fa8178e7fea2279f40123a69978c
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date:   2020-03-22 21:39:33 +0800

    [MINOR] Add omissive param desc on method doc and cleanup redundant code (#1437)

0	13	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
4	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 8b00791ef47f708f54ffbfb5789ed65f958740b3
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date:   2020-03-22 11:12:06 +0800

    [MINOR] cleanup redundant comment and unused variable and fix typo (#1435)

0	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
0	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java

commit c5030f77a0e63f609ed2c674bea00201b97d8bb6
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-03-21 10:54:04 +0800

    [HUDI-720] NOTICE file needs to add more content based on the NOTICE files of the ASF projects that hudi bundles (#1417)
    
    * [HUDI-720] NOTICE file needs to add more content based on the NOTICE files of the ASF projects that hudi bundles

9	0	LICENSE
145	1	NOTICE

commit 83fb9651f368351446bb6ef0c9ebde34cf61b809
Author: satishkotha <satishkotha@uber.com>
Date:   2020-03-20 08:37:22 -0700

    [HUDI-650] Modify handleUpdate path to validate partitionPath (#1368)

4	2	hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java
13	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
14	11	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
4	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
24	15	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
5	3	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
4	0	hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java
2	1	hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java
2	1	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java
13	13	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
84	6	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java

commit eeab532d794426115f839e6ee11a9fc1314698fe
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-03-20 17:47:59 +0800

    [HUDI-725] Remove init log in the constructor of DeltaSync (#1425)

0	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 21c45e1051b593f0e1023a84cb96658320046dae
Author: Mathieu <wxhjsxz@126.com>
Date:   2020-03-20 17:44:16 +0800

    [HUDI-726]Delete unused method in HoodieDeltaStreamer (#1426)

0	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 14e0c95206f6d7c1806555490bcbce8785ffea5a
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date:   2020-03-20 15:13:17 +0800

    [HUDI-400] Check upgrade from old plan to new plan for compaction (#1422)
    
    * Fix NPE when DataFile is null
    * Check from old plan upgrade to new plan

1	1	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java
2	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java

commit a752b7b18c5c74c0c9115168188fa4a15a670225
Merge: 1e321c2fc0 cf765df606
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-03-19 10:00:53 -0400

    Merge pull request #1165 from yihua/HUDI-76-deltastreamer-csv-source
    
    [HUDI-76] Add CSV Source support for Hudi Delta Streamer

commit 1e321c2fc0f9fedcbb8a0339c90a28a9be5afd64
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2020-03-19 20:10:35 +0800

    [HUDI-209] Implement JMX metrics reporter (#1106)

4	0	hudi-client/pom.xml
14	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
2	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
5	0	hudi-client/src/main/java/org/apache/hudi/metrics/InMemoryMetricsReporter.java
69	26	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
160	0	hudi-client/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java
3	1	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
7	0	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java
5	0	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporter.java
1	1	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
17	10	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
5	0	pom.xml

commit 779edc068865898049569da0fe750574f93a0dca
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-03-18 04:24:04 -0700

    [HUDI-344] Add partitioner param to Exporter (#1405)

77	49	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
101	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java

commit 0a4902eccece1df959946fcb7379a94fc5fe0784
Author: leesf <490081539@qq.com>
Date:   2020-03-18 10:27:40 +0800

    [HUDI-437] Support user-defined index (#1408)
    
    * [hotfix] set default value for index class config
    * class config takes precedence over `hoodie.index.type`

9	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
4	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
10	0	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
84	0	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java

commit e3019031d8fff60df4fec82eac3fd5c044011635
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-03-17 12:52:48 -0700

    [HUDI-539] Make ROPathFilter conf member serializable (#1415)

4	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java

commit f1d7bb381d4a370beeedb45132b24c2cac00aabf
Author: hongdd <jn_hdd@163.com>
Date:   2020-03-17 14:15:30 +0800

    [HUDI-695]Add unit test for TableCommand (#1411)

14	0	hudi-cli/pom.xml
14	1	hudi-cli/src/test/java/org/apache/hudi/cli/AbstractShellIntegrationTest.java
142	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java

commit 418f9bb2e91ed6c02077d36e49a47f0c8d08303a
Author: bschell <bdscheller@gmail.com>
Date:   2020-03-16 15:19:16 -0700

    Add constructor to HoodieROTablePathFilter (#1413)
    
    Allows HoodieROTablePathFilter to accept a configuration for
    initializing the filesystem. This fixes a bug with Presto's use of this
    pathfilter.
    
    Co-authored-by: Brandon Scheller <bschelle@amazon.com>

12	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java

commit 3ef9e885cacc064fc316c61c7c826f3a1cb96da0
Author: hongdd <jn_hdd@163.com>
Date:   2020-03-16 17:19:57 +0800

    [HUDI-715] Fix duplicate name in TableCommand (#1410)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java

commit 55e6d348155f63eb128cd208687d02206bad66a5
Author: hongdd <jn_hdd@163.com>
Date:   2020-03-16 11:52:40 +0800

    [HUDI-694]Add unit test for SparkEnvCommand (#1401)
    
    * Add test for SparkEnvCommand

46	0	hudi-cli/src/test/java/org/apache/hudi/cli/AbstractShellIntegrationTest.java
53	0	hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java
23	0	hudi-cli/src/test/resources/log4j-surefire-quiet.properties
25	0	hudi-cli/src/test/resources/log4j-surefire.properties

commit cf765df6062f896ad6bf0a8ddf711aad19dbf59b
Author: Y Ethan Guo <guoyihua@uber.com>
Date:   2020-01-18 23:11:14 -0800

    [HUDI-76] Add CSV Source support for Hudi Delta Streamer

73	19	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
5	0	hudi-utilities/pom.xml
126	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java
155	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
57	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java
61	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java
57	0	hudi-utilities/src/test/resources/delta-streamer-config/source-flattened.avsc
60	0	hudi-utilities/src/test/resources/delta-streamer-config/target-flattened.avsc

commit 23afe7a4872fca66d9aeb36d209c6538a17d81f1
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-03-15 07:13:20 -0700

    [HUDI-710] Fixing failure in Staging Validation Script (#1403)

1	1	scripts/release/validate_staged_release.sh

commit 14323cb10012bdbf80cbb838928af9301cb42ba0
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-03-15 05:24:30 -0700

    [HUDI-344] Improve exporter tests (#1404)

9	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
0	50	hudi-utilities/src/test/java/org/apache/hudi/utilities/DataSourceTestUtils.java
142	176	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java

commit 99b7e9eb9ef8827c1e06b7e8621b6be6403b061e
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-03-13 20:28:05 -0400

    [HUDI-629]: Replace Guava's Hashing with an equivalent in NumericUtils.java (#1350)
    
    * [HUDI-629]: Replace Guava's Hashing with an equivalent in NumericUtils.java

0	5	hudi-client/pom.xml
11	11	hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java
2	2	hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java
7	7	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
4	8	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
0	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java
2	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java
2	2	hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java
1	1	hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/model/TimelineLayoutVersion.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
24	24	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
10	13	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
8	11	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
5	7	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java
30	0	hudi-common/src/main/java/org/apache/hudi/common/util/NumericUtils.java
8	9	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
70	0	hudi-common/src/main/java/org/apache/hudi/common/util/ValidationUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java
3	6	hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV1MigrationHandler.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV2MigrationHandler.java
5	6	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java
5	6	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
3	6	hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
8	8	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
26	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
0	5	hudi-hive-sync/pom.xml
2	2	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
2	2	hudi-hive-sync/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java
1	1	hudi-hive-sync/src/main/java/org/apache/hudi/hive/SchemaDifference.java
4	4	hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
0	7	hudi-integ-test/pom.xml
2	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
5	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
8	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java

commit fb7fba365f89afaf97cc969ecc09f3bbfc4a5dbd
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-03-12 23:59:09 -0700

     [HUDI-646] fix failing test due to improper filesytem cleanup (#1373)

3	1	hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java

commit c40a0d4e91896dece51969f5308016ecb3aa635c
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2020-03-11 20:27:46 -0700

    [HUDI-656][Performance] Return a dummy Spark relation after writing the DataFrame (#1394)
    
    Co-authored-by: Mehrotra <uditme@amazon.com>

19	1	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
35	0	hudi-spark/src/main/scala/org/apache/hudi/HudiEmptyRelation.scala

commit 0f892ef62c76436b17030e6edb4642f476d7de1e
Author: hongdd <jn_hdd@163.com>
Date:   2020-03-12 07:49:02 +0800

    [HUDI-692] Add delete savepoint for cli (#1397)
    
    * Add delete savepoint for cli
    * Add check
    * Move JavaSparkContext to try

30	9	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java

commit 7d668314447650243ec5c872229efdd02fb0212c
Author: Prashant Wason <pwason@uber.com>
Date:   2020-03-11 16:43:04 -0700

    [MINOR] Removing code which is duplicated from the base class HoodieWriteHandle. (#1399)

0	54	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit 7194514aff33815a2f4d6d1847f00b94d1a1a36b
Author: satishkotha <satishkotha@uber.com>
Date:   2020-03-11 16:29:54 -0700

    [HUDI-689] Change CLI command names to not have overlap (#1392)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java

commit 1ca912af0904283a270a822d5876babca5c89739
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-03-11 16:19:23 -0700

    [HUDI-667] Fixing delete tests for DeltaStreamer (#1395)

21	21	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit dd7cf38a137ed43b8f00aa14c985bf8b106e256f
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-03-11 05:24:07 -0700

    [HUDI-688] Paring down the NOTICE file to minimum required notices (#1391)
    
    - Based on analysis, we don't need to call out anything
     - We only do source releases at this time
     - Fix typo in LICENSE

1	1	LICENSE
0	81	NOTICE

commit cf0a4c19bc4ed850172e6ac938f57a0bf7e96353
Author: Prashant Wason <pwason@uber.com>
Date:   2020-03-11 05:03:03 -0700

    [HUDI-670] Added test cases for TestDiskBasedMap. (#1379)
    
    * [HUDI-670] Added test cases for TestDiskBasedMap.
    
    * Update TestDiskBasedMap.java
    
    Co-authored-by: Suneel Marthi <smarthi@apache.org>

25	0	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java

commit 77d5b92d88d6583bdfc09e4c10ecfe7ddbb04806
Author: Prashant Wason <pwason@uber.com>
Date:   2020-03-09 20:15:42 -0700

    [HUDI-668] Added additional unit-tests for HUDI metrics. (#1380)

3	2	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
116	1	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java

commit 44700d531a74f24762903df2729577a0d96e4ec0
Author: openopen2 <a261049174@outlook.com>
Date:   2020-03-10 09:17:51 +0800

    [HUDI-344] Hudi Dataset Snapshot Exporter (#1360)
    
    Co-authored-by: jason1993 <261049174@qq.com>

224	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java
50	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/DataSourceTestUtils.java
222	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java

commit f93e64fee413ed1b774156e688794ee7937cc01a
Author: hongdd <jn_hdd@163.com>
Date:   2020-03-09 18:31:04 +0800

    [HUDI-681]Remove embeddedTimelineService from HoodieReadClient (#1388)
    
    * [HUDI-681]Remove embeddedTimelineService from HoodieReadClient

2	19	hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
4	6	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	4	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 2137ecfa2296b1b2d281fcd2d2a35a9282d2b477
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-03-09 14:14:49 +0800

    [HUDI-676] Address issues towards removing use of WIP Disclaimer (#1386)
    
    * rename DISCLAIMER-STANDARD TO DISCLAIMER

10	0	DISCLAIMER
0	26	DISCLAIMER-WIP
1	1	pom.xml
4	4	scripts/release/validate_staged_release.sh

commit 415882f9023795994e9cc8a8294909bbec7ab191
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-03-07 22:08:35 -0500

    [HUDI-581] NOTICE need more work as it missing content form included 3rd party ALv2 licensed NOTICE files (#1354)
    
    * [HUDI-581] - Add 3rd party library NOTICE
    
    * [HUDI-581]: NOTICE need more work as it missing content form included 3rd party ALv2 licensed NOTICE files

82	1	NOTICE

commit 5f8bf970058d5915af1910dbf917a33356d06af2
Author: Prashant Wason <pwason@uber.com>
Date:   2020-03-07 16:48:43 -0800

    [HUDI-671] Added unit-test for HBaseIndex (#1381)

129	4	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java

commit fdcd3b18b63d54e4b468a62d92c27497398d67ac
Author: Aki Tanaka <tanakah@amazon.com>
Date:   2020-03-07 14:22:19 -0800

    [HUDI-680] Update Jackson databind to 2.6.7.3 (#1385)

1	1	pom.xml

commit 90227eeda757516abdd06b436ae08a4adacc28e1
Author: lamber-ken <lamberken@163.com>
Date:   2020-03-07 15:55:31 +0800

    [HUDI-673] Rename hudi-hive-bundle to hudi-hive-sync-bundle

1	1	docker/hoodie/hadoop/hive_base/Dockerfile
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	hudi-hive-sync/run_sync_tool.sh
1	1	hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
2	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
1	1	packaging/{hudi-hive-bundle => hudi-hive-sync-bundle}/pom.xml
0	0	packaging/{hudi-hive-bundle => hudi-hive-sync-bundle}/src/main/java/org/apache/hudi/hive/bundle/Main.java
1	1	pom.xml

commit 170ee884578a85db53b87cee87f5208083f142aa
Author: lamber-ken <lamberken@163.com>
Date:   2020-03-07 03:27:40 -0600

    [HUDI-553] Building/Running Hudi on higher java versions (#1369)

5	0	hudi-cli/pom.xml
3	4	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/HoodieDynamicBoundedBloomFilter.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/SimpleBloomFilter.java
46	0	hudi-common/src/main/java/org/apache/hudi/common/util/Base64CodecUtil.java
47	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestBase64CodecUtil.java
5	0	hudi-spark/pom.xml
1	1	pom.xml

commit ee5b32f5d4aa26e7fc58ccdae46935f063460920
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-03-07 01:59:35 +0800

    [HUDI-652] Decouple HoodieReadClient and AbstractHoodieClient to break the inheritance chain (#1372)
    
    
    * Removed timeline server support
    * Removed try-with-resource

4	5	hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java
31	32	hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java
41	41	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
10	15	hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java
2	1	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java

commit 3d3781810c2fd28c85407b04aad08fc2a85174dc
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-02-12 11:23:40 -0800

    [CLI] Add export to table

11	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
30	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java
29	13	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
55	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/TempViewCommand.java
134	0	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java
29	0	hudi-cli/src/main/java/org/apache/hudi/cli/utils/TempViewProvider.java

commit ccbf543607db2c3479094a3216f733f6844b6f06
Author: lamber-ken <lamberken@163.com>
Date:   2020-03-04 22:45:44 +0800

    [HUDI-654] Rename hudi-hive to hudi-hive-sync

1	1	docker/demo/setup_demo_container.sh
1	1	hudi-cli/pom.xml
1	1	{hudi-hive => hudi-hive-sync}/pom.xml
0	0	{hudi-hive => hudi-hive-sync}/run_sync_tool.sh
0	0	{hudi-hive => hudi-hive-sync}/src/assembly/src.xml
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/HoodieHiveSyncException.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/SchemaDifference.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java
0	0	{hudi-hive => hudi-hive-sync}/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
0	0	{hudi-hive => hudi-hive-sync}/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
0	0	{hudi-hive => hudi-hive-sync}/src/test/java/org/apache/hudi/hive/TestUtil.java
0	0	{hudi-hive => hudi-hive-sync}/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
0	0	{hudi-hive => hudi-hive-sync}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hudi-hive => hudi-hive-sync}/src/test/resources/log4j-surefire.properties
1	1	hudi-spark/pom.xml
2	2	hudi-utilities/pom.xml
2	2	packaging/hudi-hive-bundle/pom.xml
2	2	packaging/hudi-spark-bundle/pom.xml
2	2	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit 5f85c267040fd51c186794fdae900162ab176b14
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date:   2020-03-04 11:01:49 -0800

    [HUDI-584] Relocate spark-avro dependency by maven-shade-plugin (#1290)

21	0	README.md
20	2	packaging/hudi-spark-bundle/pom.xml
2	0	pom.xml

commit 9d46ce380a3929605b3838238e8aa07a9918ab7a
Author: Ramachandran M S <mramachandran@uber.com>
Date:   2020-03-03 13:26:54 -0800

    [HUDI -409] Match header and footer block length to improve corrupted block detection (#1332)

15	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
18	3	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java

commit 8306205d7abb0acbb73a1d178e3eb90f2bc29a5e
Author: hongdd <jn_hdd@163.com>
Date:   2020-03-04 02:10:29 +0800

    [HUDI-332]Add operation type (insert/upsert/bulkinsert/delete) to HoodieCommitMetadata (#1157)
    
    [HUDI-332]Add operation type (insert/upsert/bulkinsert/delete) to HoodieCommitMetadata (#1157)

13	2	hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java
17	9	hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java
18	0	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
5	0	hudi-common/src/main/avro/HoodieCommitMetadata.avsc
10	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
72	0	hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java
22	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java
20	0	hudi-common/src/test/resources/old-version.commit
1	0	pom.xml

commit 2d040145810b8b14c59c5882f9115698351039d1
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2020-03-01 10:42:58 -0800

    [HUDI-607] Fix to allow creation/syncing of Hive tables partitioned by Date type columns (#1330)

39	1	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
61	0	hudi-spark/src/test/java/DataSourceUtilsTest.java

commit 0dc8e493aa1658910a3519df3941278d9d072c18
Author: yanghua <yanghua1127@gmail.com>
Date:   2020-03-01 15:08:30 +0800

    Moving to 0.6.0-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hudi-cli/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-hive/pom.xml
1	1	hudi-integ-test/pom.xml
1	1	hudi-spark/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit 9160084bb147552d670235d27ecb198239ee32e5
Author: vinoyang <yanghua1127@gmail.com>
Date:   2020-03-01 14:34:15 +0800

    [MINOR] Fix cut_release_branch script missed a double quotation marks (#1365)

1	1	scripts/release/cut_release_branch.sh

commit 0cde27e63c2cf9b70f24f0ae6b63fad9259b28d3
Author: leesf <490081539@qq.com>
Date:   2020-03-01 14:30:32 +0800

    [HUDI-599] Update release guide & release scripts due to the change of scala 2.12 build (#1364)

1	1	scripts/release/deploy_staging_jars.sh

commit acf359c834bc1d9b9c4ea64d362ea20c7410c70a
Author: Ramachandran M S <mramachandran@uber.com>
Date:   2020-02-27 13:54:20 -0800

    [HUDI-627] Aggregate code coverage and publish to codecov.io during CI (#1347)

2	0	.travis.yml
4	0	hudi-hadoop-mr/pom.xml
4	0	hudi-hive/pom.xml
4	0	hudi-spark/pom.xml
4	0	hudi-timeline-service/pom.xml
23	0	packaging/hudi-spark-bundle/pom.xml
2	7	pom.xml

commit 71170fafe77e11ea1a458a38e3395a471d94a047
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-02-27 08:05:58 -0800

    [HUDI-554] Cleanup package structure in hudi-client (#1346)
    
     - Just package, class moves and renames with the following intent
     - `client` now has all the various client classes, that do the transaction management
     - `func` renamed to `execution` and some helpers moved to `client/utils`
     - All compaction code under `io` now under `table/compact`
     - Rollback code under `table/rollback` and in general all code for individual operations under `table`
     - `exception` `config`, `metrics` left untouched
     - Moved the tests also accordingly
     - Fixed some flaky tests

1	1	LICENSE
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
1	1	hudi-client/src/main/java/org/apache/hudi/{ => client}/AbstractHoodieClient.java
2	1	hudi-client/src/main/java/org/apache/hudi/{ => client}/AbstractHoodieWriteClient.java
2	2	hudi-client/src/main/java/org/apache/hudi/{ => client}/CompactionAdminClient.java
3	3	hudi-client/src/main/java/org/apache/hudi/{ => client}/HoodieCleanClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/{ => client}/HoodieReadClient.java
4	4	hudi-client/src/main/java/org/apache/hudi/{ => client}/HoodieWriteClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/{ => client}/WriteStatus.java
1	1	hudi-client/src/main/java/org/apache/hudi/{func => client/utils}/LazyIterableIterator.java
1	1	hudi-client/src/main/java/org/apache/hudi/{func => client/utils}/ParquetReaderIterator.java
2	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
3	3	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	2	hudi-client/src/main/java/org/apache/hudi/{func => execution}/BulkInsertMapFunction.java
3	2	hudi-client/src/main/java/org/apache/hudi/{func => execution}/CopyOnWriteLazyInsertIterable.java
2	2	hudi-client/src/main/java/org/apache/hudi/{func => execution}/MergeOnReadLazyInsertIterable.java
1	1	hudi-client/src/main/java/org/apache/hudi/{func => execution}/SparkBoundedInMemoryExecutor.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
4	5	hudi-client/src/main/java/org/apache/hudi/{io/HoodieCleanHelper.java => table/CleanHelper.java}
1	2	hudi-client/src/main/java/org/apache/hudi/{io => table}/HoodieCommitArchiveLog.java
8	7	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
6	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
2	2	hudi-client/src/main/java/org/apache/hudi/{io => table}/compact/HoodieCompactor.java
3	3	hudi-client/src/main/java/org/apache/hudi/{io => table}/compact/HoodieMergeOnReadTableCompactor.java
1	1	hudi-client/src/main/java/org/apache/hudi/{func => table/compact}/OperationResult.java
1	1	hudi-client/src/main/java/org/apache/hudi/{io => table}/compact/strategy/BoundedIOCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/{io => table}/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
2	2	hudi-client/src/main/java/org/apache/hudi/{io => table}/compact/strategy/CompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/{io => table}/compact/strategy/DayBasedCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/{io => table}/compact/strategy/LogFileSizeBasedCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/{io => table}/compact/strategy/UnBoundedCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/{io => table}/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java
5	6	hudi-client/src/main/java/org/apache/hudi/table/{RollbackExecutor.java => rollback/RollbackHelper.java}
4	2	hudi-client/src/main/java/org/apache/hudi/table/{ => rollback}/RollbackRequest.java
2	2	hudi-client/src/test/java/HoodieClientExample.java
1	1	hudi-client/src/test/java/org/apache/hudi/{ => client}/TestClientRollback.java
5	5	hudi-client/src/test/java/org/apache/hudi/{ => client}/TestCompactionAdminClient.java
28	11	hudi-client/src/test/java/org/apache/hudi/{ => client}/TestHoodieClientBase.java
3	3	hudi-client/src/test/java/org/apache/hudi/{ => client}/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-client/src/test/java/org/apache/hudi/{ => client}/TestHoodieReadClient.java
2	1	hudi-client/src/test/java/org/apache/hudi/{ => client}/TestMultiFS.java
10	14	hudi-client/src/test/java/org/apache/hudi/{func/TestUpdateMapFunction.java => client/TestUpdateSchemaEvolution.java}
1	1	hudi-client/src/test/java/org/apache/hudi/{ => client}/TestWriteStatus.java
1	1	hudi-client/src/test/java/org/apache/hudi/{func => client/utils}/TestParquetReaderIterator.java
2	4	hudi-client/src/test/java/org/apache/hudi/{ => common}/HoodieClientTestHarness.java
2	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java
4	4	hudi-client/src/test/java/org/apache/hudi/{func => execution}/TestBoundedInMemoryExecutor.java
4	4	hudi-client/src/test/java/org/apache/hudi/{func => execution}/TestBoundedInMemoryQueue.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java
3	3	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
2	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
3	3	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
0	57	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieBaseFile.java
0	47	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieLogFile.java
6	3	hudi-client/src/test/java/org/apache/hudi/{ => table}/TestCleaner.java
2	1	hudi-client/src/test/java/org/apache/hudi/{ => table}/TestConsistencyGuard.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
4	4	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
5	1	hudi-client/src/test/java/org/apache/hudi/{ => table/compact}/TestAsyncCompaction.java
4	4	hudi-client/src/test/java/org/apache/hudi/{io => table/compact}/TestHoodieCompactor.java
61	7	hudi-client/src/test/java/org/apache/hudi/{io => table/compact}/strategy/TestHoodieCompactionStrategy.java
16	6	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
3	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	0	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java

commit cacd9a33222d28c905891362312545230b6d30b9
Author: lamber-ken <lamberken@163.com>
Date:   2020-02-27 13:36:47 +0800

    [HUDI-636] Fix could not get sources warnings while compiling (#1357)

13	0	pom.xml

commit b7f35be452078f2941fb98a310b385c3afd971fc
Author: Ramachandran M S <msramachandran@ymail.com>
Date:   2020-02-26 10:55:02 -0800

    [HUDI-618] Adding unit tests for PriorityBasedFileSystemView (#1345)
    
    [HUDI-618] Adding unit tests for PriorityBasedFileSystemView

9	29	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
626	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java

commit 323fffad0dccf0ca5cb4e533e7fbcd2a2bcfaf3b
Author: lamber-ken <lamberken@163.com>
Date:   2020-02-12 13:29:13 +0800

    [HUDI-606] Improve execute build_local_docker_images.sh script

4	1	docker/build_local_docker_images.sh

commit 11fb2c26145f672d36a3491366c05caf3a23fde8
Author: lamber-ken <lamberken@163.com>
Date:   2020-02-25 21:43:20 +0800

    [HUDI-580] Fix incorrect license header in files

0	2	docker/build_local_docker_images.sh
1	2	docker/compose/hadoop.env
1	2	docker/demo/compaction.commands
1	2	docker/demo/config/base.properties
1	2	docker/demo/config/dfs-source.properties
1	2	docker/demo/config/kafka-source.properties
1	2	docker/demo/get_min_commit_time.sh
1	2	docker/demo/hive-batch1.commands
1	2	docker/demo/hive-batch2-after-compaction.commands
1	2	docker/demo/hive-incremental.commands
1	2	docker/demo/hive-table-check.commands
1	2	docker/demo/setup_demo_container.sh
1	2	docker/hoodie/hadoop/base/Dockerfile
0	2	docker/hoodie/hadoop/base/entrypoint.sh
1	2	docker/hoodie/hadoop/base/export_container_ip.sh
1	2	docker/hoodie/hadoop/datanode/Dockerfile
0	2	docker/hoodie/hadoop/datanode/run_dn.sh
1	2	docker/hoodie/hadoop/historyserver/Dockerfile
0	2	docker/hoodie/hadoop/historyserver/run_history.sh
1	2	docker/hoodie/hadoop/hive_base/Dockerfile
1	2	docker/hoodie/hadoop/hive_base/conf/beeline-log4j2.properties
1	2	docker/hoodie/hadoop/hive_base/conf/hive-env.sh
1	2	docker/hoodie/hadoop/hive_base/conf/hive-exec-log4j2.properties
1	2	docker/hoodie/hadoop/hive_base/conf/hive-log4j2.properties
1	2	docker/hoodie/hadoop/hive_base/conf/llap-daemon-log4j2.properties
0	2	docker/hoodie/hadoop/hive_base/entrypoint.sh
0	2	docker/hoodie/hadoop/hive_base/startup.sh
1	2	docker/hoodie/hadoop/namenode/Dockerfile
0	2	docker/hoodie/hadoop/namenode/run_nn.sh
1	2	docker/hoodie/hadoop/prestobase/Dockerfile
0	2	docker/hoodie/hadoop/prestobase/bin/entrypoint.sh
0	2	docker/hoodie/hadoop/prestobase/bin/mustache.sh
2	2	docker/hoodie/hadoop/prestobase/etc/catalog/hive.properties
2	2	docker/hoodie/hadoop/prestobase/etc/catalog/jmx.properties
2	2	docker/hoodie/hadoop/prestobase/etc/catalog/localfile.properties
2	2	docker/hoodie/hadoop/prestobase/etc/coordinator.properties.mustache
2	2	docker/hoodie/hadoop/prestobase/etc/jvm.config.mustache
2	2	docker/hoodie/hadoop/prestobase/etc/log.properties
2	2	docker/hoodie/hadoop/prestobase/etc/node.properties.mustache
2	2	docker/hoodie/hadoop/prestobase/etc/worker.properties.mustache
1	2	docker/hoodie/hadoop/prestobase/lib/mustache.sh
1	2	docker/hoodie/hadoop/spark_base/Dockerfile
0	2	docker/hoodie/hadoop/spark_base/execute-step.sh
0	2	docker/hoodie/hadoop/spark_base/finish-step.sh
0	2	docker/hoodie/hadoop/spark_base/wait-for-step.sh
1	2	docker/hoodie/hadoop/sparkadhoc/Dockerfile
0	2	docker/hoodie/hadoop/sparkadhoc/adhoc.sh
1	2	docker/hoodie/hadoop/sparkmaster/Dockerfile
0	2	docker/hoodie/hadoop/sparkmaster/master.sh
1	2	docker/hoodie/hadoop/sparkworker/Dockerfile
0	2	docker/hoodie/hadoop/sparkworker/worker.sh
0	2	docker/setup_demo.sh
0	2	docker/stop_demo.sh
0	2	hudi-cli/conf/hudi-env.sh
0	2	hudi-cli/hudi-cli.sh
0	2	hudi-hive/run_sync_tool.sh
0	2	hudi-spark/run_hoodie_app.sh
1	2	hudi-spark/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
1	2	packaging/hudi-timeline-server-bundle/run_server.sh
0	2	scripts/run_travis_tests.sh

commit 83c8ad5a38e1b561d501d0dcbcbd39fb02638054
Author: lamber-ken <lamberken@163.com>
Date:   2020-02-25 14:40:37 +0800

    [HUDI-625] Fixing performance issues around DiskBasedMap & kryo (#1352)

3	42	hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java

commit 4e7fcde4a6c69a070987fb97d978564f105ce547
Author: YanJia-Gary-Li <yanjia.gary.li@gmail.com>
Date:   2020-02-24 11:46:30 -0800

    [HUDI-597] Enable incremental pulling from defined partitions (#1348)

8	1	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
15	3	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
9	0	hudi-spark/src/test/scala/TestDataSource.scala

commit 078d4825d909b2c469398f31c97d2290687321a8
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-02-21 01:22:21 -0500

    [HUDI-624]: Split some of the code from PR for HUDI-479 (#1344)

5	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
5	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
2	3	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
2	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java
4	5	hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
4	4	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
2	3	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java
2	3	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java
2	2	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java
0	1	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
2	2	hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
11	11	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
5	5	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java
1	5	hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
18	18	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java
0	1	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java
2	3	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
9	12	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
16	12	hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java
4	4	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
1	2	hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
8	7	hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java
5	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit 185ff646ad6979722a3f1c4b34d87c7f98bd87e4
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2020-01-23 23:34:22 -0800

    Refactoring getter to avoid double extrametadata in json representation

6	6	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java

commit f9d2f66dc16540e3e5c1cb1f7f23b4fca7c656c3
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-02-20 02:17:53 -0500

    [HUDI-622]: Remove VisibleForTesting annotation and import from code (#1343)
    
    * HUDI:622: Remove VisibleForTesting annotation and import from code

0	3	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
0	3	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
0	2	hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java
0	4	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
0	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
0	4	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
0	3	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
0	3	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java
0	2	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
0	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalFilter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java
0	2	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
0	3	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
0	2	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
0	5	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java
3	3	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
0	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java

commit c2b08cdfc9b762801a63fee988f1c24cc17df4ce
Author: amitsingh-10 <51735639+amitsingh-10@users.noreply.github.com>
Date:   2020-02-19 00:49:44 +0530

    [HUDI-617] Add support for types implementing CharSequence (#1339)
    
    - Data types extending CharSequence implement a #toString method which provides an easy way to convert them to String.
    - For example, org.apache.avro.util.Utf8 is easily convertible into String if we use the toString() method. It's better to make the support more generic to support a wider range of data types as partitionKey.

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java

commit 8c6138cb01997e0ef35c396b2048cf956b53d28f
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date:   2020-02-19 03:15:02 +0800

    [MINOR] Add javadoc to SchedulerConfGenerator and code clean (#1340)

28	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java

commit 00493235f5f2b14709199dd6ef02bad9c0d3bab9
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-02-18 11:12:20 -0800

    [HUDI-108] Removing 2GB spark partition limitations in HoodieBloomIndex with spark 2.4.4 (#1315)

13	59	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java

commit b8f9d0ec4548a2487914c4cc982fc5e1f4e0c88c
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-02-17 01:13:33 -0500

    [HUDI-615]: Add some methods and test cases for StringUtils. (#1338)

27	0	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
64	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java

commit 24e73816b2b50af518576907379bf9202d6b8dd2
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-02-15 09:03:29 -0500

    [MINOR] Code Cleanup, remove redundant code (#1337)

7	6	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
1	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
4	4	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
37	36	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java
0	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
7	12	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
7	9	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
2	4	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
25	25	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
25	25	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java
9	10	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
3	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
1	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
4	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
4	10	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
5	5	hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java
6	7	hudi-hive/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java

commit aaa6cf9a989e88d3273cc0a9fffc1eaa8a6e6b92
Author: wangxianghu <wxhjsxz@126.com>
Date:   2020-02-15 08:55:23 +0800

    [MINOR] Fix some typos

4	4	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 20ed2516d38b9ce4b3e185bd89b62264b8bd3f25
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-01-22 13:50:34 -0800

    [HUDI-571] Add show archived compaction(s) to CLI

3	10	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
190	57	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
23	0	hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java

commit dfbee673ef63c7305e131d5dfa17b304b128917f
Author: openopen2 <a261049174@outlook.com>
Date:   2020-02-14 10:06:06 +0800

    [HUDI-514] A schema provider to get metadata through Jdbc (#1200)

7	0	hudi-utilities/pom.xml
100	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
84	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/JdbcbasedSchemaProvider.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
88	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestJdbcbasedSchemaProvider.java
9	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
59	0	hudi-utilities/src/test/resources/delta-streamer-config/source-jdbc.avsc
28	0	hudi-utilities/src/test/resources/delta-streamer-config/triprec.sql
1	0	pom.xml

commit 175de0db7b5687e5f8602ccaf97dadd7758287e0
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date:   2020-02-14 02:46:10 +0800

    [MINOR] Fix typo (#1331)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java

commit 01c868ab86e33161b03d422c03af41f01947ea06
Author: lamber-ken <lamberken@163.com>
Date:   2020-02-13 22:20:58 +0800

    [HUDI-574] Fix CLI counts small file inserts as updates (#1321)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java

commit 63b42166b1af49671110283a3982de990abcf687
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-02-10 10:27:08 -0800

    CLI - add option to print additional commit metadata

63	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java

commit d2c872ede47bf532193b208a8924932c7e1f7741
Author: lamber-ken <lamberken@163.com>
Date:   2020-02-12 19:40:52 +0800

    [HUDI-605] Avoid calculating the size of schema redundantly (#1317)

5	5	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java

commit e5a69ed6af18a3af131323b2297aae6c052ebc72
Author: lamber-ken <lamberken@163.com>
Date:   2020-02-12 08:34:00 +0800

    [HUDI-478] Fix too many files with unapproved license when execute build_local_docker_images (#1323)

1	0	pom.xml

commit 578efa2a0778f1d747c24e7ee3ca321acaab8024
Author: RickyRajinder <singh.sangh@gmail.com>
Date:   2020-02-10 15:50:23 -0800

    [HUDI-582] Update NOTICE year

1	1	NOTICE

commit 5fdf5a192706d8c8a0432297cca1e6e097de0e58
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date:   2020-02-10 10:04:58 +0800

    [HUDI-560] Remove legacy IdentityTransformer (#1264)

0	38	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/IdentityTransformer.java

commit d26dc0b229043afa5aefca239e72f40d80446917
Author: Prashant Wason <pwason@uber.com>
Date:   2020-01-31 10:50:27 -0800

    [HUDI-587] Fixed generation of jacoco coverage reports.
    
    surefire plugin's argLine is moved into a property. This configuration allows jacoco plugin to modify the argLine to insert it's Java Agent's configuration during pre-unit-test stage.

1	6	pom.xml

commit 1fb0b001a38ddc940995e45f5cd53701d0110c3b
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date:   2020-02-04 13:14:47 -0800

    [HUDI-570] - Improve test coverage for FSUtils.java

4	4	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
96	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java

commit 462fd025563b0ae8a4d4f28d366a9bbfca070d3f
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-01-22 13:50:34 -0800

    [HUDI-571] Add 'commits show archived' command to CLI

86	19	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
41	32	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
0	89	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
169	23	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
79	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
0	35	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java

commit c1516df8ac55757ebd07d8aa459a0ceedeccab7b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2020-02-05 09:33:33 -0800

    [HUDI-499] Allow update partition path with GLOBAL_BLOOM (#1187)
    
    * Handle partition path update by deleting a record from the old partition and
      insert into the new one
    * Add a new configuration "hoodie.bloom.index.update.partition.path" to
      enable the behavior
    * Add a new unit test case for global bloom index

18	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
4	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
20	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
89	0	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java

commit 46842f4e92202bca9a3a4f972f481c93ccc29a3c
Author: lamber-ken <lamberken@163.com>
Date:   2020-02-05 23:23:20 +0800

    [MINOR] Remove the declaration of thrown RuntimeException (#1305)

1	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java
13	26	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
1	2	hudi-common/src/main/java/org/apache/hudi/exception/TableNotFoundException.java
2	2	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java

commit 425e3e6c78b9be00fc3fecfc335c94e05a1c70e5
Author: lamber-ken <lamberken@163.com>
Date:   2020-02-05 23:13:10 +0800

    [HUDI-585] Optimize the steps of building with scala-2.12 (#1293)

0	2	LICENSE
2	4	README.md
0	66	dev/change-scala-version.sh
1	1	hudi-spark/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
5	0	pom.xml

commit 4de0fcfcb54ac76ed3b6852917588c32fec9bea8
Author: Prashant Wason <pwason@uber.com>
Date:   2020-01-27 15:38:33 -0800

    [HUDI-566] Added new test cases for class HoodieTimeline, HoodieDefaultTimeline and HoodieActiveTimeline.

4	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
275	1	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java

commit 594da28fbf64fb20432e718a409577fd10516c4a
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-02-04 14:52:03 +0100

    [HUDI-595] code cleanup, refactoring code out of PR# 1159 (#1302)

5	18	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
3	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
4	4	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java
7	10	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
19	18	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
4	10	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
32	19	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	4	hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java
14	19	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
6	20	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
4	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
2	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
13	18	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
1	3	hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
3	8	hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
29	29	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
3	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
8	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
2	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit 347e297ac19ed55172e84e13075e19ce060954c6
Author: dengziming <dengziming1993@gmail.com>
Date:   2020-02-04 15:42:21 +0800

    [HUDI-596] Close KafkaConsumer every time (#1303)

26	24	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java

commit d07ac588ac30e80f59522d51e939cc125edcff52
Author: Satish Kotha <satishkotha@uber.com>
Date:   2020-01-31 17:17:03 -0800

    Increase test coverage for HoodieReadClient

28	21	hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java
2	1	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
38	0	hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java

commit fcf9e4aded13a1a6306d6cbbc26d7f71ecbf08a9
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-02-02 15:41:30 +0100

    [MINOR] Updated DOAP with 0.5.1 release (#1301)

1	1	doap_HUDI.rdf

commit 00262340115986676fef8bbda0b8f08000c06442
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-02-02 15:13:24 +0100

    [MINOR] Updated DOAP with 0.5.1 release (#1300)

5	0	doap_HUDI.rdf

commit 5b7bb142dc6712c41fd8ada208ab3186369431f9
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-02-02 11:03:44 +0100

    [HUDI-583] Code Cleanup, remove redundant code, and other changes (#1237)

5	6	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
9	11	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
14	21	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalDynamicBloomFilter.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/SimpleBloomFilter.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/io/storage/HoodieWrapperFileSystem.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/TimelineLayout.java
6	6	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
4	9	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
92	96	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
1	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
20	24	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
1	4	hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java
6	20	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java
3	5	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
4	10	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java
1	5	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java
23	25	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
47	57	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
2	4	hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java
11	13	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
36	50	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
6	12	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
3	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
7	18	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputPathHandlerTest.java
3	3	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java
5	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
2	2	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
3	4	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
5	11	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
2	2	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
1	1	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
2	2	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
19	27	hudi-spark/src/test/scala/TestDataSourceDefaults.scala
1	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
6	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
5	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
8	11	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
1	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
6	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
3	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java
5	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
21	24	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
1	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java
1	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java

commit f27c7a16c6d437efaa83e50a7117b83e5201ac49
Author: Prashant Wason <pwason@uber.com>
Date:   2020-01-27 15:31:36 -0800

    [HUDI-564] Added new test cases for HoodieLogFormat and HoodieLogFormatVersion.

33	0	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
84	0	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatVersion.java

commit 652224edc882c083ac46cff095324975e2457004
Author: leesf <490081539@qq.com>
Date:   2020-01-30 08:26:26 +0800

    [HUDI-578] Trim recordKeyFields and partitionPathFields in ComplexKeyGenerator (#1281)
    
    * [HUDI-578] Trim recordKeyFields and partitionPathFields in ComplexKeyGenerator
    
    * add tests

5	2	hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java
11	0	hudi-spark/src/test/scala/TestDataSourceDefaults.scala

commit 6f34be1b8dd55304317c40565dad23c09ddda5bf
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date:   2020-01-28 15:53:57 -0800

    HUDI-117 Close file handle before throwing an exception due to append failure.
    Add test cases to handle/verify stage failure scenarios.

41	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
93	0	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java

commit c06ec8bfc78fa9fed966c3d5bbb0ebc65e8771de
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-30 06:18:35 +0800

    [MINOR] Fix assigning to configuration more times (#1291)

1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
19	22	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java

commit 362a9b9aab9a3f8bed0ac3a8c9e0ac5c2f487f32
Author: hmatu <3480388484@qq.com>
Date:   2020-01-26 20:08:07 +0800

    [MINOR] Remove junit-dep dependency

6	0	hudi-common/pom.xml
0	1	pom.xml

commit 56a4e0d56c226781d3dd1beb42af1efa77199ccd
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-27 16:53:03 +0800

    [MINOR] Fix invalid issue url & quickstart url (#1282)

1	1	README.md
1	1	pom.xml

commit cdb028f1f3493123310acd6fce59fd251a4fddd9
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-23 00:45:14 +0800

    [MINOR] Fix missing groupId / version property of dependency

1	0	docker/hoodie/hadoop/hive_base/pom.xml
1	0	docker/hoodie/hadoop/prestobase/pom.xml
1	1	hudi-integ-test/pom.xml
10	0	pom.xml

commit 1e79cbc259b92f75e5fd387c0271b163532aebb9
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2020-01-22 23:43:50 -0800

    [HUDI-549] update Github README with instructions to build with Scala 2.12 (#1275)

10	0	README.md

commit fc8d4a71add3b27e7b3b07a1c513bdc223c640a0
Author: leesf <490081539@qq.com>
Date:   2020-01-23 02:03:49 +0800

    [MINOR] fix license issue (#1273)

17	17	docker/demo/presto-batch1.commands
17	17	docker/demo/presto-batch2-after-compaction.commands
17	17	docker/demo/presto-table-check.commands

commit ed54eb20a5c9c82c348bc39387ef73f835ad6821
Author: leesf <490081539@qq.com>
Date:   2020-01-22 21:06:45 +0800

    [MINOR] Add missing licenses (#1271)

18	0	docker/demo/presto-batch1.commands
18	0	docker/demo/presto-batch2-after-compaction.commands
18	0	docker/demo/presto-table-check.commands
18	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java

commit 8e3d81cff118f81a29e286053ba48a1a33eb658c
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-01-21 22:28:30 -0800

    [MINOR] Change deploy_staging_jars script to take in scala version (#1270)

1	1	scripts/release/deploy_staging_jars.sh

commit a46fea9ff46342f6bba7c1c26e8c2354b1307a1f
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-01-21 22:19:47 -0800

    [MINOR] Change deploy_staging_jars script to take in scala version (#1269)

17	3	scripts/release/deploy_staging_jars.sh

commit a54535ed5a0247854660ace3a022db4891c6966d
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-21 20:41:59 +0800

    [MINOR] Fix invalid maven repo address (#1265)

1	1	docker/hoodie/hadoop/spark_base/Dockerfile

commit b6e2993ceb03d7bf17a08ef3c6698df5b21954a7
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date:   2020-01-21 15:50:40 +0800

    [MINOR] Update the javadoc of HoodieTableMetaClient#scanFiles (#1263)
    
    [MINOR] Update the javadoc of HoodieTableMetaClient#scanFiles

9	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java

commit 924bf514e27f126c5fa9a8beca5f3011f4d646ac
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-01-20 17:20:47 -0800

    [MINOR] Download KEYS file when validating release candidate (#1259)

3	0	scripts/release/validate_staged_release.sh

commit 6e59c1c77798e53f74f581856a3609239f50a877
Author: leesf <490081539@qq.com>
Date:   2020-01-20 18:57:26 +0800

    Moving to 0.5.2-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hudi-cli/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-hive/pom.xml
1	1	hudi-integ-test/pom.xml
1	1	hudi-spark/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit ba54a7e9731a8371a8a85e04570d2c951a74ce53
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-01-19 18:51:56 -0800

    [HUDI-559] : Make the timeline layout version default to be null version

2	1	hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java
1	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	0	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
5	1	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
5	4	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
8	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	1	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java

commit 7087e7d7668e39e5c0ce98c965750d228481748f
Author: leesf <490081539@qq.com>
Date:   2020-01-19 19:13:43 +0800

    [HUDI-556] Add lisence for PR#1233

10	0	LICENSE

commit 9489d0fb844208443a18964be878102e9560bd0d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2020-01-19 02:50:12 -0800

    [HUDI-551] Abstract a test case class for DFS Source to make it extensible (#1239)

178	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java
0	194	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java
55	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java
53	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java

commit d0ee95ed16de6c3568f575169cb993b9c10ced3d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2020-01-18 16:40:56 -0800

    [HUDI-552] Fix the schema mismatch in Row-to-Avro conversion (#1246)

5	3	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
13	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
12	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
74	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit 3f4966ddeaef02ee95a5e873387dad0c81c14fb6
Author: Suneel Marthi <smarthi@apache.org>
Date:   2020-01-18 11:03:29 -0500

    [MINOR] Fix PMC in DOAP] (#1247)

1	1	doap_HUDI.rdf

commit 5471d8f0c2ed43435622069bee8b68a8ba5141f4
Author: leesf <490081539@qq.com>
Date:   2020-01-18 09:22:55 +0800

    [MINOR] Add toString method to TimelineLayoutVersion to make it more readable (#1244)

5	0	hudi-common/src/main/java/org/apache/hudi/common/model/TimelineLayoutVersion.java

commit 292c1e2ff436a711cbbb53ad9b1f6232121d53ec
Author: wenningd <wenningding95@gmail.com>
Date:   2020-01-17 14:02:21 -0800

    [HUDI-238] Make Hudi support Scala 2.12 (#1226)
    
    * [HUDI-238] Rename scala related artifactId & add maven profile to support Scala 2.12

2	0	LICENSE
66	0	dev/change-scala-version.sh
2	2	docker/demo/config/kafka-source.properties
2	2	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
9	3	hudi-cli/pom.xml
2	2	hudi-client/pom.xml
2	2	hudi-integ-test/pom.xml
13	6	hudi-spark/pom.xml
1	1	hudi-spark/run_hoodie_app.sh
29	10	hudi-utilities/pom.xml
9	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
8	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
43	77	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
11	11	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
2	2	hudi-utilities/src/test/resources/delta-streamer-config/kafka-source.properties
6	6	packaging/hudi-spark-bundle/pom.xml
9	9	packaging/hudi-utilities-bundle/pom.xml
44	6	pom.xml

commit 923e2b4a1ef0645596eabcd41832cdf8acba4b9a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-01-17 10:56:35 -0800

    [HUDI-535] Ensure Compaction Plan is always written in .aux folder to avoid 0.5.0/0.5.1 reader-writer compatibility issues (#1229)

3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
1	1	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
21	19	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
29	1	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java

commit 0a07752dc03c51e16d7bb4239523b0181d819708
Author: Prashant Wason <pwason@uber.com>
Date:   2020-01-13 11:38:59 -0800

    [HUDI-527] scalastyle-maven-plugin moved to pluginManagement as it is only used in hoodie-spark and hoodie-cli modules.
    
    This fixes compile warnings as well as unnecessary plugin invocation for most of the modules which do not have scala code.

7	0	hudi-cli/pom.xml
4	0	hudi-spark/pom.xml
23	23	pom.xml

commit baa6b5e8899eb976b8b8cce92b1ba2cefaee8501
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-01-17 01:21:44 -0800

    [HUDI-537] Introduce `repair overwrite-hoodie-props` CLI command (#1241)

38	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java

commit c2c0f6b13d5b72b3098ed1b343b0a89679f854b3
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-01-16 23:58:47 -0800

    [HUDI-509] Renaming code in sync with cWiki restructuring (#1212)
    
     - Storage Type replaced with Table Type (remaining instances)
     - View types replaced with query types;
     - ReadOptimized view referred as Snapshot Query
     - TableFileSystemView sub interfaces renamed to BaseFileOnly and Slice Views
     - HoodieDataFile renamed to HoodieBaseFile
     - Hive Sync tool will register RO tables for MOR with a `_ro` suffix
     - Datasource/Deltastreamer options renamed accordingly
     - Support fallback to old config values as well, so migration is painless
     - Config for controlling _ro suffix addition
     - Renaming DataFile to BaseFile across DTOs, HoodieFileSlice and AbstractTableFileSystemView

4	4	README.md
1	2	doap_HUDI.rdf
2	2	docker/demo/hive-batch1.commands
2	2	docker/demo/hive-batch2-after-compaction.commands
1	1	docker/demo/hive-table-check.commands
2	2	docker/demo/presto-batch1.commands
2	2	docker/demo/presto-batch2-after-compaction.commands
2	2	docker/demo/sparksql-batch1.commands
2	2	docker/demo/sparksql-batch2.commands
5	5	docker/demo/sparksql-incremental.commands
21	21	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
3	3	hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala
3	3	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
3	3	hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java
5	5	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
6	6	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
4	4	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java
4	4	hudi-client/src/main/java/org/apache/hudi/io/HoodieReadHandle.java
9	9	hudi-client/src/main/java/org/apache/hudi/io/compact/{HoodieRealtimeTableCompactor.java => HoodieMergeOnReadTableCompactor.java}
4	4	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
9	7	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
15	14	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
6	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
7	7	hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java
10	10	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
12	12	hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java
2	2	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
1	1	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
9	9	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
5	5	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
5	5	hudi-client/src/test/java/org/apache/hudi/io/strategy/{TestHoodieDataFile.java => TestHoodieBaseFile.java}
2	2	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java
55	55	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java
9	9	hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/model/{HoodieDataFile.java => HoodieBaseFile.java}
6	6	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
0	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableType.java
20	10	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	2	hudi-common/src/main/java/org/apache/hudi/common/table/SyncableFileSystemView.java
16	16	hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java
10	10	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/{DataFileDTO.java => BaseFileDTO.java}
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileSliceDTO.java
70	70	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
16	16	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
30	30	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
12	12	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
63	62	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
7	7	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
4	4	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
8	8	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
2	9	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java
10	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
10	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
3	0	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
48	38	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
50	51	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
2	2	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
51	47	hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
6	7	hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java
11	8	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
22	13	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
2	2	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
60	7	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
8	8	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
4	4	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
8	8	hudi-spark/src/test/java/HoodieJavaApp.java
2	2	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
6	6	hudi-spark/src/test/scala/TestDataSource.scala
2	2	hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala
11	11	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
25	25	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/{DataFileHandler.java => BaseFileHandler.java}
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
7	10	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
7	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchedulerConfGenerator.java

commit 8a3a50309b425d70df1b5753e06aa2b9ac2a004a
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-17 03:14:39 +0800

    [MINOR] Fix missing @Override annotation on BufferedRandomAccessFile method (#1236)

10	0	hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java

commit b39458b008250f1a5bfe4316ce96fc3ec3cc7cfa
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2020-01-15 20:42:30 -0800

    [MINOR] Make constant fields final in HoodieTestDataGenerator (#1234)

20	19	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
1	1	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java
9	9	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java

commit 1daba24065959dcab3606836bd1d789b3d74cc15
Author: Scheller <bschelle@8c8590210d37.ant.amazon.com>
Date:   2020-01-07 16:51:28 -0800

    Add GlobalDeleteKeyGenerator
    
    Adds new GlobalDeleteKeyGenerator for record_key deletes with global indices. Also refactors key generators into their own package.

1	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
6	3	hudi-spark/src/main/java/org/apache/hudi/{ => keygen}/ComplexKeyGenerator.java
74	0	hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/{ => keygen}/KeyGenerator.java
2	1	hudi-spark/src/main/java/org/apache/hudi/{ => keygen}/NonpartitionedKeyGenerator.java
3	1	hudi-spark/src/main/java/org/apache/hudi/{ => keygen}/SimpleKeyGenerator.java
1	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	2	hudi-spark/src/test/java/HoodieJavaApp.java
64	1	hudi-spark/src/test/scala/TestDataSourceDefaults.scala
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit dd09abb56d9e4074f5c2558fcfd001a33570e98c
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date:   2020-01-13 12:40:06 -0800

    [HUDI-335] Improvements to DiskBasedMap used by ExternalSpillableMap, for write and random/sequential read paths, by introducing bufferedRandmomAccessFile

5	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
411	0	hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
29	11	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/util/collection/io/storage/SizeAwareDataOutputStream.java

commit 7aa3ce31e6a662af2da4584b881043061a216d2e
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-16 08:30:14 +0800

    [MINOR] Fix redundant judgment statement (#1231)

4	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java

commit 2248fd9aea4d28f9c264d4bd6a4ead63c706b9b7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-01-15 14:23:02 -0500

    Fixing checkstyle issues

1	1	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 2b2f23aa60bde21ab6ef2404ece1cbfa6ab1324c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-01-14 23:32:20 -0500

    Fixing delete util method

18	11	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 87fdb769f0020414f500805838fbe5cb99159515
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-01-13 23:10:26 -0500

    Adding util methods to assist in adding deletion support to Quick Start

16	0	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 9b2944a9a261eb41bd841f080b5d9aeeec18589c
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-15 11:27:53 +0800

    [MINOR] Refactor unnecessary boxing inside TypedProperties code (#1227)

8	8	hudi-common/src/main/java/org/apache/hudi/common/util/TypedProperties.java

commit 2bb0c21a3dd29687e49d362ed34f050380ff47ae
Author: Mehrotra <uditme@amazon.com>
Date:   2020-01-02 16:16:27 -0800

    Fix conversion of Spark struct type to Avro schema
    
    cr https://code.amazon.com/reviews/CR-17184364

10	3	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
1	1	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
3	1	hudi-spark/src/test/java/DataSourceTestUtils.java
2	2	hudi-spark/src/test/java/HoodieJavaApp.java
2	2	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
14	1	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
14	1	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc

commit fd8f1c70c07dec3e6670d460fcd887f9d5842b6d
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-14 10:26:04 +0800

    [MINOR] Reuse random object (#1222)

2	1	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java
2	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit c1f8acab344fa632f1cce6268d2fc765c45e8b22
Author: liujianhui <liujianhui@bytedance.com>
Date:   2020-01-13 19:16:32 +0800

    [HUDI-526] fix the HoodieAppendHandle

5	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java

commit a44c61b81356e93340710ccc0022e576b7b6e077
Author: openopen2 <a261049174@outlook.com>
Date:   2020-01-13 07:45:23 +0800

    [HUDI-502] provide a custom time zone definition for TimestampBasedKeyGenerator (#1188)

4	0	hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java
26	0	hudi-common/src/test/resources/timestamp-test-evolved.avsc
9	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
83	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java

commit 971c7d41bd912b0e00ae8606adbe36548e2c49b3
Author: harveyyue <yw_yuewei@126.com>
Date:   2020-01-10 15:22:44 +0800

    [HUDI-322] DeltaSteamer should pick checkpoints off only deltacommits for MOR tables

11	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit ad50008a5946f15ee4ba4dd69ac514f11fed2034
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2020-01-12 15:03:11 -0800

    [HUDI-91][HUDI-12]Migrate to spark 2.4.4, migrate to spark-avro library instead of databricks-avro, add support for Decimal/Date types
    
    - Upgrade Spark to 2.4.4, Parquet to 1.10.1, Avro to 1.8.2
    - Remove spark-avro from hudi-spark-bundle. Users need to provide --packages org.apache.spark:spark-avro:2.4.4 when running spark-shell or spark-submit
    - Replace com.databricks:spark-avro with org.apache.spark:spark-avro
    - Shade avro in hudi-hadoop-mr-bundle to make sure it does not conflict with hive's avro version.

6	16	LICENSE
2	0	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
14	3	hudi-spark/pom.xml
83	20	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
12	6	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
1	0	hudi-spark/src/test/java/HoodieJavaApp.java
1	1	hudi-utilities/pom.xml
2	12	packaging/hudi-hadoop-mr-bundle/pom.xml
0	6	packaging/hudi-spark-bundle/pom.xml
6	14	pom.xml

commit d9675c4ec0be3f342c30e17a4779c8319b207681
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-13 02:48:52 +0800

    [HUDI-522] Use the same version jcommander uniformly (#1214)

0	1	hudi-client/pom.xml
1	1	hudi-client/src/test/java/HoodieClientExample.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
1	1	hudi-spark/src/test/java/HoodieJavaApp.java
1	1	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
0	1	hudi-timeline-service/pom.xml
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
0	1	packaging/hudi-timeline-server-bundle/pom.xml

commit 017ee8e66193fd7056c08ec1f36a1d9d6ee58969
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-12 09:35:55 +0800

    [MINOR] Fix partition typo (#1209)

1	1	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit e1031650833e3d359e00473884ceac272eac3afa
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-08 11:12:10 +0800

    [CLEAN] replace utf-8 constant with StandardCharsets.UTF_8

2	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java

commit b95367d82a4e0c31a526cf8b292388355847e274
Author: Thinking <744417972@qq.com>
Date:   2020-01-10 16:29:51 +0800

    [HUDI-469] Fix: HoodieCommitMetadata only show first commit insert rows.

2	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java

commit 04afac977d4bd615c217349083b5f86cfa8060c4
Author: leesf <490081539@qq.com>
Date:   2020-01-09 17:43:34 +0800

    [HUDI-248] CLI doesn't allow rolling back a Delta commit

4	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java

commit 3c90d252cc464fbd4ec3554fc930e41a0fcaa29f
Author: pratyakshsharma <pratyaksh13@gmail.com>
Date:   2020-01-09 18:43:36 +0530

    [HUDI-114]: added option to overwrite payload implementation in hoodie.properties file

2	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
3	3	{hudi-spark/src/main/java/org/apache/hudi => hudi-common/src/main/java/org/apache/hudi/common/model}/BaseAvroPayload.java
9	5	{hudi-spark/src/main/java/org/apache/hudi => hudi-common/src/main/java/org/apache/hudi/common/model}/OverwriteWithLatestAvroPayload.java
11	5	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
16	7	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	0	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java
1	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	2	hudi-spark/src/test/scala/TestDataSourceDefaults.scala
4	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
76	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit 5af3dc6aedcfc8d7d4cd5da21300d9cfb92c16ba
Author: hongdd <jn_hdd@163.com>
Date:   2020-01-09 16:00:53 +0800

    [HUDI-331]Fix java docs for all public apis in HoodieWriteClient (#1111)

63	17	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java

commit d09eacdc13b9f19f69a317c8d08bda69a43678bc
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2019-07-17 11:51:49 -0700

    [HUDI-25] Optimize HoodieInputformat.listStatus() for faster Hive incremental queries on Hoodie
    
        Summary:
        - InputPathHandler class classifies  inputPaths into incremental, non incremental and non hoodie paths.
        - Incremental queries leverage HoodieCommitMetadata to get partitions that are affected and only lists those partitions as opposed to listing all partitions
        - listStatus() processes each category separately

12	8	hudi-hadoop-mr/pom.xml
25	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java
192	94	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
139	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java
181	0	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputPathHandlerTest.java
52	16	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/{TestHoodieInputFormat.java => TestHoodieParquetInputFormat.java}

commit 480fc7869d4d69e1219bf278fd9a37f27ac260f6
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date:   2020-01-08 10:38:10 -0800

    [HUDI-319] Add a new maven profile to generate unified Javadoc for all Java and Scala classes (#1195)
    
    
    * Add javadoc build command in README, links to javadoc plugin and rename profile.
    * Make java version configurable in one place.

6	0	README.md
1	1	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
114	4	pom.xml

commit aba83876e7c20e8c2402c74c2465ef3ebc93ef85
Author: Wenning Ding <wenningd@amazon.com>
Date:   2020-01-03 12:36:14 -0800

    Update deprecated HBase API

16	28	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java

commit 9884972a3a1d1158b657e2f012a886b319f99002
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-08 08:45:19 +0800

    [MINOR] Remove old jekyll config file (#1198)

0	16	_config.yml

commit 9706f659dba8f2abd501464a96254c052d100c72
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2020-01-07 12:52:32 -0800

    [HUDI-508] Standardizing on "Table" instead of "Dataset" across code (#1197)
    
    - Docs were talking about storage types before, cWiki moved to "Table"
     - Most of code already has HoodieTable, HoodieTableMetaClient - correct naming
     - Replacing renaming use of dataset across code/comments
     - Few usages in comments and use of Spark SQL DataSet remain unscathed

2	2	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrompt.java
4	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
6	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
10	10	hudi-cli/src/main/java/org/apache/hudi/cli/commands/{DatasetsCommand.java => TableCommand.java}
3	3	hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java
10	10	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
1	1	hudi-client/src/test/java/HoodieClientExample.java
3	3	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
3	3	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
10	10	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
11	11	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java
1	1	hudi-common/src/main/java/org/apache/hudi/exception/HoodieIOException.java
4	4	hudi-common/src/main/java/org/apache/hudi/exception/{InvalidDatasetException.java => InvalidTableException.java}
10	10	hudi-common/src/main/java/org/apache/hudi/exception/{DatasetNotFoundException.java => TableNotFoundException.java}
1	1	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
5	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
5	5	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
4	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
5	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieInputFormat.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java
5	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
5	5	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
9	9	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
14	14	hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
2	2	hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java
3	3	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
1	1	hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java
3	3	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
1	1	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
5	5	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
2	2	hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala
1	1	hudi-spark/src/test/java/HoodieJavaApp.java
1	1	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
3	3	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
5	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java
88	88	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit 8306f749a2bd3e8f2fff5034cdb6fd3773a881f8
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2020-01-06 20:11:48 -0800

    [HUDI-417] Refactor HoodieWriteClient so that commit logic can be shareable by both bootstrap and normal write operations (#1166)

421	0	hudi-client/src/main/java/org/apache/hudi/AbstractHoodieWriteClient.java
30	336	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java

commit b5df6723a21e39fd7676921edb758afc7200c0c7
Author: Abhishek Modi <abhishek.modi95@gmail.com>
Date:   2020-01-06 16:32:55 -0800

    [HUDI-464] Use Hive Exec Core for tests (#1125)

7	0	hudi-client/pom.xml
1	0	hudi-hadoop-mr/pom.xml
1	0	hudi-utilities/pom.xml
2	0	pom.xml

commit 75c3f630d4dadda24a95f5d65031e462561d47f1
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-02 12:31:00 +0800

    [HUDI-405] Remove HIVE_ASSUME_DATE_PARTITION_OPT_KEY config from DataSource

0	3	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
0	1	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
0	3	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
0	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit c78092d2d3660aadb270fc514a46f831e47c1340
Author: yuehan124 <yuehan124@163.com>
Date:   2020-01-06 15:21:55 +0800

    [HUDI-501] Execute docker/setup_demo.sh in any directory

5	4	docker/setup_demo.sh
3	2	docker/stop_demo.sh

commit 8f935e779a7d9dd082d305b2c21fdf273c2ba338
Author: Pratyaksh Sharma <pratyakshsharma@FG2000257590.local>
Date:   2020-01-03 16:51:39 +0530

    [HUDI-406]: added default partition path in TimestampBasedKeyGenerator

2	2	hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java
11	17	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java
2	2	hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java
1	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
6	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java

commit 2d5b79d96fa23571da5003fd4460d2d6d3998275
Author: hongdd <jn_hdd@163.com>
Date:   2020-01-06 22:51:22 +0800

    [HUDI-438] Merge duplicated code fragment in HoodieSparkSqlWriter (#1114)

63	102	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit b9fab0b933315d88e059a07a0dcf2397d5b69d14
Author: hejinbiao123 <38057507+hejinbiao123@users.noreply.github.com>
Date:   2020-01-06 21:13:29 +0800

    Revert "[HUDI-455] Redo hudi-client log statements using SLF4J (#1145)" (#1181)
    
    This reverts commit e637d9ed26fea1a336f2fd6139cde0dd192c429d.

0	5	hudi-client/pom.xml
3	3	hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java
8	9	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
8	8	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
3	3	hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java
28	28	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
5	5	hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
5	5	hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java
21	21	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
10	10	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
9	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
11	11	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
9	8	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
10	9	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
20	19	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
5	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
14	14	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java
10	7	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
3	3	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
3	3	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
3	3	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java
4	4	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
26	26	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
14	13	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
6	6	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
7	7	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java

commit 28ccf8c5216eaedf16b16b0220f03311fcba6787
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-05 15:53:47 +0800

    [HUDI-484] Fix NPE when reading IncrementalPull.sqltemplate in HiveIncrementalPuller (#1167)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
27	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java

commit 7031445eb3cae5a4557786c7eb080944320609aa
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2020-01-04 11:07:31 -0800

    [HUDI-377] Adding Delete() support to DeltaStreamer (#1073)
    
    - Provides ability to perform hard deletes by writing delete marker records into the source data
    - if the record contains a special field _hoodie_delete_marker set to true, deletes are performed

70	13	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
4	3	hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java
8	8	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
9	3	hudi-spark/src/main/java/org/apache/hudi/OverwriteWithLatestAvroPayload.java
7	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	9	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
15	16	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
18	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
7	1	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
1	1	hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties
9	3	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc

commit 726ae47ce250309710f88e17d1ee89d6fff9b386
Author: SteNicholas <programgeek@163.com>
Date:   2020-01-05 02:57:08 +0800

    [MINOR]Optimize hudi-client module (#1139)

3	4	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
21	24	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
10	9	hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
1	4	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
3	6	hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
1	4	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
1	4	hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
9	12	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
2	0	hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java
3	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
4	6	hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
5	7	hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java
14	17	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
16	18	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
5	8	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
5	8	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
2	4	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
2	2	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
3	5	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
7	10	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
14	21	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
10	12	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java
1	3	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
5	3	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
2	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java

commit a733f4ef723865738d8541282c0c7234d64668db
Author: SteNicholas <programgeek@163.com>
Date:   2020-01-05 01:05:50 +0800

    [MINOR] Optimize hudi-cli module (#1136)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java
14	22	hudi-cli/src/main/java/org/apache/hudi/cli/Table.java
22	31	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
6	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
6	12	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
15	16	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
6	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java
9	8	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
14	15	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
20	25	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
12	14	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
3	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
6	6	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java

commit 290278fc6cd90c6dad09618275d2016c295c0b0d
Author: Pratyaksh Sharma <pratyakshsharma@FG2000257590.local>
Date:   2019-12-28 23:46:09 +0530

    [HUDI-118]: Options provided for passing properties to Cleaner, compactor and importer commands

36	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
15	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
8	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
71	11	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
7	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit ff1113f3b730a68dd0a1a7bd219ad20e5166f8ca
Author: hongdongdong <hongdongdong@cmss.chinamobile.com>
Date:   2020-01-03 11:25:15 +0800

    [HUDI-492]Fix show env all in hudi-cli

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java

commit e1e5fe33249bf511486073dd9cf48e5b7ea14816
Author: lamber-ken <lamberken@163.com>
Date:   2020-01-01 19:11:15 -0600

    [MINOR] Fix error usage of String.format (#1169)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java

commit dde21e7315739c108567307813f4b816dd9f1920
Author: Pratyaksh Sharma <pratyakshsharma@FG2000257590.local>
Date:   2019-12-29 15:00:06 +0530

    [HUDI-402]: code clean up in test cases

2	4	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
20	39	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
2	4	hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java
21	20	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
11	44	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
3	5	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
3	4	hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java
1	3	hudi-client/src/test/java/org/apache/hudi/TestWriteStatus.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
1	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
7	15	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
1	1	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java
1	1	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java
0	2	hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java
14	14	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
2	3	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java
1	1	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
0	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
4	4	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java
3	3	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
2	2	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
5	4	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
41	92	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
3	4	hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestBloomFilter.java
3	20	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
9	33	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java
0	2	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
6	23	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java
2	9	hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java
3	4	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java
16	35	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
23	46	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java
7	5	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
10	17	hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java
9	9	hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java
0	11	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
10	10	hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
3	6	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
0	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
4	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java
30	30	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
1	1	hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
8	8	hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java
0	25	hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
1	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
4	16	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark/src/test/java/DataSourceTestUtils.java
1	2	hudi-spark/src/test/java/HoodieJavaApp.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
1	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java

commit 98c0d8cf6069bdda32cc1ef7d33541206e3ef8e9
Merge: add4b1e329 47c1f746e2
Author: Suneel Marthi <smarthi@apache.org>
Date:   2019-12-31 04:21:31 -0500

    Merge pull request #1160 from smarthi/HUDI-343
    
    [HUDI-343]: Create a DOAP file for Hudi

commit 47c1f746e2ddd061064af6026de9125c65bf114a
Author: Suneel Marthi <smarthi@apache.org>
Date:   2019-12-31 02:05:21 -0500

    [HUDI-343]: Create a DOAP file for Hudi

59	0	doap_HUDI.rdf

commit add4b1e3296262801255a1098eeaeaefe200cfeb
Merge: e637d9ed26 619f501054
Author: Suneel Marthi <smarthi@apache.org>
Date:   2019-12-31 02:08:54 -0500

    Merge pull request #1143 from BigDataArtisans/outoflimit
    
    [MINOR] Fix out of limits for results

commit 619f5010549220c98cb6849ebcfb3592a811c679
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-31 13:59:26 +0800

    Clean up code

4	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java

commit e637d9ed26fea1a336f2fd6139cde0dd192c429d
Author: hejinbiao123 <38057507+hejinbiao123@users.noreply.github.com>
Date:   2019-12-31 13:49:34 +0800

    [HUDI-455] Redo hudi-client log statements using SLF4J (#1145)
    
    * [HUDI-455] Redo hudi-client log statements using SLF4J

5	0	hudi-client/pom.xml
3	3	hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java
9	8	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
8	8	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
3	3	hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java
28	28	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
5	5	hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
5	5	hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java
21	21	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
10	10	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
7	9	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
11	11	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
8	9	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
9	10	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
19	20	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
5	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
14	14	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java
7	10	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
3	3	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
3	3	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
3	3	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java
4	4	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
26	26	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
13	14	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
6	6	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
7	7	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java

commit ab6ae5cebb43ffffa9ea47feeda36e955bc6b470
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-30 21:44:56 -0600

    [HUDI-482] Fix missing @Override annotation on methods (#1156)
    
    * [HUDI-482] Fix missing @Override annotation on methods

1	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieHistoryFileNameProvider.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieSplashScreen.java
1	0	hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java
1	0	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
1	0	hudi-client/src/main/java/org/apache/hudi/func/SparkBoundedInMemoryExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java
2	0	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
1	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
6	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	0	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java
2	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
6	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 2a823f32ee161d3e366979f2060cb93536e8059d
Author: dengziming <dengziming1993@gmail.com>
Date:   2019-12-30 20:39:03 +0800

    [MINOR]: alter some wrong params which bring fatal exception

1	1	hudi-client/src/test/java/HoodieClientExample.java

commit e4ea7a2971ce20d89a46556e19f2ad22014d9123
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-29 12:46:14 +0800

    Update comment

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 84404829777dafb68b8b9903015016a1549d54a4
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-29 07:27:59 +0800

    Fix empty content clean plan

4	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 2f254163d49a89c4a2d89ad1aac8f2217d159edf
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-28 07:57:05 +0800

    Skip setting commit metadata

6	10	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java

commit 179837e8ef1d624c8805c4af8896589193481ad0
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-24 23:31:28 +0800

    Fix checkstyle

1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java

commit 58c5bed40a76189a28dd72bbd67fcefaac587184
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-24 23:22:37 +0800

    [HUDI-453] Fix throw failed to archive commits error when writing data to MOR/COW table

7	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java

commit 01c25d6afff703156c31c4f4c12138113dca494a
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date:   2019-12-29 09:57:19 +0800

    [MINOR] Update the java doc of HoodieTableType (#1148)

3	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableType.java

commit 74b00d1f954b5146611f26e55c567861898b084f
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-27 02:06:26 +0800

    trigger rebuild

commit 36c0e6bae142d18dd0c4ede9c04dc20005380562
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-27 01:16:24 +0800

    [MINOR] Fix out of limits for results

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java

commit bb90dedfc84dc3a1aa7c3eb2e64320346f5e192c
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-27 01:13:47 +0800

    [MINOR] Fix out of limits for results

5	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java

commit f20a130e3ac3cf5434bf58cc6b0b64cd4d9a6931
Author: yungthuis66 <59256868+yungthuis66@users.noreply.github.com>
Date:   2019-12-27 01:03:43 +0800

    [MINOR] typo fix (#1142)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 842eabb27fc7b4295a6ad8a44fb21ba0394c7aa8
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-26 15:40:38 +0800

    [HUDI-470] Fix NPE when print result via hudi-cli (#1138)

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java

commit def18a5086cac23266dec4e285cc7850ef8ac011
Author: SteNicholas <programgeek@163.com>
Date:   2019-12-26 06:40:25 +0800

    [MINOR] optimize hudi timeline service (#1137)

4	6	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java

commit 3c811ec29be12b3084c0ff4b77774d9ea527bcea
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date:   2019-12-25 20:26:16 +0800

    [MINOR] fix typos

1	1	hudi-cli/src/main/java/org/apache/hudi/cli/Table.java
1	1	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java

commit 8affdf8bcbb4c7b236283e97c3afad186d5b6a3e
Author: hongdd <jn_hdd@163.com>
Date:   2019-12-25 20:19:12 +0800

    [HUDI-416] Improve hint information for cli (#1110)

14	1	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
2	8	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
3	19	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
8	39	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
149	161	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
6	11	hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java
4	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
8	12	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
5	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
6	15	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
13	28	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
2	8	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 9c4217a3e1b9b728690282c914db2067117f4cfb
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2019-12-24 20:56:30 -0800

    [HUDI-389] Fixing Index look up to return right partitions for a given key along with fileId with Global Bloom (#1091)
    
    * Fixing Index look up to return partitions for a given key along with fileId with Global Bloom
    * Addressing some of the comments
    * Fixing test in TestHoodieGlobalBloomIndex to test the fix

3	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
4	2	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java
23	17	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
7	4	hudi-client/src/main/java/org/apache/hudi/index/bloom/IndexFileFilter.java
20	8	hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
8	4	hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java
9	10	hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java
5	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedIndexFileFilter.java
99	83	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
64	10	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
18	0	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
5	0	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
11	4	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java

commit 94aec965f533fdf724ca433233e67ce2374e26df
Author: dengziming <dengziming1993@gmail.com>
Date:   2019-12-25 12:44:11 +0800

    [minor] Fix few typos in the java docs (#1132)

1	1	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestBloomFilter.java

commit dd06660183d49211408fa2851c06f1a4d8946749
Author: comsir <1573282335@qq.com>
Date:   2019-12-25 11:37:09 +0800

    [MINOR] fix typo

1	1	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java

commit 41f36770e09b41aee8f5c8789f2b5f8bf151fb3c
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date:   2019-12-25 06:48:15 +0800

    [MINOR] fix typo

1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java

commit 4b1b3fc28cc68c61e2042029a80211dcbe0fcfb4
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-24 19:07:04 +0800

    [MINOR] Set info servity for ImportOrder temporarily (#1127)
    
    - Now we need fix import check error manually, disable the rule temporarily before finding a better solution.

1	0	style/checkstyle.xml

commit 8172197c353ff6cda491120c41b2d14b412ad709
Author: Thinking Chen <744417972@qq.com>
Date:   2019-12-24 14:29:28 +0800

    Fix Error: java.lang.IllegalArgumentException: Can not create a Path from an empty string in HoodieCopyOnWrite#deleteFilesFunc (#1126)
    
    same link in https://github.com/apache/incubator-hudi/pull/771
    this time is in HoodieCopyOnWrite deleteFilesFunc method

1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java

commit 350b0ecb4d137411c6231a1568add585c6d7b7d5
Author: vinoth chandar <vchandar@confluent.io>
Date:   2019-12-22 23:33:35 -0800

    [HUDI-311] : Support for AWS Database Migration Service in DeltaStreamer
    
     - Add a transformer class, that adds `Op` fiels if not found in input frame
     - Add a payload implementation, that issues deletes when Op=D
     - Remove Parquet as a top level source type, consolidate with RowSource
     - Made delta streamer work without a property file, simply using overridden cli options
     - Unit tests for transformer/payload classes

11	4	hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java
68	0	hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java
13	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
0	15	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
6	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java
8	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
24	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/{sources/ParquetSource.java => transform/AWSDmsTransformer.java}
107	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestAWSDatabaseMigrationServiceSource.java
0	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java

commit 313fab5fd1ef715f98a123d0e09f6010daacab68
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-24 07:05:54 +0800

    [HUDI-444] Refactor the codes based on scala codestyle ReturnChecker rule (#1121)

2	2	hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala
2	2	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
1	1	style/scalastyle.xml

commit b284091783af44341f20af11825ea9b6e3ba23da
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-22 07:30:07 +0800

    [HUDI-386] Refactor hudi scala checkstyle rules (#1099)

1	1	pom.xml
1	1	style/checkstyle.xml
0	114	style/scalastyle-config.xml
134	0	style/scalastyle.xml

commit 36b3b6f5dd913d3f1c9aa116aff8daf6540fed65
Author: YanJia-Gary-Li <yanjia.gary.li@gmail.com>
Date:   2019-12-19 22:19:06 -0800

    [HUDI-415] Get commit time when Spark start (#1113)

4	3	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 14881e99e0aff5ffd72ed26d2beddef23d7a77c7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2019-12-17 19:06:24 -0800

    [HUDI-106] Adding support for DynamicBloomFilter (#976)
    
    - Introduced configs for bloom filter type
    - Implemented dynamic bloom filter with configurable max number of keys
    - BloomFilterFactory abstractions; Defaults to current simple bloom filter

28	0	LICENSE
4	6	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
10	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
9	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
4	4	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
6	2	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java
11	7	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
6	3	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
1	1	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
6	1	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
25	24	hudi-common/src/{test/java/org/apache/hudi/common/TestBloomFilter.java => main/java/org/apache/hudi/common/bloom/filter/BloomFilter.java}
63	0	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilterFactory.java
28	0	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilterTypeCode.java
45	0	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilterUtils.java
109	0	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/HoodieDynamicBoundedBloomFilter.java
249	0	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalDynamicBloomFilter.java
178	0	hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalFilter.java
49	17	hudi-common/src/main/java/org/apache/hudi/common/{BloomFilter.java => bloom/filter/SimpleBloomFilter.java}
23	9	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
110	0	hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestBloomFilter.java
60	0	hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestInternalDynamicBloomFilter.java
36	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
9	6	hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java

commit 7498ca71cb8cfc95c2bd987030f23b75be23b84d
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-17 15:15:03 +0800

    [MINOR] Add slack invite icon in README (#1108)

1	0	README.md

commit 9a1f698eef1044443adadbf7a1bf7b5eb94fb84e
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-12-04 01:02:17 -0800

    [HUDI-308] Avoid Renames for tracking state transitions of all actions on dataset

13	2	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
16	14	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
7	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java
5	3	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
17	9	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
70	55	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
3	1	hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java
19	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
34	8	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
66	62	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
24	18	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
6	4	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
6	4	hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java
20	11	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
4	2	hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java
45	2	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
24	13	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
1	1	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java
1	1	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java
9	2	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
17	17	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
3	3	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
9	3	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
1	0	hudi-common/pom.xml
22	0	hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc
79	0	hudi-common/src/main/java/org/apache/hudi/common/model/TimelineLayoutVersion.java
14	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
64	25	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
23	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
79	0	hudi-common/src/main/java/org/apache/hudi/common/table/TimelineLayout.java
148	60	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
3	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
30	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
31	2	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
39	11	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
77	0	hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineLayout.java
24	11	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java
35	25	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
17	8	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
5	2	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java

commit 8963a68e6a3f4875de6787dfc206543e9ca824d9
Author: hongdd <jn_hdd@163.com>
Date:   2019-12-14 14:13:00 +0800

    [HUDI-398]Add spark env set/get for spark launcher (#1096)

68	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java
4	2	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java

commit f324057b6e27075833673b09b5c92d9c53ed2b58
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-13 13:42:18 +0800

    [MINOR] Unify Lists import (#1103)

3	2	hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java

commit a405d3873b176a410abc5ef5239066f94214454c
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-12 11:29:17 +0800

    [MINOR] replace scala map add operator (#1093)
    
    replace ++: with ++

1	1	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
1	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit ba514cfea0fbb3a71a93fc7b5d5fe06dc1fdfffd
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-12 05:42:05 +0800

    [MINOR] Remove redundant plus operator (#1097)

1	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
1	1	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
2	2	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
8	8	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
2	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/func/OperationResult.java
3	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
5	5	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
5	5	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/Option.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieInputFormat.java
4	4	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
18	18	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
1	1	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
5	5	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java

commit 3790b75e059a06e6f5467c8b8d549ef38cd6b98a
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2019-12-11 03:22:41 +0530

    [HUDI-368] code clean up in TestAsyncCompaction class (#1050)

34	55	hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java

commit 24a09c775f6d4b855e2096001f5e034da80158a8
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-11 00:00:53 +0800

    [HUDI-387] Fix NPE when create savepoint via hudi-cli (#1085)

10	5	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
5	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java

commit 8df4b83017f74173b8289ab50b0f723a38e8eebe
Author: Nisheet Kumar <nisheetkmr@outlook.com>
Date:   2019-12-10 21:12:33 +0530

    [HUDI-390] Add backtick character in hive queries to support hive identifier as tablename (#1090)

11	6	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
3	1	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java

commit d447e2d7518fc6ee87f1620542e45f1454a5ba0f
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-10 19:23:38 +0800

    [checkstyle] Unify LOG form (#1092)

2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
9	9	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
8	8	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
31	31	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
6	6	hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
5	5	hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java
6	6	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java
22	22	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
7	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
5	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
9	9	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
5	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
10	10	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
11	11	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
3	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
11	11	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java
5	5	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
2	2	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
2	2	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
3	3	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java
2	2	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
24	24	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
11	11	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
5	5	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java
4	4	hudi-client/src/test/java/HoodieClientExample.java
2	2	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
5	1	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
1	1	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
5	1	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
5	5	hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
8	8	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
10	10	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
21	21	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
9	9	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
12	12	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RecordReaderValueIterator.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
1	1	hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
6	6	hudi-spark/src/test/java/HoodieJavaApp.java
9	9	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
4	4	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
2	2	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java
6	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
20	20	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
11	11	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
5	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
7	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
7	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java
17	17	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
18	18	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java
6	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java
7	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
9	5	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
6	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java

commit 70a1040998deb4585f6622e23f887dba21556cbd
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-10 05:24:42 +0800

    [MINOR] Beautify the cli banner (#1089)
    
    * Add one empty line
    * replace Cli to CLI
    * replace Hoodie to Apache Hudi

15	11	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieSplashScreen.java

commit e555aa516de867a4faf0322e79defa1f52d887ef
Author: Wenning Ding <wenningd@amazon.com>
Date:   2019-10-30 10:41:04 -0700

    [HUDI-353] Add hive style partitioning path

12	0	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java
3	3	hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java
7	2	hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java
7	0	hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java
8	0	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
2	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
29	19	hudi-spark/src/test/scala/TestDataSourceDefaults.scala
4	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java

commit 63e330b17cdd4ce367484120d6ec82262fe540d0
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-08 01:51:28 +0800

    [MINOR] add *.log to .gitignore file (#1086)

1	0	.gitignore

commit 2745b7552f2f2ee7a61d3ea49139ef2af3ffe13f
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-06 12:59:28 +0800

    [HUDI-379] Refactor the codes based on new JavadocStyle code style rule (#1079)

6	6	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
2	2	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java
12	12	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
2	2	hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
1	1	hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java
3	3	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
8	8	hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
12	12	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/exception/HoodieAppendException.java
1	1	hudi-client/src/main/java/org/apache/hudi/exception/HoodieCommitException.java
1	1	hudi-client/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java
1	1	hudi-client/src/main/java/org/apache/hudi/exception/HoodieInsertException.java
1	1	hudi-client/src/main/java/org/apache/hudi/exception/HoodieUpsertException.java
1	1	hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java
1	1	hudi-client/src/main/java/org/apache/hudi/func/CopyOnWriteLazyInsertIterable.java
1	1	hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java
3	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyLookupResult.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedIndexFileFilter.java
5	5	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndexQPSResourceAllocator.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
4	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
3	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
5	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java
4	4	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
3	3	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieCompactor.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java
1	1	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
2	2	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporter.java
12	12	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
1	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
26	26	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
4	4	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java
7	7	hudi-client/src/main/java/org/apache/hudi/table/RollbackRequest.java
3	3	hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java
2	2	hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java
23	23	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
4	4	hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java
4	4	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
18	18	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
26	26	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
10	10	hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java
4	4	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/EmptyHoodieRecordPayload.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
1	1	hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RecordReaderValueIterator.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/UseFileSplitsFromInputFormat.java
6	6	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetSerde.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
10	10	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java
8	8	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
1	1	hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
1	1	hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
3	3	hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java
2	2	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
2	2	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
1	1	hudi-spark/src/main/java/org/apache/hudi/KeyGenerator.java
1	1	hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java
2	2	hudi-spark/src/test/java/HoodieJavaApp.java
4	4	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
6	6	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java
1	1	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java
21	22	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
14	14	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java
6	6	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java
3	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/IdentityTransformer.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java
4	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/config/TestSourceConfig.java
2	3	style/checkstyle.xml

commit c06d89b648bbdaaad9c68fb9d3c6d53b4d68541c
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-05 17:25:03 +0800

    [HUDI-378] Refactor the rest codes based on new ImportOrder code style rule (#1078)

2	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
9	7	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
1	0	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
5	5	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanMetadataMigrator.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV1MigrationHandler.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV2MigrationHandler.java
30	28	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
0	1	style/checkstyle.xml

commit b3e0ebbc4ae61b7e21d63f5e6548b86547f6bf06
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-04 18:59:15 +0800

    [checkstyle] Add ConstantName java checkstyle rule (#1066)
    
    * add SimplifyBooleanExpression java checkstyle rule
    * collapse empty tags in scalastyle file

3	3	hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java
6	6	hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java
1	1	hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java
4	4	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
2	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
2	2	hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java
2	2	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
6	6	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
16	16	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
7	7	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
6	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
12	12	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
6	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
13	13	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
6	6	hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java
9	9	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/queue/FunctionBasedQueueProducer.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/queue/IteratorBasedQueueProducer.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java
6	6	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
6	6	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
9	9	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
4	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
3	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
6	0	style/checkstyle.xml
18	18	style/scalastyle-config.xml

commit b2d9638bea43f6b0a9c3412362dc4cb08e214957
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date:   2019-12-04 12:40:40 +0530

    [HUDI-365] Refactor hudi-cli based on new ImportOrder code style rule (#1076)

5	3	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
4	1	hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java
2	1	hudi-cli/src/main/java/org/apache/hudi/cli/Main.java
2	1	hudi-cli/src/main/java/org/apache/hudi/cli/Table.java
12	10	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
8	6	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
9	7	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
15	13	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
6	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java
15	13	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
2	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
17	14	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
4	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
5	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
10	8	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
5	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
1	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
16	14	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
3	2	hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java
4	2	hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java
4	2	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java

commit 84602c888298e70ea5e64029c14e862172d32f99
Author: vinoyang <yanghua1127@gmail.com>
Date:   2019-12-04 12:49:14 +0800

    [HUDI-355] Refactor hudi-common based on new comment and code style rules (#1049)
    
    [HUDI-355] Refactor hudi-common based on new comment and code style rules

6	6	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
4	1	hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java
4	1	hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/model/ActionType.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieArchivedLogFile.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileFormat.java
15	15	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStat.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java
20	16	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/storage/SizeAwareDataInputStream.java
8	8	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
14	14	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
13	13	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/SyncableFileSystemView.java
16	16	hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
6	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
4	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCorruptBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
20	20	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/DataFileDTO.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FSPermissionDTO.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileGroupDTO.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FilePathDTO.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileSliceDTO.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileStatusDTO.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/InstantDTO.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/LogFileDTO.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java
35	35	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
7	7	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
4	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageType.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
7	7	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
8	8	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
7	7	hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/DefaultSizeEstimator.java
13	13	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java
15	0	hudi-common/src/main/java/org/apache/hudi/common/util/Functions.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/util/NumericUtils.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/Option.java
5	2	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
19	19	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/SizeEstimator.java
10	6	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/TypedProperties.java
9	3	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
6	6	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
4	3	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutablePair.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutableTriple.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/Pair.java
3	0	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/Triple.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/io/storage/SizeAwareDataOutputStream.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java
7	7	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueConsumer.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueProducer.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/queue/IteratorBasedQueueProducer.java
5	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/AbstractMigratorBase.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/versioning/VersionMigrator.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionPlanMigrator.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java
1	1	hudi-common/src/main/java/org/apache/hudi/config/DefaultHoodieConfig.java
3	0	hudi-common/src/main/java/org/apache/hudi/exception/CorruptedLogFileException.java
1	1	hudi-common/src/main/java/org/apache/hudi/exception/DatasetNotFoundException.java
1	3	hudi-common/src/main/java/org/apache/hudi/exception/HoodieCorruptedDataException.java
3	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieNotSupportedException.java
3	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieRemoteException.java
3	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieSerializationException.java
1	3	hudi-common/src/main/java/org/apache/hudi/exception/InvalidDatasetException.java
3	0	hudi-common/src/main/java/org/apache/hudi/exception/InvalidHoodiePathException.java
1	1	hudi-common/src/main/java/org/apache/hudi/exception/MetadataNotFoundException.java
3	0	hudi-common/src/main/java/org/apache/hudi/exception/SchemaCompatabilityException.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/TestBloomFilter.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/minicluster/MiniClusterUtil.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java
4	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
17	14	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDBBasedIncrementalFSViewSync.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedFileSystemView.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedIncrementalFSViewSync.java
6	0	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java
6	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java
6	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializationUtils.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java

commit 98ab33bb6e1637d18c8fab7a9ddd50daeaf56962
Author: leesf <490081539@qq.com>
Date:   2019-12-04 02:11:03 +0800

    [HUDI-294] Delete Paths written in Cleaner plan needs to be relative to partition-path (#1062)
    
    [HUDI-294] Delete Paths written in Cleaner plan needs to be relative to partition-path

4	1	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
102	0	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
6	6	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
8	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
0	22	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
60	0	hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java
34	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanMetadataMigrator.java
102	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV1MigrationHandler.java
98	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV2MigrationHandler.java
8	4	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java

commit 845e26165848c97798ba5dd8fc534fdfa9552552
Author: leesf <490081539@qq.com>
Date:   2019-12-03 17:35:27 +0800

    [MINOR] Update some urls from http to https in the README file (#1074)

2	2	README.md

commit 89f09680976de6d677cc9739160a206ca9ae9ff3
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-03 09:56:09 +0800

    [DOCS] Update the build source link (#1071)

1	1	README.md

commit ff688107fa99742cccaa0a80075f58efb017ebab
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-03 01:25:43 +0800

    [DOCS] Update Hudi Readme (#1058)
    
    - Add build status
    - Clean up layout

19	9	README.md

commit 784e3ad0b65ce8f7e0de2e2935032fb2573d5a26
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-02 06:59:09 +0800

    [HUDI-370] Refactor hudi-common based on new ImportOrder code style rule (#1063)

4	2	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
9	7	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
7	4	hudi-common/src/main/java/org/apache/hudi/common/BloomFilter.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java
9	7	hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java
17	15	hudi-common/src/main/java/org/apache/hudi/common/io/storage/HoodieWrapperFileSystem.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/io/storage/SizeAwareFSDataOutputStream.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/model/EmptyHoodieRecordPayload.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java
4	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStat.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java
12	10	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
18	16	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	4	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java
19	17	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
13	11	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
7	5	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
10	8	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java
19	16	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCorruptBlock.java
9	7	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java
12	8	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
13	11	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
11	9	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
10	8	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/DataFileDTO.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FSPermissionDTO.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileGroupDTO.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FilePathDTO.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileSliceDTO.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileStatusDTO.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/InstantDTO.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/LogFileDTO.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java
20	18	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
3	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
11	9	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
5	3	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
14	12	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
12	10	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
18	16	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
9	7	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java
5	4	hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java
22	20	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
6	5	hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java
17	15	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java
9	7	hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/NoOpConsistencyGuard.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
14	12	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
14	12	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java
10	8	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
7	5	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/queue/FunctionBasedQueueProducer.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/queue/IteratorBasedQueueProducer.java
4	2	hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionPlanMigrator.java
7	5	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java
7	5	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java
2	1	hudi-common/src/main/java/org/apache/hudi/exception/DatasetNotFoundException.java
3	1	hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/TestBloomFilter.java
6	4	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/minicluster/MiniClusterUtil.java
8	7	hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java
6	4	hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java
35	33	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java
8	7	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java
8	6	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java
15	13	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
28	27	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
16	14	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java
4	3	hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java
8	7	hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java
21	19	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java
20	18	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDBBasedIncrementalFSViewSync.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java
18	16	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
13	11	hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java
7	5	hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java
18	16	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
7	5	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
16	14	hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java
7	6	hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java
2	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java
15	13	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
1	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java
8	6	hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java
4	3	hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializationUtils.java
19	17	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
15	13	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
9	7	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java

commit 75132c139f0faf9ef68bb461b3a551238a377455
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date:   2019-12-01 00:42:41 +0530

    [HUDI-357] Refactor hudi-cli based on new comment and code style rules (#1051)

6	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieHistoryFileNameProvider.java
6	6	hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrompt.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieSplashScreen.java
3	3	hudi-cli/src/main/java/org/apache/hudi/cli/Main.java
5	5	hudi-cli/src/main/java/org/apache/hudi/cli/Table.java
6	6	hudi-cli/src/main/java/org/apache/hudi/cli/TableHeader.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
5	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java
4	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
4	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
4	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/commands/UtilsCommand.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java
3	0	hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java
4	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java

commit b65a897856259e7872e39a9e3e68661926592d7b
Author: hongdd <jn_hdd@163.com>
Date:   2019-12-01 03:11:00 +0800

    [HUDI-374] Unable to generateUpdates in QuickstartUtils (#1059)

1	1	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 024230fbd23173db38e2c0f66808606481223003
Author: lamber-ken <lamberken@163.com>
Date:   2019-12-01 00:02:33 +0800

    [HUDI-372] Support the shortName for Hudi DataSource (#1054)
    
    - Ability to do `spark.write.format("hudi")...`

20	0	hudi-spark/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister
1	1	hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala
13	0	hudi-spark/src/test/scala/TestDataSource.scala

commit 0b52ae3ac2685c5afa7821d663854b526b5a1cff
Author: ForwardXu <forwardxu315@gmail.com>
Date:   2019-11-28 19:17:34 +0800

    [HUDI-209] Implement JMX metrics reporter (#1045)

8	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
8	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
85	0	hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java
3	0	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
1	1	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java
52	0	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java
1	3	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
1	1	pom.xml

commit da8d1334eecd65f2896613b1143d6ba31bae03b7
Author: lamber-ken <lamberken@163.com>
Date:   2019-11-28 09:25:56 +0800

    [HUDI-373] Refactor hudi-client based on new ImportOrder code style rule (#1056)

5	3	hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java
15	13	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
7	5	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
7	4	hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java
18	15	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
5	4	hudi-client/src/main/java/org/apache/hudi/WriteStatus.java
4	2	hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
1	0	hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java
8	5	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
2	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
5	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
5	3	hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
4	2	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
11	8	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
4	2	hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java
8	6	hudi-client/src/main/java/org/apache/hudi/func/CopyOnWriteLazyInsertIterable.java
4	3	hudi-client/src/main/java/org/apache/hudi/func/MergeOnReadLazyInsertIterable.java
2	1	hudi-client/src/main/java/org/apache/hudi/func/OperationResult.java
4	2	hudi-client/src/main/java/org/apache/hudi/func/ParquetReaderIterator.java
4	2	hudi-client/src/main/java/org/apache/hudi/func/SparkBoundedInMemoryExecutor.java
3	1	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
7	5	hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java
1	0	hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java
6	4	hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java
13	10	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
6	3	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java
10	7	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
1	0	hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java
22	19	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
12	10	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
9	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
16	14	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
7	5	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
2	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieIOHandle.java
8	6	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
11	9	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java
2	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieReadHandle.java
8	6	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
5	3	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieCompactor.java
17	15	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java
4	2	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java
5	3	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
6	4	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java
6	4	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java
5	4	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
2	1	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedCompactionStrategy.java
4	3	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java
2	1	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetConfig.java
9	7	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
4	2	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriter.java
9	7	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java
3	2	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
5	3	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
5	3	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java
2	1	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java
20	17	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
14	12	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
14	12	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
15	12	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java
1	0	hudi-client/src/main/java/org/apache/hudi/table/UserDefinedBulkInsertPartitioner.java
7	4	hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java
3	2	hudi-client/src/main/java/org/apache/hudi/table/WorkloadStat.java
8	6	hudi-client/src/test/java/HoodieClientExample.java
13	11	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
15	13	hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java
25	23	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
10	8	hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java
11	9	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
5	3	hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java
15	13	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
25	23	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
8	6	hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java
6	4	hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java
6	4	hudi-client/src/test/java/org/apache/hudi/TestWriteStatus.java
19	17	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
10	8	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
24	22	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
10	8	hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java
5	3	hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java
9	6	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java
19	16	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java
6	4	hudi-client/src/test/java/org/apache/hudi/func/TestParquetReaderIterator.java
11	9	hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java
3	2	hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java
20	17	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
3	2	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
6	4	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java
23	20	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
19	16	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
4	3	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java
16	14	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
8	6	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
9	7	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
7	5	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
15	13	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java
2	1	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieDataFile.java
2	1	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieLogFile.java
5	4	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
16	13	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
14	12	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java
19	17	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java

commit f9139c0f616775f4b3d0df95772f2621f0e7c9f1
Author: –ª¿⁄ <lamberken@163.com>
Date:   2019-11-27 21:32:43 +0800

    [HUDI-366] Refactor some module codes based on new ImportOrder code style rule (#1055)
    
    [HUDI-366] Refactor hudi-hadoop-mr / hudi-timeline-service / hudi-spark / hudi-integ-test / hudi- utilities based on new ImportOrder code style rule

18	16	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
11	9	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
6	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RecordReaderValueIterator.java
2	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/SafeParquetRecordReaderWrapper.java
20	18	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
18	16	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
24	22	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
2	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
4	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java
10	8	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
11	9	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
15	13	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
3	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestAnnotation.java
6	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieInputFormat.java
9	7	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java
7	5	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java
31	28	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java
10	8	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
4	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
1	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
5	3	hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java
5	3	hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java
10	8	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
6	4	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
4	2	hudi-spark/src/main/java/org/apache/hudi/KeyGenerator.java
2	1	hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java
6	4	hudi-spark/src/main/java/org/apache/hudi/OverwriteWithLatestAvroPayload.java
10	8	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
2	1	hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java
4	3	hudi-spark/src/test/java/DataSourceTestUtils.java
7	5	hudi-spark/src/test/java/HoodieJavaApp.java
10	8	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
13	11	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
9	7	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
5	3	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java
7	5	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java
4	2	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/Handler.java
6	4	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java
1	0	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java
23	20	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
17	15	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
10	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
10	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
9	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
14	11	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
6	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
14	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
11	9	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
5	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java
4	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java
23	19	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
26	24	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java
7	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
6	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieIncrementalPullException.java
10	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
19	17	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
7	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java
4	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java
7	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java
5	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
4	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroSource.java
15	13	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonSource.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetSource.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
5	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java
14	12	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java
2	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
10	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/IdentityTransformer.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java
1	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java
3	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestFlatteningTransformer.java
21	19	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java
19	17	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
11	9	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java
6	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchedulerConfGenerator.java
17	15	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
9	7	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
6	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java
12	10	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java
5	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java
8	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java

commit b77fad39b53049279bba1ba367f43cce73f48bfa
Author: –ª¿⁄ <lamberken@163.com>
Date:   2019-11-27 16:30:37 +0800

    [HUDI-364] Refactor hudi-hive based on new ImportOrder code style rule (#1048)
    
    [HUDI-364] Refactor hudi-hive based on new ImportOrder code style rule

1	2	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
1	0	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
11	10	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
2	2	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
1	0	hudi-hive/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java
2	1	hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java
2	1	hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java
1	0	hudi-hive/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java
12	10	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
13	11	hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
25	23	hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java
11	9	hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
1	1	style/checkstyle.xml

commit d6e83e8f49828940159cd34711cc88ee7b42dc1c
Author: wenningd <wenningding95@gmail.com>
Date:   2019-11-26 21:18:39 -0800

    [HUDI-325] Fix Hive partition error for updated HDFS Hudi table (#1001)

7	0	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
6	2	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit 60fed21dc7e4cb66b154ae9be77dfada0f3071a5
Author: bschell <bdscheller@gmail.com>
Date:   2019-11-26 02:37:16 -0800

    [HUDI-327] Add null/empty checks to key generators (#1040)
    
    * Adds null and empty checks to all key generators.
    * Also improves error messaging for key generator issues.

35	0	hudi-common/src/main/java/org/apache/hudi/exception/HoodieKeyException.java
28	11	hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java
11	0	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
5	1	hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java
9	8	hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java
65	1	hudi-spark/src/test/scala/TestDataSourceDefaults.scala
6	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java

commit 2a4cfb47c76a0c8800d4998453ec356711807c83
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2019-11-26 16:04:02 +0530

    [HUDI-340]: made max events to read from kafka source configurable (#1039)

9	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
87	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java

commit a7e07cd910425b5cfe9886677e780bfb2ae96c52
Author: hongdd <jn_hdd@163.com>
Date:   2019-11-26 05:25:42 +0800

    [HUDI-359] Add hudi-env for hudi-cli module (#1042)

24	0	hudi-cli/conf/hudi-env.sh
5	9	hudi-cli/hudi-cli.sh

commit 212282c8aaf623f451e3f72674ed4d3ed550602d
Author: –ª¿⁄ <lamberken@163.com>
Date:   2019-11-26 03:36:23 +0800

    [HUDI-358] Add Java-doc and importOrder checkstyle rule (#1043)
    
    - import groups are separated by one blank line
    - org.apache.hudi.* at the top location

26	5	style/checkstyle.xml

commit 44823041a37601fed8163502272a8fcb7a5be45d
Author: hongdd <jn_hdd@163.com>
Date:   2019-11-26 03:31:07 +0800

    [HUDI-362] Adds a check for the existence of field (#1047)

4	0	hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java
4	0	hudi-cli/src/main/java/org/apache/hudi/cli/TableHeader.java

commit 845a0509b327c3187c036d2b9668048a25ccf423
Author: filippo balicchia <fbalicchia@gmail.com>
Date:   2019-11-25 11:49:13 +0100

    [MINOR] Some minor optimizations in HoodieJavaStreamingApp (#1046)

11	16	hudi-spark/src/test/java/HoodieJavaStreamingApp.java

commit c3355109b1fa8f3055a2ba57d6e2b49679581db5
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   2019-11-22 15:05:25 -0800

    [HUDI-328] Adding delete api to HoodieWriteClient (#1004)
    
    [HUDI-328]  Adding delete api to HoodieWriteClient and Spark DataSource

113	24	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
18	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
1	1	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
18	1	hudi-client/src/test/java/HoodieClientExample.java
145	1	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
181	4	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
24	0	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
42	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
6	3	{hudi-spark/src/main/java/org/apache/hudi => hudi-common/src/main/java/org/apache/hudi/common/model}/EmptyHoodieRecordPayload.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
5	5	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
9	4	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
5	0	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
16	15	hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala
190	105	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala
7	0	hudi-spark/src/test/java/DataSourceTestUtils.java
35	7	hudi-spark/src/test/java/HoodieJavaApp.java
2	1	hudi-spark/src/test/scala/TestDataSourceDefaults.scala

commit 7bc08cbfdce337ad980bb544ec9fc3dbdf9cffff
Author: hongdd <jn_hdd@163.com>
Date:   2019-11-22 19:32:09 +0800

    [HUDI-345] Fix used deprecated function (#1024)
    
    - Schema.parse() with new Schema.Parser().parse
    - FSDataOutputStream constructor

2	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
1	1	hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/io/storage/SizeAwareFSDataOutputStream.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java
2	2	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala

commit 17eaf41c54411344916fdf4ace80163438e9bee2
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date:   2019-11-22 16:55:52 +0530

    [HUDI-348] Add Issue template for the project (#1029)

56	0	.github/ISSUE_TEMPLATE/SUPPORT_REQUEST.md
9	0	.github/ISSUE_TEMPLATE/config.yml

commit 1e14390719cc9e79cc67272a50e7e0bf95b38d87
Author: Pratyaksh Sharma <pratyakshsharma@MacBook-Pro-2.local>
Date:   2019-11-20 19:46:27 +0530

    [HUDI-350]: updated default value of config.getCleanerCommitsRetained() in javadocs

4	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java

commit d9fbe33339cce5e5577eff5257bd9b683daed194
Author: lamber-ken <lamberken@163.com>
Date:   2019-11-18 23:18:16 +0800

    [HOTFIX] Fix error configuration item of dockerfile-maven-plugin

2	2	docker/hoodie/hadoop/base/pom.xml
2	2	docker/hoodie/hadoop/datanode/pom.xml
2	2	docker/hoodie/hadoop/historyserver/pom.xml
2	2	docker/hoodie/hadoop/hive_base/pom.xml
2	2	docker/hoodie/hadoop/namenode/pom.xml
2	2	docker/hoodie/hadoop/prestobase/pom.xml
2	2	docker/hoodie/hadoop/spark_base/pom.xml
2	2	docker/hoodie/hadoop/sparkadhoc/pom.xml
2	2	docker/hoodie/hadoop/sparkmaster/pom.xml
2	2	docker/hoodie/hadoop/sparkworker/pom.xml

commit 804e348d0e8176ceced046fa9e87963907aecc38
Author: –ª¿⁄ <lamberken@163.com>
Date:   2019-11-19 18:44:42 +0800

    [HUDI-346] Set allowMultipleEmptyLines to false for EmptyLineSeparator rule (#1025)

0	1	hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java
0	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
0	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
0	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java
0	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
0	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
0	1	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
0	1	hudi-client/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java
0	1	hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java
0	1	hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java
0	2	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
0	1	hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java
0	1	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
0	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
0	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieIOHandle.java
0	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
0	1	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java
0	1	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
0	1	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
0	1	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java
0	1	hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java
0	1	hudi-client/src/test/java/HoodieClientExample.java
0	1	hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java
0	1	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
0	2	hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java
0	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
0	1	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
0	4	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
0	1	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
0	2	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java
0	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/InstantDTO.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java
0	2	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java
0	2	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java
0	2	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueConsumer.java
0	1	hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java
0	2	hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java
0	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java
0	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
0	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java
0	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
0	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/SafeParquetRecordReaderWrapper.java
0	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
0	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
0	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java
0	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java
0	1	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
0	3	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
0	2	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
0	1	hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java
0	3	hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
0	1	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
0	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
0	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
0	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
0	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
0	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
0	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
0	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
0	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java
0	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java
0	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
0	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java
0	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
1	1	pom.xml
3	0	style/checkstyle.xml

commit 66492498f702e9224da838d1869e9376111939ce
Author: –ª¿⁄ <lamberken@163.com>
Date:   2019-11-19 14:06:01 +0800

    [HUDI-342] add pull request template for hudi project (#1022)

44	0	.github/PULL_REQUEST_TEMPLATE.md

commit e806eb797f4839017dfa87d2cc31a0b01570b061
Author: b_rousseau <26170335+broussea1901@users.noreply.github.com>
Date:   2019-11-17 23:29:24 +0100

    [HUDI-339] Add support of Azure cloud storage (#1019)
    
    - Add Azure WASB (BLOB) and ADLS storage in StorageSchemes enum
    - Update testStorageSchemes to test new added storage

6	0	hudi-common/src/main/java/org/apache/hudi/common/storage/StorageSchemes.java
3	0	hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java

commit f82e58994e046d92916d45f7ec921e2fb6ba26ef
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-11-05 11:53:19 -0800

    - Ensure that rollback instant is always created before the next commit instant.
      This especially affects IncrementalPull for MOR tables since we can end up pulling in
      log blocks for uncommitted data
    - Ensure that generated commit instants are 1 second apart

14	5	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
17	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 3a05edab01f72a0e7e9efb890691d938bca4d795
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-11-03 23:09:15 -0800

    - Fixing RT queries for HiveOnSpark that causes race conditions
    - Adding more comments to understand usage of reader/writer schema

27	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
32	21	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
7	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java

commit 22315a887f5bf277007bdfcec24bc014982a6d4b
Author: –ª¿⁄ <2217232293@qq.com>
Date:   2019-11-14 13:18:46 +0800

    [HOTFIX] fix missing version of rat-plugin (#1015)

2	0	pom.xml

commit f7c2f8cedc999ddfbd3e29718442a507cf526cf0
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-11-13 08:56:36 -0800

    [HUDI-329] Presto Containers for integration test must allow newly built local jars to override

5	1	docker/compose/docker-compose_hadoop284_hive233_spark244.yml
3	0	docker/hoodie/hadoop/prestobase/bin/entrypoint.sh

commit 92c69f57038d055e680f75627426e97679196ce0
Author: Mehrotra <uditme@amazon.com>
Date:   2019-11-12 16:16:32 -0800

    Migrate integration tests to spark 2.4.4

7	7	docker/compose/{docker-compose_hadoop284_hive233_spark231.yml => docker-compose_hadoop284_hive233_spark244.yml}
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/spark_base/Dockerfile
1	1	docker/hoodie/hadoop/sparkadhoc/Dockerfile
1	1	docker/hoodie/hadoop/sparkmaster/Dockerfile
1	1	docker/hoodie/hadoop/sparkworker/Dockerfile
3	3	docker/setup_demo.sh
1	1	docker/stop_demo.sh
3	3	hudi-integ-test/pom.xml

commit 045fa87a3db5d9954d1ca88c8a2ef28c11214330
Author: lamber-ken <xl38154@qq.com>
Date:   2019-11-14 02:39:05 +0800

    [HUDI-330] add EmptyStatement java checkstyle rule

3	3	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
2	0	style/checkstyle.xml

commit 8ff06ddb0fdc8325382dbca4bd9dd4884b4e1110
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-11-12 06:12:44 -0800

    [HUDI-80] Leverage Commit metadata to figure out partitions to be cleaned for Cleaning by commits mode (#1008)

1	1	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
9	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
4	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
44	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
4	5	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
90	15	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
1	1	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
13	1	hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java

commit 0bb5999f7950d010649e082f6f056f44d92c91f9
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2019-11-11 17:27:31 -0800

    [HUDI-306] Support Glue catalog and other hive metastore implementations (#961)
    
    - Support Glue catalog and other metastore implementations
    - Remove shading from hudi utilities bundle
    - Add maven profile to optionally shade hive in utilities bundle

7	5	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
23	46	packaging/hudi-spark-bundle/pom.xml
22	12	packaging/hudi-utilities-bundle/pom.xml
4	0	pom.xml

commit 1032fc3e549aa70a8817fd4782e971de976b682a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-28 18:54:48 -0700

    [HUDI-137] Hudi cleaning state changes should be consistent with compaction actions
    
    Before this change, Cleaner performs cleaning of old file versions and then stores the deleted files in .clean files.
    With this setup, we will not be able to track file deletions if a cleaner fails after deleting files but before writing .clean metadata.
    This is fine for regular file-system view generation but Incremental timeline syncing relies on clean/commit/compaction metadata to keep a consistent file-system view.
    
    Cleaner state transitions is now similar to that of compaction.
    
    1. Requested : HoodieWriteClient.scheduleClean() selects the list of files that needs to be deleted and stores them in metadata
    2. Inflight : HoodieWriteClient marks the state to be inflight before it starts deleting
    3. Completed : HoodieWriteClient marks the state after completing the deletion according to the cleaner plan

1	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
23	26	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
182	0	hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java
14	43	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
2	0	hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
6	7	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
2	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
25	32	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java
1	2	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java
87	57	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
107	106	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
22	2	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
8	12	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java
3	5	hudi-client/src/main/java/org/apache/hudi/table/RollbackRequest.java
6	0	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
106	99	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
5	0	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
69	0	hudi-common/src/main/avro/HoodieCleanerPlan.avsc
4	10	hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java
25	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
66	14	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
8	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
3	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
2	0	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
9	6	hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/VersionMigrator.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionPlanMigrator.java
5	9	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java
5	10	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java
15	17	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
23	18	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
2	0	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java

commit 23b303e4b17c5f7b603900ee5b0d2e6718118014
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   2019-11-11 06:21:49 -0800

    [HUDI-218] Adding Presto support to Integration Test (#1003)

4	0	docker/demo/presto-batch1.commands
2	0	docker/demo/presto-batch2-after-compaction.commands
1	0	docker/demo/presto-table-check.commands
24	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
57	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java

commit 5f1309407aba9c7df3a53ce5b30168cce2f20fcc
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   2019-11-11 19:33:44 +0530

    [HUDI-253]: added validations for schema provider class (#995)

4	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java
51	6	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java

commit 1483b97018646f1cc8d6bbed357d7115c9079ea2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2019-11-10 12:39:58 -0800

    [DOCS] Change Hudi acronyms to plural

1	1	README.md

commit 1ce3d891cea49990922b8e17080aa496ec22d4f1
Author: Jeff G <32751606+Pahtoe@users.noreply.github.com>
Date:   2019-11-10 12:38:13 -0800

    [DOCS] Update to align with original Uber whitepaper (#999)

1	1	README.md

commit 0863b1cfd947402c66221afa8d1f18fd2bd8273b
Author: pratyakshsharma <30863489+pratyakshsharma@users.noreply.github.com>
Date:   2019-11-07 22:12:48 +0530

    [HUDI-245]: replaced instances of getInstants() and reverse() with getReverseOrderedInstants() (#1000)

1	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
1	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
1	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
1	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
4	6	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java

commit 20871a17b2ec2b0998b80d941bac51434b0854d5
Author: pratyakshsharma <30863489+pratyakshsharma@users.noreply.github.com>
Date:   2019-11-07 02:26:09 +0530

    [HUDI-302]: simplified countInstants() method in HoodieDefaultTimeline (#997)

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java

commit 71ac2c0d5e8bffdbb11f7789a7805575736049c1
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date:   2019-11-05 17:52:14 +0530

    [HUDI-324] TimestampKeyGenerator should support milliseconds (#993)

3	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java

commit 04834817c89ef22cc71362702b675548e637b603
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2019-11-03 01:48:06 -0800

    [MINOR] Add features and instructions to build Hudi in README (#992)

30	4	README.md

commit 91740635b2cf02ef9e34a603dea31bd246f5b436
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   2019-11-02 23:12:44 -0700

    [HUDI-321] Support bulkinsert in HDFSParquetImporter (#987)
    
    - Add bulk insert feature
    - Fix some minor issues

44	24	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
3	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit bd77dc792c723eed9958596be36c86c6d00e4065
Author: Wenning Ding <wenningd@amazon.com>
Date:   2019-10-31 12:39:21 -0700

    Add MOR integration testing

65	14	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java

commit b6057c5e0e60945e7731367381d190dad47f710d
Author: Wenning Ding <wenningd@amazon.com>
Date:   2019-10-28 10:44:16 -0700

    [HUDI-314] Fix multi partition keys error when querying a realtime table

1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java

commit a6390aefc41482ba224a4524fe216c277e4f5e79
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-31 06:57:25 -0700

    [HUDI-312] Make docker hdfs cluster ephemeral. This is needed to fix flakiness in integration tests. Also, Fix DeltaStreamer hanging issue due to uncaught exception

0	4	docker/compose/docker-compose_hadoop284_hive233_spark231.yml
1	1	docker/hoodie/hadoop/base/Dockerfile
0	6	docker/setup_demo.sh
2	2	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
4	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
9	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 144ea4eedf74e2204c2482afb1baf725363a8a67
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   2019-11-01 05:22:31 -0700

    Bump httpclient from 4.3.2 to 4.3.6 (#980)
    
    Bumps httpclient from 4.3.2 to 4.3.6.
    
    Signed-off-by: dependabot[bot] <support@github.com>

1	1	pom.xml

commit 74d8e625c51e0f469bf0e387d30c950a8d135276
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   2019-11-01 05:06:03 -0700

    Bump checkstyle from 8.8 to 8.18 (#981)
    
    Bumps [checkstyle](https://github.com/checkstyle/checkstyle) from 8.8 to 8.18.
    - [Release notes](https://github.com/checkstyle/checkstyle/releases)
    - [Commits](https://github.com/checkstyle/checkstyle/compare/checkstyle-8.8...checkstyle-8.18)
    
    Signed-off-by: dependabot[bot] <support@github.com>

1	1	pom.xml

commit ee0fd06de73e0191365549fa7c4f6c71c1bbc08d
Author: Wenning Ding <wenningd@amazon.com>
Date:   2019-10-30 11:48:21 -0700

    synchronized lock on conf object instead of class

10	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java

commit 3251d62bd3c740b25139029a1913d1cf5a57173f
Author: Wenning Ding <wenningd@amazon.com>
Date:   2019-10-23 13:53:57 -0700

    [HUDI-313] Fix select count star error when querying a realtime table

17	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java

commit eda472adb09ce82063f58200eafcb7be361b4cb8
Author: Guru107 <guruak107@gmail.com>
Date:   2019-10-30 11:48:29 +0530

    [MINOR] Fix avro schema warnings in build

9	7	hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc
4	2	hudi-common/src/main/avro/HoodieCommitMetadata.avsc
10	5	hudi-common/src/main/avro/HoodieCompactionMetadata.avsc
2	2	hudi-common/src/main/avro/HoodieRestoreMetadata.avsc

commit 7c7403a59dedc012fe2945e230a50f90139fce4b
Author: leesf <490081539@qq.com>
Date:   2019-10-31 22:59:35 +0800

    [MINOR] fix annotation in teardown (#990)

2	1	hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java

commit b0838d25f7280784e8707a3528c8b8f3c0defb04
Author: leesf <490081539@qq.com>
Date:   2019-10-30 12:17:45 +0800

    [MINOR] Fix no output in travis (#984)

4	1	.travis.yml

commit ef5001e432c12a2812d5a2e48621e9845666c3d1
Author: leesf <490081539@qq.com>
Date:   2019-10-29 07:25:07 +0800

    [MINOR] Fix vm crashes (#979)

1	0	pom.xml

commit c23da694ccbbf1f0ebcc5ed770dd56c74c1e06d7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-24 19:34:00 -0700

    [HUDI-169] Speed up rolling back of instants (#968)

13	0	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
18	52	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
133	195	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
233	0	hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java
109	0	hudi-client/src/main/java/org/apache/hudi/table/RollbackRequest.java

commit d8be818ac9b7b7674918e59eac270e067a2c52a2
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-23 01:03:29 -0700

    [HUDI-130] Paths written in compaction plan needs to be relative to base-path

4	3	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
27	20	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
5	3	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
37	24	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java
4	1	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java
2	0	hudi-common/pom.xml
5	0	hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc
5	0	hudi-common/src/main/avro/HoodieCleanMetadata.avsc
5	0	hudi-common/src/main/avro/HoodieCommitMetadata.avsc
5	0	hudi-common/src/main/avro/HoodieCompactionOperation.avsc
6	1	hudi-common/src/main/avro/HoodieRestoreMetadata.avsc
5	0	hudi-common/src/main/avro/HoodieRollbackMetadata.avsc
5	0	hudi-common/src/main/avro/HoodieSavePointMetadata.avsc
29	23	hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java
8	4	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
15	5	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
31	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/AbstractMigratorBase.java
104	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java
48	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/VersionMigrator.java
36	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionPlanMigrator.java
86	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java
76	0	hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java
3	2	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
47	16	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java

commit e4c91ed13f16e1d0d55d9d690395bb62ab2b4fa0
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2019-10-22 20:19:11 -0700

    [HUDI-290] Normalize test class name of all test classes (#951)

1	1	hudi-client/src/test/java/org/apache/hudi/config/{HoodieWriteConfigTest.java => TestHoodieWriteConfig.java}
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/{HoodieTableMetaClientTest.java => TestHoodieTableMetaClient.java}
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/log/{HoodieLogFormatTest.java => TestHoodieLogFormat.java}
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/log/{HoodieLogFormatAppendFailureTest.java => TestHoodieLogFormatAppendFailure.java}
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/string/{HoodieActiveTimelineTest.java => TestHoodieActiveTimeline.java}
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/{HoodieTableFileSystemViewTest.java => TestHoodieTableFileSystemView.java}
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/{IncrementalFSViewSyncTest.java => TestIncrementalFSViewSync.java}
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/{RocksDBBasedIncrementalFSViewSyncTest.java => TestRocksDBBasedIncrementalFSViewSync.java}
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/{RocksDbBasedFileSystemViewTest.java => TestRocksDbBasedFileSystemView.java}
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/{SpillableMapBasedFileSystemViewTest.java => TestSpillableMapBasedFileSystemView.java}
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/{SpillableMapBasedIncrementalFSViewSyncTest.java => TestSpillableMapBasedIncrementalFSViewSync.java}
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/{AnnotationTest.java => TestAnnotation.java}
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/{HoodieInputFormatTest.java => TestHoodieInputFormat.java}
1	1	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/{HoodieRealtimeRecordReaderTest.java => TestHoodieRealtimeRecordReader.java}
2	2	hudi-hive/src/test/java/org/apache/hudi/hive/{HiveSyncToolTest.java => TestHiveSyncTool.java}
1	1	hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java
1	1	hudi-spark/src/test/scala/{DataSourceTest.scala => TestDataSource.scala}
1	1	hudi-spark/src/test/scala/{DataSourceDefaultsTest.scala => TestDataSourceDefaults.scala}
4	4	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/{RemoteHoodieTableFileSystemViewTest.java => TestRemoteHoodieTableFileSystemView.java}
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/{SchedulerConfGeneratorTest.java => TestSchedulerConfGenerator.java}

commit 031b067a3ab77afb55f8f48b06eead27f551e12e
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date:   2019-10-23 08:47:13 +0530

    [MINOR] Move all repository declarations to parent pom (#966)

0	11	hudi-cli/pom.xml
0	7	packaging/hudi-utilities-bundle/pom.xml
8	0	pom.xml

commit 4529f535b26496ec838bd6cd6673a53f42b766e2
Author: Amit Prabhu <amit.dp180@gmail.com>
Date:   2019-10-23 08:46:16 +0530

    [MINOR] Add backtick escape while syncing partition fields (#967)

1	1	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java

commit 14dd649d06009e99f0d687edd0763c27e3df0389
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-21 13:04:22 -0700

    [MINOR] Remove release notes and move confluent repository to hoodie parent pom

0	476	RELEASE_NOTES.md
0	7	hudi-utilities/pom.xml
4	0	pom.xml

commit dfdc0e40e1f85c49e580b31204621758e3d76ac5
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2019-10-20 21:00:04 -0700

    [HUDI-283] : Ensure a sane minimum for merge buffer memory (#964)
    
    - Some environments e.g spark-shell provide 0 for memory size
    - This causes unnecessary performance degradation

11	3	hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
5	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java

commit ed745dfdbf254bfc2ec6d9c7baed8ccbf571abab
Author: YanJia-Gary-Li <yanjia.gary.li@gmail.com>
Date:   2019-10-16 21:11:59 -0700

    [HUDI-40] Add parquet support for the Delta Streamer (#949)

15	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
60	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java
34	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetSource.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
35	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
79	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java

commit 7381b661942dad9c650e43179a478a57b530a606
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-16 03:32:57 -0700

    [HUDI-121] Fix issues in release scripts

1	0	pom.xml
6	6	scripts/release/validate_staged_release.sh

commit 603df66938ebf1a72ceab5a055d911e0caa438f5
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-16 02:19:29 -0700

    Update RELEASE Notes in master

13	0	RELEASE_NOTES.md

commit 77f4e73615d0949eec70187e397ef17f62e908a0
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-11 23:00:55 -0700

    [HUDI-121] Fix licensing issues found during RC voting by general incubator group

0	6	DISCLAIMER
26	0	DISCLAIMER-WIP
118	0	LICENSE
4	7	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
2	2	hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java
1	1	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
234	66	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java
0	19	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
48	217	hudi-common/src/main/java/org/apache/hudi/common/util/Option.java
19	11	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java
302	0	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala
8	281	hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java
9	22	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
4	3	pom.xml
0	353	style/eclipse-java-google-style.xml
0	614	style/intellij-java-google-style.xml

commit 8c133400627db55570183c9d478098f339fd4977
Author: Mehrotra <uditme@amazon.com>
Date:   2019-09-19 19:00:03 -0700

    Shade and relocate Avro dependency in hadoop-mr-bundle

21	0	packaging/hudi-hadoop-mr-bundle/pom.xml
9	0	pom.xml

commit 1c09f5b055cc78fabb4881cac75f43734f3dcf61
Author: Wenning Ding <wenningd@amazon.com>
Date:   2019-10-10 23:21:00 -0700

    [HUDI-301] fix path error when update a non-partition MOR table

2	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java

commit 12523c379fe9d0bcf298fba80d9c2ca08e1a0d56
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   2019-10-16 02:05:53 -0700

    [HUDI-298] Fix issue with incorrect column mapping casusing bad data, during on-the-fly merge of Real Time tables (#956)
    
    * Fix issue with incorrect column mapping casusing bad data, during on-the-fly merge of Real Time tables

14	2	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
1	0	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
4	0	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java
44	6	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
24	29	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReaderTest.java

commit c052167c064b453ba5761f1137dc68104414121a
Author: Anurag870 <f2005870@gmail.com>
Date:   2019-10-14 09:32:25 +0530

    [Docs] Update README.md (#955)

2	2	README.md

commit e10e06918e4758917513c55f9bc02c35dad99128
Author: leesf <490081539@qq.com>
Date:   2019-10-11 20:28:45 +0800

    [HUDI-292] Avoid consuming more entries from kafka than specified sourceLimit. (#947)
    
     - Special handling when allocedEvents > numEvents
     - Added unit tests

5	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
10	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java

commit b19bed442d84c1cb1e48d184c9554920735bcb6c
Author: leesf <490081539@qq.com>
Date:   2019-10-10 20:19:40 +0800

    [HUDI-296] Explore use of spotless to auto fix formatting errors (#945)
    
    
    - Add spotless format fixing to project
    - One time reformatting for conformity
    - Build fails for formatting changes and mvn spotless:apply autofixes them

1	0	docker/hoodie/hadoop/base/pom.xml
1	0	docker/hoodie/hadoop/datanode/pom.xml
1	0	docker/hoodie/hadoop/historyserver/pom.xml
1	0	docker/hoodie/hadoop/hive_base/pom.xml
1	0	docker/hoodie/hadoop/namenode/pom.xml
1	0	docker/hoodie/hadoop/pom.xml
1	0	docker/hoodie/hadoop/prestobase/pom.xml
1	0	docker/hoodie/hadoop/spark_base/pom.xml
1	0	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	0	docker/hoodie/hadoop/sparkmaster/pom.xml
1	0	docker/hoodie/hadoop/sparkworker/pom.xml
1	0	hudi-cli/pom.xml
8	12	hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java
7	7	hudi-cli/src/main/java/org/apache/hudi/cli/Table.java
24	36	hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java
16	22	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java
36	59	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java
90	119	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
14	16	hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java
39	53	hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java
12	12	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java
37	43	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
16	19	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java
19	19	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java
15	21	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
4	4	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java
10	13	hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java
19	30	hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java
3	4	hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
4	0	hudi-client/pom.xml
5	6	hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java
124	142	hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java
23	30	hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java
225	304	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
8	14	hudi-client/src/main/java/org/apache/hudi/WriteStatus.java
35	53	hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java
31	37	hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java
13	17	hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java
21	38	hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java
2	4	hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java
13	14	hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java
48	78	hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java
3	2	hudi-client/src/main/java/org/apache/hudi/exception/HoodieAppendException.java
2	1	hudi-client/src/main/java/org/apache/hudi/exception/HoodieCommitException.java
3	1	hudi-client/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java
3	2	hudi-client/src/main/java/org/apache/hudi/exception/HoodieInsertException.java
3	2	hudi-client/src/main/java/org/apache/hudi/exception/HoodieUpsertException.java
4	4	hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java
13	18	hudi-client/src/main/java/org/apache/hudi/func/CopyOnWriteLazyInsertIterable.java
10	11	hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java
2	4	hudi-client/src/main/java/org/apache/hudi/func/MergeOnReadLazyInsertIterable.java
3	8	hudi-client/src/main/java/org/apache/hudi/func/OperationResult.java
2	2	hudi-client/src/main/java/org/apache/hudi/func/ParquetReaderIterator.java
4	8	hudi-client/src/main/java/org/apache/hudi/func/SparkBoundedInMemoryExecutor.java
14	15	hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java
6	6	hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java
3	2	hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java
68	71	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
6	10	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java
7	8	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java
5	5	hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
2	2	hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java
8	17	hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeLookupTree.java
6	11	hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java
1	2	hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java
121	144	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
6	6	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndexQPSResourceAllocator.java
19	27	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
45	48	hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java
32	48	hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java
8	10	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
9	9	hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java
29	38	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	3	hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java
7	10	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieCompactor.java
66	82	hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java
2	2	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java
14	17	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
18	20	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java
6	10	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java
8	10	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
2	3	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedCompactionStrategy.java
16	17	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java
2	3	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetConfig.java
17	19	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java
11	14	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java
12	17	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java
2	4	hudi-client/src/main/java/org/apache/hudi/metrics/InMemoryMetricsReporter.java
5	8	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java
1	2	hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java
106	138	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
208	205	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
31	36	hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java
4	6	hudi-client/src/main/java/org/apache/hudi/table/UserDefinedBulkInsertPartitioner.java
4	6	hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java
6	8	hudi-client/src/test/java/HoodieClientExample.java
8	8	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
55	66	hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java
246	283	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
12	13	hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java
53	73	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
8	12	hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java
26	61	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
73	83	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
17	26	hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java
9	12	hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java
2	2	hudi-client/src/test/java/org/apache/hudi/TestWriteStatus.java
22	39	hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java
16	24	hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java
4	6	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java
19	23	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java
4	4	hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java
9	13	hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java
19	30	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
4	3	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
6	9	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java
84	97	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
60	71	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
71	77	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
9	10	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
43	53	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
60	62	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java
31	49	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java
35	42	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
5	10	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java
147	136	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
4	0	hudi-common/pom.xml
2	4	hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java
7	11	hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java
6	7	hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java
2	4	hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java
4	5	hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java
61	83	hudi-common/src/main/java/org/apache/hudi/common/io/storage/HoodieWrapperFileSystem.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/io/storage/SizeAwareFSDataOutputStream.java
14	22	hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java
7	8	hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java
4	5	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java
2	5	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java
1	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java
14	27	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java
2	6	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java
2	7	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java
8	13	hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java
7	14	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
2	4	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java
17	21	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableType.java
9	21	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/storage/StorageSchemes.java
17	25	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java
50	62	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
27	29	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/SyncableFileSystemView.java
8	9	hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java
27	34	hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java
26	40	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java
16	17	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java
8	10	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatVersion.java
23	30	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java
16	17	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java
25	40	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlockVersion.java
8	15	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlockVersion.java
9	16	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCorruptBlock.java
8	17	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlockVersion.java
26	41	hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java
32	43	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
16	18	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java
17	25	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
4	6	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileGroupDTO.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java
79	109	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java
33	32	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
17	16	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java
8	10	hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java
36	36	hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java
45	71	hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java
44	44	hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java
17	19	hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java
35	53	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
15	17	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java
6	4	hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java
4	4	hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java
2	1	hudi-common/src/main/java/org/apache/hudi/common/util/DefaultSizeEstimator.java
61	79	hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java
7	5	hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java
1	4	hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java
23	28	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java
1	0	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java
2	3	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java
2	4	hudi-common/src/main/java/org/apache/hudi/common/util/NoOpConsistencyGuard.java
33	55	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
19	19	hudi-common/src/main/java/org/apache/hudi/common/util/Option.java
20	23	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
6	10	hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java
9	11	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
10	20	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java
18	14	hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/util/SizeEstimator.java
13	23	hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java
8	6	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
10	13	hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java
11	12	hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java
19	16	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
24	12	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutablePair.java
18	10	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutableTriple.java
3	6	hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java
67	38	hudi-common/src/main/java/org/apache/hudi/common/util/collection/Pair.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java
52	29	hudi-common/src/main/java/org/apache/hudi/common/util/collection/Triple.java
21	27	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java
20	24	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueProducer.java
2	4	hudi-common/src/main/java/org/apache/hudi/config/DefaultHoodieConfig.java
4	3	hudi-common/src/main/java/org/apache/hudi/exception/DatasetNotFoundException.java
2	1	hudi-common/src/main/java/org/apache/hudi/exception/HoodieCorruptedDataException.java
7	3	hudi-common/src/main/java/org/apache/hudi/exception/HoodieException.java
3	1	hudi-common/src/main/java/org/apache/hudi/exception/HoodieIOException.java
3	1	hudi-common/src/main/java/org/apache/hudi/exception/HoodieIndexException.java
6	6	hudi-common/src/main/java/org/apache/hudi/exception/HoodieRecordMissingException.java
3	1	hudi-common/src/main/java/org/apache/hudi/exception/InvalidDatasetException.java
6	7	hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java
22	30	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java
5	6	hudi-common/src/test/java/org/apache/hudi/common/table/HoodieTableMetaClientTest.java
7	9	hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatAppendFailureTest.java
250	249	hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatTest.java
4	6	hudi-common/src/test/java/org/apache/hudi/common/table/string/HoodieActiveTimelineTest.java
3	2	hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java
154	164	hudi-common/src/test/java/org/apache/hudi/common/table/view/HoodieTableFileSystemViewTest.java
85	102	hudi-common/src/test/java/org/apache/hudi/common/table/view/IncrementalFSViewSyncTest.java
2	3	hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java
1	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemViewTest.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemViewTest.java
27	33	hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java
20	32	hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java
11	13	hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java
48	56	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
12	15	hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java
20	27	hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java
3	4	hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java
7	9	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
3	6	hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java
5	7	hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializationUtils.java
18	26	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
12	19	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
4	0	hudi-hadoop-mr/pom.xml
36	45	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java
13	16	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
7	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/SafeParquetRecordReaderWrapper.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/UseFileSplitsFromInputFormat.java
66	102	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
35	43	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
33	45	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java
5	10	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java
4	4	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java
10	12	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
10	11	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java
33	56	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/HoodieInputFormatTest.java
29	38	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java
18	20	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java
3	10	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java
95	131	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
4	0	hudi-hive/pom.xml
18	36	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
20	23	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
76	111	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
1	2	hudi-hive/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java
3	5	hudi-hive/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java
5	8	hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java
3	5	hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java
2	2	hudi-hive/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java
64	77	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
78	116	hudi-hive/src/test/java/org/apache/hudi/hive/HiveSyncToolTest.java
53	78	hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java
12	20	hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
1	0	hudi-integ-test/pom.xml
32	41	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
79	104	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
18	23	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
4	0	hudi-spark/pom.xml
1	1	hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java
4	6	hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java
42	57	hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java
1	1	hudi-spark/src/main/java/org/apache/hudi/EmptyHoodieRecordPayload.java
7	10	hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java
1	3	hudi-spark/src/main/java/org/apache/hudi/KeyGenerator.java
3	4	hudi-spark/src/main/java/org/apache/hudi/OverwriteWithLatestAvroPayload.java
24	32	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java
3	6	hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java
3	4	hudi-spark/src/test/java/DataSourceTestUtils.java
41	41	hudi-spark/src/test/java/HoodieJavaApp.java
20	34	hudi-spark/src/test/java/HoodieJavaStreamingApp.java
4	0	hudi-timeline-service/pom.xml
80	91	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java
3	4	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
5	6	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java
12	12	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java
3	4	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java
4	6	hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java
4	0	hudi-utilities/pom.xml
40	59	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java
36	53	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
3	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java
7	13	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java
13	18	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java
27	41	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java
2	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
27	33	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java
7	10	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
8	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java
3	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java
29	44	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
36	36	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
14	27	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
25	22	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java
9	14	hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java
7	10	hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java
5	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java
2	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java
5	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java
5	8	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java
1	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroSource.java
12	20	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java
26	39	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java
1	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java
3	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java
2	4	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java
1	3	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonSource.java
2	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java
4	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java
11	17	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java
14	21	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java
29	39	hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java
3	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/IdentityTransformer.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java
1	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java
2	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/SchedulerConfGeneratorTest.java
9	12	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestFlatteningTransformer.java
19	29	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java
38	55	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
13	23	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java
4	2	hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java
3	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
15	15	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java
11	15	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java
3	4	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java
19	35	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/config/TestSourceConfig.java
1	0	packaging/hudi-hadoop-mr-bundle/pom.xml
1	0	packaging/hudi-hive-bundle/pom.xml
1	0	packaging/hudi-presto-bundle/pom.xml
1	0	packaging/hudi-spark-bundle/pom.xml
1	0	packaging/hudi-timeline-server-bundle/pom.xml
3	3	packaging/hudi-timeline-server-bundle/src/main/java/org/apache/hudi/timeline/server/bundle/Main.java
1	0	packaging/hudi-utilities-bundle/pom.xml
29	1	pom.xml
1	0	style/checkstyle-suppressions.xml
9	2	style/checkstyle.xml
335	335	style/eclipse-java-google-style.xml

commit 834c591955cfa8a9c5f286967d693932564b6764
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-09 18:32:03 -0700

    [MINOR] Add incubating to NOTICE and README.md
    
    Please enter the commit message for your changes. Lines starting

1	1	NOTICE
1	1	README.md
1	1	pom.xml

commit e655cfba3018359457d2f3911ec5f7e78a5f2a56
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2019-10-08 12:06:47 -0700

    [HOTFIX] Move to openjdk to get travis passing (#944)

2	1	.travis.yml

commit d050d980715c0d8649531a3ed5ca7a7472b29760
Author: leesf <490081539@qq.com>
Date:   2019-10-08 01:56:46 +0800

    [HUDI-232] Implement sealing/unsealing for HoodieRecord class (#938)

2	0	hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java
2	0	hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java
2	0	hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java
2	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
2	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java
2	0	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
2	0	hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java
4	0	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
23	0	hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java
74	0	hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java
2	0	hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java

commit 8a55938ca18b24b9f6bbfa16a8ef55077663844d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-04 20:56:29 -0700

    [HUDI-293] Remove KEYS file from github repository

0	275	KEYS

commit eb4cc05c1beb48da99c21ce10140d70b9fbb5454
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-04 09:22:36 -0700

    [HUDI-121] Prepare for 0.5.0-incubating-rc5

1	0	RELEASE_NOTES.md

commit 9b66ea41fd4e4e08eeb426bc1b698766284e71e4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-03 21:12:55 -0700

    [HUDI-121] Remove leftover notice file and replace com.uber.hoodie with org.apache.hudi in log4j properties

0	9	.mailmap
1	0	RELEASE_NOTES.md
0	5	docker/hoodie/hadoop/sparkworker/NOTICE.txt
0	1	hudi-cli/pom.xml
0	4	hudi-client/pom.xml
5	5	hudi-client/src/test/resources/log4j-surefire.properties
0	4	hudi-common/pom.xml
3	3	hudi-common/src/test/resources/log4j-surefire.properties
0	4	hudi-hadoop-mr/pom.xml
1	1	hudi-hadoop-mr/src/test/resources/log4j-surefire.properties
0	4	hudi-hive/pom.xml
1	1	hudi-hive/src/test/resources/log4j-surefire.properties
0	1	hudi-integ-test/pom.xml
1	1	hudi-integ-test/src/test/resources/log4j-surefire.properties
0	4	hudi-spark/pom.xml
5	5	hudi-spark/src/test/resources/log4j-surefire.properties
0	4	hudi-timeline-service/pom.xml
3	3	hudi-timeline-service/src/test/resources/log4j-surefire.properties
0	4	hudi-utilities/pom.xml
1	1	hudi-utilities/src/test/resources/log4j-surefire.properties
0	2	packaging/hudi-hadoop-mr-bundle/pom.xml
0	2	packaging/hudi-hive-bundle/pom.xml
0	2	packaging/hudi-presto-bundle/pom.xml
0	2	packaging/hudi-spark-bundle/pom.xml
0	2	packaging/hudi-timeline-server-bundle/pom.xml
0	2	packaging/hudi-utilities-bundle/pom.xml
0	2	pom.xml
0	129	release/config/license-mappings.xml

commit 7dd9c74b1bb28c3a934e46d560abbb4c5b6d4586
Author: leesf <490081539@qq.com>
Date:   2019-10-04 22:45:16 +0800

    [HUDI-285] Implement HoodieStorageWriter based on actual file type (#936)

10	3	hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java
62	0	hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java

commit 3dedc7e5fdd5f885915e81e47e110b845a905dbf
Author: leesf <490081539@qq.com>
Date:   2019-10-04 00:48:13 +0800

    [HUDI-265] Failed to delete tmp dirs created in unit tests (#928)

3	45	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
2	3	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
2	4	hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java
2	3	hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java
1	2	hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java
1	2	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
2	3	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
1	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
2	3	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
1	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
1	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
1	2	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
89	0	hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java
3	11	hudi-common/src/test/java/org/apache/hudi/common/table/HoodieTableMetaClientTest.java
5	6	hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatTest.java
5	8	hudi-common/src/test/java/org/apache/hudi/common/table/string/HoodieActiveTimelineTest.java
15	23	hudi-common/src/test/java/org/apache/hudi/common/table/view/HoodieTableFileSystemViewTest.java
24	44	hudi-common/src/test/java/org/apache/hudi/common/table/view/IncrementalFSViewSyncTest.java
2	2	hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemViewTest.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java
8	12	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
8	6	hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java
3	4	hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java
4	11	hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java
8	4	hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java
10	14	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java
14	18	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java
8	3	hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java
5	8	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java
13	19	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java

commit cef06c1e4849ea93644c17af89b56b3f17d322fc
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-03 09:42:30 -0700

    [HUDI-121] Fix bug in validation in deploy_staging_jars.sh

2	2	scripts/release/deploy_staging_jars.sh

commit e75fa070f85ed1e0f72f9718a715a08a76679140
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-03 09:20:12 -0700

    [HUDI-121] Fix bug in validation in create_source_release.sh

2	2	scripts/release/create_source_release.sh

commit e78ba598c549d51a3e7ce4231acebe46f9828001
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-03 09:11:37 -0700

    Update Release notes

3	1	RELEASE_NOTES.md

commit 6da2f9ac7c51117c9cd76e82ce01d4c0a0c69477
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-02 09:33:11 -0700

    [HUDI-287] Address comments during review of release candidate
      1. Remove LICENSE and NOTICE files in hoodie child modules.
      2. Remove developers and contributor section from pom
      3. Also ensure any failures in validation script is reported appropriately
      4. Make hoodie parent pom consistent with that of its parent apache-21 (https://github.com/apache/maven-apache-parent/blob/apache-21/pom.xml)

0	5	docker/hoodie/hadoop/NOTICE
0	5	docker/hoodie/hadoop/base/NOTICE
0	5	docker/hoodie/hadoop/datanode/NOTICE
0	5	docker/hoodie/hadoop/historyserver/NOTICE
0	5	docker/hoodie/hadoop/hive_base/NOTICE
0	5	docker/hoodie/hadoop/namenode/NOTICE
0	5	docker/hoodie/hadoop/prestobase/NOTICE
0	5	docker/hoodie/hadoop/spark_base/NOTICE
0	5	docker/hoodie/hadoop/sparkadhoc/NOTICE
0	5	docker/hoodie/hadoop/sparkmaster/NOTICE
0	177	hudi-cli/src/main/resources/META-INF/LICENSE
0	5	hudi-cli/src/main/resources/META-INF/NOTICE
0	177	hudi-client/src/main/resources/META-INF/LICENSE
0	5	hudi-client/src/main/resources/META-INF/NOTICE
0	177	hudi-common/src/main/resources/META-INF/LICENSE
0	5	hudi-common/src/main/resources/META-INF/NOTICE
0	177	hudi-hadoop-mr/src/main/resources/META-INF/LICENSE
0	5	hudi-hadoop-mr/src/main/resources/META-INF/NOTICE
0	177	hudi-hive/src/main/resources/META-INF/LICENSE
0	5	hudi-hive/src/main/resources/META-INF/NOTICE
0	177	hudi-integ-test/src/main/resources/META-INF/LICENSE
0	5	hudi-integ-test/src/main/resources/META-INF/NOTICE
0	177	hudi-spark/src/main/resources/META-INF/LICENSE
0	5	hudi-spark/src/main/resources/META-INF/NOTICE
0	177	hudi-timeline-service/src/main/resources/META-INF/LICENSE
0	5	hudi-timeline-service/src/main/resources/META-INF/NOTICE
0	177	hudi-utilities/src/main/resources/META-INF/LICENSE
0	5	hudi-utilities/src/main/resources/META-INF/NOTICE
0	177	packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/LICENSE
0	6	packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/NOTICE
0	177	packaging/hudi-hive-bundle/src/main/resources/META-INF/LICENSE
0	5	packaging/hudi-hive-bundle/src/main/resources/META-INF/NOTICE
0	177	packaging/hudi-presto-bundle/src/main/resources/META-INF/LICENSE
0	6	packaging/hudi-presto-bundle/src/main/resources/META-INF/NOTICE
0	177	packaging/hudi-spark-bundle/src/main/resources/META-INF/LICENSE
0	5	packaging/hudi-spark-bundle/src/main/resources/META-INF/NOTICE
0	177	packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/LICENSE
0	5	packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/NOTICE
0	177	packaging/hudi-utilities-bundle/src/main/resources/META-INF/LICENSE
0	5	packaging/hudi-utilities-bundle/src/main/resources/META-INF/NOTICE
0	62	pom.xml
7	9	scripts/release/validate_staged_release.sh

commit e41835fd912d35c52bf339fcef626ca7df06da62
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-10-01 13:48:05 -0700

    [HUDI-121] Fix bugs in Release Scripts found during RC creation

10	28	scripts/release/cut_release_branch.sh
55	31	scripts/release/validate_staged_release.sh

commit 1d2e3dcc65187d1bf90cc9c05d85ba4d27124270
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-30 16:24:45 -0700

    [HUDI-121] Update Release notes

12	0	RELEASE_NOTES.md

commit 6e8a28bcaee173f703132f52f525d1568596ac3d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-20 23:01:32 -0700

    HUDI-121 : Address comments during RC2 voting
    
    1. Remove dnl utils jar from git
    2. Add LICENSE Headers in missing files
    3. Fix NOTICE and LICENSE in all HUDI packages and in top-level
    4. Fix License wording in certain HUDI source files
    5. Include non java/scala code in RAT licensing check
    6. Use whitelist to include dependencies as part of timeline-server bundling

1	1	.travis.yml
0	27	CHANGELOG.md
0	155	LICENSE
3	118	NOTICE
17	0	README.md
18	0	RELEASE_NOTES.md
0	28	deploy/maven/sonatype-settings.xml
-	-	deploy/pubring.gpg.enc
-	-	deploy/secring.gpg.enc
5	0	docker/hoodie/hadoop/NOTICE
0	266	docker/hoodie/hadoop/NOTICE.txt
5	0	docker/hoodie/hadoop/base/NOTICE
0	256	docker/hoodie/hadoop/base/NOTICE.txt
5	0	docker/hoodie/hadoop/datanode/NOTICE
0	256	docker/hoodie/hadoop/datanode/NOTICE.txt
5	0	docker/hoodie/hadoop/historyserver/NOTICE
0	256	docker/hoodie/hadoop/historyserver/NOTICE.txt
5	0	docker/hoodie/hadoop/hive_base/NOTICE
0	256	docker/hoodie/hadoop/hive_base/NOTICE.txt
5	0	docker/hoodie/hadoop/namenode/NOTICE
0	256	docker/hoodie/hadoop/namenode/NOTICE.txt
19	0	docker/hoodie/hadoop/prestobase/Dockerfile
5	0	docker/hoodie/hadoop/prestobase/NOTICE
0	17	docker/hoodie/hadoop/prestobase/pom.xml
5	0	docker/hoodie/hadoop/spark_base/NOTICE
0	256	docker/hoodie/hadoop/spark_base/NOTICE.txt
5	0	docker/hoodie/hadoop/sparkadhoc/NOTICE
0	256	docker/hoodie/hadoop/sparkadhoc/NOTICE.txt
5	0	docker/hoodie/hadoop/sparkmaster/NOTICE
0	256	docker/hoodie/hadoop/sparkmaster/NOTICE.txt
3	254	docker/hoodie/hadoop/sparkworker/NOTICE.txt
-	-	hudi-cli/lib/dnl/utils/textutils/0.3.3/textutils-0.3.3.jar
177	0	hudi-cli/src/main/resources/META-INF/LICENSE
0	614	hudi-cli/src/main/resources/META-INF/LICENSE.txt
5	0	hudi-cli/src/main/resources/META-INF/NOTICE
0	229	hudi-cli/src/main/resources/META-INF/NOTICE.txt
177	0	hudi-client/src/main/resources/META-INF/LICENSE
0	614	hudi-client/src/main/resources/META-INF/LICENSE.txt
5	0	hudi-client/src/main/resources/META-INF/NOTICE
0	285	hudi-client/src/main/resources/META-INF/NOTICE.txt
2	1	hudi-common/pom.xml
177	0	hudi-common/src/main/resources/META-INF/LICENSE
0	614	hudi-common/src/main/resources/META-INF/LICENSE.txt
5	0	hudi-common/src/main/resources/META-INF/NOTICE
0	107	hudi-common/src/main/resources/META-INF/NOTICE.txt
177	0	hudi-hadoop-mr/src/main/resources/META-INF/LICENSE
0	614	hudi-hadoop-mr/src/main/resources/META-INF/LICENSE.txt
5	0	hudi-hadoop-mr/src/main/resources/META-INF/NOTICE
0	222	hudi-hadoop-mr/src/main/resources/META-INF/NOTICE.txt
177	0	hudi-hive/src/main/resources/META-INF/LICENSE
0	614	hudi-hive/src/main/resources/META-INF/LICENSE.txt
5	0	hudi-hive/src/main/resources/META-INF/NOTICE
0	225	hudi-hive/src/main/resources/META-INF/NOTICE.txt
177	0	hudi-integ-test/src/main/resources/META-INF/LICENSE
0	614	hudi-integ-test/src/main/resources/META-INF/LICENSE.txt
5	0	hudi-integ-test/src/main/resources/META-INF/NOTICE
0	299	hudi-integ-test/src/main/resources/META-INF/NOTICE.txt
177	0	hudi-spark/src/main/resources/META-INF/LICENSE
0	614	hudi-spark/src/main/resources/META-INF/LICENSE.txt
5	0	hudi-spark/src/main/resources/META-INF/NOTICE
0	308	hudi-spark/src/main/resources/META-INF/NOTICE.txt
1	0	hudi-timeline-service/pom.xml
1	1	hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java
177	0	hudi-timeline-service/src/main/resources/META-INF/LICENSE
0	614	hudi-timeline-service/src/main/resources/META-INF/LICENSE.txt
5	0	hudi-timeline-service/src/main/resources/META-INF/NOTICE
0	121	hudi-timeline-service/src/main/resources/META-INF/NOTICE.txt
177	0	hudi-utilities/src/main/resources/META-INF/LICENSE
0	614	hudi-utilities/src/main/resources/META-INF/LICENSE.txt
5	0	hudi-utilities/src/main/resources/META-INF/NOTICE
0	320	hudi-utilities/src/main/resources/META-INF/NOTICE.txt
19	1	packaging/README.md
12	4	packaging/hudi-hadoop-mr-bundle/pom.xml
0	614	packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
0	63	packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
177	0	packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/LICENSE
6	0	packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/NOTICE
12	3	packaging/hudi-hive-bundle/pom.xml
0	614	packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
0	98	packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
177	0	packaging/hudi-hive-bundle/src/main/resources/META-INF/LICENSE
5	0	packaging/hudi-hive-bundle/src/main/resources/META-INF/NOTICE
12	3	packaging/hudi-presto-bundle/pom.xml
0	614	packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
0	64	packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
177	0	packaging/hudi-presto-bundle/src/main/resources/META-INF/LICENSE
6	0	packaging/hudi-presto-bundle/src/main/resources/META-INF/NOTICE
11	3	packaging/hudi-spark-bundle/pom.xml
0	614	packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
0	254	packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
177	0	packaging/hudi-spark-bundle/src/main/resources/META-INF/LICENSE
5	0	packaging/hudi-spark-bundle/src/main/resources/META-INF/NOTICE
46	17	packaging/hudi-timeline-server-bundle/pom.xml
26	4	packaging/hudi-timeline-server-bundle/run_server.sh
0	614	packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
0	122	packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
177	0	packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/LICENSE
5	0	packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/NOTICE
11	3	packaging/hudi-utilities-bundle/pom.xml
0	614	packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
0	312	packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
177	0	packaging/hudi-utilities-bundle/src/main/resources/META-INF/LICENSE
5	0	packaging/hudi-utilities-bundle/src/main/resources/META-INF/NOTICE
8	34	pom.xml
0	11	release/config/NOTICE.template
1	1	{release/scripts => scripts/release}/create_source_release.sh
0	0	{release/scripts => scripts/release}/cut_release_branch.sh
1	1	{release/scripts => scripts/release}/deploy_staging_jars.sh
39	0	scripts/release/generate_jar_path.py
36	0	scripts/release/generate_notice.sh
9	9	{release/scripts => scripts/release}/preparation_before_release.sh
125	0	scripts/release/validate_staged_release.sh
0	0	{tools => scripts}/run_travis_tests.sh

commit 50a073ff57c20eef2a80a44532ed5536c6435ac6
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2019-09-28 00:45:25 -0700

    [HUDI-271] Create QuickstartUtils for simplifying quickstart guide
    
    - This will be used in Quickstart guide (Doc changes to follow in a seperate PR). The intention is to simplify quickstart to showcase hudi APIs by writing and reading using spark datasources.
    - This is located in hudi-spark module intentionally to bring all the necessary classes in hudi-spark-bundle finally.

206	0	hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java

commit 01e803b00e5acf9bb1dbe38340e38e8feb8d037d
Author: vinoyang <yanghua1127@gmail.com>
Date:   2019-09-30 20:38:52 +0800

    [HUDI-247] Unify the re-initialization of HoodieTableMetaClient in test for hoodie-client module (#930)

7	6	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
34	42	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
3	3	hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java
2	2	hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java
9	10	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
2	2	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
17	17	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
7	7	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
11	10	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
7	8	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
6	6	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
11	12	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
16	16	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
10	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java

commit 2ea8b0c3f1eeb19f4dc1e9946331c8fd93e6daab
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-25 06:20:56 -0700

    [HUDI-279] Fix regression in Schema Evolution due to PR-755

1	1	hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java
4	3	hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java
6	2	hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	5	hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java

commit bf05f954133da5b760a66906557df0305dbd0eaf
Author: Xing Pan <panxscu@163.com>
Date:   2019-09-24 20:30:35 +0800

    [HUDI-269] Limit sync frequency (#921)
    
    * [HUDI-269] Throttle DeltaStreamer sync runs

11	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 1e6dd1ca1de576bc090c67ba0abdf466ada5cb3e
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2019-09-22 17:26:04 -0700

    [MINOR] : Further updates to .mailmap for vinoth (#919)

3	0	.mailmap

commit 635154c43930ddf57c31446897b41df3178f9f6a
Author: PanXing <starpkpk@sina.com>
Date:   2019-09-22 21:47:23 +0800

    [MINOR] support reading cfg file in another s3 bucket (#914)

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java

commit f020d029c406008b7342f1117b95b68b4a90d401
Author: vinoyang <yanghua1127@gmail.com>
Date:   2019-09-22 00:05:02 +0800

    HUDI-267 Refactor bad method name HoodieTestUtils#initTableType and HoodieTableMetaClient#initializePathAsHoodieDataset (#916)

1	1	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
2	2	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
1	1	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
3	3	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java
3	3	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatTest.java
1	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java
4	4	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java

commit 1104f9526fcd05270ed5cd084228f023f1a01c46
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-08-30 12:30:56 -0700

    HUDI-180 : Adding support for hive registration using metastore along with JDBC

22	18	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java
128	33	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
23	0	hudi-hive/src/test/java/org/apache/hudi/hive/HiveSyncToolTest.java

commit 69ca45b2da0f1791d4d8f049726a31ba3d90dcd7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-19 00:15:08 -0700

    Fix  mailmap to allow mapping of defunct emailIds to active emailIds

3	3	.mailmap

commit 2e75a6973df26625ef0b5b44ad1cbbc7989bbea0
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-19 00:09:14 -0700

    Adding mailmap to allow mapping of defunct emailIds to active emailIds

6	0	.mailmap

commit 4bda742a938a344fb667d5d86ef1007de5c29365
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-17 12:41:54 -0700

    Updating release notes and preparing for 0.5.0-incubating-rc2 release

1	0	RELEASE_NOTES.md

commit e217db56ab30ec9630411aefc16516747b3112e0
Author: Vinoth Chandar <vinoth@apache.org>
Date:   2019-09-17 12:00:41 -0700

    [HUDI-254]: Bundle and shade databricks/avro with spark bundle
    
     - spark 2.4 onwards, spark has built in support. shading to avoid conflicts
     - spark 2.3 still needs this bundled, so that dropping bundle into jars folder would work

0	1	hudi-spark/pom.xml
6	0	packaging/hudi-spark-bundle/pom.xml

commit c1e7d0e5a6ebc6fa416fc463ea6526f64a39afc5
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-17 09:50:00 -0700

    [HUDI-121] Update Release notes and fix master version

3	0	RELEASE_NOTES.md
1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hudi-cli/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-hive/pom.xml
1	1	hudi-integ-test/pom.xml
1	1	hudi-spark/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit 2c6da09d9d17f33ebc025c9ec9fa949605288bb7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-16 23:42:14 -0700

    [HUDI-257] Fix Bloom Index unit-test failures

2	0	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
2	0	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java

commit 96a46d870122914dd7cc1f9f20a5489b8fe03187
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-16 16:19:59 -0700

    [HUDI-252] Identify packages which are under non-apache license in LICENSE file

11	10	LICENSE

commit 629698d54fbc17c32fd321913e9441fb0487a991
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-16 01:40:40 -0700

    [HUDI-252] Add Disclaimer and cleanup NOTICE and LICENSE files in hudi

6	0	DISCLAIMER
331	0	LICENSE
0	614	LICENSE.txt
120	0	NOTICE
0	392	NOTICE.txt

commit c0f42afa35768cf191dcc061feac2e7396457058
Author: Taher Koitawala <taherk77@gmail.com>
Date:   2019-09-03 20:35:42 +0530

    [HUDI-62] Index Lookup Timer added to HoodieWriteClient

14	2	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
20	1	hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java

commit 63cc455d9c273af0dda8a07f2293d350da36c851
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-13 13:58:29 -0700

    [HUDI-121] ASF Release : Ensure NOTICE.txt is generated as part of cutting release branch

1	1	RELEASE_NOTES.md
26	1	release/scripts/cut_release_branch.sh

commit 7190c022bb741fe78418b13efb6fe13fcbd128b0
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-13 13:49:31 -0700

    [HUDI-249] Updating Notice files

4	7	NOTICE.txt
5	8	docker/hoodie/hadoop/NOTICE.txt
5	8	docker/hoodie/hadoop/base/NOTICE.txt
5	8	docker/hoodie/hadoop/datanode/NOTICE.txt
5	8	docker/hoodie/hadoop/historyserver/NOTICE.txt
5	8	docker/hoodie/hadoop/hive_base/NOTICE.txt
5	8	docker/hoodie/hadoop/namenode/NOTICE.txt
5	8	docker/hoodie/hadoop/spark_base/NOTICE.txt
5	8	docker/hoodie/hadoop/sparkadhoc/NOTICE.txt
5	8	docker/hoodie/hadoop/sparkmaster/NOTICE.txt
5	8	docker/hoodie/hadoop/sparkworker/NOTICE.txt
2	6	hudi-cli/src/main/resources/META-INF/NOTICE.txt
2	3	hudi-client/src/main/resources/META-INF/NOTICE.txt
3	7	hudi-common/src/main/resources/META-INF/NOTICE.txt
4	6	hudi-hadoop-mr/src/main/resources/META-INF/NOTICE.txt
4	6	hudi-hive/src/main/resources/META-INF/NOTICE.txt
4	7	hudi-integ-test/src/main/resources/META-INF/NOTICE.txt
3	4	hudi-spark/src/main/resources/META-INF/NOTICE.txt
2	14	hudi-timeline-service/src/main/resources/META-INF/NOTICE.txt
2	3	hudi-utilities/src/main/resources/META-INF/NOTICE.txt
3	168	packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
4	134	packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
3	54	packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
5	60	packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
2	14	packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
5	13	packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt

commit 1a61d6bc4df2d0c45515c41210b1e48e4d2c1d1b
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-13 12:48:38 -0700

    [HUDI-249] Fix RELEASE-NOTES to match correct state

2	1	RELEASE_NOTES.md

commit b1446be2b4d50e60b54146c66a6e6412d41b3a17
Author: Vinoth Chandar <vinoth@apache.org>
Date:   2019-09-11 15:47:22 -0700

    [HUDI-244] : Hive sync should escape partition field name
    
      - now supports field names beginning with '_' for e.g

1	1	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java

commit 3ee16b5439837f6bb03052a7d57edd8bc67db7d7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-13 10:00:16 -0700

    [HUDI-250]  Ensure Hudi CLI wrapper works with non snapshot jars too. Also Fix bug in cut_release_branch script

2	2	RELEASE_NOTES.md
1	1	hudi-cli/hudi-cli.sh
1	1	release/scripts/cut_release_branch.sh

commit 0b032b2761fcc23a3bcedaf654431635ec7e7f03
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-09-02 10:20:41 -0700

    Fix requested eompaction rollback during restore command

6	10	hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java
6	1	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java

commit d2525c31b7dad7bae2d4899d8df2a353ca39af50
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-13 09:58:29 -0700

    Moving to 0.6.0-SNAPSHOT on master branch.

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/prestobase/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hudi-cli/pom.xml
1	1	hudi-client/pom.xml
1	1	hudi-common/pom.xml
1	1	hudi-hadoop-mr/pom.xml
1	1	hudi-hive/pom.xml
1	1	hudi-integ-test/pom.xml
1	1	hudi-spark/pom.xml
1	1	hudi-timeline-service/pom.xml
1	1	hudi-utilities/pom.xml
1	1	packaging/hudi-hadoop-mr-bundle/pom.xml
1	1	packaging/hudi-hive-bundle/pom.xml
1	1	packaging/hudi-presto-bundle/pom.xml
1	1	packaging/hudi-spark-bundle/pom.xml
1	1	packaging/hudi-timeline-server-bundle/pom.xml
1	1	packaging/hudi-utilities-bundle/pom.xml
1	1	pom.xml

commit 36c74c8a160660f8f3790dbb5da7e30dd7c4b32a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-13 09:54:39 -0700

    [HUDI-249] Fix cut_release_branch script

7	7	release/scripts/cut_release_branch.sh

commit 117a68d5038960fa0cb14e00c0e27b9a772e1bf2
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-13 09:45:19 -0700

    Add missing commit in release notes

1	0	RELEASE_NOTES.md

commit 58623631d4cbe016e0a3142ca931f412a181d8b2
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-03 19:02:39 -0700

    [HUDI-249] Update Release-notes. Add sign-artifacts to POM and release related scripts. Add missing license headers

104	0	RELEASE_NOTES.md
18	0	docker/compose/hadoop.env
18	0	docker/demo/compaction.commands
17	0	docker/demo/config/schema.avsc
18	0	docker/demo/hive-batch1.commands
18	0	docker/demo/hive-batch2-after-compaction.commands
18	0	docker/demo/hive-incremental.commands
18	0	docker/demo/hive-table-check.commands
18	0	docker/hoodie/hadoop/prestobase/bin/entrypoint.sh
19	1	docker/hoodie/hadoop/prestobase/bin/mustache.sh
17	0	docker/hoodie/hadoop/prestobase/etc/catalog/hive.properties
17	0	docker/hoodie/hadoop/prestobase/etc/catalog/jmx.properties
17	0	docker/hoodie/hadoop/prestobase/etc/catalog/localfile.properties
17	0	docker/hoodie/hadoop/prestobase/etc/coordinator.properties.mustache
18	1	docker/hoodie/hadoop/prestobase/etc/jvm.config.mustache
17	0	docker/hoodie/hadoop/prestobase/etc/log.properties
17	0	docker/hoodie/hadoop/prestobase/etc/node.properties.mustache
17	0	docker/hoodie/hadoop/prestobase/etc/worker.properties.mustache
19	1	docker/hoodie/hadoop/prestobase/lib/mustache.sh
18	0	docker/hoodie/hadoop/prestobase/pom.xml
17	0	hudi-client/src/test/resources/exampleEvolvedSchema.txt
17	0	hudi-client/src/test/resources/exampleSchema.txt
17	0	hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc
17	0	hudi-common/src/main/avro/HoodieCleanMetadata.avsc
17	0	hudi-common/src/main/avro/HoodieCommitMetadata.avsc
17	0	hudi-common/src/main/avro/HoodieCompactionMetadata.avsc
17	0	hudi-common/src/main/avro/HoodieCompactionOperation.avsc
17	0	hudi-common/src/main/avro/HoodieRestoreMetadata.avsc
17	0	hudi-common/src/main/avro/HoodieRollbackMetadata.avsc
17	0	hudi-common/src/main/avro/HoodieSavePointMetadata.avsc
17	0	hudi-common/src/test/resources/complex-test-evolved.avsc
17	0	hudi-common/src/test/resources/simple-test-evolved.avsc
17	0	hudi-common/src/test/resources/simple-test.avsc
17	0	hudi-hadoop-mr/src/test/resources/sample1.avsc
18	0	hudi-integ-test/pom.xml
8	7	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
18	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java
8	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java
8	8	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/config/TestSourceConfig.java
17	0	hudi-utilities/src/test/resources/delta-streamer-config/source.avsc
17	0	hudi-utilities/src/test/resources/delta-streamer-config/target.avsc
14	0	pom.xml
82	0	release/scripts/create_source_release.sh
138	0	release/scripts/cut_release_branch.sh
44	0	release/scripts/deploy_staging_jars.sh
104	0	release/scripts/preparation_before_release.sh

commit 895d732a1423f3a113d9630aa3c56e4b0837effd
Author: yanghua <yanghua1127@gmail.com>
Date:   2019-09-12 13:02:59 +0800

    refactor code

2	2	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
2	2	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java

commit 5f04241fce99f47abfb7ef9f03292472b3ee23fb
Author: yanghua <yanghua1127@gmail.com>
Date:   2019-09-10 15:42:54 +0800

    refactor code: add docs and init/cleanup resource group for hoodie client test base

120	20	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
0	18	hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java
0	20	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
0	20	hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java
12	0	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
0	20	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
0	20	hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java

commit 80c27f23510e9c4232ee87e06475d8af4823bb38
Author: yanghua <yanghua1127@gmail.com>
Date:   2019-09-03 19:00:37 +0800

    Optimize hoodie client after implementat auto closeable interface

2	23	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
1	6	hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java
1	11	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
0	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
1	6	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
1	7	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
1	7	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java

commit 90bfb900aa47d4e77873fafe89e4d8bdd0ec4d96
Author: yanghua <yanghua1127@gmail.com>
Date:   2019-09-03 07:24:11 +0800

    revert setting jsc spark configuration

0	4	hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java

commit 6f2b166005043b85056e23c420195a9e569e443b
Author: yanghua <yanghua1127@gmail.com>
Date:   2019-08-22 19:29:42 +0800

    [HUDI-217] Provide a unified resource management class to standardize the resource allocation and release for hudi client test cases

1	1	hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java
206	0	hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java
141	123	hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java
109	92	hudi-client/src/test/java/org/apache/hudi/TestCleaner.java
202	183	hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java
14	10	hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java
10	19	hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java
3	88	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java
80	62	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
81	64	hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java
56	99	hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java
26	17	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java
12	16	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java
8	23	hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java
27	43	hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java
48	67	hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java
11	25	hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java
8	22	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
8	22	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
12	58	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java
73	89	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java
235	257	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java
20	23	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
1022	1116	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java

commit 64df98fc4a15d5b80dfbb2843e919effa99c4ec2
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2019-08-30 16:29:23 -0700

    [HUDI-164] Fixes incorrect averageBytesPerRecord
    
    When number of records written is zero, averageBytesPerRecord results in a huge size (division by zero and ceiled to Long.MAX_VALUE) causing OOM. This commit fixes this issue by reverse traversing the commits until a more reasonable average record size can be computed and if that is not possible returns the default configured record size.

31	25	hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java
119	0	hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java
6	0	hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java
9	0	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java

commit 93bc5e2153c90e44d35dafc468466196306f4227
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-09-11 11:31:07 -0700

    HUDI-243 Rename HoodieInputFormat and HoodieRealtimeInputFormat to HoodieParquetInputFormat and HoodieParquetRealtimeInputFormat

4	4	hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java
3	1	hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
3	1	hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
2	2	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/{HoodieInputFormat.java => HoodieParquetInputFormat.java}
7	7	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/{HoodieRealtimeInputFormat.java => HoodieParquetRealtimeInputFormat.java}
1	1	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/AnnotationTest.java
2	2	hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/HoodieInputFormatTest.java
4	4	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java

commit d0b9b56b7de3a70cc24475fd552ebe00ad07ab39
Author: Vinoth Chandar <vinoth@apache.org>
Date:   2019-09-02 19:46:10 -0700

    [HUDI-143] Excluding javax.* from utilities and spark bundles
    
     - Plus minor code review comments

1	4	hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
1	1	hudi-hive/run_sync_tool.sh
1	2	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
1	0	packaging/hudi-spark-bundle/pom.xml
1	0	packaging/hudi-utilities-bundle/pom.xml

commit 7a973a694488930627028b3175a731a23e3d3f32
Author: vinoth chandar <vchandar@confluent.io>
Date:   2019-09-02 16:15:55 -0700

    [HUDI-159] Redesigning bundles for lighter-weight integrations
    
     - Documented principles applied for redesign at packaging/README.md
     - No longer depends on incl commons-codec, commons-io, commons-pool, commons-dbcp, commons-lang, commons-logging, avro-mapred
     - Introduce new FileIOUtils & added checkstyle rule for illegal import of above
     - Parquet, Avro dependencies moved to provided scope to enable being picked up from Hive/Spark/Presto instead
     - Pickup jackson jars for Hive sync tool from HIVE_HOME & unbundling jackson everywhere
     - Remove hive-jdbc standalone jar from being bundled in Spark/Hive/Utilities bundles
     - 6.5x reduced number of classes across bundles

0	6	hudi-cli/pom.xml
1	1	hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java
3	13	hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java
13	5	hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
3	4	hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java
5	6	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
4	6	hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java
3	3	hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java
2	2	hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java
2	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java
2	2	hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java
12	11	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java
1	2	hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java
2	2	hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java
0	16	hudi-common/pom.xml
1	1	hudi-common/src/main/java/org/apache/hudi/common/BloomFilter.java
2	5	hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java
2	2	hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java
0	48	hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java
97	0	hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java
3	4	hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java
11	0	hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java
20	4	hudi-common/src/main/java/org/apache/hudi/common/util/collection/Pair.java
17	4	hudi-common/src/main/java/org/apache/hudi/common/util/collection/Triple.java
5	5	hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java
3	3	hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java
63	0	hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java
0	6	hudi-hadoop-mr/pom.xml
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieInputFormat.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RecordReaderValueIterator.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java
4	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeInputFormat.java
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java
4	0	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java
0	14	hudi-hive/pom.xml
3	3	hudi-hive/run_sync_tool.sh
14	68	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
3	3	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
3	3	hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java
2	2	hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
2	6	hudi-integ-test/pom.xml
20	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
1	1	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
0	6	hudi-utilities/pom.xml
7	17	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java
11	33	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java
18	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/SchedulerConfGeneratorTest.java
18	0	packaging/README.md
52	186	packaging/hudi-hadoop-mr-bundle/pom.xml
46	175	packaging/hudi-hive-bundle/pom.xml
53	159	packaging/hudi-presto-bundle/pom.xml
81	189	packaging/hudi-spark-bundle/pom.xml
28	251	packaging/hudi-utilities-bundle/pom.xml
7	63	pom.xml
1	0	style/checkstyle.xml

commit 0e6f078ec4648fc0abc7f0453b2ba1837480cfb9
Author: Mehrotra <uditme@amazon.com>
Date:   2019-09-05 13:47:24 -0700

    Fix logging in HoodieSparkSqlWriter

1	1	hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala

commit 07a0ea87ab8239889149e462864acee66fa9547d
Author: leesf <490081539@qq.com>
Date:   2019-09-06 07:25:28 +0800

    [hotfix] fix typo

1	1	hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java

commit 821e0dcffcd7d0ca5b0140ebe585639fc0c32e22
Author: leesf <490081539@qq.com>
Date:   2019-09-03 15:07:23 +0800

    [HUDI-236] Failed to close stream

12	16	hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java
7	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java

commit 555dd55c16b2df504214f2bdfe84a6b106f61904
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date:   2019-08-29 16:22:01 -0700

    Support nested ordering fields

1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java

commit 8b150a3c6bf76e8029fda82a8a4e181b7a026980
Author: leesf <490081539@qq.com>
Date:   2019-08-30 17:09:47 +0800

    [HUDI-230] Add missing Apache License in some files

15	0	.travis.yml
15	0	_config.yml
16	0	deploy/maven/sonatype-settings.xml
15	0	docker/compose/docker-compose_hadoop284_hive233_spark231.yml
2	0	docker/setup_demo.sh
2	0	docker/stop_demo.sh
18	0	hudi-cli/hudi-cli.sh
18	0	hudi-hive/run_sync_tool.sh
18	0	hudi-spark/run_hoodie_app.sh
16	0	release/config/license-mappings.xml
16	1	style/checkstyle-suppressions.xml
16	0	style/checkstyle.xml
16	0	style/eclipse-java-google-style.xml
16	0	style/intellij-java-google-style.xml
16	0	style/scalastyle-config.xml
18	0	tools/run_travis_tests.sh

commit 376b59ae5ff46a77941c6e6608a82b8ceb6523ef
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-08-30 09:13:34 -0700

    [HUDI-227] : DeltaStreamer Improvements : Commit empty input batch with progressing checkpoints and allow users to override configs through properties. Original PR : PR-805 and PR-806 (#863)

30	14	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
2	2	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java
44	3	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java
1	1	hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java

commit a6908ef44dc21898ed53785fe0bd5f1e373ae779
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-08-30 09:03:37 -0700

    HUDI-170 Updating hoodie record before inserting it into ExternalSpillableMap (#866)

2	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java
20	2	hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java

commit 40dd4dd637a44f532af9143bf588dc36a3ced729
Author: leesf <490081539@qq.com>
Date:   2019-08-30 12:36:21 +0800

    [HUDI-229] Fix mvn notice:generate issue in windows

2	2	pom.xml

commit 5c2da6051effb38795011fc1d296ef9bd38f1208
Author: leesf <490081539@qq.com>
Date:   2019-08-29 16:26:34 +0800

    [HUDI-225] Create Hudi Timeline Server Fat Jar

2	1	NOTICE.txt
0	14	hudi-timeline-service/run_server.sh
208	0	packaging/hudi-timeline-server-bundle/pom.xml
31	0	packaging/hudi-timeline-server-bundle/run_server.sh
36	0	packaging/hudi-timeline-server-bundle/src/main/java/org/apache/hudi/timeline/server/bundle/Main.java
614	0	packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
134	0	packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
1	0	pom.xml

commit 5f9fa82f47e1cc14a22b869250fe23c8f9c033cd
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-08-28 16:20:47 -0700

    HUDI-124 : Exclude jdk.tools from hadoop-common and update Notice files (#858)

35	47	NOTICE.txt
20	27	docker/hoodie/hadoop/NOTICE.txt
10	19	docker/hoodie/hadoop/base/NOTICE.txt
10	20	docker/hoodie/hadoop/datanode/NOTICE.txt
10	20	docker/hoodie/hadoop/historyserver/NOTICE.txt
10	20	docker/hoodie/hadoop/hive_base/NOTICE.txt
10	20	docker/hoodie/hadoop/namenode/NOTICE.txt
10	21	docker/hoodie/hadoop/spark_base/NOTICE.txt
10	22	docker/hoodie/hadoop/sparkadhoc/NOTICE.txt
10	22	docker/hoodie/hadoop/sparkmaster/NOTICE.txt
10	22	docker/hoodie/hadoop/sparkworker/NOTICE.txt
11	24	hudi-cli/src/main/resources/META-INF/NOTICE.txt
7	16	hudi-client/src/main/resources/META-INF/NOTICE.txt
3	6	hudi-common/src/main/resources/META-INF/NOTICE.txt
3	14	hudi-hadoop-mr/src/main/resources/META-INF/NOTICE.txt
4	14	hudi-hive/src/main/resources/META-INF/NOTICE.txt
14	30	hudi-integ-test/src/main/resources/META-INF/NOTICE.txt
9	17	hudi-spark/src/main/resources/META-INF/NOTICE.txt
2	5	hudi-timeline-service/src/main/resources/META-INF/NOTICE.txt
8	19	hudi-utilities/src/main/resources/META-INF/NOTICE.txt
6	13	packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
7	15	packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
5	14	packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
8	18	packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
9	20	packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
10	0	pom.xml

commit 00cfe72c5d56dbaa2e170a087cf04b1e56a87bc3
Author: leesf <490081539@qq.com>
Date:   2019-08-28 16:42:18 +0800

    [hotfix] change hoodie-timeline-*.jar to hudi-timeline-*.jar

1	1	hudi-timeline-service/run_server.sh

commit b44f8521f2b25928bccce9a6ba5c89fb76e5330e
Author: leesf <490081539@qq.com>
Date:   2019-08-28 16:14:15 +0800

    [HUDI-222] Rename main class path to org.apache.hudi.timeline.service.TimelineService in run_server.sh

2	2	hudi-timeline-service/run_server.sh

commit 41dbac69037ddd770a94cf41f39beff92aec9568
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date:   2019-08-27 19:19:52 -0700

    Fixed unit test

16	1	hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java

commit b5d4da79586192f17c0db458c1d4fcdbb334c3e2
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date:   2019-08-27 15:31:04 -0700

    Addressing comments

3	2	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java

commit baea4f3b82661747f574eda24cfb7dac89ddd72b
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date:   2019-08-27 14:44:54 -0700

    Ignore dublicate of a compaction file

11	4	hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java

commit e0ab89b3ac22207ff45cf3cae782d64b8be01bf1
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   2019-08-28 04:48:38 -0700

    [HUDI-223] Adding a way to infer target schema from the dataset after the transformation (#854)
    
    - Adding a way to decouple target and source schema providers
    - Adding flattening transformer

15	5	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java
40	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java
83	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java
56	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/TestFlatteningTransformer.java

commit 78e07215070106176902b57108a5689dce3cf606
Author: Vinoth Chandar <vinoth@apache.org>
Date:   2019-08-26 17:41:00 -0700

    [HUDI-159] Precursor cleanup to reduce build warnings

13	9	docker/hoodie/hadoop/base/pom.xml
11	9	docker/hoodie/hadoop/datanode/pom.xml
11	9	docker/hoodie/hadoop/historyserver/pom.xml
11	9	docker/hoodie/hadoop/hive_base/pom.xml
11	9	docker/hoodie/hadoop/namenode/pom.xml
11	9	docker/hoodie/hadoop/prestobase/pom.xml
11	9	docker/hoodie/hadoop/spark_base/pom.xml
11	9	docker/hoodie/hadoop/sparkadhoc/pom.xml
2	0	docker/hoodie/hadoop/sparkmaster/pom.xml
11	9	docker/hoodie/hadoop/sparkworker/pom.xml
4	2	hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala
1	1	hudi-integ-test/pom.xml
2	3	pom.xml

commit c265b4948fd78b2d9050b67d18c20b4caa8aceab
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-08-26 08:52:36 -0700

    HUDI-128 Preparing POM for release and snapshot builds (#851)

0	5	hudi-cli/pom.xml
0	8	hudi-spark/pom.xml
6	49	pom.xml

commit cd090871a18210ac311c02009b27bd7cfcf2bb44
Author: vinoth chandar <vchandar@confluent.io>
Date:   2019-08-25 05:34:51 -0700

    [HUDI-159]: Pom cleanup and removal of com.twitter.parquet
    
     - Redo all classes based on org.parquet only
     - remove unuused dependencies like parquet-hadoop, common-configuration2
     - timeline-service does not build a fat jar anymore
     - Fix utilities and hadoop-mr bundles based on above

5	13	hudi-cli/pom.xml
2	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java
7	10	hudi-client/pom.xml
1	1	hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java
2	2	hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java
5	12	hudi-common/pom.xml
0	2	hudi-common/src/main/java/org/apache/hudi/common/util/DefaultSizeEstimator.java
0	1	hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java
478	0	hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java
1	2	hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java
1	1	hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java
0	22	hudi-hadoop-mr/pom.xml
3	3	hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java
8	29	hudi-hive/pom.xml
4	4	hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java
4	4	hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java
1	1	hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java
9	7	hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java
20	19	hudi-hive/src/test/java/org/apache/hudi/hive/HiveSyncToolTest.java
3	3	hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java
8	8	hudi-spark/pom.xml
0	59	hudi-timeline-service/pom.xml
18	46	hudi-utilities/pom.xml
5	19	packaging/hudi-hadoop-mr-bundle/pom.xml
0	6	packaging/hudi-hive-bundle/pom.xml
0	6	packaging/hudi-presto-bundle/pom.xml
0	4	packaging/hudi-spark-bundle/pom.xml
13	6	packaging/hudi-utilities-bundle/pom.xml
2	34	pom.xml

commit 6edf0b9defe8c82b0ef0076a6300c00c1641a6e6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2019-08-22 20:18:50 -0700

    [HUDI-68] Pom cleanup & demo automation (#846)
    
     - [HUDI-172] Cleanup Maven POM/Classpath
      - Fix ordering of dependencies in poms, to enable better resolution
      - Idea is to place more specific ones at the top
      - And place dependencies which use them below them
    - [HUDI-68] : Automate demo steps on docker setup
     - Move hive queries from hive cli to beeline
     - Standardize on taking query input from text command files
     - Deltastreamer ingest, also does hive sync in a single step
     - Spark Incremental Query materialized as a derived Hive table using datasource
     - Fix flakiness in HDFS spin up and output comparison
     - Code cleanup around streamlining and loc reduction
     - Also fixed pom to not shade some hive classs in spark, to enable hive sync

2	2	.gitignore
8	4	.travis.yml
5	0	docker/demo/compaction.commands
27	0	docker/demo/config/dfs-source.properties
21	0	docker/demo/get_min_commit_time.sh
11	0	docker/demo/hive-batch1.commands
9	0	docker/demo/hive-batch2-after-compaction.commands
10	0	docker/demo/hive-incremental.commands
10	0	docker/demo/hive-table-check.commands
30	0	docker/demo/sparksql-batch1.commands
29	0	docker/demo/sparksql-batch2.commands
59	0	docker/demo/sparksql-incremental.commands
2	3	hudi-cli/hudi-cli.sh
46	46	hudi-cli/pom.xml
13	2	hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java
93	84	hudi-client/pom.xml
63	50	hudi-common/pom.xml
50	41	hudi-hadoop-mr/pom.xml
76	61	hudi-hive/pom.xml
64	49	hudi-integ-test/pom.xml
116	25	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java
271	0	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java
40	103	hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java
69	59	hudi-spark/pom.xml
49	37	hudi-timeline-service/pom.xml
161	162	hudi-utilities/pom.xml
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java
55	49	packaging/hudi-hadoop-mr-bundle/pom.xml
67	60	packaging/hudi-hive-bundle/pom.xml
39	29	packaging/hudi-presto-bundle/pom.xml
102	55	packaging/hudi-spark-bundle/pom.xml
156	158	packaging/hudi-utilities-bundle/pom.xml
276	266	pom.xml
17	0	tools/run_travis_tests.sh

commit 92eed6aca81d69c7fb91107b19366d03f7f4a944
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2019-08-22 19:40:36 -0700

    [HUDI-82] Adds Presto integration in Docker demo (#847)

38	0	docker/compose/docker-compose_hadoop284_hive233_spark231.yml
2	0	docker/hoodie/hadoop/pom.xml
69	0	docker/hoodie/hadoop/prestobase/Dockerfile
52	0	docker/hoodie/hadoop/prestobase/bin/entrypoint.sh
15	0	docker/hoodie/hadoop/prestobase/bin/mustache.sh
18	0	docker/hoodie/hadoop/prestobase/etc/catalog/hive.properties
4	0	docker/hoodie/hadoop/prestobase/etc/catalog/jmx.properties
3	0	docker/hoodie/hadoop/prestobase/etc/catalog/localfile.properties
6	0	docker/hoodie/hadoop/prestobase/etc/coordinator.properties.mustache
9	0	docker/hoodie/hadoop/prestobase/etc/jvm.config.mustache
1	0	docker/hoodie/hadoop/prestobase/etc/log.properties
3	0	docker/hoodie/hadoop/prestobase/etc/node.properties.mustache
4	0	docker/hoodie/hadoop/prestobase/etc/worker.properties.mustache
252	0	docker/hoodie/hadoop/prestobase/lib/mustache.sh
106	0	docker/hoodie/hadoop/prestobase/pom.xml
6	0	docker/hoodie/hadoop/sparkadhoc/Dockerfile
2	0	docker/hoodie/hadoop/sparkadhoc/adhoc.sh

commit 1b79ef7672031301b6269e3a7b3587ddb7c793d9
Author: leesf <490081539@qq.com>
Date:   2019-08-16 23:27:19 +0800

    HUDI-212: Specify Charset to UTF-8 for IOUtils.toString (#837)

3	3	hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java

commit 8f5e7ad5d96302905c09cfae9d28bfe684782fc7
Author: vinoyang <yanghua1127@gmail.com>
Date:   2019-08-14 08:13:52 +0800

    [HUDI-205] Let checkstyle ban Java and Guava Optional instead of using Option provided by Hudi (#834)

1	0	style/checkstyle-suppressions.xml
3	0	style/checkstyle.xml

commit 4787076c6d87488c0087ac0cfb7fa86596b1357a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-08-13 17:13:30 -0700

    HUDI-204 : Make MOR rollback idempotent and disable using rolling stats for small file selection (#833)

29	63	hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java
23	2	hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java

commit 8d37fbf0db8aa1a65225aba95d2f6b485e869567
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-08-12 11:03:25 -0700

    Adding GPG Keys

38	0	KEYS

commit a4f9d7575f39bb79089714049ffea12ba5f25ec8
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-08-11 17:48:17 -0700

    HUDI-123 Rename code packages/constants to org.apache.hudi (#830)
    
    - Rename com.uber.hoodie to org.apache.hudi
    - Flag to pass com.uber.hoodie Input formats for hoodie-sync
    - Works with HUDI demo.
    - Also tested for backwards compatibility with datasets built by com.uber.hoodie packages
    - Migration guide : https://cwiki.apache.org/confluence/display/HUDI/Migration+Guide+From+com.uber.hoodie+to+org.apache.hudi

1	1	docker/demo/setup_demo_container.sh
7	7	docker/hoodie/hadoop/base/pom.xml
6	6	docker/hoodie/hadoop/datanode/pom.xml
6	6	docker/hoodie/hadoop/historyserver/pom.xml
10	10	docker/hoodie/hadoop/hive_base/pom.xml
6	6	docker/hoodie/hadoop/namenode/pom.xml
6	6	docker/hoodie/hadoop/pom.xml
6	6	docker/hoodie/hadoop/spark_base/pom.xml
6	6	docker/hoodie/hadoop/sparkadhoc/pom.xml
6	6	docker/hoodie/hadoop/sparkmaster/pom.xml
6	6	docker/hoodie/hadoop/sparkworker/pom.xml
0	36	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/SchedulerConfGeneratorTest.java
3	2	hoodie-cli/hoodie-cli.sh => hudi-cli/hudi-cli.sh
-	-	{hoodie-cli => hudi-cli}/lib/dnl/utils/textutils/0.3.3/textutils-0.3.3.jar
12	12	{hoodie-cli => hudi-cli}/pom.xml
4	4	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/HoodieCLI.java
1	1	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/HoodieHistoryFileNameProvider.java
2	2	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/HoodiePrintHelper.java
6	6	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/HoodiePrompt.java
11	7	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/HoodieSplashScreen.java
3	1	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/Main.java
2	2	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/Table.java
1	1	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/TableHeader.java
13	12	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/ArchivedCommitsCommand.java
11	11	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/CleansCommand.java
14	14	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/CommitsCommand.java
21	23	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/CompactionCommand.java
13	9	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/DatasetsCommand.java
12	12	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/FileSystemViewCommand.java
7	7	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/HDFSParquetImportCommand.java
20	19	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/HoodieLogFileCommand.java
7	7	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/HoodieSyncCommand.java
7	7	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/RepairsCommand.java
13	13	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/RollbacksCommand.java
13	13	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/SavepointsCommand.java
16	15	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/SparkMain.java
10	10	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/StatsCommand.java
1	1	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/commands/UtilsCommand.java
5	5	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/utils/CommitUtil.java
2	2	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/utils/HiveUtil.java
1	1	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/utils/InputStreamConsumer.java
4	5	{hoodie-cli/src/main/java/com/uber/hoodie => hudi-cli/src/main/java/org/apache/hudi}/cli/utils/SparkUtil.java
0	0	{hoodie-cli => hudi-cli}/src/main/resources/META-INF/LICENSE.txt
0	0	{hoodie-cli => hudi-cli}/src/main/resources/META-INF/NOTICE.txt
1	1	{hoodie-cli => hudi-cli}/src/main/resources/META-INF/spring/spring-shell-plugin.xml
6	6	{hoodie-cli/src/main/scala/com/uber/hoodie => hudi-cli/src/main/scala/org/apache/hudi}/cli/DedupeSparkJob.scala
9	9	{hoodie-cli/src/main/scala/com/uber/hoodie => hudi-cli/src/main/scala/org/apache/hudi}/cli/SparkHelpers.scala
12	12	{hoodie-client => hudi-client}/pom.xml
7	7	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/AbstractHoodieClient.java
25	25	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/CompactionAdminClient.java
18	18	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/HoodieReadClient.java
45	45	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/HoodieWriteClient.java
5	5	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/WriteStatus.java
7	7	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/client/embedded/EmbeddedTimelineService.java
3	3	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/client/utils/ClientUtils.java
5	5	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/config/HoodieCompactionConfig.java
2	2	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/config/HoodieHBaseIndexConfig.java
2	2	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/config/HoodieIndexConfig.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/config/HoodieMemoryConfig.java
2	2	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/config/HoodieMetricsConfig.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/config/HoodieStorageConfig.java
11	10	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/config/HoodieWriteConfig.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/exception/HoodieAppendException.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/exception/HoodieCommitException.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/exception/HoodieCompactionException.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/exception/HoodieDependentSystemUnavailableException.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/exception/HoodieInsertException.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/exception/HoodieRollbackException.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/exception/HoodieSavepointException.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/exception/HoodieUpsertException.java
6	6	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/func/BulkInsertMapFunction.java
14	14	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/func/CopyOnWriteLazyInsertIterable.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/func/LazyIterableIterator.java
7	7	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/func/MergeOnReadLazyInsertIterable.java
2	2	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/func/OperationResult.java
3	3	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/func/ParquetReaderIterator.java
7	7	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/func/SparkBoundedInMemoryExecutor.java
16	15	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/HoodieIndex.java
10	10	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/InMemoryHashIndex.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/BloomIndexFileInfo.java
2	3	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/BucketizedBloomCheckPartitioner.java
16	15	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/HoodieBloomIndex.java
11	11	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/HoodieBloomIndexCheckFunction.java
11	11	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/HoodieGlobalBloomIndex.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/IndexFileFilter.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/IntervalTreeBasedIndexFileFilter.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/KeyLookupResult.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/KeyRangeLookupTree.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/KeyRangeNode.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/ListBasedGlobalIndexFileFilter.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/bloom/ListBasedIndexFileFilter.java
2	3	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/hbase/DefaultHBaseQPSResourceAllocator.java
18	18	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/hbase/HBaseIndex.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/index/hbase/HBaseIndexQPSResourceAllocator.java
27	26	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieAppendHandle.java
18	17	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieCleanHelper.java
36	37	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieCommitArchiveLog.java
16	16	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieCreateHandle.java
4	4	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieIOHandle.java
12	12	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieKeyLookupHandle.java
22	22	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieMergeHandle.java
7	7	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieRangeInfoHandle.java
6	6	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieReadHandle.java
14	14	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/HoodieWriteHandle.java
6	6	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/compact/HoodieCompactor.java
24	24	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/compact/HoodieRealtimeTableCompactor.java
4	4	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/compact/strategy/BoundedIOCompactionStrategy.java
4	4	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
10	9	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/compact/strategy/CompactionStrategy.java
5	5	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/compact/strategy/DayBasedCompactionStrategy.java
7	7	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
4	4	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/compact/strategy/UnBoundedCompactionStrategy.java
4	4	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java
2	2	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/storage/HoodieParquetConfig.java
7	7	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/storage/HoodieParquetWriter.java
2	2	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/storage/HoodieStorageWriter.java
6	6	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/io/storage/HoodieStorageWriterFactory.java
25	27	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/metrics/HoodieMetrics.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/metrics/InMemoryMetricsReporter.java
3	3	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/metrics/Metrics.java
2	2	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/metrics/MetricsGraphiteReporter.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/metrics/MetricsReporter.java
2	2	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/metrics/MetricsReporterFactory.java
1	1	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/metrics/MetricsReporterType.java
31	31	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/table/HoodieCopyOnWriteTable.java
35	34	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/table/HoodieMergeOnReadTable.java
31	31	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/table/HoodieTable.java
3	3	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/table/UserDefinedBulkInsertPartitioner.java
5	5	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/table/WorkloadProfile.java
3	3	{hoodie-client/src/main/java/com/uber/hoodie => hudi-client/src/main/java/org/apache/hudi}/table/WorkloadStat.java
0	0	{hoodie-client => hudi-client}/src/main/resources/META-INF/LICENSE.txt
0	0	{hoodie-client => hudi-client}/src/main/resources/META-INF/NOTICE.txt
0	0	{hoodie-client => hudi-client}/src/main/resources/log4j.properties
13	13	{hoodie-client => hudi-client}/src/test/java/HoodieClientExample.java
33	32	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestAsyncCompaction.java
226	141	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestCleaner.java
19	19	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestClientRollback.java
17	18	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestCompactionAdminClient.java
6	6	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestConsistencyGuard.java
28	28	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestHoodieClientBase.java
33	33	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestHoodieClientOnCopyOnWriteStorage.java
4	4	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestHoodieReadClient.java
15	15	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestMultiFS.java
2	2	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/TestWriteStatus.java
21	21	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/common/HoodieClientTestUtils.java
5	7	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/common/HoodieMergeOnReadTestUtils.java
17	17	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/common/HoodieTestDataGenerator.java
6	6	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/common/TestRawTripPayload.java
2	2	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/config/HoodieWriteConfigTest.java
9	9	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/func/TestBoundedInMemoryExecutor.java
14	14	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/func/TestBoundedInMemoryQueue.java
2	2	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/func/TestParquetReaderIterator.java
15	15	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/func/TestUpdateMapFunction.java
13	13	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/index/TestHBaseQPSResourceAllocator.java
19	20	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/index/TestHbaseIndex.java
8	8	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/index/TestHoodieIndex.java
2	2	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/index/bloom/TestBucketizedBloomCheckPartitioner.java
16	16	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/index/bloom/TestHoodieBloomIndex.java
12	12	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/index/bloom/TestHoodieGlobalBloomIndex.java
1	1	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/index/bloom/TestKeyRangeLookupTree.java
60	60	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/io/TestHoodieCommitArchiveLog.java
23	23	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/io/TestHoodieCompactor.java
22	22	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/io/TestHoodieMergeHandle.java
14	14	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/io/strategy/TestHoodieCompactionStrategy.java
2	2	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/io/strategy/TestHoodieDataFile.java
2	2	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/io/strategy/TestHoodieLogFile.java
3	3	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/metrics/TestHoodieMetrics.java
22	22	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/table/TestCopyOnWriteTable.java
46	45	{hoodie-client/src/test/java/com/uber/hoodie => hudi-client/src/test/java/org/apache/hudi}/table/TestMergeOnReadTable.java
0	0	{hoodie-client => hudi-client}/src/test/resources/exampleEvolvedSchema.txt
0	0	{hoodie-client => hudi-client}/src/test/resources/exampleSchema.txt
0	0	{hoodie-client => hudi-client}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hoodie-client => hudi-client}/src/test/resources/log4j-surefire.properties
4	4	{hoodie-common => hudi-common}/pom.xml
2	2	{hoodie-common => hudi-common}/src/main/avro/HoodieArchivedMetaEntry.avsc
1	1	{hoodie-common => hudi-common}/src/main/avro/HoodieCleanMetadata.avsc
1	1	{hoodie-common => hudi-common}/src/main/avro/HoodieCommitMetadata.avsc
2	2	{hoodie-common => hudi-common}/src/main/avro/HoodieCompactionMetadata.avsc
1	1	{hoodie-common => hudi-common}/src/main/avro/HoodieCompactionOperation.avsc
1	1	{hoodie-common => hudi-common}/src/main/avro/HoodieRestoreMetadata.avsc
1	1	{hoodie-common => hudi-common}/src/main/avro/HoodieRollbackMetadata.avsc
1	1	{hoodie-common => hudi-common}/src/main/avro/HoodieSavePointMetadata.avsc
3	3	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/avro/HoodieAvroWriteSupport.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/avro/MercifulJsonConverter.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/BloomFilter.java
4	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/HoodieCleanStat.java
5	5	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/HoodieJsonPayload.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/HoodieRollbackStat.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/SerializableConfiguration.java
8	8	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/io/storage/HoodieWrapperFileSystem.java
3	3	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/io/storage/SizeAwareFSDataOutputStream.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/ActionType.java
4	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/CompactionOperation.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/FileSlice.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieArchivedLogFile.java
4	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieAvroPayload.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieCleaningPolicy.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieCommitMetadata.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieDataFile.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieDeltaWriteStat.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieFileFormat.java
8	5	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieFileGroup.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieFileGroupId.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieKey.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieLogFile.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodiePartitionMetadata.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieRecord.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieRecordLocation.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieRecordPayload.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieRollingStat.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieRollingStatMetadata.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieTableType.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/model/HoodieWriteStat.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/storage/SizeAwareDataInputStream.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/storage/StorageSchemes.java
9	6	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/HoodieTableConfig.java
14	16	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/HoodieTableMetaClient.java
7	7	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/HoodieTimeline.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/SyncableFileSystemView.java
9	9	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/TableFileSystemView.java
15	15	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/AbstractHoodieLogRecordScanner.java
14	14	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/HoodieLogFileReader.java
6	6	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/HoodieLogFormat.java
4	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/HoodieLogFormatReader.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/HoodieLogFormatVersion.java
9	9	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/HoodieLogFormatWriter.java
11	11	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/HoodieMergedLogRecordScanner.java
4	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/HoodieUnMergedLogRecordScanner.java
6	6	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/block/HoodieAvroDataBlock.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/block/HoodieAvroDataBlockVersion.java
3	3	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/block/HoodieCommandBlock.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/block/HoodieCommandBlockVersion.java
3	3	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/block/HoodieCorruptBlock.java
8	8	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/block/HoodieDeleteBlock.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/block/HoodieDeleteBlockVersion.java
7	7	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/block/HoodieLogBlock.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/log/block/HoodieLogBlockVersion.java
6	6	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/HoodieActiveTimeline.java
5	5	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/HoodieArchivedTimeline.java
5	5	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/HoodieDefaultTimeline.java
3	3	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/HoodieInstant.java
4	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/CompactionOpDTO.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/DataFileDTO.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/FSPermissionDTO.java
3	3	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/FileGroupDTO.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/FilePathDTO.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/FileSliceDTO.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/FileStatusDTO.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/InstantDTO.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/LogFileDTO.java
4	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/timeline/dto/TimelineDTO.java
17	17	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/AbstractTableFileSystemView.java
6	6	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/FileSystemViewManager.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/FileSystemViewStorageConfig.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/FileSystemViewStorageType.java
9	9	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/HoodieTableFileSystemView.java
20	20	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/IncrementalTimelineSyncFileSystemView.java
15	15	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/PriorityBasedFileSystemView.java
19	19	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/RemoteHoodieTableFileSystemView.java
13	13	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/RocksDbBasedFileSystemView.java
9	9	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/table/view/SpillableMapBasedFileSystemView.java
15	15	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/AvroUtils.java
11	11	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/CompactionUtils.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/ConsistencyGuard.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/ConsistencyGuardConfig.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/DFSPropertiesConfiguration.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/DefaultSizeEstimator.java
15	17	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/FSUtils.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/FailSafeConsistencyGuard.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/Functions.java
4	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/HoodieAvroUtils.java
5	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/HoodieRecordSizeEstimator.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/HoodieTimer.java
11	10	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/LogReaderUtils.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/NetworkUtils.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/NoOpConsistencyGuard.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/NumericUtils.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/Option.java
9	11	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/ParquetUtils.java
3	3	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/ReflectionUtils.java
4	4	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/RocksDBDAO.java
5	5	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/RocksDBSchemaHelper.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/SerializationUtils.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/SizeEstimator.java
12	12	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/SpillableMapUtils.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/StringUtils.java
5	5	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/TimelineDiffHelper.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/TypedProperties.java
8	8	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/collection/DiskBasedMap.java
3	3	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/collection/ExternalSpillableMap.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/collection/ImmutablePair.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/collection/ImmutableTriple.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/collection/LazyFileIterable.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/collection/Pair.java
3	3	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/collection/RocksDBBasedMap.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/collection/Triple.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/collection/io/storage/SizeAwareDataOutputStream.java
5	5	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/queue/BoundedInMemoryExecutor.java
5	5	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/queue/BoundedInMemoryQueue.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/queue/BoundedInMemoryQueueConsumer.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/queue/BoundedInMemoryQueueProducer.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/queue/FunctionBasedQueueProducer.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/common/util/queue/IteratorBasedQueueProducer.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/config/DefaultHoodieConfig.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/CorruptedLogFileException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/DatasetNotFoundException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/HoodieCorruptedDataException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/HoodieException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/HoodieIOException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/HoodieIndexException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/HoodieNotSupportedException.java
2	2	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/HoodieRecordMissingException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/HoodieRemoteException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/HoodieSerializationException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/InvalidDatasetException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/InvalidHoodiePathException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/MetadataNotFoundException.java
1	1	{hoodie-common/src/main/java/com/uber/hoodie => hudi-common/src/main/java/org/apache/hudi}/exception/SchemaCompatabilityException.java
0	0	{hoodie-common => hudi-common}/src/main/resources/META-INF/LICENSE.txt
0	0	{hoodie-common => hudi-common}/src/main/resources/META-INF/NOTICE.txt
1	1	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/TestBloomFilter.java
2	2	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/minicluster/HdfsTestService.java
1	1	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/minicluster/MiniClusterUtil.java
1	1	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/minicluster/ZookeeperTestService.java
4	4	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/model/AvroBinaryTestPayload.java
21	21	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/model/HoodieTestUtils.java
1	1	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/model/TestHoodieCommitMetadata.java
3	3	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/model/TestHoodieWriteStat.java
1	1	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/storage/TestStorageSchemes.java
6	6	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/HoodieTableMetaClientTest.java
8	8	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/log/HoodieLogFormatAppendFailureTest.java
22	22	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/log/HoodieLogFormatTest.java
7	7	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/string/HoodieActiveTimelineTest.java
4	4	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/string/MockHoodieTimeline.java
22	22	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/view/HoodieTableFileSystemViewTest.java
29	29	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/view/IncrementalFSViewSyncTest.java
4	4	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java
3	3	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/view/RocksDbBasedFileSystemViewTest.java
3	3	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/view/SpillableMapBasedFileSystemViewTest.java
4	4	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java
16	16	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/CompactionTestUtils.java
8	8	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/SchemaTestUtil.java
6	6	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/SpillableMapTestUtils.java
16	16	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/TestCompactionUtils.java
2	2	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/TestDFSPropertiesConfiguration.java
14	14	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/TestFSUtils.java
1	2	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/TestHoodieAvroUtils.java
1	1	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/TestNumericUtils.java
5	5	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/TestParquetUtils.java
1	1	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/TestRecord.java
3	3	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/TestRocksDBManager.java
1	1	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/TestSerializationUtils.java
14	14	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/collection/TestDiskBasedMap.java
12	12	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/collection/TestExternalSpillableMap.java
5	5	{hoodie-common/src/test/java/com/uber/hoodie => hudi-common/src/test/java/org/apache/hudi}/common/util/collection/TestRocksDbBasedMap.java
0	0	{hoodie-common => hudi-common}/src/test/resources/complex-test-evolved.avsc
0	0	{hoodie-common => hudi-common}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hoodie-common => hudi-common}/src/test/resources/log4j-surefire.properties
0	0	{hoodie-common => hudi-common}/src/test/resources/sample.data
0	0	{hoodie-common => hudi-common}/src/test/resources/simple-test-evolved.avsc
0	0	{hoodie-common => hudi-common}/src/test/resources/simple-test.avsc
8	8	{hoodie-hadoop-mr => hudi-hadoop-mr}/pom.xml
26	0	hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
26	0	hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
1	1	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/HoodieHiveUtil.java
13	13	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/HoodieInputFormat.java
9	9	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/HoodieROTablePathFilter.java
2	2	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/RecordReaderValueIterator.java
1	1	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/SafeParquetRecordReaderWrapper.java
1	1	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/UseFileSplitsFromInputFormat.java
4	4	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/hive/HoodieCombineHiveInputFormat.java
9	9	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/realtime/AbstractRealtimeRecordReader.java
1	1	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/realtime/HoodieParquetSerde.java
1	1	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/realtime/HoodieRealtimeFileSplit.java
14	14	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/realtime/HoodieRealtimeInputFormat.java
2	2	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/realtime/HoodieRealtimeRecordReader.java
7	7	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/realtime/RealtimeCompactedRecordReader.java
12	12	{hoodie-hadoop-mr/src/main/java/com/uber/hoodie => hudi-hadoop-mr/src/main/java/org/apache/hudi}/hadoop/realtime/RealtimeUnmergedRecordReader.java
0	0	{hoodie-hadoop-mr => hudi-hadoop-mr}/src/main/resources/META-INF/LICENSE.txt
0	0	{hoodie-hadoop-mr => hudi-hadoop-mr}/src/main/resources/META-INF/NOTICE.txt
1	1	{hoodie-hadoop-mr/src/test/java/com/uber/hoodie => hudi-hadoop-mr/src/test/java/org/apache/hudi}/hadoop/AnnotationTest.java
2	2	{hoodie-hadoop-mr/src/test/java/com/uber/hoodie => hudi-hadoop-mr/src/test/java/org/apache/hudi}/hadoop/HoodieInputFormatTest.java
8	8	{hoodie-hadoop-mr/src/test/java/com/uber/hoodie => hudi-hadoop-mr/src/test/java/org/apache/hudi}/hadoop/InputFormatTestUtil.java
3	3	{hoodie-hadoop-mr/src/test/java/com/uber/hoodie => hudi-hadoop-mr/src/test/java/org/apache/hudi}/hadoop/TestHoodieROTablePathFilter.java
2	2	{hoodie-hadoop-mr/src/test/java/com/uber/hoodie => hudi-hadoop-mr/src/test/java/org/apache/hudi}/hadoop/TestRecordReaderValueIterator.java
24	23	{hoodie-hadoop-mr/src/test/java/com/uber/hoodie => hudi-hadoop-mr/src/test/java/org/apache/hudi}/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
0	0	{hoodie-hadoop-mr => hudi-hadoop-mr}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hoodie-hadoop-mr => hudi-hadoop-mr}/src/test/resources/log4j-surefire.properties
1	1	{hoodie-hadoop-mr => hudi-hadoop-mr}/src/test/resources/sample1.avsc
10	10	{hoodie-hive => hudi-hive}/pom.xml
3	3	{hoodie-hive => hudi-hive}/run_sync_tool.sh
0	0	{hoodie-hive => hudi-hive}/src/assembly/src.xml
9	1	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/HiveSyncConfig.java
21	15	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/HiveSyncTool.java
14	14	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/HoodieHiveClient.java
1	1	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/HoodieHiveSyncException.java
1	1	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/MultiPartKeysValueExtractor.java
1	1	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/NonPartitionedExtractor.java
1	1	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/PartitionValueExtractor.java
1	1	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/SchemaDifference.java
1	1	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/SlashEncodedDayPartitionValueExtractor.java
1	1	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/util/ColumnNameXLator.java
9	9	{hoodie-hive/src/main/java/com/uber/hoodie => hudi-hive/src/main/java/org/apache/hudi}/hive/util/SchemaUtil.java
0	0	{hoodie-hive => hudi-hive}/src/main/resources/META-INF/LICENSE.txt
0	0	{hoodie-hive => hudi-hive}/src/main/resources/META-INF/NOTICE.txt
12	24	{hoodie-hive/src/test/java/com/uber/hoodie => hudi-hive/src/test/java/org/apache/hudi}/hive/HiveSyncToolTest.java
24	22	{hoodie-hive/src/test/java/com/uber/hoodie => hudi-hive/src/test/java/org/apache/hudi}/hive/TestUtil.java
2	2	{hoodie-hive/src/test/java/com/uber/hoodie => hudi-hive/src/test/java/org/apache/hudi}/hive/util/HiveTestService.java
0	0	{hoodie-hive => hudi-hive}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hoodie-hive => hudi-hive}/src/test/resources/log4j-surefire.properties
12	12	{hoodie-integ-test => hudi-integ-test}/pom.xml
0	0	{hoodie-integ-test => hudi-integ-test}/src/main/resources/META-INF/LICENSE.txt
0	0	{hoodie-integ-test => hudi-integ-test}/src/main/resources/META-INF/NOTICE.txt
1	1	{hoodie-integ-test/src/test/java/com/uber/hoodie => hudi-integ-test/src/test/java/org/apache/hudi}/integ/ITTestBase.java
1	1	{hoodie-integ-test/src/test/java/com/uber/hoodie => hudi-integ-test/src/test/java/org/apache/hudi}/integ/ITTestHoodieSanity.java
0	0	{hoodie-integ-test => hudi-integ-test}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hoodie-integ-test => hudi-integ-test}/src/test/resources/log4j-surefire.properties
17	17	{hoodie-spark => hudi-spark}/pom.xml
3	3	{hoodie-spark => hudi-spark}/run_hoodie_app.sh
4	4	{hoodie-spark/src/main/java/com/uber/hoodie => hudi-spark/src/main/java/org/apache/hudi}/BaseAvroPayload.java
5	5	{hoodie-spark/src/main/java/com/uber/hoodie => hudi-spark/src/main/java/org/apache/hudi}/ComplexKeyGenerator.java
22	19	{hoodie-spark/src/main/java/com/uber/hoodie => hudi-spark/src/main/java/org/apache/hudi}/DataSourceUtils.java
3	3	{hoodie-spark/src/main/java/com/uber/hoodie => hudi-spark/src/main/java/org/apache/hudi}/EmptyHoodieRecordPayload.java
6	6	{hoodie-spark/src/main/java/com/uber/hoodie => hudi-spark/src/main/java/org/apache/hudi}/HoodieDataSourceHelpers.java
4	4	{hoodie-spark/src/main/java/com/uber/hoodie => hudi-spark/src/main/java/org/apache/hudi}/KeyGenerator.java
3	3	{hoodie-spark/src/main/java/com/uber/hoodie => hudi-spark/src/main/java/org/apache/hudi}/NonpartitionedKeyGenerator.java
4	4	{hoodie-spark/src/main/java/com/uber/hoodie => hudi-spark/src/main/java/org/apache/hudi}/OverwriteWithLatestAvroPayload.java
4	4	{hoodie-spark/src/main/java/com/uber/hoodie => hudi-spark/src/main/java/org/apache/hudi}/SimpleKeyGenerator.java
0	0	{hoodie-spark => hudi-spark}/src/main/resources/META-INF/LICENSE.txt
0	0	{hoodie-spark => hudi-spark}/src/main/resources/META-INF/NOTICE.txt
1	1	{hoodie-spark/src/main/scala/com/uber/hoodie => hudi-spark/src/main/scala/org/apache/hudi}/AvroConversionUtils.scala
5	3	{hoodie-spark/src/main/scala/com/uber/hoodie => hudi-spark/src/main/scala/org/apache/hudi}/DataSourceOptions.scala
6	5	{hoodie-spark/src/main/scala/com/uber/hoodie => hudi-spark/src/main/scala/org/apache/hudi}/DefaultSource.scala
15	14	{hoodie-spark/src/main/scala/com/uber/hoodie => hudi-spark/src/main/scala/org/apache/hudi}/HoodieSparkSqlWriter.scala
5	5	{hoodie-spark/src/main/scala/com/uber/hoodie => hudi-spark/src/main/scala/org/apache/hudi}/HoodieStreamingSink.scala
7	7	{hoodie-spark/src/main/scala/com/uber/hoodie => hudi-spark/src/main/scala/org/apache/hudi}/IncrementalRelation.scala
4	4	{hoodie-spark/src/main/scala/com/uber/hoodie => hudi-spark/src/main/scala/org/apache/hudi}/package.scala
3	3	{hoodie-spark => hudi-spark}/src/test/java/DataSourceTestUtils.java
14	14	{hoodie-spark => hudi-spark}/src/test/java/HoodieJavaApp.java
14	13	{hoodie-spark => hudi-spark}/src/test/java/HoodieJavaStreamingApp.java
0	0	{hoodie-spark => hudi-spark}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hoodie-spark => hudi-spark}/src/test/resources/log4j-surefire.properties
3	3	{hoodie-spark => hudi-spark}/src/test/scala/DataSourceDefaultsTest.scala
22	22	{hoodie-spark => hudi-spark}/src/test/scala/DataSourceTest.scala
5	5	{hoodie-spark/src/test/scala/com/uber/hoodie => hudi-spark/src/test/scala/org/apache/hudi}/HoodieSparkSqlWriterSuite.scala
9	9	{hoodie-timeline-service => hudi-timeline-service}/pom.xml
0	0	{hoodie-timeline-service => hudi-timeline-service}/run_server.sh
104	85	{hoodie-timeline-service/src/main/java/com/uber/hoodie => hudi-timeline-service/src/main/java/org/apache/hudi}/timeline/service/FileSystemViewHandler.java
6	6	{hoodie-timeline-service/src/main/java/com/uber/hoodie => hudi-timeline-service/src/main/java/org/apache/hudi}/timeline/service/TimelineService.java
3	3	{hoodie-timeline-service/src/main/java/com/uber/hoodie => hudi-timeline-service/src/main/java/org/apache/hudi}/timeline/service/handlers/DataFileHandler.java
5	5	{hoodie-timeline-service/src/main/java/com/uber/hoodie => hudi-timeline-service/src/main/java/org/apache/hudi}/timeline/service/handlers/FileSliceHandler.java
2	2	{hoodie-timeline-service/src/main/java/com/uber/hoodie => hudi-timeline-service/src/main/java/org/apache/hudi}/timeline/service/handlers/Handler.java
4	4	{hoodie-timeline-service/src/main/java/com/uber/hoodie => hudi-timeline-service/src/main/java/org/apache/hudi}/timeline/service/handlers/TimelineHandler.java
0	0	{hoodie-timeline-service => hudi-timeline-service}/src/main/resources/META-INF/LICENSE.txt
0	0	{hoodie-timeline-service => hudi-timeline-service}/src/main/resources/META-INF/NOTICE.txt
10	10	{hoodie-timeline-service/src/test/java/com/uber/hoodie => hudi-timeline-service/src/test/java/org/apache/hudi}/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java
0	0	{hoodie-timeline-service => hudi-timeline-service}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hoodie-timeline-service => hudi-timeline-service}/src/test/resources/log4j-surefire.properties
18	18	{hoodie-utilities => hudi-utilities}/pom.xml
13	13	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/HDFSParquetImporter.java
8	8	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/HiveIncrementalPuller.java
5	5	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/HoodieCleaner.java
7	7	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/HoodieCompactionAdminTool.java
6	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/HoodieCompactor.java
13	13	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/HoodieSnapshotCopier.java
1	1	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/HoodieWithTimelineServer.java
15	15	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/UtilHelpers.java
114	0	hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java
2	2	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/deltastreamer/AbstractDeltaStreamerService.java
6	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/deltastreamer/Compactor.java
33	33	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/deltastreamer/DeltaSync.java
29	29	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/deltastreamer/HoodieDeltaStreamer.java
5	7	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java
3	3	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/deltastreamer/SchedulerConfGenerator.java
11	11	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/deltastreamer/SourceFormatAdapter.java
2	2	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/exception/HoodieDeltaStreamerException.java
2	2	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/exception/HoodieIncrementalPullException.java
1	1	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/exception/HoodieIncrementalPullSQLException.java
7	7	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/keygen/TimestampBasedKeyGenerator.java
11	11	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/perf/TimelineServerPerf.java
5	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/schema/FilebasedSchemaProvider.java
2	2	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/schema/RowBasedSchemaProvider.java
2	2	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/schema/SchemaProvider.java
4	5	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/schema/SchemaRegistryProvider.java
6	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/AvroDFSSource.java
6	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/AvroKafkaSource.java
3	3	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/AvroSource.java
10	9	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/HiveIncrPullSource.java
12	12	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/HoodieIncrSource.java
3	3	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/InputBatch.java
6	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/JsonDFSSource.java
6	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/JsonKafkaSource.java
3	3	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/JsonSource.java
6	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/RowSource.java
4	4	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/Source.java
2	2	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/helpers/AvroConvertor.java
13	10	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/helpers/DFSPathSelector.java
6	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/helpers/IncrSourceHelper.java
6	6	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/sources/helpers/KafkaOffsetGen.java
2	2	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/transform/IdentityTransformer.java
2	2	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/transform/SqlQueryBasedTransformer.java
2	2	{hoodie-utilities/src/main/java/com/uber/hoodie => hudi-utilities/src/main/java/org/apache/hudi}/utilities/transform/Transformer.java
0	0	{hoodie-utilities => hudi-utilities}/src/main/resources/META-INF/LICENSE.txt
0	0	{hoodie-utilities => hudi-utilities}/src/main/resources/META-INF/NOTICE.txt
35	0	hudi-utilities/src/test/java/org/apache/hudi/utilities/SchedulerConfGeneratorTest.java
8	8	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/TestHDFSParquetImporter.java
32	32	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/TestHoodieDeltaStreamer.java
4	4	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/TestHoodieSnapshotCopier.java
12	11	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/UtilitiesTestBase.java
10	10	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/sources/AbstractBaseTestSource.java
5	5	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/sources/DistributedTestDataSource.java
8	8	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/sources/TestDFSSource.java
4	4	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/sources/TestDataSource.java
9	9	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/sources/TestKafkaSource.java
1	1	{hoodie-utilities/src/test/java/com/uber/hoodie => hudi-utilities/src/test/java/org/apache/hudi}/utilities/sources/config/TestSourceConfig.java
0	0	{hoodie-utilities => hudi-utilities}/src/test/resources/IncrementalPull.sqltemplate
0	0	{hoodie-utilities => hudi-utilities}/src/test/resources/delta-streamer-config/base.properties
0	0	{hoodie-utilities => hudi-utilities}/src/test/resources/delta-streamer-config/dfs-source.properties
0	0	{hoodie-utilities => hudi-utilities}/src/test/resources/delta-streamer-config/kafka-source.properties
0	0	{hoodie-utilities => hudi-utilities}/src/test/resources/delta-streamer-config/source.avsc
0	0	{hoodie-utilities => hudi-utilities}/src/test/resources/delta-streamer-config/sql-transformer.properties
0	0	{hoodie-utilities => hudi-utilities}/src/test/resources/delta-streamer-config/target.avsc
0	0	{hoodie-utilities => hudi-utilities}/src/test/resources/log4j-surefire-quiet.properties
0	0	{hoodie-utilities => hudi-utilities}/src/test/resources/log4j-surefire.properties
22	22	packaging/{hoodie-hadoop-mr-bundle => hudi-hadoop-mr-bundle}/pom.xml
2	2	packaging/{hoodie-presto-bundle/src/main/java/com/uber/hoodie/presto => hudi-hadoop-mr-bundle/src/main/java/org/apache/hudi/hadoop}/bundle/Main.java
0	0	packaging/{hoodie-hadoop-mr-bundle => hudi-hadoop-mr-bundle}/src/main/resources/META-INF/HUDI_LICENSE.txt
0	0	packaging/{hoodie-hadoop-mr-bundle => hudi-hadoop-mr-bundle}/src/main/resources/META-INF/HUDI_NOTICE.txt
19	19	packaging/{hoodie-hive-bundle => hudi-hive-bundle}/pom.xml
2	2	packaging/{hoodie-hive-bundle/src/main/java/com/uber/hoodie => hudi-hive-bundle/src/main/java/org/apache/hudi}/hive/bundle/Main.java
0	0	packaging/{hoodie-hive-bundle => hudi-hive-bundle}/src/main/resources/META-INF/HUDI_LICENSE.txt
0	0	packaging/{hoodie-hive-bundle => hudi-hive-bundle}/src/main/resources/META-INF/HUDI_NOTICE.txt
18	18	packaging/{hoodie-presto-bundle => hudi-presto-bundle}/pom.xml
2	2	packaging/{hoodie-hadoop-mr-bundle/src/main/java/com/uber/hoodie/hadoop => hudi-presto-bundle/src/main/java/org/apache/hudi/presto}/bundle/Main.java
0	0	packaging/{hoodie-presto-bundle => hudi-presto-bundle}/src/main/resources/META-INF/HUDI_LICENSE.txt
0	0	packaging/{hoodie-presto-bundle => hudi-presto-bundle}/src/main/resources/META-INF/HUDI_NOTICE.txt
35	34	packaging/{hoodie-spark-bundle => hudi-spark-bundle}/pom.xml
2	2	packaging/{hoodie-spark-bundle/src/main/java/com/uber/hoodie => hudi-spark-bundle/src/main/java/org/apache/hudi}/spark/bundle/Main.java
0	0	packaging/{hoodie-spark-bundle => hudi-spark-bundle}/src/main/resources/META-INF/HUDI_LICENSE.txt
0	0	packaging/{hoodie-spark-bundle => hudi-spark-bundle}/src/main/resources/META-INF/HUDI_NOTICE.txt
43	43	packaging/{hoodie-utilities-bundle => hudi-utilities-bundle}/pom.xml
2	2	packaging/{hoodie-utilities-bundle/src/main/java/com/uber/hoodie => hudi-utilities-bundle/src/main/java/org/apache/hudi}/utilities/bundle/Main.java
0	0	packaging/{hoodie-utilities-bundle => hudi-utilities-bundle}/src/main/resources/META-INF/HUDI_LICENSE.txt
0	0	packaging/{hoodie-utilities-bundle => hudi-utilities-bundle}/src/main/resources/META-INF/HUDI_NOTICE.txt
26	26	pom.xml

commit 722b6be04a0083f96438fe026cafd4cec5ef6093
Author: yanghua <yanghua1127@gmail.com>
Date:   2019-08-06 14:20:42 +0800

    [HUDI-153] Use com.uber.hoodie.common.util.Option instead of Java and Guava Optional

4	4	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java
8	8	hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java
3	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java
2	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java
2	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
7	7	hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java
29	29	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
15	15	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
36	37	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java
5	5	hoodie-client/src/main/java/com/uber/hoodie/func/OperationResult.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/func/SparkBoundedInMemoryExecutor.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
10	9	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
9	10	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
5	5	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
6	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieWriteHandle.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java
3	3	hoodie-client/src/test/java/HoodieClientExample.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
25	25	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
4	4	hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java
4	4	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
4	5	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
2	3	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
11	11	hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java
5	5	hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java
6	6	hoodie-client/src/test/java/com/uber/hoodie/index/TestHBaseQPSResourceAllocator.java
4	4	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
29	29	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java
4	4	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java
5	5	hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java
6	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java
16	16	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java
3	3	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java
5	5	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java
6	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
5	5	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
7	7	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
6	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java
5	5	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java
6	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
9	9	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
23	23	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
4	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java
14	14	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
27	27	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java
3	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/IncrementalTimelineSyncFileSystemView.java
11	12	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
3	4	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java
7	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/TimelineDiffHelper.java
4	4	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueue.java
5	5	hoodie-common/src/test/java/com/uber/hoodie/common/model/AvroBinaryTestPayload.java
6	6	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
3	3	hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java
9	9	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
22	22	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
6	6	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java
8	9	hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java
3	4	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
1	2	hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java
5	6	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java
3	3	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java
3	3	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java
4	4	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
2	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java
2	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeUnmergedRecordReader.java
2	2	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java
8	8	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
2	2	hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java
3	3	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
5	5	hoodie-spark/src/main/java/com/uber/hoodie/EmptyHoodieRecordPayload.java
5	5	hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java
5	5	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala
8	2	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieStreamingSink.scala
4	4	hoodie-spark/src/test/java/DataSourceTestUtils.java
2	4	hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
4	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/Compactor.java
20	20	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
7	3	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SchedulerConfGenerator.java
7	7	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SourceFormatAdapter.java
5	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroDFSSource.java
4	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java
9	9	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
6	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HoodieIncrSource.java
5	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/InputBatch.java
5	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java
4	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java
4	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/RowSource.java
3	3	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java
5	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/DFSPathSelector.java
8	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/IncrSourceHelper.java
3	3	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/KafkaOffsetGen.java
2	2	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java
2	2	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/AbstractBaseTestSource.java
4	4	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/DistributedTestDataSource.java
9	9	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDFSSource.java
4	4	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java
10	10	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestKafkaSource.java

commit d288e328339f29b8d5acffea416c9bd1281e6010
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date:   2019-07-17 21:58:01 -0700

    HUDI-171 delete tmp file in addShutDownHook

17	13	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java

commit ec965892b042b123e985db5676fdf599d934404c
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-08-01 08:54:09 -0700

    HUDI-149 - Remove platform dependencies and update NOTICE plugin

48	15	NOTICE.txt
66	21	docker/hoodie/hadoop/NOTICE.txt
66	21	docker/hoodie/hadoop/base/NOTICE.txt
66	21	docker/hoodie/hadoop/datanode/NOTICE.txt
66	21	docker/hoodie/hadoop/historyserver/NOTICE.txt
66	21	docker/hoodie/hadoop/hive_base/NOTICE.txt
66	21	docker/hoodie/hadoop/namenode/NOTICE.txt
66	21	docker/hoodie/hadoop/spark_base/NOTICE.txt
66	21	docker/hoodie/hadoop/sparkadhoc/NOTICE.txt
66	21	docker/hoodie/hadoop/sparkmaster/NOTICE.txt
66	21	docker/hoodie/hadoop/sparkworker/NOTICE.txt
1	42	hoodie-cli/src/main/resources/META-INF/NOTICE.txt
4	0	hoodie-client/pom.xml
31	20	hoodie-client/src/main/resources/META-INF/NOTICE.txt
0	4	hoodie-common/src/main/resources/META-INF/NOTICE.txt
72	18	hoodie-hadoop-mr/src/main/resources/META-INF/NOTICE.txt
5	1	hoodie-hive/pom.xml
67	17	hoodie-hive/src/main/resources/META-INF/NOTICE.txt
65	18	hoodie-integ-test/src/main/resources/META-INF/NOTICE.txt
57	18	hoodie-spark/src/main/resources/META-INF/NOTICE.txt
0	4	hoodie-timeline-service/src/main/resources/META-INF/NOTICE.txt
6	0	hoodie-utilities/pom.xml
58	15	hoodie-utilities/src/main/resources/META-INF/NOTICE.txt
72	17	packaging/hoodie-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
69	17	packaging/hoodie-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
0	4	packaging/hoodie-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
59	20	packaging/hoodie-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
56	15	packaging/hoodie-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
122	1	pom.xml

commit a066865bd6e1bbdae145324d70fbfb8b5b69b2ab
Author: n3nash <nagarwal@uber.com>
Date:   2019-08-03 08:44:01 -0700

    - Adding HoodieCombineHiveInputFormat for COW tables (#811)
    
    - Combine input format helps to reduce large scans into smaller ones by combining map tasks
    - Implementation to support Hive 2.x and above

933	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/hive/HoodieCombineHiveInputFormat.java

commit 1a29d46a5707d58a33f170ce6877ebbe814715e2
Author: n3nash <nagarwal@uber.com>
Date:   2019-08-02 16:06:34 -0700

    - Fix realtime queries by removing COLUMN_ID and COLUMN_NAME cache in inputformat (#814)
    
    - Hive on Spark will NOT work for RT tables after this patch

1	15	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java

commit 86b5fcdd332f8d7f1c079dbc54756173ca4b7c94
Author: venkatr <venkatr@uber.com>
Date:   2019-07-24 17:55:38 -0700

    Cache RDD to avoid recomputing data ingestion. Return result RDD after updating index so that this step is not skipped by chained actions on the same RDD

6	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
29	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
4	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
4	0	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
18	13	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
51	0	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java

commit 8139ffd94cae2b924477d3bd4fd4781929662b04
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-08-02 05:12:47 -0700

    HUDI-197 Hive Sync and othe CLIs using bundle picking sources jar instead of binary jar

1	1	hoodie-cli/hoodie-cli.sh
1	1	hoodie-hive/run_sync_tool.sh
1	1	hoodie-spark/run_hoodie_app.sh

commit 8ddfa2ecda33830d30bf53bdf6a926a2a88855c9
Author: vinothchandar <vinoth@apache.org>
Date:   2019-08-02 04:11:53 -0700

    HUDI-178 : Add keys for vinoth to KEYS file

49	0	KEYS

commit 69d2afd0a9d5fc59091429770da48869d146b05b
Author: Anbu Cheeralan <alunarbeach@gmail.com>
Date:   2019-08-01 14:05:06 -0400

    Update Keys with anchee@apache.org

60	0	KEYS

commit 171901a9d0bfe6d405a10e8774d74b88a87edf0b
Author: Luke Zhu <luke.l.zhu@gmail.com>
Date:   2019-08-01 08:51:57 -0700

    Fix typo in hoodie-presto-bundle (#818)

3	3	packaging/hoodie-presto-bundle/pom.xml

commit 6e0ff3a235602c6181e90ffe77de76a36fd21af4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-07-30 18:17:14 -0700

    Generate Source Jars for bundle packages (#810)

1	0	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	0	packaging/hoodie-hive-bundle/pom.xml
1	0	packaging/hoodie-presto-bundle/pom.xml
1	0	packaging/hoodie-spark-bundle/pom.xml
1	0	packaging/hoodie-utilities-bundle/pom.xml

commit e20b77be3b1e14039d659cd56bec163708e1b24d
Author: Vinoth Chandar <vinoth@apache.org>
Date:   2019-07-19 04:53:28 -0700

    HUDI-92 : Making deltastreamer with DistributedTestSource also run locally
    
     - Separating out the test data generators per partition
     - Minor logging improvements on IOHandle performance

1	0	.gitignore
16	9	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
4	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
14	8	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
20	18	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/AbstractBaseTestSource.java
5	5	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/DistributedTestDataSource.java
3	4	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java

commit 68464c7d027462eb481b3edffc980c4d0a0bd643
Author: vinoyang <yanghua1127@gmail.com>
Date:   2019-07-30 18:47:53 +0800

    [HUDI-181] Fix the Bold markdown grammar issue of README file (#808)

1	1	README.md

commit e0648de2ef89ec55481a185a520a79b325236e28
Author: eisig <eisig.g@live.com>
Date:   2019-07-30 01:40:02 +0800

    HUDI-175 - add an option to   manually override the DeltaStreamer checkpoint (#798)
    
    
    - Add cli option to allow override the checkpoint using `--checkpoint`
    - Persist overridden checkpoint into commit metadata

11	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java
7	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 9265c7cc36381591d92fca60517d1c64f7481709
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-07-28 20:05:29 -0700

    Add balaji gpg key to KEYS file

60	0	KEYS

commit 83dab21ae13137270df79c1b731b131ed3a24aa1
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-07-24 21:31:46 -0700

    Allow HoodieWrapperFileSystem to wrap other proxy file-system implementations with no getScheme implementation (#793)

5	3	hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/HoodieWrapperFileSystem.java

commit 0b451b3a58cabe25c0cecd3fd8847a8597e2313a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-07-15 17:29:34 -0700

    HUDI-140 : GCS: Log File Reading not working due to difference in seek() behavior for EOF

6	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
21	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
12	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java

commit 9857c4b21ccb77a97817e1e448c4c54bdd409562
Author: eisig <eisig.g@live.com>
Date:   2019-07-19 20:01:45 +0800

    add jssc.stop() (#797)

9	3	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
5	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 6efa16317c0f0f13798d739d9615dda24bf91bcf
Author: n3nash <nagarwal@uber.com>
Date:   2019-07-17 03:25:54 -0700

    Fixing default value for avro 1.7 which assumes NULL value instead of a jsonnode that is null (#792)

7	7	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java

commit 3d408ee96b7cc8eb15756276dbab031eb549e6e2
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-07-16 17:33:34 -0700

    HUDI-168 Ensure getFileStatus calls for files getting written is done after close() is called (#788)

9	4	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java

commit c0593e7a13b6c0bdb35c944e3ed67a79f3ce9b9b
Author: eisig <eisig.g@live.com>
Date:   2019-07-16 04:25:55 +0800

    fix HoodieLogFileReader (#787)

11	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java

commit ae3c02fb3fff47da8f20c4f9c8012a257a3df792
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-07-01 18:19:12 -0700

    HUDI-162 : File System view must be built with correct timeline actions

1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
6	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
8	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
28	10	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java
0	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
15	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/IncrementalTimelineSyncFileSystemView.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemView.java
25	7	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java

commit 5823c1ebd7e12a48805eed05532edfd25b69c6fe
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-20 18:05:01 -0700

    HUDI-138 - Meta Files handling also need to support consistency guard

23	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java
2	4	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java
2	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
21	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java
2	4	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java
6	0	hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
24	35	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
39	0	hoodie-client/src/main/java/com/uber/hoodie/client/utils/ClientUtils.java
22	27	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
0	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieReadHandle.java
1	14	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieWriteHandle.java
5	6	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
6	2	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
16	5	hoodie-client/src/test/java/com/uber/hoodie/TestConsistencyGuard.java
6	4	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
8	2	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
126	25	hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/HoodieWrapperFileSystem.java
33	5	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
121	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/ConsistencyGuardConfig.java
15	17	hoodie-common/src/main/java/com/uber/hoodie/common/util/FailSafeConsistencyGuard.java

commit 621c246fa9ea607a3cd8f33fdc3d8b528315e327
Author: Yihua Guo <yhguo@umich.edu>
Date:   2019-07-12 13:45:49 -0700

    [HUDI-161] Remove --key-generator-class CLI arg in HoodieDeltaStreamer and use key generator class specified in datasource properties. (#781)

10	3	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
1	4	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java
0	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
50	8	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java

commit 11c4121f739d1d00a4ec66b4e243e47602d6ffb4
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date:   2019-07-13 00:17:16 +0800

    Fixed TableNotFoundException when write with structured streaming (#778)
    
    - When write to a new hoodie table, if checkpoint dir is under target path, Spark will create the base path and thus skip initializing .hoodie which result in error
    
    - apply .hoodie existent check for all save mode

5	5	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala

commit 62ecb2da62117e65117f7f6070469ac27a3ea5dd
Author: Thinking Chen <744417972@qq.com>
Date:   2019-07-09 07:13:22 +0800

    when column type is decimal, should add precision and scale (#753)

5	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java

commit 9f18a1ca80ec1d08253688d9b4d4538a86068559
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-28 17:49:23 -0700

    Fixing bugs found during running hoodie demo (#760)

1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java
4	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java
24	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit e48e35385a91cf6d03a0a91d71aabfe78fe82928
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date:   2019-06-25 00:42:31 +0800

    Added preemptive check for 'spark.scheduler.mode'
    
    When running docker demo, NoSuchElementException was thrown because spark.scheduler.mode is not set.
    Also we want to check before initializing the Spark Context to avoid polute the SparkConf
    with unused config.

1	23	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
31	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SchedulerConfGenerator.java
36	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/SchedulerConfGeneratorTest.java

commit 17e878f721c110f274251d2ba6c7c50fcd58cb8f
Author: Jaimin Shah <shahjaimin03@gmail.com>
Date:   2019-06-21 12:55:06 +0530

    adding support for complex keys (#728)
    
    - Resolving the issue related to ambiguity in recordKey by creating and parsing json object as string.
    - added unit test for ComplexKeyGenerator
    - minor changes

81	0	hoodie-spark/src/main/java/com/uber/hoodie/ComplexKeyGenerator.java
54	1	hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala

commit 1b61eb45e0643a76cfc949e61d2ddd51f7d7183e
Author: Ron Barabash <rbarabash@yotpo.com>
Date:   2019-06-19 09:46:53 +0300

    Adding support for optional skipping single archiving failures

8	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
10	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java

commit 66c7fa2322d0dce8ebb29f9b15a711f5f7b72884
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-19 14:15:02 -0700

    Reword confusing message and reducing the severity level

4	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java

commit 822312761113baea86145279a156c9c63d1a331d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-20 12:34:14 -0700

    Add maprfs to storage schemes

2	0	hoodie-common/src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java

commit 2c40e8419e209767653e2741e653a71bb429d31d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-20 08:34:56 -0700

    Ensure TableMetaClient and FileSystem instances have exclusive copy of Configuration

1	1	hoodie-client/src/main/java/com/uber/hoodie/client/embedded/EmbeddedTimelineService.java
6	2	hoodie-common/src/main/java/com/uber/hoodie/common/SerializableConfiguration.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewManager.java
7	2	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/TimelineService.java

commit a0d7ab238473f22347e140b0e1e273ab80583eb7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-15 13:21:55 -0700

    HUDI-70 : Making DeltaStreamer run in continuous mode with concurrent compaction

32	13	hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java
6	0	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
21	6	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
12	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
4	0	hoodie-client/src/main/java/com/uber/hoodie/client/embedded/EmbeddedTimelineService.java
70	29	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
1	0	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemView.java
8	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java
86	5	hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBDAO.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
125	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/RocksDBBasedMap.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRocksDBManager.java
56	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestRocksDbBasedMap.java
8	4	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
17	16	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala
2	1	hoodie-spark/src/test/scala/DataSourceTest.scala
16	1	hoodie-utilities/pom.xml
14	3	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
146	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/AbstractDeltaStreamerService.java
62	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/Compactor.java
495	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java
365	309	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
94	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SchedulerConfGenerator.java
106	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java
103	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/AbstractBaseTestSource.java
79	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/DistributedTestDataSource.java
6	40	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java
43	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/config/TestSourceConfig.java
5	0	packaging/hoodie-utilities-bundle/pom.xml
5	0	pom.xml

commit 3a210ef08e178d4cb41f7d7a0ab774a04d0e8eab
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-18 11:28:20 -0700

    Disable Notice Plugin

2	1	pom.xml

commit a1483f2c5f3b921d1117d31f75453e45e5717259
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-08 12:40:08 -0700

    HUDI-148 Small File selection logic for MOR must skip fileIds selected for pending compaction correctly

1	1	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java
6	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
9	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java
4	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/PriorityBasedFileSystemView.java
7	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RemoteHoodieTableFileSystemView.java
9	4	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
2	1	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/FileSystemViewHandler.java
3	3	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/FileSliceHandler.java

commit 8c9980f4f5aab1f7d576567595d4cc0e4745308a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2019-06-17 18:19:34 -0700

    Update README.md

4	3	README.md

commit 8e08d498c9c822e5d23ef2392863a97ce6fc1a96
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-06-14 14:22:48 -0700

    Reading baseCommitTime from the latest file slice as opposed to the tagged record value

6	9	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java

commit 129e4336413fd2290e137804cf16c515c502c2f7
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-05-10 13:09:09 -0700

    - Ugrading to Hive 2.x
    - Eliminating in-memory deltaRecordsMap
    - Use writerSchema to generate generic record needed by custom payloads
    - changes to make tests work with hive 2.x

0	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java
2	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
20	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
10	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
18	4	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
81	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/LogReaderUtils.java
2	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
6	5	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/SafeParquetRecordReaderWrapper.java
61	71	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java
21	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
8	7	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
40	43	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java
7	6	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeUnmergedRecordReader.java
3	2	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java
44	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
133	26	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
15	0	hoodie-hive/pom.xml
6	3	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
3	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java
43	8	hoodie-utilities/pom.xml
1	1	pom.xml
30	10	release/config/license-mappings.xml

commit cd7623e2160abd43ea44f48a9640ea8fa0bb6db3
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-12 18:28:49 -0700

    All Opened hoodie clients in tests needs to be closed
    TestMergeOnReadTable must use embedded timeline server

1	1	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java
27	10	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
7	7	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
6	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java
21	2	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java
18	4	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java
16	2	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
16	2	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandle.java
31	17	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java

commit 136f8478a3d8deb1e2c00ee2bf45dd5f25fcb87f
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-12 18:28:49 -0700

    TestMergeOnReadTable must use embedded timeline server

2	0	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
0	56	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeonReadTableWithEmbeddedServer.java

commit 04fc86b43d0afc39b76a7d85e82e8b94dee42923
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-12 16:50:13 -0700

    Turn on embedded server for all client tests

6	5	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
0	56	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompactionWithEmbeddedTimelineServer.java
0	47	hoodie-client/src/test/java/com/uber/hoodie/TestCleanerWithEmbeddedTimelineServer.java
13	1	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
0	4	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
0	47	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClientWithEmbeddedServer.java
0	57	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieWriteClientWithEmbeddedServer.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java
0	38	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFSWithEmbeddedServer.java

commit 1c943ab2305a06467cb039b534ee0915e4ef7453
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-11 19:06:06 -0700

    Ensure log files are consistently ordered when scanning

1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java
2	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
110	49	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java

commit b791473a6d663cd4ac2ce535aaa62bcd89fea3af
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-21 15:37:38 -0700

    Introduce HoodieReadHandle abstraction into index
    
     - Generalized BloomIndex to work with file ids instead of paths
     - Abstracted away Bloom filter checking into HoodieLookupHandle
     - Abstracted away range information retrieval into HoodieRangeInfoHandle

15	3	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
2	3	hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java
4	5	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
11	11	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java
47	48	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
26	112	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedIndexFileFilter.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedGlobalIndexFileFilter.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedIndexFileFilter.java
3	4	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
5	147	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
158	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieKeyLookupHandle.java
68	8	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
43	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieRangeInfoHandle.java
59	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieReadHandle.java
183	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieWriteHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java
14	13	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
23	18	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java
2	2	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java

commit 51d122b5c39525720ce946755f57326ce24f6e38
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-11 12:58:58 -0700

    Close Hoodie Clients which are opened to properly shutdown embedded timeline service

6	1	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
46	41	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactionAdminTool.java

commit 065173211e2d884e22d48173f75763c8f6b6c7e3
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-08 01:45:19 -0700

    HUDI-147 Compaction Inflight Rollback not deleting Marker directory

5	13	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
19	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java

commit 479908fd20a97c5f7007f06ba7ee3904967e1050
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-08 22:31:47 -0700

    HUDI-125 : Change License for all source files and update RAT configurations

0	16	deploy/maven/sonatype-settings.xml
18	0	docker/build_local_docker_images.sh
15	15	docker/demo/config/base.properties
15	14	docker/demo/config/kafka-source.properties
18	0	docker/demo/setup_demo_container.sh
18	0	docker/hoodie/hadoop/base/Dockerfile
18	0	docker/hoodie/hadoop/base/entrypoint.sh
18	0	docker/hoodie/hadoop/base/export_container_ip.sh
14	14	docker/hoodie/hadoop/base/pom.xml
18	0	docker/hoodie/hadoop/datanode/Dockerfile
14	14	docker/hoodie/hadoop/datanode/pom.xml
18	0	docker/hoodie/hadoop/datanode/run_dn.sh
18	0	docker/hoodie/hadoop/historyserver/Dockerfile
14	14	docker/hoodie/hadoop/historyserver/pom.xml
18	0	docker/hoodie/hadoop/historyserver/run_history.sh
18	0	docker/hoodie/hadoop/hive_base/Dockerfile
14	12	docker/hoodie/hadoop/hive_base/conf/beeline-log4j2.properties
14	12	docker/hoodie/hadoop/hive_base/conf/hive-env.sh
14	12	docker/hoodie/hadoop/hive_base/conf/hive-exec-log4j2.properties
14	12	docker/hoodie/hadoop/hive_base/conf/hive-log4j2.properties
14	15	docker/hoodie/hadoop/hive_base/conf/ivysettings.xml
14	12	docker/hoodie/hadoop/hive_base/conf/llap-daemon-log4j2.properties
18	0	docker/hoodie/hadoop/hive_base/entrypoint.sh
14	14	docker/hoodie/hadoop/hive_base/pom.xml
18	0	docker/hoodie/hadoop/hive_base/startup.sh
18	0	docker/hoodie/hadoop/namenode/Dockerfile
14	14	docker/hoodie/hadoop/namenode/pom.xml
18	0	docker/hoodie/hadoop/namenode/run_nn.sh
14	14	docker/hoodie/hadoop/pom.xml
18	0	docker/hoodie/hadoop/spark_base/Dockerfile
18	0	docker/hoodie/hadoop/spark_base/execute-step.sh
18	0	docker/hoodie/hadoop/spark_base/finish-step.sh
14	14	docker/hoodie/hadoop/spark_base/pom.xml
18	0	docker/hoodie/hadoop/spark_base/wait-for-step.sh
18	0	docker/hoodie/hadoop/sparkadhoc/Dockerfile
18	0	docker/hoodie/hadoop/sparkadhoc/adhoc.sh
14	14	docker/hoodie/hadoop/sparkadhoc/pom.xml
18	0	docker/hoodie/hadoop/sparkmaster/Dockerfile
18	0	docker/hoodie/hadoop/sparkmaster/master.sh
14	14	docker/hoodie/hadoop/sparkmaster/pom.xml
18	0	docker/hoodie/hadoop/sparkworker/Dockerfile
14	14	docker/hoodie/hadoop/sparkworker/pom.xml
18	0	docker/hoodie/hadoop/sparkworker/worker.sh
18	0	docker/setup_demo.sh
18	0	docker/stop_demo.sh
15	15	hoodie-cli/pom.xml
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieHistoryFileNameProvider.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieSplashScreen.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/Main.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/TableHeader.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
9	7	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java
9	7	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RollbacksCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/UtilsCommand.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/InputStreamConsumer.java
8	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java
15	13	hoodie-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml
7	6	hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala
7	6	hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala
15	15	hoodie-client/pom.xml
8	7	hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java
13	11	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
9	8	hoodie-client/src/main/java/com/uber/hoodie/client/embedded/EmbeddedTimelineService.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieHBaseIndexConfig.java
9	7	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieAppendException.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCommitException.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCompactionException.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieDependentSystemUnavailableException.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieInsertException.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieRollbackException.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieSavepointException.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieUpsertException.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java
9	7	hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/func/LazyIterableIterator.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/func/MergeOnReadLazyInsertIterable.java
9	9	hoodie-client/src/main/java/com/uber/hoodie/func/OperationResult.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/func/ParquetReaderIterator.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/func/SparkBoundedInMemoryExecutor.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java
8	7	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BucketizedBloomCheckPartitioner.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IndexFileFilter.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedIndexFileFilter.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyLookupResult.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeLookupTree.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeNode.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedGlobalIndexFileFilter.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedIndexFileFilter.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/DefaultHBaseQPSResourceAllocator.java
9	9	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndexQPSResourceAllocator.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
14	12	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
13	11	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
13	11	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java
13	11	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
13	11	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
14	12	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java
13	11	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
13	11	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java
13	11	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriter.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/metrics/InMemoryMetricsReporter.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsGraphiteReporter.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporter.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterFactory.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterType.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/table/UserDefinedBulkInsertPartitioner.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java
10	9	hoodie-client/src/main/resources/log4j.properties
8	6	hoodie-client/src/test/java/HoodieClientExample.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
8	8	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompactionWithEmbeddedTimelineServer.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
13	11	hoodie-client/src/test/java/com/uber/hoodie/TestCleanerWithEmbeddedTimelineServer.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java
13	11	hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestConsistencyGuard.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClientWithEmbeddedServer.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieWriteClientWithEmbeddedServer.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFSWithEmbeddedServer.java
13	11	hoodie-client/src/test/java/com/uber/hoodie/TestWriteStatus.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java
9	7	hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/func/TestParquetReaderIterator.java
9	7	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/index/TestHBaseQPSResourceAllocator.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java
8	8	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestBucketizedBloomCheckPartitioner.java
8	8	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
8	8	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java
8	8	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestKeyRangeLookupTree.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
13	11	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandle.java
13	11	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
13	11	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java
13	11	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java
8	6	hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java
9	7	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
8	8	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
9	9	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeonReadTableWithEmbeddedServer.java
10	8	hoodie-client/src/test/resources/log4j-surefire-quiet.properties
10	8	hoodie-client/src/test/resources/log4j-surefire.properties
14	14	hoodie-common/pom.xml
8	6	hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/BloomFilter.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieRollbackStat.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/SerializableConfiguration.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/HoodieWrapperFileSystem.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/SizeAwareFSDataOutputStream.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/ActionType.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieArchivedLogFile.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCleaningPolicy.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDeltaWriteStat.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroupId.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStat.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStatMetadata.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/storage/SizeAwareDataInputStream.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/SyncableFileSystemView.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
9	7	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatVersion.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieUnMergedLogRecordScanner.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlockVersion.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlockVersion.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlockVersion.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlockVersion.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/CompactionOpDTO.java
9	7	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/DataFileDTO.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FSPermissionDTO.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileGroupDTO.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FilePathDTO.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileSliceDTO.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileStatusDTO.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/InstantDTO.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/LogFileDTO.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/TimelineDTO.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewManager.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageConfig.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageType.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/IncrementalTimelineSyncFileSystemView.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/PriorityBasedFileSystemView.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RemoteHoodieTableFileSystemView.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemView.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemView.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/ConsistencyGuard.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/DFSPropertiesConfiguration.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/DefaultSizeEstimator.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/FailSafeConsistencyGuard.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/Functions.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieRecordSizeEstimator.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieTimer.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/NetworkUtils.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/NoOpConsistencyGuard.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/NumericUtils.java
14	12	hoodie-common/src/main/java/com/uber/hoodie/common/util/Option.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBDAO.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBSchemaHelper.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java
14	12	hoodie-common/src/main/java/com/uber/hoodie/common/util/SizeEstimator.java
14	12	hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/StringUtils.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/TimelineDiffHelper.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/TypedProperties.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
14	12	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutablePair.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutableTriple.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Pair.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Triple.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/io/storage/SizeAwareDataOutputStream.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java
14	12	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueue.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueConsumer.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueProducer.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/FunctionBasedQueueProducer.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/IteratorBasedQueueProducer.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/CorruptedLogFileException.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieCorruptedDataException.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieException.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIOException.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIndexException.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSupportedException.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRecordMissingException.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRemoteException.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieSerializationException.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidDatasetException.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidHoodiePathException.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/exception/MetadataNotFoundException.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/exception/SchemaCompatabilityException.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/MiniClusterUtil.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/ZookeeperTestService.java
14	12	hoodie-common/src/test/java/com/uber/hoodie/common/model/AvroBinaryTestPayload.java
14	12	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommitMetadata.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieWriteStat.java
8	6	hoodie-common/src/test/java/com/uber/hoodie/common/storage/TestStorageSchemes.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java
8	6	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatAppendFailureTest.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
14	12	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemViewTest.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemViewTest.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java
8	8	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestDFSPropertiesConfiguration.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestHoodieAvroUtils.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestNumericUtils.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRecord.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRocksDBManager.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestSerializationUtils.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java
13	11	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java
10	8	hoodie-common/src/test/resources/log4j-surefire-quiet.properties
10	8	hoodie-common/src/test/resources/log4j-surefire.properties
14	14	hoodie-hadoop-mr/pom.xml
8	6	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java
8	6	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
8	6	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/RecordReaderValueIterator.java
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/SafeParquetRecordReaderWrapper.java
8	6	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/UseFileSplitsFromInputFormat.java
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieParquetSerde.java
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeUnmergedRecordReader.java
8	6	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/AnnotationTest.java
8	6	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java
8	6	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
8	6	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java
8	8	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java
8	8	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
10	8	hoodie-hadoop-mr/src/test/resources/log4j-surefire-quiet.properties
10	8	hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties
15	15	hoodie-hive/pom.xml
15	13	hoodie-hive/src/assembly/src.xml
8	8	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java
8	8	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java
8	8	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
8	6	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSyncException.java
9	7	hoodie-hive/src/main/java/com/uber/hoodie/hive/MultiPartKeysValueExtractor.java
8	6	hoodie-hive/src/main/java/com/uber/hoodie/hive/NonPartitionedExtractor.java
8	8	hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java
8	6	hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaDifference.java
8	8	hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java
8	6	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/ColumnNameXLator.java
8	6	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java
8	8	hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java
8	6	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
8	6	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java
10	8	hoodie-hive/src/test/resources/log4j-surefire-quiet.properties
10	8	hoodie-hive/src/test/resources/log4j-surefire.properties
0	16	hoodie-integ-test/pom.xml
8	6	hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestBase.java
8	6	hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestHoodieSanity.java
10	8	hoodie-integ-test/src/test/resources/log4j-surefire-quiet.properties
10	8	hoodie-integ-test/src/test/resources/log4j-surefire.properties
14	16	hoodie-spark/pom.xml
8	8	hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java
8	8	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
8	8	hoodie-spark/src/main/java/com/uber/hoodie/EmptyHoodieRecordPayload.java
8	8	hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java
8	8	hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java
8	8	hoodie-spark/src/main/java/com/uber/hoodie/NonpartitionedKeyGenerator.java
8	8	hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java
8	8	hoodie-spark/src/main/java/com/uber/hoodie/SimpleKeyGenerator.java
8	8	hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala
7	8	hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala
7	8	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
8	8	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala
7	8	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieStreamingSink.scala
7	8	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala
8	8	hoodie-spark/src/main/scala/com/uber/hoodie/package.scala
8	8	hoodie-spark/src/test/java/DataSourceTestUtils.java
8	8	hoodie-spark/src/test/java/HoodieJavaApp.java
8	8	hoodie-spark/src/test/java/HoodieJavaStreamingApp.java
10	8	hoodie-spark/src/test/resources/log4j-surefire-quiet.properties
10	8	hoodie-spark/src/test/resources/log4j-surefire.properties
7	8	hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala
7	8	hoodie-spark/src/test/scala/DataSourceTest.scala
8	8	hoodie-spark/src/test/scala/com/uber/hoodie/HoodieSparkSqlWriterSuite.scala
14	14	hoodie-timeline-service/pom.xml
8	6	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/FileSystemViewHandler.java
8	6	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/TimelineService.java
8	6	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/DataFileHandler.java
9	7	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/FileSliceHandler.java
8	6	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/Handler.java
8	6	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/TimelineHandler.java
13	11	hoodie-timeline-service/src/test/java/com/uber/hoodie/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java
10	8	hoodie-timeline-service/src/test/resources/log4j-surefire-quiet.properties
10	8	hoodie-timeline-service/src/test/resources/log4j-surefire.properties
15	15	hoodie-utilities/pom.xml
8	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
8	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCleaner.java
18	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactionAdminTool.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieWithTimelineServer.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
18	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SourceFormatAdapter.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieDeltaStreamerException.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullException.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullSQLException.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java
18	3	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/perf/TimelineServerPerf.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java
18	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/RowBasedSchemaProvider.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaProvider.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaRegistryProvider.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroDFSSource.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroSource.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
18	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HoodieIncrSource.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/InputBatch.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonSource.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/RowSource.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/AvroConvertor.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/DFSPathSelector.java
18	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/IncrSourceHelper.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/KafkaOffsetGen.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/IdentityTransformer.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/SqlQueryBasedTransformer.java
8	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/Transformer.java
8	6	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java
8	8	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java
8	6	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java
8	8	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/UtilitiesTestBase.java
9	9	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDFSSource.java
8	8	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java
8	8	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestKafkaSource.java
10	11	hoodie-utilities/src/test/resources/delta-streamer-config/base.properties
10	10	hoodie-utilities/src/test/resources/delta-streamer-config/dfs-source.properties
10	10	hoodie-utilities/src/test/resources/delta-streamer-config/kafka-source.properties
11	11	hoodie-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties
10	8	hoodie-utilities/src/test/resources/log4j-surefire-quiet.properties
10	8	hoodie-utilities/src/test/resources/log4j-surefire.properties
14	14	packaging/hoodie-hadoop-mr-bundle/pom.xml
8	8	packaging/hoodie-hadoop-mr-bundle/src/main/java/com/uber/hoodie/hadoop/bundle/Main.java
14	14	packaging/hoodie-hive-bundle/pom.xml
8	8	packaging/hoodie-hive-bundle/src/main/java/com/uber/hoodie/hive/bundle/Main.java
14	14	packaging/hoodie-presto-bundle/pom.xml
8	8	packaging/hoodie-presto-bundle/src/main/java/com/uber/hoodie/presto/bundle/Main.java
614	0	packaging/hoodie-presto-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
14	16	packaging/hoodie-spark-bundle/pom.xml
8	8	packaging/hoodie-spark-bundle/src/main/java/com/uber/hoodie/spark/bundle/Main.java
15	15	packaging/hoodie-utilities-bundle/pom.xml
8	8	packaging/hoodie-utilities-bundle/src/main/java/com/uber/hoodie/utilities/bundle/Main.java
50	15	pom.xml

commit 30b0f2636fa8a24232096b9e6efcb895850d7ba5
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-05 18:17:55 -0700

    Changes related to Licensing work
    1. Go through dependencies list one round to ensure compliance. Generated current NOTICE list in all submodules (other apache projects like flink does this).
       To be on conservative side regarding licensing, NOTICE.txt lists all dependencies including transitive. Pending Compliance questions reported in https://issues.apache.org/jira/browse/LEGAL-461
    2. Automate generating NOTICE.txt files to allow future package compliance issues be identified early as part of code-review process.
    3. Added NOTICE.txt and LICENSE.txt to all HUDI jars

373	0	NOTICE.txt
231	0	docker/hoodie/hadoop/NOTICE.txt
223	0	docker/hoodie/hadoop/base/NOTICE.txt
224	0	docker/hoodie/hadoop/datanode/NOTICE.txt
224	0	docker/hoodie/hadoop/historyserver/NOTICE.txt
224	0	docker/hoodie/hadoop/hive_base/NOTICE.txt
224	0	docker/hoodie/hadoop/namenode/NOTICE.txt
225	0	docker/hoodie/hadoop/spark_base/NOTICE.txt
226	0	docker/hoodie/hadoop/sparkadhoc/NOTICE.txt
226	0	docker/hoodie/hadoop/sparkmaster/NOTICE.txt
226	0	docker/hoodie/hadoop/sparkworker/NOTICE.txt
6	0	hoodie-cli/pom.xml
614	0	hoodie-cli/src/main/resources/META-INF/LICENSE.txt
287	0	hoodie-cli/src/main/resources/META-INF/NOTICE.txt
5	0	hoodie-client/pom.xml
614	0	hoodie-client/src/main/resources/META-INF/LICENSE.txt
284	0	hoodie-client/src/main/resources/META-INF/NOTICE.txt
9	0	hoodie-common/pom.xml
614	0	hoodie-common/src/main/resources/META-INF/LICENSE.txt
118	0	hoodie-common/src/main/resources/META-INF/NOTICE.txt
9	0	hoodie-hadoop-mr/pom.xml
614	0	hoodie-hadoop-mr/src/main/resources/META-INF/LICENSE.txt
181	0	hoodie-hadoop-mr/src/main/resources/META-INF/NOTICE.txt
9	0	hoodie-hive/pom.xml
614	0	hoodie-hive/src/main/resources/META-INF/LICENSE.txt
187	0	hoodie-hive/src/main/resources/META-INF/NOTICE.txt
1	0	hoodie-integ-test/pom.xml
614	0	hoodie-integ-test/src/main/resources/META-INF/LICENSE.txt
271	0	hoodie-integ-test/src/main/resources/META-INF/NOTICE.txt
6	0	hoodie-spark/pom.xml
614	0	hoodie-spark/src/main/resources/META-INF/LICENSE.txt
278	0	hoodie-spark/src/main/resources/META-INF/NOTICE.txt
5	0	hoodie-timeline-service/pom.xml
614	0	hoodie-timeline-service/src/main/resources/META-INF/LICENSE.txt
140	0	hoodie-timeline-service/src/main/resources/META-INF/NOTICE.txt
4	0	hoodie-utilities/pom.xml
614	0	hoodie-utilities/src/main/resources/META-INF/LICENSE.txt
289	0	hoodie-utilities/src/main/resources/META-INF/NOTICE.txt
11	0	packaging/hoodie-hadoop-mr-bundle/pom.xml
614	0	packaging/hoodie-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
180	0	packaging/hoodie-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
11	0	packaging/hoodie-hive-bundle/pom.xml
614	0	packaging/hoodie-hive-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
184	0	packaging/hoodie-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
11	0	packaging/hoodie-presto-bundle/pom.xml
128	0	packaging/hoodie-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
10	0	packaging/hoodie-spark-bundle/pom.xml
614	0	packaging/hoodie-spark-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
280	0	packaging/hoodie-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
6	0	packaging/hoodie-utilities-bundle/pom.xml
614	0	packaging/hoodie-utilities-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt
290	0	packaging/hoodie-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt
26	0	pom.xml
11	0	release/config/NOTICE.template
93	0	release/config/license-mappings.xml

commit 173e0b6be4f835c6f0f3b8354d6d402f20dd4903
Author: guanjianhui <guanjianhui@xhqb.com>
Date:   2019-06-06 16:51:16 +0800

    exlude fasterxml and parquet  from presto bundle

4	0	packaging/hoodie-presto-bundle/pom.xml

commit b325cbff1018cd25534fc4564593fbb3c5bf53cd
Author: guanjianhui <guanjianhui@xhqb.com>
Date:   2019-06-03 10:16:06 +0800

    set codehaus.jackson modules to the same version 1.9.13

16	2	pom.xml

commit 45e65cc2f7f2bdebbd51222854033719deba9288
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-05 19:34:11 -0700

    Auto generated Slack Channel Notifications setup

9	4	.travis.yml

commit 5ae34db76481d19932e0e250b1601f1a041ce709
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-06 17:15:45 -0700

    Replace Non-Compliant dnl.utils package with Apache 2.0 licensed alternative

3	6	hoodie-cli/pom.xml
14	18	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java

commit a0391b7c0183316d35862ae73ca8e1c8c4931fef
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-06-05 18:18:44 -0700

    LogFile comparator must handle log file names without write token for backwards compatibility

4	4	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
42	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java

commit 66893bfef21ef4644536688595f685f4e1a95051
Author: Thinking <744417972@qq.com>
Date:   2019-06-02 21:25:21 +0800

    fix spark-shell add jar problem
    
    jira link https://issues.apache.org/jira/browse/HUDI-101
    issue link https://github.com/apache/incubator-hudi/issues/516#issue-386048519
    
    when using spark-shell with hoodie save data like :
    ```
    ./spark-shell --master yarn --jars /home/hdfs/software/spark/hoodie/hoodie-spark-bundle-0.4.8-SNAPSHOT.jar --conf spark.sql.hive.convertMetastoreParquet=false --packages com.databricks:spark-avro_2.11:4.0.0
    ```
    and
    ```
    inputDF.write.format("com.uber.hoodie")
            .option("hoodie.insert.shuffle.parallelism", "1") // any hoodie client config can be passed like this
            .option("hoodie.upsert.shuffle.parallelism", "1") // full list in HoodieWriteConfig & its package
            .option(DataSourceWriteOptions.STORAGE_TYPE_OPT_KEY, HoodieTableType.COPY_ON_WRITE.name())
            .option(DataSourceWriteOptions.OPERATION_OPT_KEY, DataSourceWriteOptions.UPSERT_OPERATION_OPT_VAL) // insert
            .option(DataSourceWriteOptions.RECORDKEY_FIELD_OPT_KEY, "_row_key")
            .option(DataSourceWriteOptions.PARTITIONPATH_FIELD_OPT_KEY, "partition")
            .option(DataSourceWriteOptions.PRECOMBINE_FIELD_OPT_KEY, "extend_deal_date")
            .option(HoodieWriteConfig.TABLE_NAME, "c_upload_code")
            .mode(SaveMode.Overwrite)
            .save("/tmp/test/hoodie")
    ```
    It also report error  `Invalid signature file digest for Manifest main attributes`. Need to scan all infected dependency.

1	0	packaging/hoodie-spark-bundle/pom.xml

commit 7b4a28ecf8d6a51c30c989df6e3cad64c58bf985
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-31 19:21:41 -0700

    Move depedency repos to https urls

3	3	hoodie-cli/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	packaging/hoodie-utilities-bundle/pom.xml

commit acd74129cd97f24c0dde9bf032a4048f2ce27b5f
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-30 20:06:26 -0700

    Create hoodie-utilities-bundle to host the shaded jar
    
      - hoodie-utilities can now be pulled in as compile time dependency
      - Lets users test their DeltaStreamer transformers for e.g
      - Tested the docker demo works & takes in the bundle
      - Doc changes to follow, to move DeltaStreamer commands to bundle jar

3	1	docker/hoodie/hadoop/hive_base/pom.xml
0	125	hoodie-utilities/pom.xml
461	0	packaging/hoodie-utilities-bundle/pom.xml
36	0	packaging/hoodie-utilities-bundle/src/main/java/com/uber/hoodie/utilities/bundle/Main.java
1	0	pom.xml

commit a5e24395149fcabca5e93d15654b036f8e91020a
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-30 20:21:54 -0700

    Turn off noisy test

2	1	hoodie-spark/src/test/scala/DataSourceTest.scala

commit 3b916ec1af070f00f43ceb4d3b41c8209739bb42
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-30 18:53:56 -0700

    Add support for maven deploy plugin to make snapshot releases

13	0	pom.xml

commit 6b5abb5d92043b5360d4059280a1f39e35974eae
Author: guanjianhui <guanjianhui@xhqb.com>
Date:   2019-05-22 11:44:32 +0800

    fix maven pom

0	6	hoodie-client/pom.xml
0	4	hoodie-spark/pom.xml
8	6	pom.xml

commit d860fb18b6248abfa911e6188d1105f2afc4e582
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-29 12:00:35 -0700

    HUDI-139 Compaction running twice due to duplicate "map" transformation while finalizing compaction

2	5	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java

commit 66c0b81b49ceb12d35c23b659e8599d37987e8e5
Author: vinothchandar <vinoth@apache.org>
Date:   2019-05-28 19:17:26 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-integ-test/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-timeline-service/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-presto-bundle/pom.xml
1	1	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit 227785c022939cd2ba153c2a4f7791ab3394c6c7
Author: vinothchandar <vinoth@apache.org>
Date:   2019-05-28 19:17:15 -0700

    [maven-release-plugin] prepare release hoodie-0.4.7

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-integ-test/pom.xml
1	1	hoodie-spark/pom.xml
3	3	hoodie-timeline-service/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-presto-bundle/pom.xml
1	1	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit a1f287d359f9c5e55b6d3d19871feca5cf3d250c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-28 18:26:40 -0700

    Release notes for 0.4.7

26	1	RELEASE_NOTES.md

commit 93f8f12a30a05cd8c6862d0f895e4bd9a9b3336a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-28 12:54:23 -0700

    HUDI-135 - Skip Meta folder when looking for partitions

1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java
53	20	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
72	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java

commit 33f5208c1e95067606cd24ea90c05cd33626a243
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-28 15:17:54 -0700

    Only inflight commit timeline (.commit/.deltacommit) must be used when checking for sanity during compaction scheduling

3	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java

commit 9c8f8212ef0979add9f5fba7d5c7c6be58869aab
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-27 20:44:19 -0700

    HUDI-134 - Disable inline compaction for Hoodie Demo

1	0	docker/demo/config/base.properties

commit d0d2fa03379525e8156d5dc0adae9eb852603899
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-24 22:20:10 -0700

    Reduce logging in unit-test runs

1	1	hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java
4	1	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
0	1	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
5	1	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBDAO.java
5	1	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
9	5	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java
0	5	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRocksDBManager.java

commit f2d91a455ec17e66ad319f47a2d5ad45d62c9ca3
Author: Venkat <33071342+v3nkatesh@users.noreply.github.com>
Date:   2019-05-24 18:43:46 -0700

    default implementation for HBase index qps allocator (#685)
    
    * default implementation and configs for HBase index qps allocator
    
    * Test for QPS allocator and address CR
    
    * fix QPS allocator test

103	15	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieHBaseIndexConfig.java
32	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
52	0	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/DefaultHBaseQPSResourceAllocator.java
60	14	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
51	0	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndexQPSResourceAllocator.java
144	0	hoodie-client/src/test/java/com/uber/hoodie/index/TestHBaseQPSResourceAllocator.java
19	1	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java

commit 99b0c72aa6e02a86517bc674bdd6b18f7842c7d8
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-24 16:51:09 -0700

    HUDI-131 Zero FIle Listing in Compactor run

2	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
5	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java

commit 4074c5eb234f643ed0d79efff090138b50ad99ea
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-21 18:59:10 -0700

    Fixed HUDI-116 :  Handle duplicate record keys across partitions
    
     - Join based on HoodieKey and not RecordKey during tagging
     - Unit tests changed to run with duplicate keys
     - Special casing GlobalBloom to still join by recordkey

37	37	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
22	1	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java
7	1	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyLookupResult.java
14	49	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java

commit f120427607986de82f99f2ba9a2eb0ff136c2bae
Author: leiline <lamlee1993@outlook.com>
Date:   2019-05-24 10:32:31 +0800

    HUDI-105 : Fix up offsets not available on leader exception (#650)
    
    * Fix up offsets not available on leader exception

22	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/KafkaOffsetGen.java

commit 2fe526d5485963493e44d9c6cb2a80cb84244c1f
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-23 16:35:30 -0700

    Allow users to set hoodie configs figs for Compactor, Cleaner and HDFSParquetImporter utility scripts

17	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
5	7	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCleaner.java
17	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java
14	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java

commit 145034c5faebefe51b6f1557f156bc19c787d671
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-03-08 15:05:33 -0800

    Spark Stage retry handling

4	3	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
37	20	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
50	43	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
6	4	hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java
12	20	hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/func/MergeOnReadLazyInsertIterable.java
0	112	hoodie-client/src/main/java/com/uber/hoodie/io/ConsistencyCheck.java
10	7	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
8	18	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
54	31	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
15	26	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java
24	101	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
6	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
131	17	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
20	14	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
108	0	hoodie-client/src/test/java/com/uber/hoodie/TestConsistencyGuard.java
54	46	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
72	43	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
0	91	hoodie-client/src/test/java/com/uber/hoodie/io/TestConsistencyCheck.java
5	4	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
58	67	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
47	20	{hoodie-client/src/main/java/com/uber/hoodie => hoodie-common/src/main/java/com/uber/hoodie/common}/io/storage/HoodieWrapperFileSystem.java
18	3	{hoodie-client/src/main/java/com/uber/hoodie => hoodie-common/src/main/java/com/uber/hoodie/common}/io/storage/SizeAwareFSDataOutputStream.java
5	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java
39	9	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
1	4	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
17	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
44	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
17	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
89	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/ConsistencyGuard.java
132	50	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
200	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FailSafeConsistencyGuard.java
46	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/NoOpConsistencyGuard.java
0	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
34	21	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
4	11	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieWriteStat.java
65	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
117	99	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
4	2	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java
3	1	hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java
10	8	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java
51	18	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java
10	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java
6	4	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
3	3	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
1	2	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
1	1	hoodie-timeline-service/pom.xml
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/RowBasedSchemaProvider.java
11	9	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java

commit 3fd2fd6e9dbf8c03bcc742b883fa2a0598ad99be
Author: David Muto (pseudomuto) <david.muto@gmail.com>
Date:   2019-05-10 10:10:51 -0400

    Remove redundant string from file comp rdd

6	5	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BucketizedBloomCheckPartitioner.java
33	30	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
10	11	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
16	16	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java

commit a7e6cf51974f96c6b4bc945db25658cbb4bc48c7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-14 19:59:04 -0700

    Support nested types for recordKey, partitionPath and combineKey

9	1	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java

commit e43efa042fe04f1bbb29a9794cddbd47eff62248
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-15 19:54:19 -0700

    Downgrading fasterxml jackson to 2.6.7 to be spark compatible

1	1	pom.xml

commit 64fec640975b42b0645c75416eb8bbf0b8092c66
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-02-12 21:29:14 -0800

    Timeline Service with Incremental View Syncing support

2	0	docker/demo/config/base.properties
5	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java
9	12	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java
3	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
5	0	hoodie-client/pom.xml
100	0	hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java
8	13	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
2	10	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
11	18	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
100	0	hoodie-client/src/main/java/com/uber/hoodie/client/embedded/EmbeddedTimelineService.java
52	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
10	8	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
27	18	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
5	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
1	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
7	11	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
6	5	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
3	4	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
7	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
22	6	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
19	16	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
56	0	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompactionWithEmbeddedTimelineServer.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
45	0	hoodie-client/src/test/java/com/uber/hoodie/TestCleanerWithEmbeddedTimelineServer.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java
24	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
11	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
45	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClientWithEmbeddedServer.java
55	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieWriteClientWithEmbeddedServer.java
13	9	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java
36	0	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFSWithEmbeddedServer.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java
3	4	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java
31	23	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
56	0	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeonReadTableWithEmbeddedServer.java
18	1	hoodie-common/pom.xml
5	0	hoodie-common/src/main/avro/HoodieCommitMetadata.avsc
58	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java
30	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java
46	17	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java
23	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java
50	24	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
13	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
26	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
15	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
44	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/SyncableFileSystemView.java
55	13	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
10	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java
35	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
3	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
75	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/CompactionOpDTO.java
60	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/DataFileDTO.java
61	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FSPermissionDTO.java
56	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileGroupDTO.java
51	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FilePathDTO.java
55	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileSliceDTO.java
97	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileStatusDTO.java
53	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/InstantDTO.java
48	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/LogFileDTO.java
44	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/TimelineDTO.java
823	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java
216	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewManager.java
197	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageConfig.java
34	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageType.java
101	331	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
338	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/IncrementalTimelineSyncFileSystemView.java
238	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/PriorityBasedFileSystemView.java
469	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RemoteHoodieTableFileSystemView.java
341	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemView.java
109	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemView.java
14	11	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java
38	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/Functions.java
42	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/NetworkUtils.java
312	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/Option.java
389	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBDAO.java
124	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBSchemaHelper.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/StringUtils.java
134	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/TimelineDiffHelper.java
66	24	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
48	21	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java
41	19	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java
0	0	{hoodie-client => hoodie-common}/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java
27	0	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRemoteException.java
7	2	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
2	2	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java
255	151	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
783	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java
33	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java
30	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemViewTest.java
29	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemViewTest.java
30	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java
4	4	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java
183	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRocksDBManager.java
237	0	hoodie-timeline-service/pom.xml
14	0	hoodie-timeline-service/run_server.sh
351	0	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/FileSystemViewHandler.java
161	0	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/TimelineService.java
76	0	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/DataFileHandler.java
92	0	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/FileSliceHandler.java
35	0	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/Handler.java
46	0	hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/TimelineHandler.java
57	0	hoodie-timeline-service/src/test/java/com/uber/hoodie/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java
21	0	hoodie-timeline-service/src/test/resources/log4j-surefire-quiet.properties
25	0	hoodie-timeline-service/src/test/resources/log4j-surefire.properties
38	2	hoodie-utilities/pom.xml
129	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieWithTimelineServer.java
308	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/perf/TimelineServerPerf.java
12	2	packaging/hoodie-hadoop-mr-bundle/pom.xml
4	0	packaging/hoodie-spark-bundle/pom.xml
24	4	pom.xml

commit 446f99aa0f3456380215538eac27ab72b2aa5452
Author: vinothchandar <vinoth@apache.org>
Date:   2019-05-14 07:29:22 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-integ-test/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-presto-bundle/pom.xml
1	1	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit cc38abecc8944135bb7b9475ff36890aa0a96680
Author: vinothchandar <vinoth@apache.org>
Date:   2019-05-14 07:29:11 -0700

    [maven-release-plugin] prepare release hoodie-0.4.6

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-integ-test/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-presto-bundle/pom.xml
1	1	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit 7002ca6775b66521bbd926e3aab4f6c2f3c537e0
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-14 05:15:29 -0700

    Update release notes for 0.4.6 release

60	0	RELEASE_NOTES.md

commit 6e1e62635731d73ccc424df88d9c7c9a2e57ec8d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-13 22:18:20 -0700

    Minor CLI documentation change in delta-streamer

1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit af46078a828abb45e9e90915fd7e5f6f2a83d1ee
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-05-13 20:30:30 -0700

    converting map task memory from mb to bytes

2	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java

commit 9cce9abf4de340c095760431301d369e364c5b34
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-12 11:57:04 -0700

    Fix various errors found by long running delta-streamer tests
      1. Parquet Avro schema mismatch errors when ingesting are sometimes silently ignored due to race-condition in BoundedInMemoryExecutor. This was reproducible when running long-running delta-streamer with wrong schema and it caused data-loss
      2. Fix behavior of Delta-Streamer to error out by default if there are any error records
      3. Fix a bug in tracking write errors in WriteStats. Earlier the write errors were tracking sampled errors as opposed to total errors.
      4. Delta Streamer does not commit the changes done as part of inline compaction as auto-commit is force disabled. Fix this behavior to always auto-commit inline compaction as it would not otherwise commit.

2	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java
3	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueue.java
38	17	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit a0e62b79192874808193247053b502746a8bef1d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-05-08 20:20:58 -0700

    Bucketized Bloom Filter checking
    
     - Tackles the skew seen in sort based partitioning/checking
     - Parameterized the HoodieBloomIndex test
     - Config to turn on/off (on by default)
     - Unit tests & also tested at scale

7	0	.gitignore
23	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
8	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
155	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BucketizedBloomCheckPartitioner.java
46	45	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
83	0	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestBucketizedBloomCheckPartitioner.java
150	120	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java

commit 4b27cc72bbb87b74c47950a2bd24ef94cfecac8d
Author: David Muto (pseudomuto) <david.muto@gmail.com>
Date:   2019-05-07 21:16:58 -0400

    Don't raise when spark-defaults.conf doesn't exist

9	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java

commit e2dcef860672c140e4b66091292ff3bee3d20110
Author: Abhishek Sharma <abhisheksharma@Abhisheks-MacBook-Pro.local>
Date:   2019-05-07 15:17:36 -0400

    HUDI-101: added exclusion filters for signature files.

9	0	hoodie-utilities/pom.xml
9	0	packaging/hoodie-hadoop-mr-bundle/pom.xml
9	0	packaging/hoodie-hive-bundle/pom.xml
9	0	packaging/hoodie-presto-bundle/pom.xml
9	0	packaging/hoodie-spark-bundle/pom.xml

commit 738635306bef3d5e7c9395d71409bc4dc8feb2cc
Author: Omkar Joshi <omkar@uber.com>
Date:   2019-04-30 19:00:30 -0700

    migrating kryo's dependency from twitter chill to plain kryo library

5	0	hoodie-common/pom.xml
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
108	116	hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
3	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java
79	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestSerializationUtils.java
15	0	hoodie-utilities/pom.xml
15	0	packaging/hoodie-hadoop-mr-bundle/pom.xml
12	0	packaging/hoodie-presto-bundle/pom.xml
12	0	packaging/hoodie-spark-bundle/pom.xml

commit a33a55fcb59c9de341bc3169defda94df2910e65
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-05-05 21:26:16 -0700

    Caching Avro Binary encoder/decoder to avoid creating new one for every record

9	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java

commit ee1feb7c75fda1e3d28cb8635694ad69d849fa74
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-05 18:30:22 -0700

    Revert "HUDI-101: added mevn-shade plugin with filters."
    Creates fat jars for all hoodie packages
    
    This reverts commit f47f0eb6cba5ae861a8c9e8eb06b6acdb68d159f.

0	30	pom.xml

commit f47f0eb6cba5ae861a8c9e8eb06b6acdb68d159f
Author: Abhishek Sharma <abhisheksharma@Abhisheks-MacBook-Pro.local>
Date:   2019-05-01 15:45:39 -0400

    HUDI-101: added mevn-shade plugin with filters.

30	0	pom.xml

commit 978470af336c1efd04864c2f0c1eb6a963233f39
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-05-01 17:20:35 -0700

    Rollback inflights when using Spark [Streaming] write

1	1	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java

commit 57a8b9cc8c6a1526bd9e2174321a5b675d716943
Author: vinothchandar <vinoth@apache.org>
Date:   2019-05-01 05:06:34 -0700

    Making DataSource/DeltaStreamer use defaults for combining
    
     - Addresses issue where insert will combine and remove duplicates within batch
     - Setting default insert combining to false (write client default)
     - Set to true if filtering duplicates on insert/bulk_insert

8	4	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
2	5	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit ea20d4724813990c87159be0dd10b40f6ac71542
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-04-18 15:21:52 -0700

    Introduce config to control interval tree pruning
    
     - turned on by default
     - Minor code refactoring/restructuring

6	6	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
2	3	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
40	41	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
5	4	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java
4	5	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
9	15	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedIndexFileFilter.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/{SimpleGlobalIndexFileFilter.java => ListBasedGlobalIndexFileFilter.java}
3	3	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/{SimpleIndexFileFilter.java => ListBasedIndexFileFilter.java}

commit 7129dc5bb7dded620141c868cefd64ab18bac139
Author: Sivabalan Narayanan <sivabala>
Date:   2018-11-28 11:00:02 -0800

    Improving Tag location using interval trees for index files
    
    Adding interface for index look up
    
    Adding index filtering implementations for global bloom index too

31	54	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
9	9	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
26	34	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java
38	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IndexFileFilter.java
68	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java
82	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedIndexFileFilter.java
5	7	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/{IndexLookupResult.java => KeyLookupResult.java}
156	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeLookupTree.java
153	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeNode.java
53	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/SimpleGlobalIndexFileFilter.java
65	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/SimpleIndexFileFilter.java
99	91	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
4	4	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java
176	0	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestKeyRangeLookupTree.java

commit 461ce18bd1177a54ca737acab879361f680960d8
Author: Naoki Takezoe <takezoe@gmail.com>
Date:   2019-04-27 01:09:38 +0900

    Fix to enable hoodie.datasource.read.incr.filters

2	1	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala

commit 26f24b6728343b2788125edf8de94a4800fd8c0e
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-04-19 11:21:45 -0700

    Removing OLD MAGIC header since a) it's no longer used b) causes issues when the data actually has OLD MAGIC

5	34	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
4	13	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
1	78	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java

commit 2f1e3e15fb5844edf406b03085309d2135f47177
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-04-18 00:44:01 -0700

    Revert "Read and apply schema for each log block from the metadata header instead of the latest schema"
    
    This reverts commit 9e7ce19b06c5b6235857e22dc039bb726b61f8ca.

2	7	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
0	45	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java

commit 9ef51deb841765e85a1d1c8ab337677a687dfb66
Author: lyogev <lyogev@yotpo.com>
Date:   2019-04-11 15:14:53 +0300

    Add empty payload class to support deletes via apache spark

48	0	hoodie-spark/src/main/java/com/uber/hoodie/EmptyHoodieRecordPayload.java
15	1	hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala

commit 243c58f77cfc875159a0ac568efb0e3dfff199a6
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-04-17 09:53:22 -0700

    Move to apachehudi dockerhub repository & use openjdk docker containers

9	9	docker/compose/docker-compose_hadoop284_hive233_spark231.yml
2	4	docker/hoodie/hadoop/base/Dockerfile
2	2	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/Dockerfile
2	2	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/Dockerfile
2	2	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/Dockerfile
2	2	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/Dockerfile
2	2	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/spark_base/Dockerfile
2	2	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/Dockerfile
2	2	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/Dockerfile
2	2	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/Dockerfile
2	2	docker/hoodie/hadoop/sparkworker/pom.xml

commit 36ef94004ec8443d980342e3b69ca729d105af4d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-04-17 11:49:01 -0700

    Fix Hive RT query failure in hoodie demo

6	0	packaging/hoodie-hadoop-mr-bundle/pom.xml

commit e35d24f31dc7a8d60bc63efc5ee5020880119dea
Author: Omkar Joshi <omkar@uber.com>
Date:   2019-04-16 18:35:25 -0700

    Revert "Replacing Apache commons-lang3 object serializer with Kryo serializer"
    
    This reverts commit a6c45feb2c6d81c4cba5c0e345aca3d1e517c9d6.

0	5	hoodie-common/pom.xml
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
117	49	hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java
0	70	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestSerializationUtils.java
0	6	hoodie-utilities/pom.xml
0	7	packaging/hoodie-hadoop-mr-bundle/pom.xml
0	4	packaging/hoodie-hive-bundle/pom.xml
0	4	packaging/hoodie-presto-bundle/pom.xml
0	4	packaging/hoodie-spark-bundle/pom.xml

commit 9e7ce19b06c5b6235857e22dc039bb726b61f8ca
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-04-16 12:47:09 -0700

    Read and apply schema for each log block from the metadata header instead of the latest schema

7	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
45	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java

commit 83b6aa5e9163d9e5bc79ef45a950faed202a4ba6
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2019-04-11 17:39:13 -0700

    Fix multiple issues when using build_local_docker_images for setting up the demo
    
    Details here - https://issues.apache.org/jira/browse/HUDI-98

1	1	docker/hoodie/hadoop/base/Dockerfile
1	1	docker/hoodie/hadoop/spark_base/Dockerfile
1	0	hoodie-utilities/pom.xml
2	6	packaging/hoodie-hadoop-mr-bundle/pom.xml

commit a8feee929394194922405bd12b330e40e9b710fe
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-04-07 11:12:22 -0700

    Performing commit archiving in batches to avoid keeping a huge chunk in memory

9	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
5	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
14	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java

commit b07110b9fdb7d25c0cb737bef6fe0628fdfb147d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-04-09 10:06:22 -0700

    Essential Hive packages missing in hoodie spark bundle

4	0	packaging/hoodie-spark-bundle/pom.xml

commit 2577014617220abe3def503e931f811d238c1a10
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-04-03 12:25:35 -0700

    1. Minor changes to fix compaction 2. Adding 2 compaction policies

6	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieHBaseIndexConfig.java
4	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
71	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java
63	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java
96	1	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
4	4	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java

commit d1d33f725ecbef51cec05be805094b6bb1733c3e
Author: Jing Chen <milantracy@gmail.com>
Date:   2019-04-02 03:29:25 -0700

    [HUDI-66] FSUtils.getRelativePartitionPath does not handle repeated folder names

9	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
29	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java

commit b34a204a527a156406908686e54484a0c3d8a3d7
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-03-12 15:59:41 -0700

    Fixing small file handling, inline compaction defaults
    
     - Small file limit is now 100MB by default
     - Turned on inline compaction by default for MOR
     - Changes take effect on DataSource and DeltaStreamer

3	5	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
7	0	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
2	1	hoodie-spark/src/test/scala/DataSourceTest.scala
8	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 51f490898913db5964c208c57ab14794b42fa44d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-03-29 22:05:03 -0700

    Follow up HUDI-27 : Call super.close() in HoodieWraperFileSystem::close()

3	2	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java

commit 5847f0c934a8ce2ead96c8adc8c0259dda6b1283
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-03-27 18:19:41 -0700

    Fix HUDI-27 : Support num_cores > 1 for writing through spark
    
     - Users using spark.executor.cores > 1 used to fail due to "FileSystem closed"
     - This is due to HoodieWrapperFileSystem closing the wrapped filesytem obj
     - FileSystem.getInternal caching code races threads and closes the extra fs instance(s)
     - Bumped up num cores in tests to 8, speeds up tests by 3-4 mins

3	2	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java
9	4	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java

commit f1410bfdcde0745625d46b9f3f5e996eb368663f
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-03-26 14:31:19 -0700

    Fixes HUDI-38: Reduce memory overhead of WriteStatus
    
     - For implicit indexes (e.g BloomIndex), don't buffer up written records
     - By default, only collect 10% of failing records to avoid OOMs
     - Improves debuggability via above, since data errors can now show up in collect()
     - Unit tests & fixing subclasses & adjusting tests

22	7	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
16	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java
6	7	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
3	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
2	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
53	0	hoodie-client/src/test/java/com/uber/hoodie/TestWriteStatus.java
4	0	hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java
5	5	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java

commit e56c1612e46ba831f45c1ce8ee9fc2694933e2d5
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-03-27 15:47:49 -0700

    Fixed HUDI-87 : Remove schemastr from BaseAvroPayload

4	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
3	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
0	7	hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java

commit 372fbc4733824d6f61db7f4b7d5e289dc902e634
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-03-26 18:52:33 -0700

    Fixes HUDI-9 : Check precondition minInstantsToKeep > cleanerCommitsRetained
    
     - Added a precondition check, otherwise incr pull could miss commits
     - Lowered default cleaner retention to 10, to enable simpler understanding for newbies
     - Bumped down min/max instants to retain as well

21	12	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
3	2	hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java
5	5	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java

commit 3d9041e2165bb0de0aaf71ad04cee16daa7d74b4
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-03-22 16:27:51 -0700

    Fixing source schema and writer schema distinction in payloads

1	1	hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java
7	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
13	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
19	7	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
15	7	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
36	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
20	0	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
1	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java
1	2	hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java

commit 395806fc684d8f6c3fa1b6b0f29e601cb6f4bbd0
Author: ambition119 <1269223860@qq.com>
Date:   2019-03-20 12:25:51 +0800

    [HUDI-63] Removed unused BucketedIndex code

1	4	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
0	115	hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java

commit 194d904c99ebd013af55eac7509e3e79193dce77
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-03-21 09:03:36 -0700

    run_hive_sync tool must be able to handle case where there are multiple standalone jdbc jars in hive installation dir

5	5	hoodie-hive/run_sync_tool.sh

commit a2a052abd9b8955817eb4438db68998ab83d81c1
Author: Jing Chen <milantracy@gmail.com>
Date:   2019-03-18 19:06:39 -0700

    add a script that shuts down demo cluster gracefully

8	0	docker/stop_demo.sh

commit 9e59da7fd96d8af0587efa2f34c89f56320d4c91
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-02-27 23:43:06 -0800

    Refactor HoodieTable Rollback to write one rollback instant for a batch of commits to rollback

153	100	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
23	24	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
18	23	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
4	12	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
1	0	hoodie-common/pom.xml
17	0	hoodie-common/src/main/avro/HoodieRestoreMetadata.avsc
11	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
10	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
3	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
22	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
14	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java

commit 0dd4a90b0334d819fa8e080c5fae9ad21947156d
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-01-02 19:13:55 -0800

    Enable multi/nested rollbacks for MOR table type

89	45	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
24	18	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
52	9	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
173	0	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java

commit a6c45feb2c6d81c4cba5c0e345aca3d1e517c9d6
Author: Omkar Joshi <omkar@uber.com>
Date:   2019-03-18 11:29:45 -0700

    Replacing Apache commons-lang3 object serializer with Kryo serializer

5	0	hoodie-common/pom.xml
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
49	117	hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
3	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java
70	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestSerializationUtils.java
5	0	hoodie-utilities/pom.xml
5	0	packaging/hoodie-hadoop-mr-bundle/pom.xml
4	0	packaging/hoodie-hive-bundle/pom.xml
4	0	packaging/hoodie-presto-bundle/pom.xml
4	0	packaging/hoodie-spark-bundle/pom.xml

commit 48797b1ae1bf3ad08908d43e3fdc5824e3d79eee
Author: kaka11chen <kaka11.chen@gmail.com>
Date:   2019-03-16 01:52:41 +0800

    Add compression codec configurations for HoodieParquetWriter.

10	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
5	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java

commit 621f2b878d1bcd259d5c1361ef0ad686b5e5b5af
Author: smarthi <smarthi@apache.org>
Date:   2019-03-14 14:11:01 -0400

    HUDI-75: Add KEYS

68	0	KEYS

commit 57bbed21de888b4b58f20fe753630c231547a40d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-03-14 17:23:36 -0700

    Removing docs folder from master branch
    
     - Only asf-site branch contains the docs
     - Helps streamline doc contributions

0	4	docs/.gitignore
0	6	docs/404.md
0	1	docs/CNAME
0	26	docs/Dockerfile
0	10	docs/Gemfile
0	156	docs/Gemfile.lock
0	87	docs/_config.yml
0	15	docs/_data/alerts.yml
0	66	docs/_data/sidebars/mydoc_sidebar.yml
0	5	docs/_data/strings.yml
0	10	docs/_data/tags.yml
0	30	docs/_data/topnav.yml
0	15	docs/_includes/archive.html
0	1	docs/_includes/callout.html
0	19	docs/_includes/custom/getting_started_series.html
0	10	docs/_includes/custom/getting_started_series_next.html
0	19	docs/_includes/custom/series_acme.html
0	30	docs/_includes/custom/series_acme_next.html
0	19	docs/_includes/custom/sidebarconfigs.html
0	14	docs/_includes/custom/usermap.html
0	91	docs/_includes/custom/usermapcomplex.html
0	16	docs/_includes/disqus.html
0	13	docs/_includes/feedback.html
0	9	docs/_includes/footer.html
0	6	docs/_includes/google_analytics.html
0	47	docs/_includes/head.html
0	33	docs/_includes/head_print.html
0	1	docs/_includes/image.html
0	1	docs/_includes/important.html
0	130	docs/_includes/initialize_shuffle.html
0	1	docs/_includes/inline_image.html
0	44	docs/_includes/links.html
0	1	docs/_includes/note.html
0	56	docs/_includes/sidebar.html
0	32	docs/_includes/taglogic.html
0	1	docs/_includes/tip.html
0	21	docs/_includes/toc.html
0	75	docs/_includes/topnav.html
0	1	docs/_includes/warning.html
0	80	docs/_layouts/default.html
0	25	docs/_layouts/default_print.html
0	3	docs/_layouts/none.html
0	70	docs/_layouts/page.html
0	15	docs/_layouts/page_print.html
0	41	docs/_layouts/post.html
0	11	docs/_posts/2016-12-30-strata-talk-2017.md
0	444	docs/admin_guide.md
0	10	docs/api_docs.md
0	38	docs/code_and_design.md
0	22	docs/community.md
0	61	docs/comparison.md
0	159	docs/concepts.md
0	203	docs/configurations.md
0	5	docs/css/bootstrap.min.css
0	1181	docs/css/customstyles.css
0	4	docs/css/font-awesome.min.css
-	-	docs/css/fonts/FontAwesome.otf
-	-	docs/css/fonts/fontawesome-webfont.eot
0	565	docs/css/fonts/fontawesome-webfont.svg
-	-	docs/css/fonts/fontawesome-webfont.ttf
-	-	docs/css/fonts/fontawesome-webfont.woff
-	-	docs/css/fonts/fontawesome-webfont.woff2
0	5898	docs/css/lavish-bootstrap.css
0	93	docs/css/modern-business.css
0	160	docs/css/printstyles.css
0	60	docs/css/syntax.css
0	103	docs/css/theme-blue.css
0	99	docs/css/theme-green.css
0	13	docs/dev_setup.md
0	32	docs/feed.xml
-	-	docs/fonts/FontAwesome.otf
-	-	docs/fonts/fontawesome-webfont.eot
0	520	docs/fonts/fontawesome-webfont.svg
-	-	docs/fonts/fontawesome-webfont.ttf
-	-	docs/fonts/fontawesome-webfont.woff
-	-	docs/fonts/glyphicons-halflings-regular.eot
0	288	docs/fonts/glyphicons-halflings-regular.svg
-	-	docs/fonts/glyphicons-halflings-regular.ttf
-	-	docs/fonts/glyphicons-halflings-regular.woff
-	-	docs/fonts/glyphicons-halflings-regular.woff2
0	62	docs/gcs_filesystem.md
-	-	docs/images/androidsdkmanagericon.png
-	-	docs/images/async_compac_1.png
-	-	docs/images/async_compac_2.png
-	-	docs/images/async_compac_3.png
-	-	docs/images/async_compac_4.png
-	-	docs/images/authorizegithubscreen2.png
-	-	docs/images/authorizeongithub.png
-	-	docs/images/company_logo.png
-	-	docs/images/company_logo_big.png
-	-	docs/images/favicon.ico
-	-	docs/images/helpapi-01.png
0	1661	docs/images/helpapi.svg
-	-	docs/images/hoodie_commit_duration.png
-	-	docs/images/hoodie_cow.png
-	-	docs/images/hoodie_intro_1.png
-	-	docs/images/hoodie_log_format_v2.png
-	-	docs/images/hoodie_mor.png
-	-	docs/images/hoodie_query_perf_hive.png
-	-	docs/images/hoodie_query_perf_presto.png
-	-	docs/images/hoodie_query_perf_spark.png
-	-	docs/images/hoodie_timeline.png
-	-	docs/images/hoodie_upsert_dag.png
-	-	docs/images/hoodie_upsert_perf1.png
-	-	docs/images/hoodie_upsert_perf2.png
-	-	docs/images/illustratoroptions.png
-	-	docs/images/itermexample.png
-	-	docs/images/jekyll.png
-	-	docs/images/killalljekyll.png
-	-	docs/images/liningup.png
-	-	docs/images/workflowarrow.png
0	275	docs/implementation.md
0	237	docs/incremental_processing.md
0	26	docs/index.md
0	55	docs/js/customscripts.js
0	1	docs/js/jekyll-search.js
0	9	docs/js/jquery.ba-throttle-debounce.min.js
0	7	docs/js/jquery.localScroll.min.js
0	8	docs/js/jquery.navgoco.min.js
0	7	docs/js/jquery.scrollTo.min.js
0	1588	docs/js/jquery.shuffle.min.js
0	240	docs/js/mydoc_scroll.html
0	82	docs/js/toc.js
0	21	docs/licenses/LICENSE
0	27	docs/licenses/LICENSE-BSD-NAVGOCO.txt
0	71	docs/migration_guide.md
0	32	docs/pages/news/news.html
0	41	docs/pages/news/news_archive.html
0	40	docs/powered_by.md
0	1248	docs/quickstart.md
0	14	docs/roadmap.md
0	79	docs/s3_filesystem.md
0	33	docs/search.json
0	24	docs/sitemap.xml
0	68	docs/sql_queries.md
0	77	docs/use_cases.md

commit adc8cac74378c16f2508adbf16a6a51d241a3e35
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-03-01 11:17:53 -0800

    Fix hive sync (libfb version mismatch) and deltastreamer issue (missing cmdline argument) in demo

5	4	docs/quickstart.md
1	1	hoodie-hive/pom.xml
6	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-presto-bundle/pom.xml
1	0	pom.xml

commit 3c647a99cf50a8148aeabc950d7d33dbc080e226
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2019-03-08 10:16:22 -0800

    Fix quickstart documentation for querying via Presto

1	1	docs/quickstart.md

commit 4a8bec7ea58950c7450f5edec93e9dd00cef2972
Author: Omkar Joshi <omkar@uber.com>
Date:   2019-03-01 15:34:46 -0800

    Handling duplicate record update for single partition (duplicates in single or different parquet files)

6	7	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
3	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
6	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java

commit b514e1ab18415e3d369e3b836c14c7b1a9498cea
Author: kaka11chen <kaka11.chen@gmail.com>
Date:   2019-03-06 12:29:03 +0800

    Fix avro doesn't have short and byte byte.

5	1	hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala

commit 3ae6cb4ed5820d6407663ffa74c6d201feaa8b45
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-02-12 21:29:14 -0800

    FileSystem View must treat same fileIds present in different partitions as different file-groups and handle pending compaction correctly

1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java
15	12	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
5	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
3	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
7	5	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
6	5	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
7	8	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java
10	9	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java
18	5	hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java
15	17	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java
69	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroupId.java
33	22	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
11	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java
162	4	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
8	6	hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java
10	9	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java
5	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactionAdminTool.java

commit 363df2c12e520c5e1a5afc14391154707650524b
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-02-13 19:53:28 -0800

    Upgrade various jar, gem versions for maintenance

22	22	docs/Gemfile.lock
1	1	hoodie-hive/pom.xml
3	8	pom.xml

commit 687395e40f71f12f130640a9db048bea77a20d8c
Author: vinothchandar <vinoth@bytearray.io>
Date:   2019-02-27 07:16:27 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
1	1	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-integ-test/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-presto-bundle/pom.xml
1	1	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit bbf40ef9878af05fc2f92d2382a582f52fc4f209
Author: vinothchandar <vinoth@bytearray.io>
Date:   2019-02-27 07:16:15 -0800

    [maven-release-plugin] prepare release hoodie-0.4.5

1	1	docker/hoodie/hadoop/base/pom.xml
1	1	docker/hoodie/hadoop/datanode/pom.xml
1	1	docker/hoodie/hadoop/historyserver/pom.xml
5	9	docker/hoodie/hadoop/hive_base/pom.xml
1	1	docker/hoodie/hadoop/namenode/pom.xml
1	1	docker/hoodie/hadoop/pom.xml
1	1	docker/hoodie/hadoop/spark_base/pom.xml
1	1	docker/hoodie/hadoop/sparkadhoc/pom.xml
1	1	docker/hoodie/hadoop/sparkmaster/pom.xml
1	1	docker/hoodie/hadoop/sparkworker/pom.xml
1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
2	3	hoodie-integ-test/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-presto-bundle/pom.xml
1	1	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit 080b7d4d9b12baa93744744ec82facced847622a
Author: vinothchandar <vinoth@bytearray.io>
Date:   2019-02-27 06:46:22 -0800

    Update RELEASE_NOTES for 0.4.5

60	0	RELEASE_NOTES.md

commit 75c7a2622bb65e09a9dac15ba4ed02f91c8dbb75
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2019-02-12 17:13:49 -0800

    Create hoodie-presto bundle jar
    
    Exclude common dependencies that are available in Presto

189	0	packaging/hoodie-presto-bundle/pom.xml
36	0	packaging/hoodie-presto-bundle/src/main/java/com/uber/hoodie/presto/bundle/Main.java
1	0	pom.xml

commit 94eb6fd91948f92bc32d50e9011f10acc7744b4e
Merge: 639c287cab 09f203d324
Author: n3nash <nagarwal@uber.com>
Date:   2019-02-20 16:32:57 -0800

    Merge pull request #570 from yaooqinn/hiveJarSuffix
    
    typo: bundle jar with unrecognized variables

commit 639c287cab4876f3b5951e5bcd7d4e940f16223f
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   2019-02-13 12:54:01 -0800

    Close FSDataInputStream for meta file open in HoodiePartitionMetadata

7	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java
2	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java

commit 8dddecf00f377f1e72a0e0119af97972bfd6059f
Author: Kent Yao <yaooqinn@hotmail.com>
Date:   2019-02-14 16:50:46 +0800

    handle no such element exception in HoodieSparkSqlWriter

3	4	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala
11	0	hoodie-spark/src/test/scala/com/uber/hoodie/HoodieSparkSqlWriterSuite.scala

commit a16aa2a78fbe6c7d4ab784ea7d5431d2d73d8a86
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2019-02-15 21:53:08 -0800

    Create CNAME

1	0	docs/CNAME

commit ef0d6f2218cd8604507e53e36b390e8f71ef698e
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2019-02-15 21:28:39 -0800

    Update site url in README

1	1	README.md

commit 09f203d324d75aea1166b344ef9b5054fdb78380
Author: Kent Yao <yaooqinn@hotmail.com>
Date:   2019-02-13 16:46:11 +0800

    typo: bundle jar with unrecongnized variables

1	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-spark-bundle/pom.xml

commit 8adaca34548ffdb89615dfbb4a2d44d8f71bff55
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-02-05 16:54:31 -0800

    Table rollback for inflight compactions MUST not delete instant files at any time to avoid race conditions

4	3	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
21	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
60	0	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java

commit defcf6a0b9d8894aa9efd1c9515c1d1d11512e60
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2019-02-11 11:39:29 -0800

    Fix Hoodie Record Reader to work with non-partitioned dataset

5	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java
16	3	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
15	3	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java

commit 3a0044216cb2f707639d48e2869f4ee6f25cfc19
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-10-10 10:31:34 -0700

    New Features in DeltaStreamer :
     (1) Apply transformation when using delta-streamer to ingest data.
     (2) Add Hudi Incremental Source for Delta Streamer
     (3) Allow delta-streamer config-property to be passed as command-line
     (4) Add Hive Integration to Delta-Streamer and address Review comments
     (5) Ensure MultiPartKeysValueExtractor  handle hive style partition description
     (6) Reuse same spark session on both source and transformer
     (7) Support extracting partition fields from _hoodie_partition_path for HoodieIncrSource
     (8) Reuse Binary Avro coders
     (9) Add push down filter for Incremental source
     (10) Add Hoodie DeltaStreamer metrics to track total time taken

6	2	docs/incremental_processing.md
2	2	docs/quickstart.md
88	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
7	35	hoodie-client/pom.xml
2	14	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
16	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java
3	2	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
28	14	hoodie-common/src/main/avro/HoodieCommitMetadata.avsc
10	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java
15	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/DFSPropertiesConfiguration.java
9	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
10	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/TypedProperties.java
209	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java
16	54	hoodie-hadoop-mr/pom.xml
21	63	hoodie-hive/pom.xml
16	10	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
11	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/MultiPartKeysValueExtractor.java
2	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java
9	2	hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java
24	63	hoodie-spark/pom.xml
40	0	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
203	3	hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala
8	1	hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala
27	10	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala
0	1	hoodie-spark/src/test/scala/DataSourceTest.scala
82	56	hoodie-utilities/pom.xml
115	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCleaner.java
26	7	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
196	34	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
61	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java
112	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SourceFormatAdapter.java
25	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/RowBasedSchemaProvider.java
23	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaRegistryProvider.java
22	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroDFSSource.java
35	7	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java
36	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroSource.java
12	13	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
144	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HoodieIncrSource.java
54	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/InputBatch.java
22	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java
30	7	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java
35	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonSource.java
51	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/RowSource.java
43	12	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java
5	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/{ => helpers}/AvroConvertor.java
12	21	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/{DFSSource.java => helpers/DFSPathSelector.java}
88	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/IncrSourceHelper.java
26	36	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/{KafkaSource.java => helpers/KafkaOffsetGen.java}
37	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/IdentityTransformer.java
66	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/SqlQueryBasedTransformer.java
43	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/Transformer.java
232	6	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java
60	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/UtilitiesTestBase.java
35	18	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDFSSource.java
8	8	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java
34	17	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestKafkaSource.java
19	0	hoodie-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties
37	0	hoodie-utilities/src/test/resources/delta-streamer-config/target.avsc
42	112	packaging/hoodie-hadoop-mr-bundle/pom.xml
20	69	packaging/hoodie-hive-bundle/pom.xml
20	69	packaging/hoodie-spark-bundle/pom.xml
49	108	pom.xml

commit c70dbc13e94c8917967924bf7a8b950a085ad160
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2019-02-06 13:50:16 -0800

    Updating new slack signup link

1	1	docs/community.md

commit 2b55f0751fea7a10ac0d3520f8fba30e463981e6
Author: Kent Yao <yaooqinn@hotmail.com>
Date:   2019-01-29 10:01:25 +0800

    Using immutable map instead of mutables to generate parameters

18	0	hoodie-spark/pom.xml
7	22	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
29	33	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala
41	0	hoodie-spark/src/test/scala/com/uber/hoodie/HoodieSparkSqlWriterSuite.scala

commit 7985eb72b5e5a71372196f2510db68982c6761aa
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-01-22 13:04:15 -0800

    Fixing behavior of Merge/CreateHandle for invalid/wrong schema records

26	18	hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java
4	7	hoodie-client/src/main/java/com/uber/hoodie/func/MergeOnReadLazyInsertIterable.java
0	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
15	18	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
17	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
0	5	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
4	3	hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java
20	18	hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java

commit 994d42d3079b347946c3888fa9962274b89888f1
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-12-26 13:37:22 -0800

    cleaner should now use commit timeline and not include deltacomits

5	5	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
10	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
8	8	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java

commit 68723764ed276556b8bf1a1c3f2ea3d695586544
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-01-15 13:51:47 -0800

    Adding compaction to HoodieClient example

12	0	hoodie-client/src/test/java/HoodieClientExample.java

commit 169e3f66bbdc2a8c4163e8966461b1d891e0ca11
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-12-28 10:24:23 -0800

    Filtering partition paths before performing a list status on all partitions

3	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
11	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
8	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java

commit d1bb804577168107f347b10913538e13b180d004
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2019-01-04 15:01:49 -0800

    Passing a path filter to avoid including folders under .hoodie directory as partition paths

10	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java

commit 110df7190b9c414d25ab7f7012bcbb524db8b0b4
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-12-21 14:51:44 -0800

    Enabling hard deletes for MergeOnRead table type

4	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
8	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java
3	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java
7	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieUnMergedLogRecordScanner.java
7	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
11	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java
38	9	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
21	7	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java

commit 345aaa31aaefa3abd7bcd7ea038821da298ac6b4
Author: Manu Sridharan <msridhar@gmail.com>
Date:   2018-12-16 09:27:27 -0800

    Add m2 directory to Travis cache

3	0	.travis.yml

commit 6946dd75576cecceffdeb0bf06299f483ddeb444
Author: arukavytsia <artem.rukavitsya@gmail.com>
Date:   2018-12-12 03:19:43 +0200

    General enhancements

2	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java
19	23	hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala
5	9	hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala
7	8	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
10	10	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
2	3	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java
4	6	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/ConsistencyCheck.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
2	5	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
5	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
1	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
2	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
2	7	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java
2	7	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
4	6	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
92	111	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
5	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java
5	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java
33	44	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
3	15	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java
3	3	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java
1	1	hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala
1	1	hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala
2	2	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala
5	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
1	7	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
2	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java
3	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java
3	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaRegistryProvider.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroConvertor.java
1	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java
6	12	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java
30	24	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java
1	1	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java
23	5	pom.xml
98	0	style/scalastyle-config.xml

commit 30c5f8b7bd051271de7f9012221c2a47d9f92ea9
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-12-05 11:42:38 -0800

    Ensure Hoodie works for non-partitioned Hive table

1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
9	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java
10	8	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
31	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/NonPartitionedExtractor.java
2	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java
31	5	hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestHoodieSanity.java
41	0	hoodie-spark/src/main/java/com/uber/hoodie/NonpartitionedKeyGenerator.java
1	2	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala
26	3	hoodie-spark/src/test/java/HoodieJavaApp.java

commit 466ff73ffbbfcffd5b22763245098951575788e5
Author: xubo245 <xubo29@huawei.com>
Date:   2018-12-11 09:16:37 +0800

    fix some spell errorin Hudi

10	10	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java
2	2	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java
2	2	hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala

commit bf65219b730d99f98f78fa7cb3f016249a57fe49
Author: jiale.tan <jiale.tan@vungle.com>
Date:   2018-10-11 17:40:32 -0700

    feat(SparkDataSource): add structured streaming

4	1	hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala
22	0	hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala
17	215	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
266	0	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala
117	0	hoodie-spark/src/main/scala/com/uber/hoodie/HoodieStreamingSink.scala
279	0	hoodie-spark/src/test/java/HoodieJavaStreamingApp.java
94	2	hoodie-spark/src/test/scala/DataSourceTest.scala

commit 7243ce40c93f60e8d3e47c2405dc92b4e38e1b10
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-11-04 16:03:56 -0800

    Serializing the complete payload object instead of serializing just the GenericRecord
    Removing Converter hierarchy as we now depend purely on JavaSerialization and require the payload to be java serializable

1	5	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
10	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java
0	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java
8	14	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
3	10	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java
5	12	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java
0	34	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/Converter.java
0	109	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java
0	35	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/StringConverter.java
0	214	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java
6	14	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java
16	3	hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java
2	1	hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java
2	2	hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala

commit e83dde3b9591d0ff52c453331e80a5d6ae91bb11
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-11-26 23:17:32 -0800

    Returning empty Statues for an empty spark partition caused due to incorrect bin packing

10	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java

commit 0015c9b00e46bde88089680e790a7fb3ad12e5ef
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-11-30 16:21:20 -0800

    Update committership for balaji

5	4	pom.xml

commit f999e4960c9c5e901c3e44ebf716e3eaaa173522
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-11-27 23:21:34 -0800

    Avoid WriteStatus collect() call when committing batch

12	9	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
5	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
6	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java

commit fa65db9c4cd8ce1c71d46789c9bb8e0fb03de98a
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-11-27 16:54:46 -0800

    Explicitly handle lack of append() support during LogWriting

2	17	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java
66	0	hoodie-common/src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java
21	14	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
41	0	hoodie-common/src/test/java/com/uber/hoodie/common/storage/TestStorageSchemes.java

commit d0fde474589aaf17bb840dbf86e2809eddc60e1d
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-11-13 15:42:36 -0800

    Fixing number of insert buckets to be generated by rounding off to the closest greater integer

1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
32	16	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java

commit 1362942aa3dc69c7daecdd3f270d423f53890c6c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-11-07 17:14:53 -0800

    Enabling auto tuning of insert splits by default

1	1	docs/configurations.md
1	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java

commit 25cd05b24e2f324b66873d812ecbc8fbd966ac6b
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-10-02 10:12:20 -0700

    Useful Hudi CLI commands to debug/analyze production workloads

25	9	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
273	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java
130	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RollbacksCommand.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java

commit 07324e7a20fb40ed8179c47a1dc213e56d51c229
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-10-03 10:39:10 -0700

    Compaction validate, unschedule and repair

76	4	docs/admin_guide.md
284	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java
93	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
546	0	hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java
77	0	hoodie-client/src/main/java/com/uber/hoodie/func/OperationResult.java
363	0	hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java
14	5	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java
207	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java
16	144	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java
154	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactionAdminTool.java

commit d904fe69ca003260f871ea4e099b1bd564951a70
Author: Xinli shang <shangx@uber.com>
Date:   2018-10-11 13:48:04 -0700

    Fix addMetadataFields() to carry over 'props'

7	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
57	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestHoodieAvroUtils.java

commit 48aa026dc4887eaf78eacb8ceb428f8534c6d03b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-09-25 16:04:50 -0700

    Adding documentation for migration guide and COW vs MOR tradeoffs, moving some docs around for more clarity

8	4	docs/_data/sidebars/mydoc_sidebar.yml
38	17	docs/concepts.md
2	1	docs/configurations.md
1	1	docs/incremental_processing.md
71	0	docs/migration_guide.md
6	0	docs/powered_by.md
17	9	docs/quickstart.md

commit 1628d044ac5b2197fd8a565961f68b3aa7936f67
Author: jiale.tan <jiale.tan@vungle.com>
Date:   2018-10-04 17:56:51 -0700

    feat(SparkDataSource): add additional feature to drop later arriving dups

10	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
11	0	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
7	0	hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala
99	70	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
43	0	hoodie-spark/src/test/scala/DataSourceTest.scala

commit 8485b9e2630a0619ad59ffb29739477b46d6a527
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-10-11 11:35:32 -0700

    Fix regression which broke HudiInputFormat handling of non-hoodie datasets

2	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
30	0	hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestHoodieSanity.java

commit 1fca9b21cc020294dd65bcec542969b6145b3048
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-10-03 18:02:09 +0100

    Add --filter-dupes to DeltaStreamer
    
     - Optionally filter out duplicates before inserting data
     - Unit tests

16	0	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
17	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
32	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java

commit 0a200c32e5043eca194c0dc287ba7114067c1851
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2018-10-02 10:30:39 +0530

    Reflect new committership, id changes for devs

7	6	pom.xml

commit f3418e47181edfcbd2db778ad4c7af7312ec9c65
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-08-21 22:54:57 -0700

    Docker Container Build and Run setup with foundations for adding docker integration tests. Docker images built with Hadoop 2.8.4 Hive 2.3.3 and Spark 2.3.1 and published to docker-hub
    Look at quickstart document for how to setup docker and run demo

13	0	docker/build_local_docker_images.sh
217	0	docker/compose/docker-compose_hadoop284_hive233_spark231.yml
33	0	docker/compose/hadoop.env
21	0	docker/demo/config/base.properties
29	0	docker/demo/config/kafka-source.properties
41	0	docker/demo/config/schema.avsc
26	0	docker/demo/config/spark-defaults.conf
3482	0	docker/demo/data/batch_1.json
1668	0	docker/demo/data/batch_2.json
6	0	docker/demo/setup_demo_container.sh
45	0	docker/hoodie/hadoop/base/Dockerfile
91	0	docker/hoodie/hadoop/base/entrypoint.sh
13	0	docker/hoodie/hadoop/base/export_container_ip.sh
90	0	docker/hoodie/hadoop/base/pom.xml
14	0	docker/hoodie/hadoop/datanode/Dockerfile
89	0	docker/hoodie/hadoop/datanode/pom.xml
9	0	docker/hoodie/hadoop/datanode/run_dn.sh
14	0	docker/hoodie/hadoop/historyserver/Dockerfile
89	0	docker/hoodie/hadoop/historyserver/pom.xml
3	0	docker/hoodie/hadoop/historyserver/run_history.sh
51	0	docker/hoodie/hadoop/hive_base/Dockerfile
45	0	docker/hoodie/hadoop/hive_base/conf/beeline-log4j2.properties
54	0	docker/hoodie/hadoop/hive_base/conf/hive-env.sh
66	0	docker/hoodie/hadoop/hive_base/conf/hive-exec-log4j2.properties
73	0	docker/hoodie/hadoop/hive_base/conf/hive-log4j2.properties
18	0	docker/hoodie/hadoop/hive_base/conf/hive-site.xml
45	0	docker/hoodie/hadoop/hive_base/conf/ivysettings.xml
93	0	docker/hoodie/hadoop/hive_base/conf/llap-daemon-log4j2.properties
118	0	docker/hoodie/hadoop/hive_base/entrypoint.sh
113	0	docker/hoodie/hadoop/hive_base/pom.xml
10	0	docker/hoodie/hadoop/hive_base/startup.sh
14	0	docker/hoodie/hadoop/namenode/Dockerfile
89	0	docker/hoodie/hadoop/namenode/pom.xml
19	0	docker/hoodie/hadoop/namenode/run_nn.sh
78	0	docker/hoodie/hadoop/pom.xml
46	0	docker/hoodie/hadoop/spark_base/Dockerfile
14	0	docker/hoodie/hadoop/spark_base/execute-step.sh
16	0	docker/hoodie/hadoop/spark_base/finish-step.sh
89	0	docker/hoodie/hadoop/spark_base/pom.xml
13	0	docker/hoodie/hadoop/spark_base/wait-for-step.sh
12	0	docker/hoodie/hadoop/sparkadhoc/Dockerfile
13	0	docker/hoodie/hadoop/sparkadhoc/adhoc.sh
89	0	docker/hoodie/hadoop/sparkadhoc/pom.xml
14	0	docker/hoodie/hadoop/sparkmaster/Dockerfile
16	0	docker/hoodie/hadoop/sparkmaster/master.sh
89	0	docker/hoodie/hadoop/sparkmaster/pom.xml
14	0	docker/hoodie/hadoop/sparkworker/Dockerfile
89	0	docker/hoodie/hadoop/sparkworker/pom.xml
16	0	docker/hoodie/hadoop/sparkworker/worker.sh
16	0	docker/setup_demo.sh
943	2	docs/quickstart.md
0	0	hoodie-hive/run_sync_tool.sh
1	2	hoodie-hive/src/{test/java/com/uber/hoodie/hive/util => main/java/com/uber/hoodie/hive}/MultiPartKeysValueExtractor.java
0	1	hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java
212	0	hoodie-integ-test/pom.xml
178	0	hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestBase.java
139	0	hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestHoodieSanity.java
23	0	hoodie-integ-test/src/test/resources/log4j-surefire.properties
15	0	hoodie-spark/pom.xml
1	1	hoodie-spark/run_hoodie_app.sh
1	1	hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala
12	2	hoodie-spark/src/test/java/HoodieJavaApp.java
2	0	pom.xml

commit 9710b5a3a63633a3487431219b6af16b8753598f
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-28 21:41:28 -0700

    Ensure Hoodie metadata folder and files are filtered out when constructing Parquet Data Source

10	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
10	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
15	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java

commit 06bdba3cef187d4b7ca906dc7012b880bbc7fe93
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2018-09-29 20:50:03 +0530

    Update Gemfile.lock with newer jekyll version

3	3	docs/Gemfile.lock

commit b5a75fdd910e907f308c5a404a722baf98db825d
Author: vinothchandar <vinoth@bytearray.io>
Date:   2018-09-29 20:14:35 +0530

    Adding Jiale & Anbu to contributors list

8	0	pom.xml

commit 98fd97b65fdf136212fd16366c7ae2af48c86bd6
Author: jiale.tan <jiale.tan@vungle.com>
Date:   2018-08-13 17:35:21 -0700

    feature(HoodieGlobalBloomIndex): adds a new type of bloom index to allow global record key lookup

4	1	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
5	4	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
110	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
69	7	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
30	68	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
308	0	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java
4	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java

commit 7ba842c0fe2d3ccc5f0e3f9a644a9561b6011a0e
Author: vinothchandar <vinoth@bytearray.io>
Date:   2018-09-28 11:27:00 +0530

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit 5847b61f443d81301158ce38fbd9925b7a507932
Author: vinothchandar <vinoth@bytearray.io>
Date:   2018-09-28 11:26:15 +0530

    [maven-release-plugin] prepare release hoodie-0.4.4

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	packaging/hoodie-hadoop-mr-bundle/pom.xml
2	2	packaging/hoodie-hive-bundle/pom.xml
2	2	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit 05bf14a42ef4059f0de2fe20670d601dbcdeeeb1
Author: vinothchandar <vinoth@bytearray.io>
Date:   2018-09-28 11:03:08 +0530

    Update RELEASE_NOTES for release 0.4.4

8	0	RELEASE_NOTES.md

commit 9ca6f91e97d542eebf91756c3c78fa20f41d4247
Author: vinothchandar <vinoth@bytearray.io>
Date:   2018-09-20 17:50:27 +0530

    Perform consistency checks during write finalize
    
     - Check to ensure written files are listable on storage
     - Docs reflected to capture how this helps with s3 storage
     - Unit tests added, corrections to existing tests
     - Fix DeltaStreamer to manage archived commits in a separate folder

2	0	docs/configurations.md
27	24	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
13	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
112	0	hoodie-client/src/main/java/com/uber/hoodie/io/ConsistencyCheck.java
31	36	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
5	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
26	7	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
3	4	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
2	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
39	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
2	3	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java
91	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestConsistencyCheck.java
14	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
4	7	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
6	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
1	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java
1	1	pom.xml

commit 4c74dd4cad147a3e7780bf6d99585db199d027c9
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-21 17:09:51 -0700

    Travis CI tests needs to be run in quieter mode (WARN log level) to avoid max log-size errors

4	0	.travis.yml
21	0	hoodie-client/src/test/resources/log4j-surefire-quiet.properties
21	0	hoodie-common/src/test/resources/log4j-surefire-quiet.properties
21	0	hoodie-hadoop-mr/src/test/resources/log4j-surefire-quiet.properties
21	0	hoodie-hive/src/test/resources/log4j-surefire-quiet.properties
21	0	hoodie-integ-test/src/test/resources/log4j-surefire-quiet.properties
21	0	hoodie-spark/src/test/resources/log4j-surefire-quiet.properties
21	0	hoodie-utilities/src/test/resources/log4j-surefire-quiet.properties
13	1	pom.xml

commit faf93b6340388ec5b2558a950e5fd4582be068b1
Author: Yishuang Lu <luystu@gmail.com>
Date:   2018-09-23 17:23:35 -0700

    Fix the name of avro schema file in Test
    
    Fixed the name of avro schema file in Test
    
    Signed-off-by: Yishuang Lu <luystu@gmail.com>

3	3	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
0	0	hoodie-common/src/test/resources/{complex-test-evolved.avro => complex-test-evolved.avsc}
0	0	hoodie-common/src/test/resources/{simple-test-evolved.avro => simple-test-evolved.avsc}
0	0	hoodie-common/src/test/resources/{simple-test.avro => simple-test.avsc}
1	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java
0	0	hoodie-hadoop-mr/src/test/resources/{sample1.avro => sample1.avsc}
1	1	pom.xml

commit 460e24e84bad37a51602b0de6b49962e05d18106
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-16 08:06:30 -0700

    Hive Sync handling must work for datasets with multi-partition keys

14	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java
24	27	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
31	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java
4	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
33	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/MultiPartKeysValueExtractor.java

commit 5cb28e7b1ff09149ca88fc761d0e19369c6c3505
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-19 13:13:04 -0700

    Explicitly release resources in LogFileReader and TestHoodieClientBase

1	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
2	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
5	0	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
5	0	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
6	0	hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java
34	2	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
6	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
6	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java
1	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
12	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java
7	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
23	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
9	1	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
1	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java
1	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java

commit 2728f9650531f6ee472c0832e0d9a2202b6c90b3
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-17 00:25:24 -0700

    Add dummy classes to dump all classes loaded as part of packaging modules to ensure javadoc and sources jars are getting created

17	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java
0	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
36	0	packaging/hoodie-hadoop-mr-bundle/src/main/java/com/uber/hoodie/hadoop/bundle/Main.java
36	0	packaging/hoodie-hive-bundle/src/main/java/com/uber/hoodie/hive/bundle/Main.java
36	0	packaging/hoodie-spark-bundle/src/main/java/com/uber/hoodie/spark/bundle/Main.java

commit f44bcc5b0312aa254f5bb89af0be5704501d9ae1
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-09-14 12:51:27 +0530

    Fix bug with incrementally pulling older data

4	0	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala
14	2	hoodie-spark/src/test/scala/DataSourceTest.scala

commit bd5af89f121d80e78872e23566a762f572f1448b
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-09-13 15:01:53 +0530

    [maven-release-plugin] rollback the release of hoodie-0.4.4

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	packaging/hoodie-hadoop-mr-bundle/pom.xml
2	2	packaging/hoodie-hive-bundle/pom.xml
2	2	packaging/hoodie-spark-bundle/pom.xml
1	1	pom.xml

commit d1cc864a4349889953546dd95461ca90f07e4d62
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-09-12 23:59:47 +0530

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	1	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit b748bc836d407f92b72e29308191567a10655c91
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-09-12 23:59:34 +0530

    [maven-release-plugin] prepare release hoodie-0.4.4

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	packaging/hoodie-hadoop-mr-bundle/pom.xml
2	2	packaging/hoodie-hive-bundle/pom.xml
2	2	packaging/hoodie-spark-bundle/pom.xml
2	2	pom.xml

commit 0b1a949a872d3fec4bba969f8106cd316827a613
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-09-12 23:38:00 +0530

    Release notes for 0.4.4

28	0	RELEASE_NOTES.md

commit cce88b36d2861da21ddc719f1228be7e5e5d34e4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-10 16:06:31 -0700

    Use spark Master from environment if set

4	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java

commit 605af8a82f2cb0c5ea92ba4a12d0684571a17599
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-10 10:59:59 -0700

    Reduce minimum delta-commits required for compaction

1	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java

commit 18a39715c9796be40be93759a47d7cefc2cd4417
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-07 18:30:49 -0700

    Bump up versions in packaging modules and remove commons-lang3 dep

1	0	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
2	9	hoodie-spark/src/test/scala/DataSourceTest.scala
1	7	packaging/hoodie-hadoop-mr-bundle/pom.xml
1	1	packaging/hoodie-hive-bundle/pom.xml
1	5	packaging/hoodie-spark-bundle/pom.xml

commit eca49a255e9f291010c2a00424d49087ea22dd59
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-09-08 03:52:49 +0800

    Rebasing and fixing conflicts against master

1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
0	4	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java
1	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
5	0	packaging/hoodie-hadoop-mr-bundle/pom.xml
4	0	packaging/hoodie-hive-bundle/pom.xml
1	0	packaging/hoodie-spark-bundle/pom.xml

commit a5359662be5741bde6eb851e090b7678b1867843
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-07-15 22:34:02 -0700

    Moving depedencies off cdh to apache + Hive2 support
    
     - Tests redone in the process
     - Main changes are to RealtimeRecordReader and how it treats maps/arrays
     - Make hive sync work with Hive 1/2 and CDH environments
     - Fixes to make corner cases for Hive queries
     - Spark Hive integration - Working version across Apache and CDH versions
     - Known Issue - https://github.com/uber/hudi/issues/439

50	13	docs/quickstart.md
3	3	docs/sql_queries.md
18	0	hoodie-cli/pom.xml
41	7	hoodie-client/pom.xml
8	0	hoodie-common/pom.xml
9	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
23	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
66	33	hoodie-hadoop-mr/pom.xml
0	74	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
1	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
97	15	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java
16	6	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
9	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java
7	7	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java
4	5	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
85	54	hoodie-hive/pom.xml
39	0	hoodie-hive/run_sync_tool.sh
16	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java
88	13	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
24	7	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java
73	2	hoodie-spark/pom.xml
24	0	hoodie-spark/run_hoodie_app.sh
7	2	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
25	0	hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala
46	3	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
65	19	hoodie-spark/src/test/java/HoodieJavaApp.java
58	23	hoodie-utilities/pom.xml
299	0	packaging/hoodie-hadoop-mr-bundle/pom.xml
263	0	packaging/hoodie-hive-bundle/pom.xml
345	0	packaging/hoodie-spark-bundle/pom.xml
174	117	pom.xml

commit 2b1af18941224344194abe6e43ac77e2a7340a39
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-09-08 12:26:54 -0700

    Adding check for rolling stats not present to handle backwards compatibility of existing timeline

6	3	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
7	4	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
9	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java

commit ea7823a9dda531e13a8e72c540dd6c520c1e7da6
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-06 00:49:38 -0700

    Docs for describing async compaction and how to operate it

148	1	docs/admin_guide.md
17	0	docs/concepts.md
-	-	docs/images/async_compac_1.png
-	-	docs/images/async_compac_2.png
-	-	docs/images/async_compac_3.png
-	-	docs/images/async_compac_4.png
174	6	docs/implementation.md

commit d58ddbd999ab111e4cbb8f2b75efc7bba5160019
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-08-04 03:35:30 -0700

    Reworking the deltastreamer tool
    
     - Standardize version of jackson
     - DFSPropertiesConfiguration replaces usage of commons PropertiesConfiguration
     - Remove dependency on ConstructorUtils
     - Throw error if ordering value is not present, during key generation
     - Switch to shade plugin for hoodie-utilities
     - Added support for consumption for Confluent avro kafka serdes
     - Support for Confluent schema registry
     - KafkaSource now deals with skews nicely, by doing round robin allocation of source limit across partitions
     - Added support for BULK_INSERT operations as well
     - Pass in the payload class config properly into HoodieWriteClient
     - Fix documentation based on new usage
     - Adding tests on deltastreamer, sources and all new util classes.

1	1	docs/comparison.md
92	91	docs/incremental_processing.md
1	7	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java
5	6	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
1	0	hoodie-common/pom.xml
102	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/DFSPropertiesConfiguration.java
36	17	hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java
87	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/TypedProperties.java
138	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestDFSPropertiesConfiguration.java
4	1	hoodie-spark/pom.xml
4	0	hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java
8	9	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
3	3	hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java
18	7	hoodie-spark/src/main/java/com/uber/hoodie/SimpleKeyGenerator.java
6	6	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
19	13	hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala
76	46	hoodie-utilities/pom.xml
0	50	hoodie-utilities/src/assembly/src.xml
3	18	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
1	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
3	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java
40	38	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
66	173	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java
22	21	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java
12	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaProvider.java
71	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaRegistryProvider.java
5	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroConvertor.java
47	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroDFSSource.java
47	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java
17	49	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java
18	14	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
17	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/{SourceDataFormat.java => JsonDFSSource.java}
45	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java
81	77	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java
7	16	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java
0	19	hoodie-utilities/src/main/resources/delta-streamer-config/key-generator.properties
0	29	hoodie-utilities/src/main/resources/delta-streamer-config/target.avsc
162	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java
137	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/UtilitiesTestBase.java
104	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDFSSource.java
99	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java
186	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestKafkaSource.java
0	0	hoodie-utilities/src/{main => test}/resources/IncrementalPull.sqltemplate
3	0	hoodie-utilities/src/{main/resources/delta-streamer-config/hoodie-client.properties => test/resources/delta-streamer-config/base.properties}
11	2	hoodie-utilities/src/{main/resources/delta-streamer-config/schema-provider.properties => test/resources/delta-streamer-config/dfs-source.properties}
10	3	hoodie-utilities/src/{main/resources/delta-streamer-config/source.properties => test/resources/delta-streamer-config/kafka-source.properties}
5	1	hoodie-utilities/src/{main => test}/resources/delta-streamer-config/source.avsc
85	1	pom.xml

commit fb95dbdedbfa5b153b24fb91eaec25437c7e87c8
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-06 10:24:32 -0700

    CLI to create and desc hoodie table

7	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java
71	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java
7	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java

commit 0fe92dee558631873c01c22f254f59af57120282
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-09-07 00:17:49 -0700

    Fix a failing test case intermittenly in TestMergeOnRead due to incorrect prev commit time

0	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
1	0	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java

commit e2dee68ccd49d634cfcffa250338a015619d33a1
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-09-06 12:02:09 -0700

    Simplify and fix CLI to schedule and run compactions

1	1	hoodie-cli/hoodie-cli.sh
14	20	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java
10	10	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
2	9	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java

commit fad4b513ea9a0bb816ad68f2bb22982d1789fb8a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2018-09-06 08:54:32 +0800

    Update Gemfile.lock with higher ffi version

1	1	docs/Gemfile.lock

commit 459e523d9e33d01db206d525ebacc6d78c876b79
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-06-11 20:27:56 -0700

    1. Small file size handling for inserts into log files. In summary, the total size of the log file is compared with the parquet max file size and if there is scope to add inserts the add it.

6	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
2	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java
2	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java
42	3	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
5	1	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
13	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
6	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
14	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
210	91	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
80	2	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
210	0	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
12	0	hoodie-common/src/main/avro/HoodieCommitMetadata.avsc
10	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
98	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStat.java
101	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStatMetadata.java
2	1	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommitMetadata.java
4	4	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
3	2	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit 324de298bc51e3cc8a0edad891dfa76a89c2f76b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-09-04 02:05:15 -0700

    Removing dependency on apache-commons lang 3, adding necessary classes as needed

1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
0	4	hoodie-common/pom.xml
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java
171	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java
51	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/StringUtils.java
109	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutablePair.java
112	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutableTriple.java
179	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Pair.java
162	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Triple.java
6	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java
7	3	hoodie-common/src/main/java/com/uber/hoodie/exception/{HoodieNotSerializableException.java => HoodieSerializationException.java}
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java
0	5	hoodie-spark/pom.xml
0	5	pom.xml

commit 2eaa42abdeb336150eb59159e3fcf1b37f060ac1
Author: Saravanan Elumalai <sarav.sars@gmail.com>
Date:   2018-08-29 23:42:06 +0530

    Updated jcommander version to fix NPE in HoodieDeltaStreamer tool

1	1	pom.xml

commit 89cd6b072687b056324f34e1b2c9e59ff50d8c40
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-08-22 21:30:05 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 8d305c5a8615d8f6abd40291b7dded656d884dd5
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-08-22 21:29:53 -0700

    [maven-release-plugin] prepare release hoodie-0.4.3

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 6fffda5c705154add0908eb60b67fc1579b12c65
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-08-22 21:11:43 -0700

    Update Release notes for 0.4.3 release

22	0	RELEASE_NOTES.md

commit e6244802598a44db17a70babdcbe02cc89a271a2
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   2018-07-19 13:46:33 -0700

    Throttling to limit QPS from HbaseIndex

175	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieHBaseIndexConfig.java
5	36	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
27	5	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
154	4	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
72	4	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java
3	1	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java

commit 3746ace76a21d94e46f1cdd031d4e62d0364f5d3
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-08-21 17:27:56 -0700

    Fixing Null pointer exception in finally block

3	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
1	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java

commit 88274b82617b8f8880bf913a2670e7fcf308216c
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-08-07 15:51:46 -0700

    Adding another metric to HoodieWriteStat to determine if there were inserts converted to updates, added one test for this

3	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
12	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
81	2	hoodie-client/src/test/java/com/uber/hoodie/io/{TestHoodieMergeHandleDuplicateRecords.java => TestHoodieMergeHandle.java}
2	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
5	0	hoodie-common/src/main/avro/HoodieCommitMetadata.avsc
13	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java

commit 989afddd54a3a99d8243cb10d509e616b5b6257b
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-08-07 15:57:01 -0700

    BUGFIX - Use Guava Optional (which is Serializable) in CompactionOperation wcached to avoid NoSerializableException

6	5	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java

commit ea23c9b7a0a9fcd749ef25b827efff87737d9b6e
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-08-03 16:40:58 -0700

    Minor bug fixes found during testing

2	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
3	2	hoodie-common/src/main/avro/HoodieCommitMetadata.avsc

commit 594059a19c867ad425636be32d99e6284890a6d6
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-06-05 18:26:01 -0700

    Add CLI support inspect, schedule and run compaction

229	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java
12	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java
34	5	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
136	171	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
129	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java
109	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java

commit 2e12c86d01657bae892a891b4ece3b8089cc5375
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-05-26 14:08:29 -0700

    Ensure Compaction Operation compacts the data file as defined in the workload

10	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
5	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
14	14	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
6	2	hoodie-client/src/test/resources/log4j-surefire.properties
2	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
6	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
16	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
4	2	hoodie-common/src/test/resources/log4j-surefire.properties
2	2	hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties
3	3	hoodie-hive/src/test/resources/log4j-surefire.properties
6	2	hoodie-spark/src/test/resources/log4j-surefire.properties

commit 2f8ce930306306807669cb19a60dfbf122008658
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-05-23 23:09:25 -0700

    Async Compaction Main API changes

17	0	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
245	116	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
0	42	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactionInstantWithPlan.java
4	11	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
20	23	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
0	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
7	12	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
0	7	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
508	0	hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java
16	2	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
14	7	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
21	16	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
2	6	hoodie-client/src/test/resources/log4j-surefire.properties
2	4	hoodie-common/src/test/resources/log4j-surefire.properties
2	2	hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties
3	3	hoodie-hive/src/test/resources/log4j-surefire.properties
2	6	hoodie-spark/src/test/resources/log4j-surefire.properties

commit 9b78523d62d83253068fcb545c6b60be516be5b4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-05-31 14:16:19 -0700

    Ensure Cleaner and Archiver do not delete file-slices and workload marked for compaction

72	16	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
52	18	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
68	9	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
259	21	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java
9	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
164	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java
20	12	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
22	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java

commit 0a0451a7655a2ffd998cd5302bf3e4272cd895ed
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-05-31 14:11:43 -0700

    Ensure Compaction workload is stored in write-once meta-data files separate from timeline files.
        This avoids concurrency issues when compactor(s) and ingestor are running in parallel.
        In the Next PR -> Safety concern regarding Cleaner retaining all meta-data and file-slices for pending compactions will be addressed

42	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactionInstantWithPlan.java
18	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
45	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
82	39	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
3	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java
4	2	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
8	4	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java

commit 9d9994256415a35a1e327c337ac621bbe68721eb
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-05-24 11:19:40 -0700

    Track fileIds with pending compaction in FileSystemView to provide correct API semantics

0	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
1	5	hoodie-common/src/main/avro/HoodieCompactionOperation.avsc
15	14	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
67	9	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java
15	5	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
345	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java

commit 1b61f04e05a3ef993229e07ff0872804d7d1d0a3
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-05-23 20:49:24 -0700

    (1) Define CompactionWorkload in avro to allow storing them in instant files.
    (2) Split APIs in HoodieRealtimeCompactor to separate generating compaction workload from running compaction

1	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
25	13	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
42	23	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
7	6	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java
37	17	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
6	5	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java
14	13	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java
12	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
24	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
21	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
42	27	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
66	0	hoodie-common/src/main/avro/HoodieCompactionOperation.avsc
32	18	{hoodie-client/src/main/java/com/uber/hoodie/io/compact => hoodie-common/src/main/java/com/uber/hoodie/common/model}/CompactionOperation.java
10	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
100	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java

commit 6d01ae8ca0e31c83550faacf2eeb34d9672a7985
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-05-23 16:54:53 -0700

    FileSystemView and Timeline level changes to support Async Compaction

5	5	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
4	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
7	7	hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java
42	45	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java
9	3	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
17	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
58	12	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
16	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
1	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java
56	9	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
23	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
47	13	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
169	14	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
2	2	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
420	13	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
8	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java

commit 44caf0d40ca6b47fbf86701eff48fa9e8715b308
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-07-12 17:45:10 -0700

    Fixing missing hoodie record location in HoodieRecord when record is read from disk after being spilled

4	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java
27	7	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java
8	2	hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java
4	3	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java

commit f62890ca1f96375989650de04a85e63fd033cbd8
Author: Omkar Joshi <omkar@uber.com>
Date:   2018-07-18 11:11:32 -0700

    adding setters so that subclasses can set it

8	0	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java

commit 34ab54a9d3bbb9bc1c405b4a621d1a98c0782cc4
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-07-09 16:58:05 -0700

    Fixing bug introducted in rollback for MOR table type with inserts into log files

9	12	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
71	24	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
10	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java

commit a6fe96fdfe241cc944293159336228255f93ec7b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-05-23 14:26:11 -0700

    Changing Day based compaction strategy to be IO agnostic

12	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
5	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
17	9	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java
21	4	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java

commit 3da063f83b246f688304c6c40991482e6e1bdc9e
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-05-13 16:25:11 -0700

    Adding ability for inserts to be written to log files

7	6	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
42	40	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
6	6	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
5	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java
20	13	hoodie-client/src/main/java/com/uber/hoodie/func/{LazyInsertIterable.java => CopyOnWriteLazyInsertIterable.java}
73	0	hoodie-client/src/main/java/com/uber/hoodie/func/MergeOnReadLazyInsertIterable.java
11	11	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
5	5	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
22	22	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
9	7	hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java
13	13	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
126	67	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
5	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
32	9	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
25	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
4	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
22	12	hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java
19	10	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
7	4	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java
5	6	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java
36	14	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
66	20	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
14	51	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
34	28	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
5	5	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
8	5	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java
19	2	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
25	26	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java
37	6	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java
32	31	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
25	7	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
7	7	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandleDuplicateRecords.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
12	10	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
173	29	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
51	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
3	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java
7	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
4	7	hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java
5	2	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala

commit 34827d50e174fc27be1c0b2cd11458294026fc3c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-06-11 08:59:13 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 43ef3857305dc4ebf56e8c574198f81ebd7844db
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-06-11 08:59:02 -0700

    [maven-release-plugin] prepare release hoodie-0.4.2

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 4f76f2899e08935e89b6060a14cfbb8af0e83981
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2018-06-11 08:41:11 -0700

    Update Release notes for 0.4.2 release

38	0	RELEASE_NOTES.md

commit 8ad8030f2a0b9da3cd3cdecc21992803ce8a37fc
Author: Xavier Jodoin <xavier@jodoin.me>
Date:   2018-03-28 13:09:57 -0400

    Fix wrong use of TemporaryFolder junit rule

7	10	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
6	1	hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java
5	9	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
6	1	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
12	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java

commit 8f1d362015aeff281c7327d657b0dd7d89ff3083
Author: vinothchandar <vinoth@bytearray.io>
Date:   2018-06-10 18:54:58 -0700

    Fixing deps & serialization for RTView
     - hoodie-hadoop-mr now needs objectsize bundled
     - Also updated docs with additional tuning tips

4	1	docs/configurations.md
6	0	hoodie-hadoop-mr/pom.xml
8	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java

commit 85dd265b7bb87fb19a9c8317fff97f24000367ee
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-01-05 14:06:18 -0800

    Improving out of box experience for data source
    
     - Fixes #246
     - Bump up default parallelism to 1500, to handle large upserts
     - Add docs on s3 confuration & tuning tips with tested spark knobs
     - Fix bug to not duplicate hoodie metadata fields when input dataframe is another hoodie dataset
     - Improve speed of ROTablePathFilter by removing directory check
     - Move to spark-avro 4.0 to handle issue with nested fields with same name
     - Keep AvroConversionUtils in sync with spark-avro 4.0

43	1	docs/configurations.md
19	1	docs/s3_filesystem.md
1	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
10	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
5	5	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
1	1	hoodie-spark/pom.xml
22	3	hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala
11	6	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala

commit a97814462d1b7b2b7a1a880df1e30bc5a8c3544b
Author: Sunil Ramaiah <sramaiah@uber.com>
Date:   2018-05-17 15:40:47 -0700

    Added a filter function to filter the record keys in a parquet file

4	10	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
41	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
48	16	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java

commit 23d53763c4db744fe936e2e609fe6abaf7bd9a82
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-05-02 00:52:37 -0700

    enabling global index for MOR

13	6	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java

commit dfc0c61eb7d8ef6e66e96252f0fc89c260786704
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-04-26 10:18:05 -0700

    Support union mode in HoodieRealtimeRecordReader for pure insert workloads
    Also Replace BufferedIteratorPayload abstraction with function passing

2	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
0	209	hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIterator.java
0	89	hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIteratorExecutor.java
58	53	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/func/ParquetReaderIterator.java
57	0	hoodie-client/src/main/java/com/uber/hoodie/func/SparkBoundedInMemoryExecutor.java
0	42	hoodie-client/src/main/java/com/uber/hoodie/func/payload/AbstractBufferedIteratorPayload.java
0	47	hoodie-client/src/main/java/com/uber/hoodie/func/payload/HoodieRecordBufferedIteratorPayload.java
1	7	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
4	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
36	37	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
36	29	hoodie-client/src/test/java/com/uber/hoodie/func/{TestBufferedIteratorExecutor.java => TestBoundedInMemoryExecutor.java}
336	0	hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java
0	203	hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIterator.java
88	91	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/{HoodieCompactedLogRecordScanner.java => AbstractHoodieLogRecordScanner.java}
131	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java
55	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieUnMergedLogRecordScanner.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
9	9	hoodie-client/src/main/java/com/uber/hoodie/func/payload/GenericRecordBufferedIteratorPayload.java => hoodie-common/src/main/java/com/uber/hoodie/common/util/DefaultSizeEstimator.java
52	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieRecordSizeEstimator.java
31	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/SizeEstimator.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java
10	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java
0	5	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/Converter.java
0	13	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java
0	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/StringConverter.java
162	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java
273	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueue.java
63	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueConsumer.java
35	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueProducer.java
46	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/FunctionBasedQueueProducer.java
49	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/IteratorBasedQueueProducer.java
15	16	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
8	7	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java
14	6	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java
83	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/RecordReaderValueIterator.java
91	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/SafeParquetRecordReaderWrapper.java
282	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java
33	287	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
129	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java
142	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeUnmergedRecordReader.java
105	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java
96	6	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java

commit 93f345a032629367dc2e63b7b61712d6e201c5be
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-04-02 22:53:28 -0700

    Minor fixes for MergeOnRead MVP release readiness

8	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
8	3	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java
4	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
42	30	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
6	12	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
1	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java
12	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
6	6	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java
17	6	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java
6	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java

commit 75df72f575d67042dcbbfd2123fc304992048ae4
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-05-02 00:41:03 -0700

    Adding a fix/workaround when fs.append() unable to return a valid outputstream

20	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
141	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatAppendFailureTest.java
0	7	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java

commit 04655e9e85e8e4aacc8c66209ccd0f4fb0b28671
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-03-25 11:12:41 -0700

    Adding metrics for MOR and COW

26	5	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
8	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
4	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
3	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
4	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
39	9	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	33	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java
41	12	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
1	11	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java
36	15	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
43	0	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
1	1	hoodie-common/src/main/avro/HoodieCommitMetadata.avsc
1	1	hoodie-common/src/main/avro/HoodieCompactionMetadata.avsc
87	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
149	25	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
38	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
70	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieTimer.java
22	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
42	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommitMetadata.java

commit c66004d79a2b1d30584df5e99e782d399d0b8ce7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-04-24 10:56:05 -0700

    Add Support for ordering and limiting results in CLI show commands

5	5	docs/admin_guide.md
78	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java
175	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java
69	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/TableHeader.java
25	23	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
41	15	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java
85	30	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
21	9	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
64	26	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java

commit b9b9b24993993051ba9378f4e8ed1b103d811795
Author: Sunil Ramaiah <sramaiah@uber.com>
Date:   2018-04-25 12:40:24 -0700

    Added more comments and removed the extra new lines

27	28	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandleDuplicateRecords.java

commit 4d1fba24c958c17652b693d22af378e6c2ceb749
Author: Sunil Ramaiah <sramaiah@uber.com>
Date:   2018-04-23 15:23:42 -0700

    Fix for updating duplicate records in same/different files in same parition

7	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
11	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
276	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandleDuplicateRecords.java

commit fa73a911cc3628e375816155c6951c5398b46d30
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2018-04-19 14:20:50 -0700

    Update Gemfile.lock

1	1	docs/Gemfile.lock

commit c3c205fc02155d398e52d4395527c03c710c2bdb
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-04-02 22:53:28 -0700

    Using BufferedFsInputStream to wrap FSInputStream for FSDataInputStream

5	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
12	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java
12	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
13	2	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
77	43	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
2	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
44	31	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
5	10	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
17	5	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
23	19	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
7	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
1	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java

commit 720e42f52a0e3a5e50e63ec39c46b758a7454b01
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-04-01 21:43:05 -0700

    Parallelized read-write operations in Hoodie Merge phase

20	46	hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIterator.java
89	0	hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIteratorExecutor.java
42	49	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
72	0	hoodie-client/src/main/java/com/uber/hoodie/func/ParquetReaderIterator.java
42	0	hoodie-client/src/main/java/com/uber/hoodie/func/payload/AbstractBufferedIteratorPayload.java
31	0	hoodie-client/src/main/java/com/uber/hoodie/func/payload/GenericRecordBufferedIteratorPayload.java
47	0	hoodie-client/src/main/java/com/uber/hoodie/func/payload/HoodieRecordBufferedIteratorPayload.java
5	5	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
47	15	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
14	10	hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIterator.java
79	0	hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIteratorExecutor.java
61	0	hoodie-client/src/test/java/com/uber/hoodie/func/TestParquetReaderIterator.java
4	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java

commit 6c226ca21a84b18bde0ff3a3c569f3e6957a480f
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-04-02 10:08:06 -0700

    Issue-329 : Refactoring TestHoodieClientOnCopyOnWriteStorage and adding test-cases

700	0	hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java
320	0	hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java
436	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java
234	1144	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
195	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
64	10	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
13	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java

commit a4049329a5170aea4d7c73f6e6890ee05d16448e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-04-02 09:29:15 -0700

    Update release notes for 0.4.1 (post)

37	1	RELEASE_NOTES.md

commit 788e4f2d2eeeeee685b9f5d2e09b56be230e34d4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   2018-03-20 16:29:20 -0700

    CodeStyle formatting to conform to basic Checkstyle rules.
    
    The code-style rules follow google style with some changes:
    
    1. Increase line length from 100 to 120
    2. Disable JavaDoc related checkstyles as this needs more manual work.
    
    Both source and test code are checked for code-style

4	5	docs/dev_setup.md
3	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java
12	16	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieSplashScreen.java
1	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/Main.java
12	14	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
17	21	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java
57	91	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
3	4	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java
20	31	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java
37	43	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
31	45	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java
17	23	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java
19	29	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java
18	30	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
24	38	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java
1	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/UtilsCommand.java
4	7	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java
16	23	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java
1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/InputStreamConsumer.java
4	8	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java
19	27	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
153	211	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
10	10	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java
45	52	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
15	13	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
14	12	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java
20	20	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
27	27	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
55	41	hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIterator.java
3	4	hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java
42	41	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/func/LazyIterableIterator.java
20	23	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
23	23	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
3	5	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java
99	109	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
12	12	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java
94	101	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
55	59	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
28	34	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
21	28	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
13	18	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
28	33	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
42	59	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java
3	5	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
28	32	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
5	4	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
10	8	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
20	22	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java
9	9	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java
77	100	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java
14	11	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java
7	12	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsGraphiteReporter.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterFactory.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterType.java
493	513	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
109	106	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
23	24	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/table/UserDefinedBulkInsertPartitioner.java
4	7	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java
8	14	hoodie-client/src/test/java/HoodieClientExample.java
216	353	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
9	14	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java
24	45	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
6	7	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java
74	97	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
32	40	hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java
1	2	hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java
156	164	hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIterator.java
17	26	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
43	53	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java
5	7	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java
118	135	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
25	41	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
23	32	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
31	43	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
4	5	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java
4	4	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java
1	2	hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java
84	120	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
76	121	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
3	3	hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java
8	7	hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java
9	3	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
5	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java
3	3	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java
7	3	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
2	3	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java
4	4	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java
5	5	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java
1	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
35	35	hoodie-common/src/main/java/com/uber/hoodie/common/storage/SizeAwareDataInputStream.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
54	55	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
54	52	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
49	19	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
11	13	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
9	36	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/{LogFormatVersion.java => HoodieLogFormatVersion.java}
25	31	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
6	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
37	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlockVersion.java
4	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java
28	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlockVersion.java
3	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java
8	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
28	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlockVersion.java
27	30	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
33	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlockVersion.java
0	79	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/LogBlockVersion.java
17	15	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
5	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java
6	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
13	18	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
179	179	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
8	4	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
4	4	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java
15	43	hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java
101	105	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
28	34	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java
2	4	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java
0	5	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java
3	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/io/storage/SizeAwareDataOutputStream.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieCorruptedDataException.java
1	3	hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java
14	19	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java
4	6	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/ZookeeperTestService.java
2	1	hoodie-common/src/test/java/com/uber/hoodie/common/model/AvroBinaryTestPayload.java
59	74	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
4	4	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieWriteStat.java
13	24	hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java
221	323	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
23	35	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
3	6	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java
88	163	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
19	31	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
3	4	hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java
5	4	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java
7	10	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java
12	9	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java
18	27	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java
1	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java
27	34	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
14	18	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
18	20	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
35	35	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
0	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/AnnotationTest.java
29	34	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java
13	18	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
1	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java
17	20	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
11	3	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java
17	18	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java
69	78	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
3	2	hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java
2	2	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/ColumnNameXLator.java
39	49	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java
74	86	hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java
38	44	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
18	24	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java
0	1	hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java
16	31	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
3	2	hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java
2	1	hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java
1	2	hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java
5	4	hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala
4	6	hoodie-spark/src/test/java/DataSourceTestUtils.java
20	25	hoodie-spark/src/test/java/HoodieJavaApp.java
50	52	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
32	32	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
32	37	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
4	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
83	62	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
9	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java
10	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java
11	13	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java
6	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
16	23	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java
1	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java
9	15	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java
3	3	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java
35	0	pom.xml
12	0	style/checkstyle-suppressions.xml
246	0	style/checkstyle.xml
337	0	style/eclipse-java-google-style.xml
598	0	style/intellij-java-google-style.xml

commit 987f5d6b965b49e0ba86e5d06ef5e685fb465f2e
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-03-15 00:20:16 -0700

     Making ExternalSpillableMap generic for any datatype
            - Introduced concept of converters to be able to serde generic datatype for SpillableMap
            - Fixed/Added configs to Hoodie Configs
            - Changed HoodieMergeHandle to start using SpillableMap

8	3	docs/configurations.md
2	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
4	16	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
147	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java
44	14	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
26	9	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
5	0	hoodie-common/pom.xml
5	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
16	22	hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java
50	49	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
65	61	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java
24	30	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java
39	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/Converter.java
107	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java
41	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/StringConverter.java
37	0	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSerializableException.java
58	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/AvroBinaryTestPayload.java
51	3	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
2	2	hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java
126	23	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java
113	36	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java
4	0	hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java

commit fa787ab5ab422689ddef4956417b77863a26b2e6
Author: Xavier Jodoin <xavier@jodoin.me>
Date:   2018-03-27 11:36:01 -0400

    Replace deprecated jackson version

0	9	hoodie-common/pom.xml
1	1	hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java
3	3	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java
13	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
4	4	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRecord.java
0	4	hoodie-spark/pom.xml

commit 1b756db2219352b695b9da28f00f2449d2b1c4f5
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-03-23 21:50:11 -0700

    Adding config for parquet compression ratio

1	1	hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala
10	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
4	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
7	1	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java
1	3	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java
3	1	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java

commit 48643795b809ba748d4439ec602f38d6e77675c5
Author: Jian Xu <jian@uber.com>
Date:   2018-03-20 12:06:15 -0700

    Checking storage level before persisting preppedRecords

6	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java

commit 291a88ba941a6ededdbf6d06c5684ea38f90502a
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   2018-03-12 19:06:52 -0700

    DeduplicateRecords based on recordKey if global index is used

16	3	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
34	1	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java

commit 123da020e209b1537a7b247a9991082071a862c2
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-03-13 22:56:29 -0700

    - Fixing memory leak due to HoodieLogFileReader holding on to a logblock
    - Removed inMemory HashMap usage in merge(..) code in LogScanner

11	31	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
6	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
2	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java

commit d3df32fa03e3b83a914ef9df9d56046dacb681bc
Author: Jian Xu <jian@uber.com>
Date:   2018-03-14 12:53:12 -0700

    Add back UseTempFolder changes in HoodieMergeHandle

7	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java

commit c5b4cb1b75e75b3ae9328dcf1b8fadaa0374abc1
Author: Omkar Joshi <omkar@uber.com>
Date:   2018-03-14 16:00:47 -0700

    Spawning parallel writer thread to separate reading records from spark and writing records to parquet file

12	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
221	0	hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIterator.java
68	20	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
3	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
10	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
5	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
3	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
207	0	hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIterator.java

commit 9dff8c2326bee74f2653b9bdc3fd917918b6b9d2
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-01-21 21:09:52 -0800

    Adding a tool to read/inspect a HoodieLogFile

5	1	hoodie-cli/hoodie-cli.sh
221	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java
14	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
6	14	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
29	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java

commit ba7c258c618d9f08750609cc10e80f72550ad563
Author: Jian Xu <jian@uber.com>
Date:   2018-03-06 11:25:26 -0800

    Add more options in HoodieWriteConfig

9	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
6	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java

commit 7f079632a6420f118aca3d7befe2c1593d0640aa
Author: Jian Xu <jian@uber.com>
Date:   2018-03-08 17:21:11 -0800

    Use hadoopConf in HoodieTableMetaClient and related tests

1	1	hoodie-client/src/test/java/HoodieClientExample.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
2	4	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
6	3	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
6	3	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
7	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
6	6	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
2	6	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
6	4	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
3	3	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
2	1	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
1	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
4	2	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java

commit 73534d467f76d47f7ff3dd11e4d4e193798a82c5
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-03-07 21:04:10 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit f2e5c6f9f8abba77aa105fecec643fbaf9d39071
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-03-07 21:04:00 -0800

    [maven-release-plugin] prepare release hoodie-0.4.1

2	4	hoodie-cli/pom.xml
2	4	hoodie-client/pom.xml
2	4	hoodie-common/pom.xml
2	4	hoodie-hadoop-mr/pom.xml
2	4	hoodie-hive/pom.xml
2	4	hoodie-spark/pom.xml
2	4	hoodie-utilities/pom.xml
3	5	pom.xml

commit 0eaa21111a1e1bcd9f0597c62b33d31866ac43c6
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-02-28 15:58:19 -0800

    Re-factoring Compaction as first level API in WriteClient similar to upsert/insert

108	10	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
3	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
74	100	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
7	6	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
11	11	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
6	11	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
9	25	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
99	28	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java

commit 5405a6287bca1f9b3692316367c0806ed21e5ba5
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-02-15 11:01:25 -0800

    Introducing HoodieLogFormat V2 with versioning support
                    - HoodieLogFormat V2 has support for LogFormat evolution through versioning
                            - LogVersion is associated with a LogBlock not a LogFile
                            - Based on a version for a LogBlock, approporiate code path is executed
                    - Implemented LazyReading of Hoodie Log Blocks with Memory / IO tradeoff
                    - Implemented Reverse pointer to be able to traverse the log in reverse
                    - Introduce new MAGIC for backwards compatibility with logs without versions

1	1	docs/_data/topnav.yml
38	0	docs/code_and_design.md
0	16	docs/code_structure.md
8	0	docs/configurations.md
-	-	docs/images/hoodie_log_format_v2.png
10	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
25	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
10	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
10	7	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
7	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
6	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
13	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
139	118	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
410	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java
22	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
45	152	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
58	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
131	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/LogFormatVersion.java
186	38	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
30	33	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java
24	41	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java
60	24	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
173	16	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
79	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/LogBlockVersion.java
4	3	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
526	163	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
9	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
4	3	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
2	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
4	3	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java

commit dfd1979c511d365cad32c6e52238f7e27c1f917b
Author: Jian Xu <jian@uber.com>
Date:   2018-03-01 14:04:16 -0800

    Handle inflight clean instants during Hoodie instants archiving

4	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
15	1	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
8	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java

commit 5d5c306e647e192bcf97b9ef9c970ed4759f116f
Author: Jian Xu <jian@uber.com>
Date:   2018-02-22 11:20:54 -0800

    Add new APIs in HoodieReadClient and HoodieWriteClient

42	14	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
122	39	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
9	12	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java

commit 6fec9655a8394aeec6897ec16618acbd58b51e58
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-12-06 13:11:27 -0800

    Added support for Disk Spillable Compaction to prevent OOM issues

18	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
5	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
11	9	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
34	36	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
155	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java
326	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java
256	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java
116	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java
69	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/io/storage/SizeAwareDataOutputStream.java
32	0	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieCorruptedDataException.java
34	35	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
21	2	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
47	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java
107	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java
245	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java
7	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java

commit d4954843998c2934acc64fc0ae5573fcd727d77b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-02-01 12:36:12 -0800

    Write smaller sized multiple blocks to log file instead of a large one
            - Use SizeEstimator to size number of records to write
            - Configurable block size
            - Configurable log file size

4	0	docs/configurations.md
20	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
9	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
78	62	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java

commit eb3d0c470f1d477f25e40c337196ba68e017895d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-02-13 17:40:09 -0800

    Fix formatting in HoodieWriteClient

819	827	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java

commit 3bdd750982c8a8cd18d6e02040e7a00d7244c018
Author: Jian Xu <jian@uber.com>
Date:   2018-01-30 17:13:54 -0800

    Use FastDateFormat for thread safety
    
    Use FastDateFormat for thread safety, this is to fix an exception when a
    job is used to ingest multiple tables.  An example exception:
    ```
    Caused by: java.lang.NumberFormatException: multiple points
            at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1890)
            at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
            at java.lang.Double.parseDouble(Double.java:538)
            at java.text.DigitList.getDouble(DigitList.java:169)
            at java.text.DecimalFormat.parse(DecimalFormat.java:2056)
            at java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1867)
            at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)
            at java.text.DateFormat.parse(DateFormat.java:364)
            at com.uber.hoodie.HoodieWriteClient.commit(HoodieWriteClient.java:442)
    ```

2	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java

commit 7076c2e9f0cd5d27c1bf58ee80f6ecd9058d80bd
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-01-24 13:34:14 -0800

    refactor classes to accept Map passed by RealtimeCompactor to avoid multiple map creations in HoodieMergeHandle

74	56	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
19	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
9	5	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java

commit 30049383f5a5c52d1e169dcd3b541ccaca96400f
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-01-10 21:10:22 -0800

    Small File Size correction handling for MOR table type

10	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
81	10	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
101	18	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java

commit 2116815261cad10a350189f15e95318b33ab628d
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-12-14 21:34:54 -0800

    Fixing Rollback for compaction/commit operation, added check for null commit
            - Fallback to old way of rollback by listing all partitions
            - Added null check to ensure only partitions which are to be rolledback are considered
            - Added location (committime) to workload stat
            - Added checks in CompactedScanner to guard against task retries
            - Introduce new logic for rollback (bounded by instant_time and target_instant time)
            - Reversed logfiles order

2	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
4	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
88	98	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
5	3	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
83	39	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
160	15	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
1	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java

commit be0b1f3e571a803418fa4f182788403e41aed306
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-12-15 21:29:02 -0800

    Adding global indexing to HbaseIndex implementation
            - Adding tests or HbaseIndex
            - Enabling global index functionality

29	1	hoodie-client/pom.xml
18	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
8	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
135	54	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
318	0	hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java

commit 15e669c60c039589db4a0aaa81adeedfb196e514
Author: Jian Xu <jian@uber.com>
Date:   2018-01-30 11:18:00 -0800

    Incorporating code review feedback for finalizeWrite for COW #4

25	16	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
4	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
9	12	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
0	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
50	91	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java

commit 3736243fb32ae6d19fd5864e36aa0c3f6288b8bd
Author: Jian Xu <jian@uber.com>
Date:   2018-01-18 12:39:30 -0800

    Rebases with latest upstream

3	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
4	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java

commit 363e35bb0f28d5f1a91229a82a9a15555da292be
Author: Jian Xu <jian@uber.com>
Date:   2018-01-18 11:29:10 -0800

    Add finalizeWrite support for HoodieMergeHandle

13	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
19	7	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
0	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
1	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java

commit acae6586f3031a5969cdc51fcfa8fd0764f41f8e
Author: Jian Xu <jian@uber.com>
Date:   2017-12-21 09:58:51 -0800

    Incorporating code review feedback for finalizeWrite for COW #3

0	6	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
7	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
0	4	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java

commit 37f2cdd7e43f94bdc89268755a7d3fbacdd57980
Author: Jian Xu <jian@uber.com>
Date:   2017-12-14 13:36:32 -0800

    Incorporating code review feedback for finalizeWrite for COW #2

0	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	5	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
0	18	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
0	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
0	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
11	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
5	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
62	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieWriteStat.java

commit 2fe4fef62513f0a4f29042b1289ad7c1d7318b54
Author: Jian Xu <jian@uber.com>
Date:   2017-12-06 14:35:44 -0800

    Incorporating code review feedback for finalizeWrite for COW

7	47	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
16	16	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
2	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
60	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java

commit c874248f238401d90ff872396db7ad486a161b1d
Author: Jian Xu <jian@uber.com>
Date:   2017-11-29 16:59:28 -0800

    Add FinalizeWrite in HoodieCreateHandle for COW tables

66	3	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
26	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
23	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
7	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
19	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
36	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
5	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
94	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
15	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
1	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
12	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java

commit e10100fe327d775019de019e01e4cf566a940387
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2018-01-23 15:10:43 -0800

    Reducing list status calls from listing logfile versions, some associated refactoring

11	5	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
0	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
3	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java

commit 937ae322bac73ac8d58f22ae2390cd4953e26139
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-12-15 14:03:06 -0800

    Reducing memory footprint required in HoodieAvroDataBlock and HoodieAppendHandle

5	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
63	0	hoodie-common/src/main/java/com/uber/hoodie/common/storage/SizeAwareDataInputStream.java
32	24	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
3	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java
3	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java
3	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
63	18	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java

commit 85d32930cd919ad8897efac1170c8ed6bf7b9a5c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2018-01-18 00:05:22 -0800

    Update Gemfile.lock

31	25	docs/Gemfile.lock

commit 21ce846f1807ffb94063098e2e4f4e4f9e345f0c
Author: vinothchandar <vinoth@bytearray.io>
Date:   2018-01-03 16:05:30 -0800

    Remove stateful fs member from HoodieTestUtils & FSUtils

9	9	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
13	10	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
7	3	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
6	14	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
0	13	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
2	6	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java
10	13	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
3	6	hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java
1	3	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
8	11	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
6	2	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
2	3	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
0	3	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java
1	1	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java

commit cf7f7aabb97e4bbcfbfb84ec79f56458a731f582
Author: vinothchandar <vinoth@bytearray.io>
Date:   2018-01-03 04:32:21 -0800

    Nicer handling of timeline archival for Cloud storage
    
     - When append() is not supported, rollover to new file always (instead of failing)
     - Provide way to configure archive log folder (avoids small files inside .hoodie)
     - Datasets written via Spark datasource archive to .hoodie/archived
     - HoodieClientExample will now retain only 2,3 commits to exercise archival path during dev cycles
     - Few tweaks to code structure around CommitArchiveLog

2	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
8	19	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
4	2	hoodie-client/src/test/java/HoodieClientExample.java
26	28	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
11	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
24	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
10	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
3	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java
30	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
1	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
1	0	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala

commit 0cd186c899fca8362c9c68eb63d171a13ff25af3
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-12-10 23:31:54 -0800

    Multi FS Support
    
     - Reviving PR 191, to make FileSystem creation off actual path
     - Streamline all filesystem access to HoodieTableMetaClient
     - Hadoop Conf from Spark Context serialized & passed to executor code too
     - Pick up env vars prefixed with HOODIE_ENV_ into Configuration object
     - Cleanup usage of FSUtils.getFS, piggybacking off HoodieTableMetaClient.getFS
     - Adding s3a to supported schemes & support escaping "." in env vars
     - Tests use HoodieTestUtils.getDefaultHadoopConf

2	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java
5	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java
4	5	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java
1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java
2	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
2	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java
2	2	hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala
2	1	hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala
4	4	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
55	43	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
7	4	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
13	6	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
0	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
17	25	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
5	5	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java
26	18	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java
15	14	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
10	12	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
1	1	hoodie-client/src/test/java/HoodieClientExample.java
75	65	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
159	0	hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
6	5	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java
3	2	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
6	5	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
12	14	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
7	7	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
18	20	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
15	12	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
46	45	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
6	0	hoodie-common/pom.xml
1	1	hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java
56	0	hoodie-common/src/main/java/com/uber/hoodie/common/SerializableConfiguration.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/ActionType.java
21	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
23	27	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
8	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java
2	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
3	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
22	6	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
20	24	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
3	2	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java
10	4	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
4	4	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
2	2	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
20	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java
6	2	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java
1	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
3	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
4	3	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
11	5	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
2	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
2	1	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java
1	1	hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java
3	2	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala
1	1	hoodie-spark/src/test/scala/DataSourceTest.scala
21	30	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
11	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
6	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
2	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
3	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java
2	2	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java
16	11	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java

commit 44839b88c6e190ab4293425430c4070dd08958dc
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-12-05 00:58:53 -0800

    Removing compaction action type and associated compaction timeline operations, replace with commit action type

0	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
6	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
2	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
16	16	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
7	25	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
6	7	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
31	30	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
2	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
5	8	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
16	40	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
3	3	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
7	7	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
4	5	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
7	7	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
16	0	hoodie-common/src/main/avro/HoodieCommitMetadata.avsc
0	108	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionWriteStat.java
22	10	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
0	86	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCompactionMetadata.java
61	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
0	11	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
6	15	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
0	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
1	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
0	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
15	15	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
19	20	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
3	4	hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java
1	1	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala
3	3	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit a1c0d0dbad5f9bc3e020a83953668d00bfa574ef
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-12-10 07:50:37 -0800

    Update README.md
    
    Reflect hudi

3	3	README.md

commit 4aed5c7338701310ea7f71459b80a532ad5eccd7
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-10-25 13:30:15 -0700

    Adding a new Partition/Time based compaction strategy

1	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
62	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
34	5	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java

commit 051f600b7f14db4883bb0178a6a2089365375351
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-11-30 17:21:34 -0800

    Enable hive sync even if there is no compaction commit

13	8	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java

commit 9b610f82c736bf7d20348e6670880e16f3ccf457
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-11-13 10:36:33 -0800

    Separating out compaction() API

35	8	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
3	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
6	7	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
9	8	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
12	10	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
17	15	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java

commit e45679f5e28ea88c99479b8111b07421a956e9b8
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-11-12 22:54:56 -0800

    Reformatting code per Google Code Style all over

4	2	hoodie-cli/pom.xml
23	23	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java
7	7	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieHistoryFileNameProvider.java
7	8	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java
20	21	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java
34	29	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieSplashScreen.java
9	11	hoodie-cli/src/main/java/com/uber/hoodie/cli/Main.java
81	77	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
69	68	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java
211	198	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
13	13	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java
49	48	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java
86	82	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java
65	64	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java
106	106	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java
93	92	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
98	96	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java
8	7	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/UtilsCommand.java
13	12	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java
92	87	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java
28	25	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/InputStreamConsumer.java
38	43	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java
4	4	hoodie-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml
24	19	hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala
5	5	hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala
164	162	hoodie-client/pom.xml
118	134	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
148	136	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
126	121	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
19	17	hoodie-client/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java
216	208	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
116	117	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
77	77	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java
52	50	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
344	338	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
9	9	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieAppendException.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCommitException.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCompactionException.java
9	10	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieDependentSystemUnavailableException.java
6	8	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieInsertException.java
6	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieRollbackException.java
6	6	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieSavepointException.java
10	10	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieUpsertException.java
19	20	hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java
78	76	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
84	83	hoodie-client/src/main/java/com/uber/hoodie/func/LazyIterableIterator.java
86	96	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
91	101	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
58	57	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java
349	342	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
148	138	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java
12	12	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IndexLookupResult.java
69	80	hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java
200	200	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java
141	142	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
187	201	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
204	190	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
88	93	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
55	55	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
182	178	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
2	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java
15	16	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
22	23	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
5	4	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java
9	9	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java
35	35	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java
61	62	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java
9	6	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriter.java
23	23	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java
775	648	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java
36	33	hoodie-client/src/main/java/com/uber/hoodie/io/storage/SizeAwareFSDataOutputStream.java
98	96	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
11	10	hoodie-client/src/main/java/com/uber/hoodie/metrics/InMemoryMetricsReporter.java
43	44	hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java
52	53	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsGraphiteReporter.java
10	9	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporter.java
18	18	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterFactory.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterType.java
552	552	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
187	164	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
233	282	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
6	6	hoodie-client/src/main/java/com/uber/hoodie/table/UserDefinedBulkInsertPartitioner.java
72	73	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java
31	31	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java
0	1	hoodie-client/src/main/resources/log4j.properties
64	64	hoodie-client/src/test/java/HoodieClientExample.java
1444	1367	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
135	129	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
60	58	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java
145	139	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
139	131	hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java
6	4	hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java
74	76	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
20	21	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java
483	450	hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java
195	189	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
147	149	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
0	2	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
0	2	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java
0	1	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java
19	18	hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java
443	404	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
507	482	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
0	1	hoodie-client/src/test/resources/log4j-surefire.properties
123	121	hoodie-common/pom.xml
37	38	hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java
118	121	hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java
63	61	hoodie-common/src/main/java/com/uber/hoodie/common/BloomFilter.java
84	83	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java
72	69	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java
59	58	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieRollbackStat.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/ActionType.java
3	7	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionWriteStat.java
52	56	hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java
11	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieArchivedLogFile.java
25	28	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCleaningPolicy.java
172	168	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
4	5	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCompactionMetadata.java
37	39	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java
14	14	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDeltaWriteStat.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java
180	211	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java
37	36	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java
73	72	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
105	102	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java
124	123	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java
35	34	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java
41	40	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java
147	139	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
117	124	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
199	214	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
193	206	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
52	58	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
52	55	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
22	12	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
11	9	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
6	7	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
19	22	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
4	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java
6	5	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java
5	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
15	22	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
261	274	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
67	68	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java
118	117	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
90	91	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
68	73	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
134	137	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
329	319	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
139	128	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
8	5	hoodie-common/src/main/java/com/uber/hoodie/common/util/NumericUtils.java
128	141	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
7	15	hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java
27	30	hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java
22	27	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieException.java
13	14	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIOException.java
8	9	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIndexException.java
4	3	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSupportedException.java
9	11	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRecordMissingException.java
8	9	hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidDatasetException.java
4	3	hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidHoodiePathException.java
7	6	hoodie-common/src/main/java/com/uber/hoodie/exception/MetadataNotFoundException.java
10	9	hoodie-common/src/main/java/com/uber/hoodie/exception/SchemaCompatabilityException.java
19	19	hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java
116	125	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java
24	24	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/MiniClusterUtil.java
181	185	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/ZookeeperTestService.java
246	217	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
107	108	hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java
92	79	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
97	95	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
15	15	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java
480	475	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
78	78	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
36	37	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java
14	12	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestNumericUtils.java
51	51	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java
64	59	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRecord.java
0	2	hoodie-common/src/test/resources/log4j-surefire.properties
5	2	hoodie-hadoop-mr/pom.xml
37	36	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java
203	206	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
124	128	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
3	3	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/UseFileSplitsFromInputFormat.java
3	3	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieParquetSerde.java
51	49	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java
161	154	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
241	251	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
14	13	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/AnnotationTest.java
217	204	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java
117	111	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
44	41	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java
233	201	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
0	2	hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties
3	1	hoodie-hive/pom.xml
2	2	hoodie-hive/src/assembly/src.xml
0	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java
16	18	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java
17	21	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
15	15	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSyncException.java
4	2	hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java
70	66	hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaDifference.java
4	2	hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java
18	18	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/ColumnNameXLator.java
353	367	hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java
33	25	hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java
27	21	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
239	235	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java
0	2	hoodie-hive/src/test/resources/log4j-surefire.properties
212	210	hoodie-spark/pom.xml
18	18	hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java
101	97	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
41	47	hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java
9	14	hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java
32	32	hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java
18	17	hoodie-spark/src/main/java/com/uber/hoodie/SimpleKeyGenerator.java
2	2	hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala
2	0	hoodie-spark/src/main/scala/com/uber/hoodie/package.scala
15	17	hoodie-spark/src/test/java/DataSourceTestUtils.java
108	98	hoodie-spark/src/test/java/HoodieJavaApp.java
0	1	hoodie-spark/src/test/resources/log4j-surefire.properties
4	3	hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala
4	4	hoodie-spark/src/test/scala/DataSourceTest.scala
252	250	hoodie-utilities/pom.xml
5	5	hoodie-utilities/src/assembly/src.xml
220	218	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
309	280	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
141	123	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
36	41	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
291	257	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
7	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieDeltaStreamerException.java
7	7	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullException.java
7	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullSQLException.java
61	58	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java
34	32	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java
7	7	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaProvider.java
43	45	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroConvertor.java
113	100	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java
80	74	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
171	165	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java
23	27	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java
4	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/SourceDataFormat.java
0	1	hoodie-utilities/src/main/resources/delta-streamer-config/hoodie-client.properties
0	1	hoodie-utilities/src/main/resources/delta-streamer-config/key-generator.properties
0	2	hoodie-utilities/src/main/resources/delta-streamer-config/schema-provider.properties
0	2	hoodie-utilities/src/main/resources/delta-streamer-config/source.properties
226	223	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java
127	116	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java
0	1	hoodie-utilities/src/test/resources/log4j-surefire.properties
664	657	pom.xml

commit 5a62480a920f7e18bd67066df5516ddf4578525d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-11-12 22:21:21 -0800

    Update docs on code style setup

0	1	docs/code_structure.md
5	1	docs/dev_setup.md

commit abe964bebd1c4861a0756c2cf983fa7b7e0d8812
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-09-26 11:16:35 -0700

    Implementing custom payload/merge hooks abstractions for application specific merge logic

14	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
5	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
2	1	hoodie-client/src/test/java/HoodieClientExample.java
17	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
4	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
37	29	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
42	30	hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java
1	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
24	10	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
7	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java
1	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
4	4	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
2	2	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
4	3	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
3	0	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
8	7	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java

commit c7d63a7622f17d11f553bc269c04f3dc9d5af784
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-08-17 17:31:55 -0700

    1) Separated rollback as a table operation 2) Implement rollback for MOR

1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java
38	49	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
9	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
9	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
78	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
139	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
15	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
40	2	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
4	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
214	14	hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java
16	4	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieRollbackStat.java
112	54	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
9	7	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
34	15	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
29	7	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java
39	5	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java
33	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
87	5	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
4	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
6	3	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
246	51	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
7	9	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
6	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
18	14	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java

commit e1fe3ab9374bffebae98b2af7e10245d4b4018de
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-10-02 22:42:54 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 50139fe9040fd4ad500f3faa1dafabe8e017ef9d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-10-02 22:42:32 -0700

    [maven-release-plugin] prepare release hoodie-0.4.0

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
2	4	hoodie-spark/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 3768ad45fb7b59451cb2e8a2616deec1870b5b52
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-10-02 22:24:21 -0700

    Release notes for 0.4.0

42	0	RELEASE_NOTES.md

commit 274aaf49fedc9afd97092e169b970d600eeda7b1
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-10-02 20:29:07 -0700

    Incorporating code review feedback for DataSource

2	2	docs/configurations.md
5	5	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
8	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
2	21	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
1	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
3	2	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
0	2	hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java
4	3	hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala
3	4	hoodie-spark/src/test/java/HoodieJavaApp.java
110	0	hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala
3	3	hoodie-spark/src/test/scala/DataSourceTest.scala

commit 64e0573aca01dfd07b23ec41e20acb307829733e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-08-28 01:28:08 -0700

    Adding hoodie-spark to support Spark Datasource for Hoodie
    
     - Write with COW/MOR paths work fully
     - Read with RO view works on both storages*
     - Incremental view supported on COW
     - Refactored out HoodieReadClient methods, to just contain key based access
     - HoodieDataSourceHelpers class can be now used to construct inputs to datasource
     - Tests in hoodie-client using new helpers and mechanisms
     - Basic tests around save modes & insert/upserts (more to follow)
     - Bumped up scala to 2.11, since 2.10 is deprecated & complains with scalatest
     - Updated documentation to describe usage
     - New sample app written using the DataSource API

2	2	docs/_data/sidebars/mydoc_sidebar.yml
45	0	docs/configurations.md
48	22	docs/incremental_processing.md
14	4	docs/quickstart.md
3	3	hoodie-cli/pom.xml
1	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java
3	3	hoodie-client/pom.xml
1	117	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
5	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
1	1	hoodie-client/src/test/java/HoodieClientExample.java
48	38	hoodie-client/src/test/java/com/uber/hoodie/{TestHoodieClient.java => TestHoodieClientOnCopyOnWriteStorage.java}
95	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
1	2	hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java
18	11	hoodie-client/src/test/java/com/uber/hoodie/{ => table}/TestMergeOnReadTable.java
6	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
1	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
234	0	hoodie-spark/pom.xml
4	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaStreamerPayload.java => hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java
148	0	hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java
88	0	hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java
1	1	{hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen => hoodie-spark/src/main/java/com/uber/hoodie}/KeyGenerator.java
5	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaStreamerAvroPayload.java => hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java
9	16	{hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen => hoodie-spark/src/main/java/com/uber/hoodie}/SimpleKeyGenerator.java
126	0	hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala
145	0	hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala
244	0	hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala
94	0	hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala
36	0	hoodie-spark/src/main/scala/com/uber/hoodie/package.scala
50	0	hoodie-spark/src/test/java/DataSourceTestUtils.java
148	0	hoodie-spark/src/test/java/HoodieJavaApp.java
28	0	hoodie-spark/src/test/resources/log4j-surefire.properties
137	0	hoodie-spark/src/test/scala/DataSourceTest.scala
12	5	hoodie-utilities/pom.xml
1	24	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
7	9	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
4	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java
2	2	hoodie-utilities/src/main/resources/delta-streamer-config/key-generator.properties
0	43	hoodie-utilities/src/test/java/HoodieSparkSQLExample.java
6	3	pom.xml

commit c98ee057fcd9d2566e5cefcf15bd5d2e5ec9283e
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   2017-08-22 14:48:04 -0700

    capture record metadata before deflating for record counting

30	10	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
14	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
5	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
5	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java
5	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
20	0	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
68	0	hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java
37	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
10	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java

commit f2980052cd2a1eba3ebd62a2683a417ff9484258
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-09-28 07:24:39 -0700

    Revert effects of PR #259

3	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java

commit 9f98ae643b20203e8fbb9bf65248f9392e54bd3e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-09-28 09:57:28 -0700

    Adding canIndexLogFiles(), isImplicitWithStorage(), isGlobal() to HoodieIndex

2	0	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
29	0	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
30	1	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
30	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
33	0	hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java
30	0	hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java

commit 6230e151916ce2f0f76a43c792528d7cabfabc57
Author: Eric Sayle <esayle@uber.com>
Date:   2017-09-18 16:14:09 -0700

    Update deprecated hash function
    
    Guava deprecated hashString(String) in v15, and removed it in v16.
    Replace call with hashUnencodedString(String), which replace it, to
    be compatible with newer versions of Guava.

1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java

commit 7e9a4a89dd65d7b3791b56284120f98833a31139
Author: Jian Xu <jian@uber.com>
Date:   2017-09-06 15:30:15 -0700

    Use getFileStatus to get single FileStatus for single file

1	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java

commit 5c639c0b05ecb6ae6fcffd6724d15a6c7329b37b
Author: Omkar Joshi <omkar@uber.com>
Date:   2017-09-08 16:09:39 -0700

    Adding support for UserDefinedBulkInsertPartitioner

32	3	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
32	0	hoodie-client/src/main/java/com/uber/hoodie/table/UserDefinedBulkInsertPartitioner.java

commit ec40d04d514aff1c33eda768651d7e007d629460
Author: Omkar Joshi <omkar@uber.com>
Date:   2017-09-02 14:59:10 -0700

    Fixing UpsertPartitioner to ensure that input records are deterministically assigned to output partitions

17	35	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
16	16	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java

commit e2d13c63052a90ac109e26cad05b04c3678aa953
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-08-14 11:57:38 -0700

    Fix build failing issues

4	4	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
1	1	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java

commit 63f1b123554c9c350958beebb539a538bcd52cd2
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-08-25 14:12:19 -0700

    adding ability to read archived files written in log format

123	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java

commit e484e91807caeda5afd905b649c97902ec0cdde5
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-07-26 11:49:22 -0700

    adding new config to separate shuffle and write parallelism

1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
12	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java

commit b1cf097b0cb685ebfb0e507ac8ad777de6baa8ac
Author: Jian Xu <jian@uber.com>
Date:   2017-06-30 17:03:44 -0700

    Add nested fields support for MOR tables

5	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
98	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRecord.java
17	0	hoodie-common/src/test/resources/complex-test-evolved.avro
16	4	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
11	2	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
121	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java

commit 6a3c94aaa30cb00675ff416d0d33ba3a1e868ccc
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-08-14 11:45:36 -0700

    suppressing logs (under 4MB) for jenkins

3	0	hoodie-client/src/test/resources/log4j-surefire.properties
2	0	hoodie-common/src/test/resources/log4j-surefire.properties

commit 5ee4ac40ae479fc5558863ed425d8e26157f9b34
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-07-25 17:25:41 -0700

    Use CompletedFileSystemView instead of CompactedView considering deltacommits

1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java

commit 45dd8980c34b009c6609c0ebfb903b55cbecc2de
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-08-04 17:00:40 -0700

    Temporary fix for build break after rebase

4	3	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java

commit 86209640f76d64767a24c344ec0e2b22c2a381e6
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-07-14 09:29:16 -0700

    Adding range based pruning to bloom index
    
     - keys compared lexicographically using String::compareTo
     - Range metadata additionally written into parquet file footers
     - Trim fat & few optimizations to speed up indexing
     - Add param to control whether input shall be cached, to speed up lookup
     - Add param to turn on/off range pruning
     - Auto compute of parallelism now simply factors in amount of comparisons done
     - More accurate parallelism computation when range pruning is on
     - tests added & hardened, docs updated

8	2	docs/configurations.md
1	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
18	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
8	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
0	347	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
4	2	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
99	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java
380	0	hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/index/{ => bloom}/HoodieBloomIndexCheckFunction.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/index/{ => bloom}/IndexLookupResult.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/index/{ => bucketed}/BucketedIndex.java
9	6	hoodie-client/src/main/java/com/uber/hoodie/index/{ => hbase}/HBaseIndex.java
1	2	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
3	19	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
11	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
3	0	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java
128	55	hoodie-client/src/test/java/com/uber/hoodie/index/{ => bloom}/TestHoodieBloomIndex.java
3	8	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
1	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
24	1	hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
30	10	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
0	2	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIndexException.java
32	0	hoodie-common/src/main/java/com/uber/hoodie/exception/MetadataNotFoundException.java

commit 0b26b60a5c253717d890d658a6e6a55caa310518
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-06-29 00:32:11 -0700

    fix for cleaning log files(mor)

28	30	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
40	5	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
4	5	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
31	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java

commit 19c22b231ed69197fb8c932dab464d3f93ecc9ad
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-06-20 23:50:23 -0700

    1. Use HoodieLogFormat to archive commits and other actions 2. Introduced avro schema for commits and compactions and an avro wrapper schema

12	11	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
163	83	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
10	6	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
74	54	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
10	0	hoodie-common/pom.xml
55	0	hoodie-common/src/main/avro/HoodieArchivedMetaEntry.avsc
61	0	hoodie-common/src/main/avro/HoodieCommitMetadata.avsc
42	0	hoodie-common/src/main/avro/HoodieCompactionMetadata.avsc
0	3685	hoodie-common/src/main/java/com/uber/hoodie/common/file/HoodieAppendLog.java
21	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/ActionType.java
40	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieArchivedLogFile.java
5	3	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
3	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java
9	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java
30	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
2	1	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java

commit 616c9a68c3168d927f08117014949df2f1a859ec
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-07-07 12:50:01 -0700

    Enabled deletes in merge_on_read

11	0	hoodie-client/pom.xml
21	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
137	6	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
98	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java
4	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
4	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java

commit cf1dde03231b54cacecf53e0f9b8320eba4a7590
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-07-08 22:45:22 -0700

    Add recent talks/presentations to documentation

1	1	docs/_data/sidebars/mydoc_sidebar.yml
25	3	docs/powered_by.md

commit e8b3ddd7cbf4232d3e02fa9bcb71c100a5aea26f
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-07-08 21:30:06 -0700

    Add note on community engagement to committership guidelines

2	1	docs/community.md

commit 7d3963b4abfa150a7175d284e3ac38085ccbc233
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-06-30 11:41:23 -0700

    Pushing master to 0.4.0 as we continue to make minor releases over 0.3.8 (MVP for MOR)

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	pom.xml

commit 3eba812a1b53eba9df96fc164c6482bd08cf14ec
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-06-30 11:17:07 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 06d44daea321b47476361d1a94f216288b083c6f
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-06-30 11:16:58 -0700

    [maven-release-plugin] prepare release hoodie-0.3.9

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 348250d9607c5441b13860f178308a3159b15e6b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-06-29 16:42:58 -0700

    Using FsUtils instead of Files API to extract file extension

4	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java

commit e5d9b818bce3fcd9714a5973c68745cce0845fcc
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-06-22 20:33:33 -0700

    Sync Tool registers 2 tables, RO and RT Tables

39	25	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java
55	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java
2	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java

commit 5cc071f74e518b5b37ce953434d6445c2a97024b
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-06-22 15:00:27 -0700

    Savepoint should not create a hole in the commit timeline

10	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
20	2	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
33	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
0	1	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java

commit 29b906b76329b85d2765c95be76afea8720e2022
Author: Jian Xu <jian@uber.com>
Date:   2017-06-27 12:00:37 -0700

    Fix TimestampBasedKeyGenerator when DATE_STRING is used for partitionpath.field

1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java

commit 754ab88a2d1e9fe5266d61472d96e34a70e7e888
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-06-19 17:16:45 -0700

    Introduce ReadOptimizedView & RealtimeView out of TableFileSystemView
    
      - Usage now marks code as clearly using either RO or RT views, for future evolution
      - Tests on all of FileGroups and FileSlices

1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
18	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
8	7	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
6	6	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java
46	76	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
3	14	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
146	29	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java
21	18	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java

commit c00f1a9ed972dac9a8c4c238c762cb390b62f54c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-06-19 00:34:37 -0700

    Refactoring HoodieTableFileSystemView using FileGroups/FileSlices
    
     - Merged all filter* and get* methods
     - new constructor takes filestatus[]
     - All existing tests pass
     - FileGroup is all files that belong to a fileID within a partition
     - FileSlice is a generation of data and log files, starting at a base commit

5	4	hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala
4	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
11	22	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
10	8	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java
4	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java
1	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
2	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
22	28	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
8	5	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
14	10	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
1	3	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java
97	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java
246	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java
10	10	hoodie-common/src/main/java/com/uber/hoodie/common/{table/log => model}/HoodieLogFile.java
48	29	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
1	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
1	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
2	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
3	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
180	165	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
3	3	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
1	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
56	38	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/{ReadOptimizedTableViewTest.java => HoodieTableFileSystemViewTest.java}
16	15	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
6	5	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
9	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
1	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
1	1	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
1	1	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java

commit 23e7badd8ad31113ce8983c8666ff5509f9a847a
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-05-14 09:44:44 -0700

    Rename IO Handles & introduce stub for BucketedIndex
    
     - UpdateHandle -> MergeHandle, InsertHandle -> CreateHandle
     - Also bunch of code cleanup in different places

8	7	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
16	3	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
4	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
4	5	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
91	0	hoodie-client/src/main/java/com/uber/hoodie/index/BucketedIndex.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
6	4	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
12	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/io/{HoodieInsertHandle.java => HoodieCreateHandle.java}
7	9	hoodie-client/src/main/java/com/uber/hoodie/io/{HoodieUpdateHandle.java => HoodieMergeHandle.java}
18	5	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
4	7	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java

commit b0a2a23372212f865fa559da1b128e4a2279784f
Author: prazanna <prasanna.raj@gmail.com>
Date:   2017-06-20 15:48:43 -0700

    Adding Nishith to Contributors list

4	0	pom.xml

commit 649475c5cbad78130ac5a4973d0872082b21ecdf
Author: prazanna <prasanna.raj@gmail.com>
Date:   2017-06-20 15:47:05 -0700

    Adding Kaushik to contributors list

4	0	pom.xml

commit 3aa80839132fa0fafefef66c242bdd426df92653
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   2017-06-20 00:16:54 -0700

    Correct clean bug that causes clean failure when partitionPaths are empty

2	4	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
22	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java

commit 7ef76a4de0c1000abe81513472712cf5602ef97c
Author: prazanna <prasanna.raj@gmail.com>
Date:   2017-06-16 12:52:54 -0700

    Adding Kathy Ge to the contributors list

4	0	pom.xml

commit 52c507f83ed90ea37b1e64c82fca10b2909f2503
Author: gekath <kathyge@gmail.com>
Date:   2017-06-13 13:35:38 -0400

    Writes relative paths to .commit files
    
    Handle case where path is read in as null from commit file
    
    Merged with updated release

2	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java
3	1	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
3	4	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java

commit db7311f85e2298d297202c5a8f4f6fc4e5e8ea28
Author: gekath <kathyge@gmail.com>
Date:   2017-06-02 11:28:47 -0400

    Writes relative paths to .commit files instead of absolute paths
    
    Clean up code
    
    Removed commented out code
    
    Fixed merge conflict with master

6	5	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
3	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
3	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
44	3	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
11	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
8	11	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
4	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
3	3	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
3	3	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java

commit 0ed3fac5e3bb292f227ebc4c02a6e6585e4bd39f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-06-16 11:03:17 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 45732e440c48cf9513f7f39c0926e21f07532b9a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-06-16 10:59:58 -0700

    [maven-release-plugin] prepare release hoodie-0.3.8

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit e44f9b889b6b42d7feb89a0ebfa2e401dde5b0a4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-06-16 10:47:25 -0700

    Added CHANGELOG.md and updated community contributions guideline

27	0	CHANGELOG.md
1	0	docs/community.md
5	1	pom.xml

commit 4b26be9f6178dde6cace2ed87ae3d2ae8b4ac827
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-06-15 05:40:59 -0700

    Fixes to RealtimeInputFormat and RealtimeRecordReader and update documentation for HiveSyncTool

12	10	docs/quickstart.md
8	4	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionWriteStat.java
5	0	hoodie-hadoop-mr/pom.xml
55	30	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
54	27	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
1	1	hoodie-hive/pom.xml
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java

commit 521555c576f35fbf6dc8be0a09d0b49607afc1c8
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   2017-05-29 15:36:12 -0700

    Parallelize file version deletes during clean and related tests

2	17	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
26	50	hoodie-client/src/main/java/com/uber/hoodie/io/{HoodieCleaner.java => HoodieCleanHelper.java}
159	15	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
16	8	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
249	2	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
0	198	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java
7	9	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java

commit dda28c0b4b6263e89ff24791f6f09dc553f4c19b
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-06-13 12:09:36 -0700

    Rollback inflight commits as well when rolling back to savepoint

1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java

commit db6150c5ef02a9bc6feaf3f9f4e6cecba9a6a25b
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-05-19 23:47:27 -0700

    Refactor hoodie-hive

1	0	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
41	9	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
3	2	hoodie-common/src/test/resources/simple-test-evolved.avro
1	1	hoodie-common/src/test/resources/simple-test.avro
10	0	hoodie-hive/pom.xml
29	14	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java
140	43	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java
607	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java
0	119	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveConfiguration.java
0	182	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveDatasetSyncTask.java
0	243	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSchemaSyncTask.java
5	5	hoodie-hive/src/main/java/com/uber/hoodie/hive/{HoodieHiveDatasetException.java => HoodieHiveSyncException.java}
0	59	hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionStrategy.java
31	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/{model => }/SchemaDifference.java
0	31	hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaStrategy.java
55	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java
0	186	hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieFSClient.java
0	365	hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieHiveClient.java
0	39	hoodie-hive/src/main/java/com/uber/hoodie/hive/example/HoodieHiveSyncExample.java
0	76	hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/DayBasedPartitionStrategy.java
0	43	hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/ParseSchemaFromDataStrategy.java
0	79	hoodie-hive/src/main/java/com/uber/hoodie/hive/model/HoodieDatasetReference.java
0	51	hoodie-hive/src/main/java/com/uber/hoodie/hive/model/StoragePartition.java
0	38	hoodie-hive/src/main/java/com/uber/hoodie/hive/model/TablePartition.java
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/{client => util}/ColumnNameXLator.java
16	19	hoodie-hive/src/main/java/com/uber/hoodie/hive/{client => util}/SchemaUtil.java
0	186	hoodie-hive/src/test/java/com/uber/hoodie/hive/DatasetSchemaTest.java
0	99	hoodie-hive/src/test/java/com/uber/hoodie/hive/HDroneDatasetTest.java
308	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java
353	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java
0	44	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/CsvParquetWriter.java
0	94	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/CsvWriteSupport.java
0	201	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/TestUtil.java
0	25	hoodie-hive/src/test/resources/nation.csv
0	6	hoodie-hive/src/test/resources/nation.schema
0	25	hoodie-hive/src/test/resources/nation_evolved.csv
0	7	hoodie-hive/src/test/resources/nation_evolved.schema
5	0	pom.xml

commit c192dd60b4dbf13bbee12e3dbba5cbc39edddd29
Author: Danny Chen <dannyc@uber.com>
Date:   2017-05-31 17:41:27 -0700

    Change from deprecated closeQuietly to try with resources

1	8	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
11	17	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java

commit 36fa6f66ac5b8dd82cc5b0c7026fc796642fe523
Merge: 933cc8071f ba050973e3
Author: n3nash <nagarwal@uber.com>
Date:   2017-06-02 11:49:32 -0700

    Merge pull request #180 from n3nash/record-reader-with-compaction
    
    updated HoodieRealtimeRecordReader to use HoodieCompactedLogRecordSca°≠

commit ba050973e304defb67e789527e0868ea3f217002
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-05-31 15:06:22 -0700

    updated HoodieRealtimeRecordReader to use HoodieCompactedLogRecordScanner, added test for recordreader

6	1	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
12	0	hoodie-common/src/test/resources/simple-test-evolved.avro
20	32	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
18	14	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
137	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java
1	1	hoodie-hadoop-mr/src/test/resources/sample1.avro

commit 933cc8071f4b9b7c145804a7bc5984832e45aba3
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-05-24 14:02:50 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit bebae06b5bd9cd08a291c085377594518c9acec4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-05-24 14:02:41 -0700

    [maven-release-plugin] prepare release hoodie-0.3.7

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit bae98efeee4778154db1454432471ff3d60f0007
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-05-18 09:57:44 -0700

    Delete other instant files (.clean) as well during commit archival

32	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java

commit e1d13f2bc8adf78f6413dda7fd3b38d711a1417a
Author: prazanna <prasanna@uber.com>
Date:   2017-05-23 12:05:01 -0700

    https://repository.cloudera.com/artifactory/repo/ has been changed to https://repository.cloudera.com/artifactory/public/

1	1	pom.xml

commit 240c91241bf4a7175c37b25bdf3a1261d58965d5
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-05-17 12:52:36 -0700

    Implement HoodieLogFormat replacing Avro as the default log format

1	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
16	16	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
7	8	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
207	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java
0	238	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppendConfig.java
0	65	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppender.java
1	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFile.java
193	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java
201	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java
164	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java
0	143	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogAppender.java
0	82	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogReader.java
0	155	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/CompositeAvroLogReader.java
0	97	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/HoodieAvroReader.java
0	88	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/RollingAvroLogAppender.java
134	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java
53	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java
46	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java
51	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java
38	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java
8	8	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
32	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
24	0	hoodie-common/src/main/java/com/uber/hoodie/exception/CorruptedLogFileException.java
12	22	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
580	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java
0	326	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/avro/AvroLogAppenderTest.java
17	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
3	3	hoodie-hive/src/test/java/com/uber/hoodie/hive/HDroneDatasetTest.java

commit 3c984447da754e85bafeac81a790efdc5fee42dc
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   2017-05-18 15:10:28 -0700

    view scheme added

2	1	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java

commit 70dd7a25eac67fa13fed3b08b02c48bba62aa878
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-05-19 23:48:31 -0700

    Clean should not create a .inflight file

1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java

commit 7014670795e03e16cc945af3dcc68c2d1baaf3fc
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-05-18 10:45:26 -0700

    Update contributor list

4	0	pom.xml

commit 43a55b09fdc64368f5bbaf17980233b84cf33760
Author: Zeeshan Qureshi <zee@zqureshi.in>
Date:   2017-03-16 12:19:13 -0400

    Add GCS to supported filesystems

3	0	docs/configurations.md
62	0	docs/gcs_filesystem.md
4	0	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java

commit 21e334592f30ef055097439ad5ca1fdf7debb78d
Author: prazanna <prasanna@uber.com>
Date:   2017-05-17 13:43:11 -0700

    Update java version to 8 in travis.yml

2	0	.travis.yml

commit 1b0a0279428fc406d44db2fda6d6bf705cd1eb10
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-05-04 17:25:54 -0700

    Update community.md with committership guidelines

3	0	docs/community.md

commit b4e787ce1de142a1eb82d22acd70a6d0f2054ccf
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-04-26 14:03:06 -0700

    Update docs

67	8	docs/quickstart.md
9	1	hoodie-client/src/test/java/HoodieClientExample.java

commit da17c5c6079bdcebde20edb5f5773d2d8eb2e96a
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-04-26 13:36:49 -0700

    Introduce getCommitsAndCompactionsTimeline() explicitly & adjust usage across code base

6	7	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
2	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java
0	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
2	4	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
0	1	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
6	6	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
12	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
2	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
0	3	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
3	3	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
4	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
1	0	pom.xml

commit bae0528013d125bbaad2b0fbba082fa03dbf93af
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-04-26 11:00:50 -0700

    Cleanup calls to HoodieTimeline.compareTimeStamps

2	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java
0	2	hoodie-client/src/test/java/HoodieClientExample.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
2	3	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
0	1	hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
5	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
1	4	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
1	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java

commit 7b1446548fc8fda9a2c1fcbac29331ad2c57f60e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-04-24 08:19:02 -0700

    Initial impl of HoodieRealtimeInputFormat
    
     - Works end-end for flat schemas
     - Schema evolution & hardening remains
     - HoodieClientExample can now write mor tables as well

5	5	hoodie-client/src/test/java/HoodieClientExample.java
6	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
7	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
37	5	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
13	8	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
31	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieParquetSerde.java
92	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java
188	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java
319	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java
43	0	hoodie-utilities/src/test/java/HoodieSparkSQLExample.java

commit 9f526396a085e52308b85d4dbfc71102005b5366
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-04-04 05:17:38 -0700

    Add support for merge_on_read tables to HoodieClientExample

29	20	hoodie-client/src/test/java/HoodieClientExample.java
17	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java

commit 7bca428a0a4e047a35a67db7e9ab54caac066539
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-04-28 12:47:14 -0700

    Test to check if properties set are properly propogated

16	0	hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java

commit 3f97bdcccf4f1452127cb810589961c25d8517ba
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-04-28 12:40:58 -0700

    Test to check if properties set are properly propogated

42	0	hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java

commit c3258039f089334c1549d57509d8c3b10ddb8309
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-04-27 11:00:56 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit de1bdad7566a3b9a1dce19a3ef54eee3ccb6b98f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-04-27 11:00:45 -0700

    [maven-release-plugin] prepare release hoodie-0.3.6

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 8974e1116129a4ce7778e29b4e9b84a4a55e7f37
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-04-27 10:37:30 -0700

    Make sure properties set in HoodieWriteConfig is propogated down to individual configs. Fix a race condition which lets InputFormat to think file size is 0 when it is actually not

6	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
5	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
6	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java
5	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
6	5	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
7	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
9	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
20	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java

commit 91b088f29fe71fabbbd7602748f4f7d048b4d108
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-04-04 12:37:28 -0700

    Implement Compaction policy abstraction. Implement LogSizeBased Bounded IO Compaction as the default strategy

23	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
13	3	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
50	39	hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
80	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java
62	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java
70	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java
47	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
1	2	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
3	4	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
123	0	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java
57	0	hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java
26	14	hoodie-client/src/{main/java/com/uber/hoodie/io/compact/CompactionFilter.java => test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java}
3	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFile.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
18	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java

commit 82b211d2e629dcd9869d486f5af62a7063e6c87d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-04-03 18:23:47 -0700

    Rebase with generic partition support

1	3	hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/DayBasedPartitionStrategy.java

commit 848814beceb6103ba36aee9e5b7b05ec2f52eafe
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-04-03 16:59:44 -0700

    Adding docs for deltastreamer, hivesync tool usage

118	2	docs/incremental_processing.md
33	2	docs/quickstart.md

commit 542d622e49a7f3947a2ebaf9d1c948b78e4807b7
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-04-03 14:44:43 -0700

    Adding HiveSyncTool to sync hoodie dataset schema/partitions to Hive
    
     - Designed to be run by your workflow manager after hoodie upsert
     - Assumes jdbc connectivity via HiveServer2, which should work with all major distros

58	0	hoodie-hive/pom.xml
44	0	hoodie-hive/src/assembly/src.xml
50	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java
82	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java
4	3	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveDatasetSyncTask.java
8	5	hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionStrategy.java
4	26	hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieFSClient.java
0	56	hoodie-hive/src/main/java/com/uber/hoodie/hive/example/HoodieDatasetExample.java
39	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/example/HoodieHiveSyncExample.java
19	19	hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/DayBasedPartitionStrategy.java
5	5	hoodie-hive/src/main/java/com/uber/hoodie/hive/model/StoragePartition.java

commit 2b6322318c769c63cff071bc8a373b1f476e9a89
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-04-03 18:17:56 -0700

    CR feedback

1	0	docs/community.md
3	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java
3	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java

commit e0fc4ec38e686e7a5634c267e978072af6bf35cc
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-03-26 17:51:51 -0700

    Documentation update + helper method for WriteConfig builder

1	1	docs/community.md
2	0	docs/configurations.md
5	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java

commit dce35ff0d74da19edf0e0ffdac3c5d01c3440b7d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-03-26 17:40:20 -0700

    Adding a config to control whether date partitioning can be assumed
    
     - false by default
     - CAUTION: If you have an existing tables without partition metadata, you need to set this to "true"

3	3	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
8	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
10	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
6	3	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
2	2	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java

commit f9fd16069de086056145e85a1e4445f6b8d75324
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-03-26 17:15:52 -0700

    FSUtils.getAllPartitionsPaths() works based on .hoodie_partition_metadata
    
     - clean/rollback/write paths covered by existing tests
     - Snapshot copier fixed to copy metadata file also, and test fixed
     - Existing tables need to be repaired by addition of metadata, before this can be rolled out

1	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java
25	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
10	1	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
0	1	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java
2	10	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
62	76	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
44	45	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
70	67	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java

commit 3129770fd085c2390cf4da14e9d3de21482d1c35
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-03-21 23:57:30 -0700

    Create .hoodie_partition_metadata in each partition, linking back to basepath
     - Concurreny handled via taskID, failure recovery handled via renames
     - Falls back to search 3 levels up
     - Cli tool has command to add this to existing tables

0	78	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RecordsCommand.java
110	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java
6	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java
8	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java
135	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java
4	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
0	4	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
10	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java
8	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
10	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java

commit 1e802ad4f2d3b6ba908c6488df7505ee7cb9415a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-04-03 13:52:07 -0700

    Move HoodieAvroReader to hoodie-common, it will be used for compaction and in the record reader

1	7	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
1	3	{hoodie-client/src/main/java/com/uber/hoodie/io => hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro}/HoodieAvroReader.java

commit aee136777be6606b51c95768df9f0575dd34bf8c
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-03-31 01:02:02 -0700

    Fixes needed to run merge-on-read testing on production scale data

22	10	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
22	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
28	0	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCompactionException.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
99	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAvroReader.java
21	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java
0	26	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactionMetadata.java
1	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
127	111	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
9	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
36	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
11	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
4	3	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
1	0	hoodie-client/src/test/resources/log4j-surefire.properties
10	10	hoodie-common/pom.xml
108	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionWriteStat.java
4	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
87	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCompactionMetadata.java
4	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogAppender.java
11	12	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
28	21	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
5	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
10	0	hoodie-hive/pom.xml
2	1	pom.xml

commit 57ab7a2405f65de3e006c16268e71d992627d02a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-03-31 14:58:55 -0700

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 803c635098bbcb4a761eec5cd73ae81965c2f1b4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-03-31 14:58:46 -0700

    [maven-release-plugin] prepare release hoodie-0.3.5

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit f4bb44c1b1ea3d2645fe209c30e20289a3b30d2c
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-03-31 14:54:54 -0700

    Update snapshot version to 0.3.5-SNAPSHOT

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	pom.xml

commit 77e54e78f8cf4f615f1b899703c85b00a8f8aad1
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-03-27 14:49:26 -0700

    Create the partition path if it does not exist when listing data files in a partition

2	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java
6	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java

commit e3b273e9fd33665e46a6fbccfbcf4504399f6f1a
Author: Yash Sharma <ysharma@atlassian.com>
Date:   2017-03-28 10:30:50 +1100

    formatting for docs

8	2	docs/s3_filesystem.md

commit bca7e7dae40570982155d05467e99446f8e80c44
Author: Yash Sharma <ysharma@atlassian.com>
Date:   2017-03-27 17:29:00 +1100

    improve documentations

3	0	docs/configurations.md
8	0	docs/s3_filesystem.md
5	0	hoodie-client/pom.xml
14	33	hoodie-client/src/test/java/HoodieClientExample.java
0	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java

commit d6f94b998dc3b98308b86c4a6cd11e2a250a8913
Author: Yash Sharma <yash360@gmail.com>
Date:   2017-03-24 14:42:10 +1100

    Hoodie operability with S3

1	0	README.md
47	0	docs/s3_filesystem.md
2	1	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java
41	10	hoodie-client/src/test/java/HoodieClientExample.java

commit a7cd021f266cdaa053fef4304f0794f539333170
Author: prazanna <prasanna@uber.com>
Date:   2017-03-23 16:20:54 -0700

    Update incremental pull query documentation

4	3	docs/quickstart.md

commit 0e3f635adbc231ad513948c39e8b2d93573a035b
Author: prazanna <prasanna@uber.com>
Date:   2017-03-23 15:54:26 -0700

    remove hardcoding of autoClean

1	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java

commit a94f3a638e82193e0243d8227b998046255efbb3
Author: Zeeshan Qureshi <zee@zqureshi.in>
Date:   2017-03-16 23:04:36 -0400

    Pass table path as argument to HoodieClientExample

3	2	hoodie-client/src/test/java/HoodieClientExample.java

commit b7047ab4fbe5274d9cb01d5eee85edf8735051c1
Author: fishie9 <siyu.yang@gmail.com>
Date:   2017-03-23 04:31:30 -0700

    Pass in String StroageLevel for WriteStatus (#113)

2	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java

commit b02910c588bc41d9235ff53ef766250b98673956
Author: ovj <omkar@uber.com>
Date:   2017-03-22 18:25:26 -0700

    few fixes to quick start document (#112)

7	3	docs/quickstart.md

commit f1b7afad2143cba6a87e03207e0e45c7cfc8ef10
Author: prazanna <prasanna@uber.com>
Date:   2017-03-21 17:36:46 -0700

    Add config for index parallelism and make clean public (#109)
    
    * Add config for index parallelism and make clean public
    
    * Review comments on clean api modification

19	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
8	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
4	1	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java

commit 21898907c1d1dd1dd962b441db29c6663756cdb8
Author: ovj <omkar@uber.com>
Date:   2017-03-21 14:42:13 -0700

    tool for importing hive tables (in parquet format) into hoodie dataset (#89)
    
    * tool for importing hive tables (in parquet format) into hoodie dataset
    
    * review fixes
    
    * review fixes
    
    * review fixes

9	1	hoodie-cli/hoodie-cli.sh
5	2	hoodie-cli/pom.xml
91	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java
40	14	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
2	1	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java
0	3	hoodie-client/pom.xml
13	28	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
14	5	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
10	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
15	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
4	1	hoodie-utilities/pom.xml
312	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java
291	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java
24	0	hoodie-utilities/src/test/resources/log4j-surefire.properties
10	0	pom.xml

commit d835710c5196ae5a5272a513acb78913ef946b19
Author: prazanna <prasanna@uber.com>
Date:   2017-03-17 12:42:26 -0700

    Metadata timeline marks an already complete instant as complete again (#98)

3	3	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
3	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
19	9	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
2	2	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/ReadOptimizedTableViewTest.java

commit d83b671ada9981780257b10acabfce7b4e5a8403
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-03-13 23:09:29 -0700

    Implement Savepoints and required metadata timeline - Part 2

1	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java
43	12	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
16	8	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java
37	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
2	4	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
13	2	hoodie-common/src/main/avro/HoodieSavePointMetadata.avsc
23	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java

commit 6f36e1eaaf6d4a83de3f41e61e650c16db5b4120
Author: prazanna <prasanna@uber.com>
Date:   2017-03-13 15:12:03 -0700

    Implement Savepoints and required metadata timeline (#86)
    
    - Introduce avro to save clean metadata with details about the last commit that was retained
    - Save rollback metadata in the meta timeline
    - Create savepoint metadata and add API to createSavepoint, deleteSavepoint and rollbackToSavepoint
    - Savepointed commit should not be rolledback or cleaned or archived
    - introduce cli commands to show, create and rollback to savepoints
    - Write unit tests to test savepoints and rollbackToSavepoints

12	11	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java
112	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java
160	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java
21	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
294	66	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
3	2	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
28	0	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieSavepointException.java
38	16	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java
6	5	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
32	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
217	4	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
21	15	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java
4	0	hoodie-common/pom.xml
24	0	hoodie-common/src/main/avro/HoodieCleanMetadata.avsc
22	0	hoodie-common/src/main/avro/HoodieRollbackMetadata.avsc
9	0	hoodie-common/src/main/avro/HoodieSavePointMetadata.avsc
128	0	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java
84	0	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieRollbackStat.java
22	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCleaningPolicy.java
11	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
13	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
103	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
30	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
20	0	pom.xml

commit 69d3950a325a9b3cb22b6948abba1b22145783cf
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-03-13 12:41:29 -0700

    Revamped Deltastreamer  (#93)
    
    * Add analytics to site
    
    * Fix ugly favicon
    
    * New & Improved HoodieDeltaStreamer
    
     - Can incrementally consume from HDFS or Kafka, with exactly-once semantics!
     - Supports Json/Avro data, Source can also do custom things
     - Source is totally pluggable, via reflection
     - Key generation is pluggable, currently added SimpleKeyGenerator
     - Schema provider is pluggable, currently Filebased schemas
     - Configurable field to break ties during preCombine
     - Finally, can also plugin the HoodieRecordPayload, to get other merge types than overwriting
     - Handles efficient avro serialization in Spark
    
     Pending :
     - Rewriting of HiveIncrPullSource
     - Hive sync via hoodie-hive
     - Cleanup & tests
    
    * Minor fixes from master rebase
    
    * Implementation of HiveIncrPullSource
     - Copies commit by commit from source to target
    
    * Adding TimestampBasedKeyGenerator
     - Supports unix time & date strings

16	0	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
1	0	hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java
1	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java
15	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
43	2	hoodie-utilities/pom.xml
11	9	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
0	230	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java
13	11	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
108	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java
67	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaStreamerAvroPayload.java
49	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaStreamerPayload.java
359	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java
31	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieDeltaStreamerException.java
7	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullException.java
7	5	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullSQLException.java
47	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/KeyGenerator.java
58	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/SimpleKeyGenerator.java
105	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java
74	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java
39	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaProvider.java
93	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroConvertor.java
152	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java
132	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java
247	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java
68	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java
29	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/SourceDataFormat.java
19	0	hoodie-utilities/src/main/resources/delta-streamer-config/hoodie-client.properties
20	0	hoodie-utilities/src/main/resources/delta-streamer-config/key-generator.properties
20	0	hoodie-utilities/src/main/resources/delta-streamer-config/schema-provider.properties
30	0	hoodie-utilities/src/main/resources/delta-streamer-config/source.avsc
25	0	hoodie-utilities/src/main/resources/delta-streamer-config/source.properties
29	0	hoodie-utilities/src/main/resources/delta-streamer-config/target.avsc

commit c3257b96806608a2f082313c743c90cfa4718e44
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-03-12 20:28:27 -0700

    Fix ugly favicon

-	-	docs/images/favicon.ico

commit b252633fab182ba248aa5ccbb9aea2e661c26b81
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-03-12 19:39:58 -0700

    Add analytics to site

11	0	docs/_includes/head.html

commit 404726031d37211f149c241c731ecf9b5f528bbd
Author: prazanna <prasanna@uber.com>
Date:   2017-03-04 01:36:21 -0800

    Adding Siddhartha Gunda as a contributor
    
    for his contribution on the delete api

4	0	pom.xml

commit 348a48aa8047b29d05dd0e08287a225ede008dae
Author: siddharthagunda <siddharthagunda@gmail.com>
Date:   2017-03-04 01:33:49 -0800

    Add delete support to Hoodie (#85)

17	10	hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java
12	6	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
18	10	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
16	7	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java
15	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java
79	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
21	4	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
24	8	hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieBloomIndex.java
4	3	hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java
9	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java
3	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java
5	3	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java
14	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
1	1	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java

commit 41e08018fc0bd8ceb740602a31781872338c9cc5
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-03-02 11:42:04 -0800

    Fixing minor documentation fixes

2	2	docs/incremental_processing.md

commit d84aea35121ea59d48de75cebe8d03fbd82a50de
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-03-02 11:39:40 -0800

    Fixing minor documentation fixes

1	1	docs/index.md

commit 8a2a9ae764b38369d252c57eaaa77b0dcf0061c3
Author: prazanna <prasanna@uber.com>
Date:   2017-03-02 11:35:09 -0800

    Making minor documentation fixes

2	5	docs/index.md

commit 116a78094fd53fc13d3b613f422a9fb220b95f1f
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-02-27 15:52:13 -0800

    Cleanup code based on Java8 Lambdas (#84)

24	49	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
38	96	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
91	175	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java

commit c4fa585b27cb4e20de44879053ab46aa8e1ad040
Author: Wei Yan <ywskycn@gmail.com>
Date:   2017-02-23 20:12:36 -0800

    Switch some info log to debug (#83)
    
    * Switch some info log to debug
    
    * fix a typo
    
    * remote HoodieTableMetadata file

6	2	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java

commit fe5c5e80214493f39390e16f33366d12e895f63a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-21 20:25:01 -0800

    Test Failure in Travis-ci

5	1	hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java
7	7	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java

commit 1132f3533d0bf76c323a1728ef35301e3b55e38e
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-21 17:53:28 -0800

    Merge and pull master commits

144	85	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java
16	15	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
8	8	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
8	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
10	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
11	6	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
19	7	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
3	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java

commit eb46e7c72bbbe3149ebf66a6d90167966ba65938
Author: prazanna <prasanna@uber.com>
Date:   2017-02-21 15:24:00 -0800

    Implement Merge on Read Storage (#76)
    
    1. Create HoodieTable abstraction for commits and fileSystemView
    2. HoodieMergeOnReadTable created
    3. View is now always obtained from the table and the correct view based on the table type is returned

3	3	hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala
16	12	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
37	30	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
32	0	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieAppendException.java
5	4	hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java
6	5	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
9	11	hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java
24	27	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
163	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java
8	12	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java
10	12	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
5	5	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java
16	14	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java
4	8	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
16	8	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java
20	20	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
62	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java
136	27	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
8	0	hoodie-client/src/test/java/HoodieClientExample.java
24	11	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
208	0	hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java
4	4	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
18	8	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieBloomIndex.java
22	7	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java
19	14	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
18	15	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
45	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDeltaWriteStat.java
12	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
15	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
2	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppender.java
3	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogAppender.java
3	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/RollingAvroLogAppender.java
15	3	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
38	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/{AbstractTableFileSystemView.java => HoodieTableFileSystemView.java}
0	37	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/ReadOptimizedTableView.java
0	80	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RealtimeTableView.java
23	0	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSupportedException.java
21	2	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
15	15	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/avro/AvroLogAppenderTest.java
4	2	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/ReadOptimizedTableViewTest.java
3	3	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
4	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java

commit 11d2fd34281aa8a7365c46f033a65eab29898042
Author: prazanna <prasanna@uber.com>
Date:   2017-02-06 14:32:32 -0800

    Introduce RealtimeTableView and Implement HoodieRealtimeTableCompactor (#73)

3	5	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
34	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionFilter.java
79	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java
26	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactionMetadata.java
53	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java
169	0	hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java
4	10	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
200	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java
52	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java
19	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
8	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
11	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
12	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppendConfig.java
18	4	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFile.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/CompositeAvroLogReader.java
27	2	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
4	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
53	30	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java
3	13	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/ReadOptimizedTableView.java
80	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RealtimeTableView.java
70	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java
33	15	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
3	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
3	1	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieException.java
31	0	hoodie-common/src/main/java/com/uber/hoodie/exception/SchemaCompatabilityException.java
60	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
14	3	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/avro/AvroLogAppenderTest.java

commit 48fbb0f4258499366477b00e164bccbfacccd792
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-24 00:55:40 -0800

    Implement reliable log file management for Merge on read, which is fault tolerant and allows random block level access on avro file

39	0	hoodie-client/pom.xml
25	0	hoodie-common/pom.xml
228	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppendConfig.java
64	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppender.java
92	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFile.java
140	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogAppender.java
82	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogReader.java
155	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/CompositeAvroLogReader.java
87	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/RollingAvroLogAppender.java
171	3	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
25	0	hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidHoodiePathException.java
10	10	{hoodie-hive/src/test/java/com/uber/hoodie/hive/util => hoodie-common/src/test/java/com/uber/hoodie/common/minicluster}/HdfsTestService.java
53	0	hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/MiniClusterUtil.java
10	10	{hoodie-hive/src/test/java/com/uber/hoodie/hive/util => hoodie-common/src/test/java/com/uber/hoodie/common/minicluster}/ZookeeperTestService.java
315	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/log/avro/AvroLogAppenderTest.java
62	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java
1000	0	hoodie-common/src/test/resources/sample.data
10	0	hoodie-common/src/test/resources/simple-test.avro
7	0	hoodie-hive/pom.xml
2	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/TestUtil.java
42	0	hoodie-utilities/pom.xml
7	0	pom.xml

commit ccd8cb240726deda35fabd2860edcbf4adeb1013
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-18 01:00:36 -0800

    Take 2: Refactor hoodie-common and create right abstractions for Hoodie Storage V2.0
    - Refactored timelines to be a single timeline for all active events and one for archived events. CommitTimeline and other timelines can be inferred by applying a filter on the activeTimelime
    - Introduced HoodieInstant to abstract different types of action, commit time and if isInFlight
    - Implemented other review comments

5	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java
39	27	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
16	11	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java
8	5	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java
5	3	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java
2	2	hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala
17	11	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
26	15	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
6	2	hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java
5	4	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
42	38	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java
25	23	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
2	1	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
13	9	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
15	16	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
3	2	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
2	1	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
31	20	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
2	2	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
2	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/{HoodieStorageType.java => HoodieFileFormat.java}
9	10	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
30	81	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
100	81	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
6	6	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
0	77	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveCommitTimeline.java
252	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java
47	50	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/{HoodieArchivedCommitTimeline.java => HoodieArchivedTimeline.java}
0	57	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieCleanerTimeline.java
45	243	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
121	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java
0	50	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieSavePointTimeline.java
28	22	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/ReadOptimizedTableView.java
19	5	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
13	6	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
57	41	hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java
126	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java
0	104	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieDefaultTimelineTest.java
18	40	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java
18	12	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/ReadOptimizedTableViewTest.java
5	0	hoodie-hadoop-mr/pom.xml
6	5	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
12	6	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
2	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java
6	4	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java

commit 8ee777a9bbe2b995f3f1984c83db1de46e27c104
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-04 14:40:26 -0800

    Refactor hoodie-common and create right abstractions for Hoodie Storage V2.0
    
    The following is the gist of changes done
    
    - All low-level operation of creating a commit code was in HoodieClient which made it hard to share code if there was a compaction commit.
    - HoodieTableMetadata contained a mix of metadata and filtering files. (Also few operations required FileSystem to be passed in because those were called from TaskExecutors and others had FileSystem as a global variable). Since merge-on-read requires a lot of that code, but will have to change slightly on how it operates on the metadata and how it filters the files. The two set of operation are split into HoodieTableMetaClient and TableFileSystemView.
    - Everything (active commits, archived commits, cleaner log, save point log and in future delta and compaction commits) in HoodieTableMetaClient is a HoodieTimeline. Timeline is a series of instants, which has an in-built concept of inflight and completed commit markers.
    - A timeline can be queries for ranges, contains and also use to create new datapoint (create a new commit etc). Commit (and all the above metadata) creation/deletion is streamlined in a timeline
    - Multiple timelines can be merged into a single timeline, giving us an audit timeline to whatever happened in a hoodie dataset. This also helps with #55.
    - Move to java 8 and introduce java 8 succinct syntax in refactored code

1	8	hoodie-cli/pom.xml
4	4	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java
4	4	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java
46	39	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
6	7	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java
29	20	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java
15	11	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java
6	6	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java
7	7	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java
16	5	hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala
2	2	hoodie-client/pom.xml
32	21	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
229	295	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
7	7	hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java
6	6	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
11	9	hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java
47	40	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
6	6	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
35	34	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java
41	28	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
11	4	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java
8	6	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java
34	25	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
11	12	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
61	42	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
4	4	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
2	4	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
5	5	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
12	12	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieBloomIndex.java
11	9	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java
34	29	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
23	20	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
11	2	hoodie-common/pom.xml
5	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
0	191	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommits.java
71	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java
0	57	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFile.java
31	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieStorageType.java
0	477	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableMetadata.java
138	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java
275	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java
190	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java
93	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java
77	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveCommitTimeline.java
121	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedCommitTimeline.java
57	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieCleanerTimeline.java
348	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java
50	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieSavePointTimeline.java
192	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java
47	0	hoodie-common/src/main/java/com/uber/hoodie/common/table/view/ReadOptimizedTableView.java
0	9	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
22	0	hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java
5	1	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIOException.java
10	10	hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java
68	30	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
0	48	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommits.java
0	242	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieTableMetadata.java
128	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java
104	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieDefaultTimelineTest.java
66	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java
385	0	hoodie-common/src/test/java/com/uber/hoodie/common/table/view/ReadOptimizedTableViewTest.java
10	17	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java
10	10	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestNumericUtils.java
10	10	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java
2	1	hoodie-hadoop-mr/pom.xml
33	23	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
2	2	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
2	10	hoodie-utilities/pom.xml
13	8	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
16	15	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java
30	15	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
1	1	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java
81	12	pom.xml

commit 283269e57faae3c5c8620f0bc90d32a68075eff1
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 16:52:25 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit d5a5f2ddff7bbfc079da084f9637a5b119b6b220
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 16:52:04 -0800

    [maven-release-plugin] prepare release hoodie-0.3.0

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 0e234ac0ef240d8930e99d46ce1d69f5004be315
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 16:47:52 -0800

    Moving to Spark 2.1.0

6	6	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
4	4	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
15	15	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java
3	2	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
4	3	pom.xml

commit be1dd9444f881b3e667501ce4ec980896729ca96
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 16:09:05 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 47583e280f259db79d1e7f8607cb90cf55b9b453
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 16:08:45 -0800

    [maven-release-plugin] prepare release hoodie-0.2.14

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 2d49711cce43d305754027952b88d2f70ac31a17
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 16:01:24 -0800

    Changing the current development version to 0.2.14-SNAPSHOT

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
1	1	pom.xml

commit 4a47d26818e6d44fec89b00430a439401d3cedb0
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 15:57:58 -0800

    Fixing a javadoc lint issue

1	1	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
1	1	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
5	5	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
3	0	pom.xml

commit cc58a4c3e0ef7ca90b388711d1a8a815ac6ae799
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 15:49:45 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit dd03038254b69438b5d3a5d74cef6ee7d193d263
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 15:49:20 -0800

    [maven-release-plugin] prepare release hoodie-0.2.13

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 7178cb5a3fe1086b93e8d12a66674f7fc77a493d
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 15:41:32 -0800

    Fixing a javadoc lint issue

2	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java

commit 57a0b7a781d5fdb0771f119a1d0863b9e17bebb3
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 15:35:19 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 9828bd8019de778233aa96da154999fc05ea0e73
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 15:35:03 -0800

    [maven-release-plugin] prepare release hoodie-0.2.12

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 8f1216316624f017a5e13f29236f06a9f1517595
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 15:00:35 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 6e6f6efb94cfba342aa0bc7a29f02aeb461d771d
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-20 15:00:16 -0800

    [maven-release-plugin] prepare release hoodie-0.2.11

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 33a85900f806c1b10ec8115f8e298cdb5d7d6d14
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-02-19 20:13:57 -0800

    Adding admin guide, guide for sql queries and incr processing

1	1	docs/_includes/footer.html
206	32	docs/admin_guide.md
1	0	docs/community.md
-	-	docs/images/hoodie_commit_duration.png
-	-	docs/images/hoodie_upsert_dag.png
81	1	docs/incremental_processing.md
1	1	docs/sql_queries.md

commit dcc15d5d6f71f87d9f3055ef2e06ff3acc645bdc
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-02-17 20:19:18 -0800

    Adding docs for running sql queries on hoodie datasets

59	1	docs/sql_queries.md

commit 66e272e9eb5249884658e217aca87ac610f3b14d
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-02-17 18:30:56 -0800

    Docs for performance section  (#80)
    
    * Adding performance section
    
    * minor edit to perf section

-	-	docs/images/hoodie_query_perf_hive.png
-	-	docs/images/hoodie_query_perf_presto.png
-	-	docs/images/hoodie_query_perf_spark.png
-	-	docs/images/hoodie_upsert_perf1.png
-	-	docs/images/hoodie_upsert_perf2.png
20	3	docs/implementation.md

commit c7a8e15c7880c09edf3d7e4ab0882dc5209029cd
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-02-17 08:25:17 -0800

    Docs for impl & comparison (#79)
    
    * Initial version of comparison, implementation
    
    * Finished doc for comparison to other systems

47	1	docs/comparison.md
80	4	docs/implementation.md
2	1	docs/powered_by.md

commit a725382549afefb84f72a4d1bb733390d3569834
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-02-06 14:12:18 -0800

    Add Configurations to Documentation

4	0	docs/_data/sidebars/mydoc_sidebar.yml
1	0	docs/_data/tags.yml
79	0	docs/configurations.md

commit 186d70713f6544ed3ead61952bbb75acf6f5b3ce
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-29 15:22:57 -0800

    Adding documentation around Hoodie concepts (#71)

4	4	docs/_data/sidebars/mydoc_sidebar.yml
5	0	docs/comparison.md
111	4	docs/concepts.md
-	-	docs/images/hoodie_cow.png
-	-	docs/images/hoodie_mor.png
-	-	docs/images/hoodie_timeline.png
5	1	docs/{performance.md => implementation.md}

commit 8e72ed69b430b67bc4d3fcaeeee580890c3e305a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-27 10:51:00 -0800

    Split insert() into insert() & bulkInsert() (#69)
    
    - Behaviour change for existing insert() users
     - Made the current insert() implementation, as something to use for bulkInsert()
     - Normal inserts now share a lot of code with upsert, which provides benefits like small file handling
     - Refactored/Cleaned up code in HoodieWriteClient for reuse
     - Added a unit test, switching few tests to call bulkInsert() and few to call insert()

189	136	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/func/{InsertMapFunction.java => BulkInsertMapFunction.java}
9	2	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
11	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
90	14	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
3	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java

commit 54409b07ea056df6a2b40452caa2641d5fd19fbe
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-26 11:13:33 -0800

    Implement HoodieROTablePathFilter for use with Spark 2.0 (#66)
    
    - Unit tested
     - Tested with few queries on Spark 2.x at Uber

1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableMetadata.java
7	2	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
159	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java
75	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java

commit 0004ae62add23e5cd6ad70110ea7cd1a96d73fd7
Merge: 693d751506 8a39730273
Author: prazanna <prasanna@uber.com>
Date:   2017-01-16 19:38:53 -0800

    Merge pull request #61 from zqureshi/format-comment-hoodiekey
    
    Format param comment in HoodieKey

commit 8a39730273e0dbd3f9197de7a116d925f7ac13f9
Author: Zeeshan Qureshi <zeeshan.qureshi@shopify.com>
Date:   2017-01-16 22:14:30 -0500

    Format param comment in HoodieKey

2	2	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java

commit 693d751506840ab811a1d93a0c39b7ab51c89e0f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-10 22:27:35 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit e9866bb4d9f6ee868d9b9f6f27956996f52eadb7
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-10 22:27:28 -0800

    [maven-release-plugin] prepare release hoodie-0.2.10

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit e4e3395f3e8edbe236ad49b72eafbb1dffdaefda
Author: prazanna <prasanna@uber.com>
Date:   2017-01-10 22:14:40 -0800

    Make commit a public method. Introduce a auto-commit config. Relates issue https://github.com/uber/hoodie/issues/58 (#60)

17	9	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
15	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
35	5	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java

commit 9d09a58a1884558dd99e181a898b691d3a249e77
Merge: 1559a3826f 40a63fcab4
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-09 11:32:35 -0800

    Merge pull request #56 from vinothchandar/master
    
    Shorten README and point to site

commit 40a63fcab414143edfdcddd90900fbe300f0241e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-01-09 11:30:46 -0800

    Shorten README and point to site

4	209	README.md
1	1	docs/concepts.md

commit 1559a3826fa037cbe981962ec3255566b06e7669
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-06 00:06:15 -0800

    Minor fixes to use_cases.md

8	10	docs/use_cases.md

commit 534c898c6b93d558ff785e8a2af273c387fd6a39
Merge: 1ced46ab3e 5a7d408c3c
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-05 23:57:48 -0800

    Merge pull request #34 from vinothchandar/master
    
    Fixing the eyesore red font color over sidebar for docs

commit 5a7d408c3c1780a1da52d3c640b2f1835969b910
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-01-05 23:55:53 -0800

    Fixing the eyesore red font color over sidebar for docs

3	3	docs/css/theme-blue.css
3	3	docs/css/theme-green.css

commit 1ced46ab3e385d0b458e031d15d8aba2913e54eb
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-05 20:04:35 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit e9f0d4d0bfe006425d1b376020b29d4f4caf8f79
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-05 20:04:28 -0800

    [maven-release-plugin] prepare release hoodie-0.2.9

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 1d72b164c80588786146283d67baad0ab075c693
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-05 19:56:41 -0800

    Javadoc generation fails because of invalid html tags

1	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
0	1	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java

commit 7171ea690970d7ec5fffa4b200862672836206da
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-05 19:43:31 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit c1f2d1e456c385b6c1b5c07e95715acd0d5bdeb1
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-05 19:43:25 -0800

    [maven-release-plugin] prepare release hoodie-0.2.8

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
1	1	hoodie-utilities/pom.xml
2	2	pom.xml

commit 9071220a300726f05948ab9532596e064e14711b
Merge: 93de14f2cf b2c958519e
Author: prazanna <prasanna@uber.com>
Date:   2017-01-05 19:28:59 -0800

    Merge pull request #33 from vinothchandar/master
    
    Changing Update record failure semantics to be consistent with inserts

commit b2c958519e0ff8da2e7136a1c9b7753618806b6c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-01-05 17:26:47 -0800

    Changing Update record failure semantics to be consistent with inserts
     - Don't skip, but writes the same old record again now
     - Marks the correspoinding HoodieRecord as failure to be handed back to the client

2	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java
16	3	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java
4	3	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java

commit 93de14f2cf72f9a5b27ae97ad1d452d3e8a0c5c2
Merge: ee9be707e5 6dd603352e
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-05 16:59:31 -0800

    Merge pull request #32 from prazanna/master
    
    Make sure to fail with HoodieUpsertException if HoodieUpdateHandle is°≠

commit 6dd603352ee59f20f376924e469ac653a27e9091
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-05 16:45:59 -0800

    Make sure to fail with HoodieUpsertException if HoodieUpdateHandle is not properly initialized

3	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java

commit ee9be707e5be1a9b66f92e3d8f0243291dd758d7
Merge: 64858239d1 2475610246
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-05 16:45:08 -0800

    Merge pull request #26 from prazanna/master
    
    Build hoodie-hadoop-mr as a fat jar - include hoodie common

commit 64858239d16ce6f8d66f103aa48afa81a65b9bee
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-04 23:58:09 -0800

    Update use_cases.md

1	1	docs/use_cases.md

commit 5d5e346c618f5bd9ef011bdc228cfb5ebaa70b8e
Merge: 83d4163c75 958f7ceda6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2017-01-04 20:54:39 -0800

    Merge pull request #28 from vinothchandar/add-docs
    
    Adding Documentation for Getting Started Section

commit 958f7ceda6adef8c8403722abbf74bdbc8e09304
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-01-04 20:50:44 -0800

    Adding Documentation for Getting Started Section
    
     - Overview, Use Cases, Powered By  are very detailed
     - Cleaned up QuickStart
     - Redistribute the content from README to correct pages to be improved upon
     - Switch to blue theme

1	1	docs/_includes/head.html
42	1	docs/admin_guide.md
8	1	docs/code_structure.md
6	1	docs/community.md
5	1	docs/concepts.md
-	-	docs/images/hoodie_intro_1.png
11	202	docs/index.md
3	1	docs/powered_by.md
145	1	docs/quickstart.md
5	1	docs/roadmap.md
71	1	docs/use_cases.md

commit 247561024679e64c97f6289ddf8dfd34e018bc65
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-04 14:51:46 -0800

    Build hoodie-hadoop-mr as a fat jar - include hoodie common

22	0	hoodie-hadoop-mr/pom.xml

commit 362a84377b7d244a1e25895e500fe7177ecc9462
Merge: 16f20ebe39 83d4163c75
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-04 14:42:05 -0800

    Merge remote-tracking branch 'uber/master'

commit 83d4163c7576752caa59e4bcee9c4df061c14279
Merge: 040c7aa766 dd8638c2cc
Author: prazanna <prasanna@uber.com>
Date:   2017-01-04 14:12:16 -0800

    Merge pull request #25 from vinothchandar/master
    
    Annotate HoodieInputFormat with UseFileSplitsFromInputFormat

commit dd8638c2cc83a99c0b2fdd3c07754e8ea8b1bac8
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2017-01-04 11:18:05 -0800

    Annotate HoodieInputFormat with UseFileSplitsFromInputFormat
     - Tested with corresponding Presto changes (pending PR)

1	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
36	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/UseFileSplitsFromInputFormat.java
38	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/AnnotationTest.java

commit 16f20ebe39ce074539302e1d7d3b5cfcc98fbc2e
Merge: d525687512 040c7aa766
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2017-01-03 20:40:34 -0800

    Merge remote-tracking branch 'uber/master'

commit 040c7aa76628cea6933214e936f596a5df3b9e69
Author: prazanna <prasanna@uber.com>
Date:   2017-01-03 18:24:36 -0800

    Delete CNAME

0	1	docs/CNAME

commit 7da5e9a03adbd3a986dcd030cc8bb84e5814fef2
Author: prazanna <prasanna@uber.com>
Date:   2017-01-03 17:26:28 -0800

    Create CNAME

1	0	docs/CNAME

commit d525687512d252d114bd99be83cce6960f22c653
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-30 11:26:44 -0800

    Delete CNAME

0	1	docs/CNAME

commit e73686be699ba01f0269497b385449f328d06fe6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-30 11:24:24 -0800

    Create CNAME

1	0	docs/CNAME

commit 70b50df79e9883b7c29af957cb1f823de4f6e9ca
Merge: db72a33d9a 2bf0db14c6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-30 11:16:18 -0800

    Merge pull request #13 from vinothchandar/add-docs
    
    Adding docs folder, with skeleton jekyll based site

commit 2bf0db14c682a873473b3d9676a669ddea650b51
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2016-12-30 11:05:22 -0800

    Adding docs folder, with skeleton jekyll based site
    
     - Uses https://github.com/tomjohnson1492/documentation-theme-jekyll
     - Have filler pages

4	0	docs/.gitignore
6	0	docs/404.md
26	0	docs/Dockerfile
10	0	docs/Gemfile
150	0	docs/Gemfile.lock
87	0	docs/_config.yml
15	0	docs/_data/alerts.yml
58	0	docs/_data/sidebars/mydoc_sidebar.yml
5	0	docs/_data/strings.yml
9	0	docs/_data/tags.yml
30	0	docs/_data/topnav.yml
15	0	docs/_includes/archive.html
1	0	docs/_includes/callout.html
19	0	docs/_includes/custom/getting_started_series.html
10	0	docs/_includes/custom/getting_started_series_next.html
19	0	docs/_includes/custom/series_acme.html
30	0	docs/_includes/custom/series_acme_next.html
19	0	docs/_includes/custom/sidebarconfigs.html
14	0	docs/_includes/custom/usermap.html
91	0	docs/_includes/custom/usermapcomplex.html
16	0	docs/_includes/disqus.html
13	0	docs/_includes/feedback.html
9	0	docs/_includes/footer.html
6	0	docs/_includes/google_analytics.html
36	0	docs/_includes/head.html
33	0	docs/_includes/head_print.html
1	0	docs/_includes/image.html
1	0	docs/_includes/important.html
130	0	docs/_includes/initialize_shuffle.html
1	0	docs/_includes/inline_image.html
44	0	docs/_includes/links.html
1	0	docs/_includes/note.html
56	0	docs/_includes/sidebar.html
32	0	docs/_includes/taglogic.html
1	0	docs/_includes/tip.html
21	0	docs/_includes/toc.html
75	0	docs/_includes/topnav.html
1	0	docs/_includes/warning.html
80	0	docs/_layouts/default.html
25	0	docs/_layouts/default_print.html
3	0	docs/_layouts/none.html
70	0	docs/_layouts/page.html
15	0	docs/_layouts/page_print.html
41	0	docs/_layouts/post.html
11	0	docs/_posts/2016-12-30-strata-talk-2017.md
10	0	docs/admin_guide.md
10	0	docs/api_docs.md
10	0	docs/code_structure.md
10	0	docs/community.md
10	0	docs/comparison.md
10	0	docs/concepts.md
5	0	docs/css/bootstrap.min.css
1181	0	docs/css/customstyles.css
4	0	docs/css/font-awesome.min.css
-	-	docs/css/fonts/FontAwesome.otf
-	-	docs/css/fonts/fontawesome-webfont.eot
565	0	docs/css/fonts/fontawesome-webfont.svg
-	-	docs/css/fonts/fontawesome-webfont.ttf
-	-	docs/css/fonts/fontawesome-webfont.woff
-	-	docs/css/fonts/fontawesome-webfont.woff2
5898	0	docs/css/lavish-bootstrap.css
93	0	docs/css/modern-business.css
160	0	docs/css/printstyles.css
60	0	docs/css/syntax.css
103	0	docs/css/theme-blue.css
99	0	docs/css/theme-green.css
10	0	docs/dev_setup.md
32	0	docs/feed.xml
-	-	docs/fonts/FontAwesome.otf
-	-	docs/fonts/fontawesome-webfont.eot
520	0	docs/fonts/fontawesome-webfont.svg
-	-	docs/fonts/fontawesome-webfont.ttf
-	-	docs/fonts/fontawesome-webfont.woff
-	-	docs/fonts/glyphicons-halflings-regular.eot
288	0	docs/fonts/glyphicons-halflings-regular.svg
-	-	docs/fonts/glyphicons-halflings-regular.ttf
-	-	docs/fonts/glyphicons-halflings-regular.woff
-	-	docs/fonts/glyphicons-halflings-regular.woff2
-	-	docs/images/androidsdkmanagericon.png
-	-	docs/images/authorizegithubscreen2.png
-	-	docs/images/authorizeongithub.png
-	-	docs/images/company_logo.png
-	-	docs/images/company_logo_big.png
-	-	docs/images/favicon.ico
-	-	docs/images/helpapi-01.png
1661	0	docs/images/helpapi.svg
-	-	docs/images/illustratoroptions.png
-	-	docs/images/itermexample.png
-	-	docs/images/jekyll.png
-	-	docs/images/killalljekyll.png
-	-	docs/images/liningup.png
-	-	docs/images/workflowarrow.png
10	0	docs/incremental_processing.md
220	0	docs/index.md
55	0	docs/js/customscripts.js
1	0	docs/js/jekyll-search.js
9	0	docs/js/jquery.ba-throttle-debounce.min.js
7	0	docs/js/jquery.localScroll.min.js
8	0	docs/js/jquery.navgoco.min.js
7	0	docs/js/jquery.scrollTo.min.js
1588	0	docs/js/jquery.shuffle.min.js
240	0	docs/js/mydoc_scroll.html
82	0	docs/js/toc.js
21	0	docs/licenses/LICENSE
27	0	docs/licenses/LICENSE-BSD-NAVGOCO.txt
32	0	docs/pages/news/news.html
41	0	docs/pages/news/news_archive.html
10	0	docs/performance.md
9	0	docs/powered_by.md
10	0	docs/quickstart.md
10	0	docs/roadmap.md
33	0	docs/search.json
24	0	docs/sitemap.xml
10	0	docs/sql_queries.md
9	0	docs/use_cases.md

commit db72a33d9aaa53e3357780f2ecb47f189491fe96
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-29 16:56:49 -0800

    Delete CNAME

0	1	CNAME

commit e750506228c4feed195daee066b4af5ed8a55767
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-29 16:54:37 -0800

    Create CNAME

1	0	CNAME

commit e8e43a22db0f6dafa77c457a73abb26c46fbf1c7
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-29 16:53:39 -0800

    Set theme jekyll-theme-minimal

1	0	_config.yml

commit ac7595669c3edabba367792313fc5916ba1362d1
Merge: 501ef9d4da 84e0a7f68a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-28 16:51:55 -0800

    Merge pull request #12 from vinothchandar/master
    
    Fixing version in hoodie-utilities pom.xml

commit 84e0a7f68a632a41541e9ab51808aee49c5d1a36
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2016-12-28 16:43:16 -0800

    Fixing version in hoodie-utilities pom.xml

1	1	hoodie-utilities/pom.xml

commit 501ef9d4da492fad9a85b6955b994b97fb3a1f3c
Merge: ee854da9b2 0c854faebe
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-28 16:38:12 -0800

    Merge pull request #10 from vinothchandar/master
    
    Adding hoodie-utilities module

commit 0c854faebe22716ad024f6953f13bc62bad14604
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2016-12-28 15:42:30 -0800

    Adding hoodie-utilities module

2	3	hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala
22	3	hoodie-common/src/main/java/com/uber/hoodie/common/{GenericHoodiePayload.java => HoodieJsonPayload.java}
211	0	hoodie-utilities/pom.xml
50	0	hoodie-utilities/src/assembly/src.xml
337	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java
230	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java
159	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java
31	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullException.java
29	0	hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullSQLException.java
8	0	hoodie-utilities/src/main/resources/IncrementalPull.sqltemplate
148	0	hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java
1	0	pom.xml

commit ee854da9b2d9a2a8f3c92e28b9121887eeb82410
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 17:38:57 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
2	2	pom.xml

commit 587aaffcf67e7d4ab1443a29c9d11b805075f5d4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 17:38:50 -0800

    [maven-release-plugin] prepare release hoodie-0.2.7

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
2	2	pom.xml

commit b6d8e857f0adf70de5772b21310ade44470a7490
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 17:34:29 -0800

    Fix javadoc issues. Prelude to pushing libs to maven central

2	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
1	2	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
3	3	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
2	2	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java
1	5	hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java
1	1	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
1	142	hoodie-common/src/main/java/com/uber/hoodie/common/file/HoodieAppendLog.java
1	1	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommits.java
3	6	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableMetadata.java
1	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/client/SchemaUtil.java
4	4	pom.xml

commit 12885ab60a027972a8ca73520ad8717b07e90a23
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 16:48:36 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
2	2	pom.xml

commit d42f235bbc1a29abc37979c4db0f2586af6fa757
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 16:48:30 -0800

    [maven-release-plugin] prepare release hoodie-0.2.6

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
2	2	pom.xml

commit 4b28ecae1b11bff3e92fb0b5a7a28eea710938f4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 16:44:04 -0800

    Naming the release profile correctly

1	1	pom.xml

commit 5f9be585764a4a3d697131019b9e717611884d95
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 14:45:37 -0800

    [maven-release-plugin] prepare for next development iteration

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
1	1	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hive/pom.xml
2	2	pom.xml

commit 5362e9288602175283ab0501059c3152cd3d5688
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 14:45:31 -0800

    [maven-release-plugin] prepare release hoodie-0.2.5

1	1	hoodie-cli/pom.xml
1	1	hoodie-client/pom.xml
1	1	hoodie-common/pom.xml
2	4	hoodie-hadoop-mr/pom.xml
2	4	hoodie-hive/pom.xml
2	2	pom.xml

commit e59dd480190e5b1ba305e6c633e977f71408c4d9
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 12:47:01 -0800

    Add ossrh profile to publish maven artifacts to oss.sonatype.org (synced with maven central)

2	2	deploy/maven/sonatype-settings.xml
0	8	deploy/scripts/publish.sh
1	1	pom.xml

commit 74ae732ef18a63e21246cfab14c88ac1d002c005
Merge: 715ccd912a f851278294
Author: prazanna <prasanna@uber.com>
Date:   2016-12-21 12:05:31 -0800

    Merge pull request #6 from prazanna/master
    
    Added needed section to deploy to maven central.

commit f8512782943d95a54b80690c41084dc4a0b1730d
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-21 00:26:56 -0800

    Added needed section to deploy to maven central. Adding travis-settings to be able to publish to maven central (through oss.sonatype) on push to uber/hoodie master

28	0	deploy/maven/sonatype-settings.xml
-	-	deploy/pubring.gpg.enc
8	0	deploy/scripts/publish.sh
-	-	deploy/secring.gpg.enc
88	0	pom.xml

commit 715ccd912a53c1175587b8cb0952882e132ec6d6
Merge: e91cfe68e7 5d44ae3dbd
Author: prazanna <prasanna@uber.com>
Date:   2016-12-20 21:08:04 -0800

    Merge pull request #5 from prazanna/master
    
    Added .travis.yml file

commit 5d44ae3dbd6418c4d1dece9e74d19891da1faf1f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-20 16:20:38 -0800

    Make hoodie run on travis-ci
    
    Test logs > 4MB, which is a limit for travis-ci. Reducing the logs by setting appropriate log levels for tests
    Add sudo: required on travis.yml to get more memory for running the tests. (https://github.com/travis-ci/travis-ci/issues/5926)
    Fixed requirement that fsclient.lastDataFileForDataset always returns files in order

2	1	.travis.yml
0	8	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
4	3	hoodie-client/src/test/resources/{log4j.properties => log4j-surefire.properties}
25	0	hoodie-common/src/test/resources/log4j-surefire.properties
25	0	hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties
3	1	hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieFSClient.java
2	1	hoodie-hive/src/test/java/com/uber/hoodie/hive/HDroneDatasetTest.java
26	0	hoodie-hive/src/test/resources/log4j-surefire.properties
10	4	pom.xml

commit e91cfe68e722403893b9d7ba317d28fc817fdada
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-20 16:51:58 -0800

    Update README.md

1	1	README.md

commit d9cead53fefbc0c60962bcd52e3602bcf143d1b9
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-20 15:38:50 -0800

    Added .travis.yml file

1	0	.travis.yml
0	1	travis.yml

commit e26813acca443a0321e50c474d560506d929bdbc
Author: prazanna <prasanna@uber.com>
Date:   2016-12-20 15:12:39 -0800

    Added .travis.yml file

1	0	travis.yml

commit 6e87e79b01d6c6d8fc790403f5de5fbb50d40411
Merge: 2ad4481977 388457b6b2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-20 14:55:10 -0800

    Merge pull request #4 from prazanna/master
    
    Add hoodie-hive module to support hive registration of hoodie datasets

commit 388457b6b28ccfb6b91c0f1b35e921ffc913e8e3
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-19 23:04:39 -0800

    Add hoodie-hive module to support hive registration of hoodie datasets

26	0	hoodie-hadoop-mr/pom.xml
1	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java
1	1	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
1	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java
1	1	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
127	0	hoodie-hive/pom.xml
119	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveConfiguration.java
40	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveDatasetException.java
181	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveDatasetSyncTask.java
243	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSchemaSyncTask.java
56	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionStrategy.java
31	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaStrategy.java
48	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/client/ColumnNameXLator.java
206	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieFSClient.java
365	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieHiveClient.java
436	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/client/SchemaUtil.java
56	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/example/HoodieDatasetExample.java
78	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/DayBasedPartitionStrategy.java
43	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/ParseSchemaFromDataStrategy.java
79	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/model/HoodieDatasetReference.java
108	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/model/SchemaDifference.java
51	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/model/StoragePartition.java
38	0	hoodie-hive/src/main/java/com/uber/hoodie/hive/model/TablePartition.java
186	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/DatasetSchemaTest.java
98	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/HDroneDatasetTest.java
44	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/CsvParquetWriter.java
94	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/CsvWriteSupport.java
166	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HdfsTestService.java
322	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java
199	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/TestUtil.java
241	0	hoodie-hive/src/test/java/com/uber/hoodie/hive/util/ZookeeperTestService.java
25	0	hoodie-hive/src/test/resources/nation.csv
6	0	hoodie-hive/src/test/resources/nation.schema
25	0	hoodie-hive/src/test/resources/nation_evolved.csv
7	0	hoodie-hive/src/test/resources/nation_evolved.schema
45	1	pom.xml

commit 2ad44819777667910e3c31551e621fbe43b73b86
Merge: 41905b7903 61200b1207
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   2016-12-19 13:12:29 -0800

    Merge pull request #3 from prazanna/master
    
    Adding hoodie-hadoop-mr module to add HoodieInputFormat

commit 41905b7903b6886abf2b6d39c72e259180518d7f
Author: prazanna <prasanna@uber.com>
Date:   2016-12-19 13:01:37 -0800

    Added contributing section

6	0	README.md

commit 61200b1207abdec60420771b0ae367a7c6466720
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-16 19:29:53 -0800

    Adding hoodie-hadoop-mr module to add HoodieInputFormat

69	0	hoodie-hadoop-mr/pom.xml
58	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java
252	0	hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java
237	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java
165	0	hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java
17	0	hoodie-hadoop-mr/src/test/resources/sample1.avro
8	6	pom.xml

commit 8e80c8d2eae5eaf306e07d6d27f26b4070d1dd42
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-16 14:43:39 -0800

    Final cleanup before open-source

10	0	hoodie-cli/pom.xml
0	2	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java
0	20	hoodie-common/src/main/java/com/uber/hoodie/common/GenericHoodiePayload.java

commit 81874a84061fd7c5162b576fc1f60986e5cc7f2d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   2016-12-16 14:34:42 -0800

    Importing Hoodie Client from internal repo
    
    Abberved History:
    * 25c6991 Removed non-opensource modules
    * a62abf3 Removing email from pom.xml
    * 0931b68 Misspelt in the copyright
    * c1cac7d Preperation for OSS: Added License and rat plugin check. Also added meta information about the project in pom.xml
    * 16b07b3 Preparation of OSS - Remove hoodie specific URL from hoodie cli
    * fd3e0dd Small code cleanups
    * 8aa7e34 Adding a de-duplication command to CLI
    * b464842 Adding a de-duplication command to CLI
    * 59265b1 RegisterDataset should pass the right zkNodeName after the support for multiple databases added
    * b295f70 [maven-release-plugin] prepare for next development iteration
    * 1006e4b [maven-release-plugin] prepare release hoodie-0.2.4
    * 4c99437 Move to using hdrone release 0.7.4
    * 1891939 Auto tuning the buckets needed for plain inserts also  - Off by default for now  - Enhanced an existing unit test
    * b4563bd Change HoodieReadClient to use commit metadata for incremental pull
    * ee20183 Add full file path onto HoodieWriteStat  - This will become an issue later on for incremental processing use cases  - Tested with cli, that is able to read older HoodieCommitMetadata
    * 7dcd5d5 Address skew in cleaner work distribution
    * 8d7c15d Fixing bug around partial failures of rollback
    * d4ada1d Empty RDD should not throw java.lang.IllegalArgumentException: Positive number of slices required
    * 076bea9 Dont clean if there are no partitions to clean
    * c014f80 Minor changes to SQLStreamer
    * a96d4df Minor changes to SQLStreamer
    * bc289cc [maven-release-plugin] prepare for next development iteration
    * 4160107 [maven-release-plugin] prepare release hoodie-0.2.3
    * 409b07a [maven-release-plugin] prepare for next development iteration
    * 3d71514 [maven-release-plugin] prepare release hoodie-0.2.2
    * 4969d52 Fix test failures
    * ac62609 Implement Review Comments for: Parallelize cleaning and including cleaning time and commit archival time in commit time graphite reporting
    * cebe65a Parallelize cleaning and including cleaning time and commit archival time in commit time graphite reporting
    * 2e5b372 Migrating to CDH 5.7.2
    * 899ae12 Remove filtering of /tmp/hive/hive paths from HoodieInputFormat. This fixes Join with temporary tables with HoodieCombineHiveInputFormat
    * 69a68f6 Implement equals and hashCode for HoodieTableMetadata, its used in hash based structures
    * 12d29c6 Update hive staging url
    * 1c5c88a Copy filterExists to WriteClient
    * 76aee67 [maven-release-plugin] prepare for next development iteration
    * 1f0a715 [maven-release-plugin] prepare release hoodie-0.2.1
    * dbfd1d4 HoodieReadClient and HoodieWriteClient separation
    * c39a98b Revamped HoodieRecordPayload API that supports merging of old & new values during update
    * 79e5bbd Add a helper to configure SparkConf for SparkSQL on Hoodie tables
    * f56f423 [maven-release-plugin] prepare for next development iteration
    * 780fc44 [maven-release-plugin] prepare release hoodie-0.2
    * 1ea2238 Modifying the git utl
    * b0af8dc Depending on hdrone release version
    * 7753693 Removing a System.out.println which got in by mistake
    * 1f5b019 Adding HBase Config to HoodieClientConfig
    * 2fce97f Implement Review comments and merge into master
    * f389820 Bunch of API changes
    * 909a856 HoodieClientConfig split up and revamp
    * c2ad946 Fix TestHoodieClient to not double persist in testFilterExists
    * 3ab0da6 Fix breaking test
    * 2860542 CR feedback for small inserts turned to updates
    * 0dfce57 Small inserts are now turned into upserts
    * bb1a8b3 Add filterExist API for Hoodie Records
    * d983c24 Implement review comments
    * c0bd5d1 Implement HoodieClient.checkExists()
    * db078f6 Pick up HoodieTable based on hoodie.properties
    * ad023e9 Refactor upsert() using HoodieTable interface
    * ee9b9b3 Refactor upsert() using HoodieTable interface
    * 2d6fdc9 Adding a utility to generate the percentage of updates in commit
    * ea3ad58 Adding additional optimizations to remove similar queries from the perf test (using levenshtein distance)
    * 1e443a0 Add test case for the added support for SchemaEvolution during updates
    * 1cadcbb Add more logging
    * 6163dfe Parquet read of old file should have the right read schema specified
    * 29c746a Few fixes in ReduceByKey parallelism, HoodieInputFormat.filterFiles for non-hoodie paths and more logging in upsert schema issues
    * 5a33af6 Fixing an issue in HoodieReader, target temp directory not created
    * 09a5e8e Adding more logging in HoodieReader
    * 1474250 Adding more logging in HoodieReader
    * a3b0567 Make targetDb not required in HoodieReader
    * e9c08b9 Setting the inputformat as the CombineHiveInputFormat in the HoodieReader
    * 61c75d2 Hoodie Query Performance: Add Support for CombineHiveInputFormat and implement CombineFileInputFormat
    * 38c6e44 Improvements to Hoodie Reader
    * ac7398a Add totalWriteErrors to HoodieCommitMetadata
    * fc0536e Change archive location to be under .hoodie
    * e313294 Implement Hive Perf comparison for Hoodie and non-Hoodie datasets
    * 17cfe2a Fix bug in HoodieInputFormat, where it filters out files from archived commits
    * 30de990 Add note about showpartitions command to README
    * 8634ffb Add commits showpartitions command to show break down per partition
    * 324b24e Adding a CLI command to print file size stats
    * 56532ff T484792. Deterministically report metrics during shutdown
    * 3571768 Fixes to Hoodie Cleaner. Upgrade HDrone version. Changes to HoodieReader.
    * a02c97f Bumping  hdrone-api to 0.7.2
    * b29ce67 Bug in RegisterDataset dataset creation
    * 5a15a9a Fixing bug in cleaning up partial files
    * dbf6669 Comment out predicate pushdown test
    *   44ed4d1 Merge branch 'lazyitr-fixes-1'
    |\
    | * e913d3b Fixing bug in LazyInsertIterable
    | * 8a1fecd Wrapping upsert() inside HoodieUpsertException
    | * 39cfe39 Fixing bug in LazyInsertIterable  - Return a List<WriteStatus> to handle last record in itr, belonging to a separate file  - Remove insert() related code form UpsertMapFunction
    | * 00252e5 Making TestHoodieBloomIndex less flaky
    * | 6f2d417 Making TestHoodieBloomIndex less flaky
    * | 63ebbdc fs.mkdirs does not honor permission umask passed. Need to use the static method FileSystem.mkdirs for that.
    * | f49ef67 Adding more logging to Hoodie Reader
    * | 9f5a699 Fixing permission on the base intermediate folder created in HoodieReader
    |/
    * 70e501f Fixing the drop table before create table in HoodieReader
    * 120cda8 Hoodie tools jar should not require jars in the CDH classpath to be available. Needed for HoodieReader to run in Docker.
    * 60b59de Adding client configurations. Needed to run the HoodieReader in Docker (where CDH is not installed)
    * fece98d Merge conflicts w/ master
    * 64e58b0 Auto tuning parallelism in BloomIndex & Upsert()
    * 930199e Fixing skew in Index join when new partition paths dont exist yet
    * 9a3e511 Adding subpartitioning to scale join in HoodieBloomIndex
    * 57512a7 Changing sort key for IndexLookup to (filename, record) to split more evenly
    * 3ede14c Major changes to BloomIndex & Upsert DAG
    * 1c4071a Implement Dataset creation if a Hoodie dataset was not already registered
    * 944f007 Implement Review comments
    * 6a5b675 Implement Review Comments
    * bfde3a9 Implement review comments
    * d195ab3 Implementing Commit Archiving
    * 8af656b Exception refactor - part 2
    * 697a699 HoodieTableMetadata refactor and Exception refactor
    * 7804ca3 Adding HoodieAppendLog (fork of SequenceFile) & Initial Impl of HoodieCommitArchiveLog
    * 2db4931 Adjust partitionFileRDD parallelism to max(recordRDD partitions, total partitions)
    * 23405c5 Config name changes
    * 5e673ea Implementing more CLI commands
    * 918cfce Moving to 0.1.1-SNAPSHOT
    * afad497 Change the master branch to 0.2-SNAPSHOT
    * 832c1a7 Make sure the bloom filter reading and tagging has a parellel factor >= group by parallelism
    * 0a6a6d3 Prepare the v0.1 version
    * 72cfbe2 The snapshoter should also copy hoodie.properties file
    * 3b0ee45 Add one more metric
    * 488f1c7 Add switch for cleaning out inflight commits
    * a259b6f Adding textutils jar to hoodie build
    * 36e3118 Fix Hoodie CLI - ClassNotFound and added more logging to JDBC Incremental pull
    * 2c8f554 Fix Predicate pushdown during incremental pull
    * 888ec20 Add one more graphite metrics
    * a671dfc Ensure files picked for cleaning are part of some valid commit
    * ba5cd65 Adding cleaning based on last X commits
    * 7dc76d3 Organize config values by category
    * 9da6474 Move cleaning logic into HoodieCleaner class
    * 7becba9 Change the update metric name
    * d32b1f3 Fix some graphite issues
    * 365ee14 hot fix a stupid bug I made
    * 93eab43 Adding a hoodie.table.type value to hoodie.properties on init
    * 075c646 Add the database name to the sync
    * 3bae059 Adding HoodieKey as metadata field into Record
    * 61513fa Add stats and more cli commands
    * b0cb112 New Hoodie CLI Framework. Implement CLI function parity with the current CLI
    * aaa1bf8 New Hoodie CLI Framework. Implement CLI function parity with the current CLI
    * 3a3db73 New Hoodie CLI Framework. Implement CLI function parity with the current CLI
    * c413342 Fail the job if exception during writing old records
    * 7304d3d Exclude javax.servlet from hive-jdbc
    * 3d65b50 Add the datestr <> '0000-00-00' back to the incremental sql
    * 0577661 HoodieIncrementalConfig not used anymore
    * 5338004 Fixing multiple minor issues we found during the SQLStreamer demo preperation
    * 0744283 Fix the Hive server and Spark Hive client mismatch by setting userClassPathFirst=true and creating a assembly jar with all hadoop related dependencies excluded
    * c189dc0 Kickoff hdrone sync after SQLStreamer finishing committing to target hoodie dataset
    * 1eb8da0 Check if the .commit file is empty
    * f95386a Add support for rollbacking .inflight commit in Admin CLI
    * 97595ea Update the record count when upserting
    * 49139cd Remove table config and add _SUCCESS tag
    * 8500a48 Catch the exception when upserting
    *   10bcc19 Merge branch 'sqlload'
    |\
    | * 10fcc88 More log statements
    | *   ca6b71d Merge with master
    | |\
    | | *   b33db25 Merge remote-tracking branch 'origin/sqlload' into sqlload
    | | |\
    | | | * 8fca7c6 insert() takes a JavaRDD<HoodieRecord> again
    | | * | 63db8c6 Fix test breakage from javax.servlet pom dependency
    | | * | b2cff33 insert() takes a JavaRDD<HoodieRecord> again
    | | * | 0162930 Minor Fixes
    | | * | a0eb0b8 Minor Fixes
    | | * | 5853e7c Minor fixed to HoodieSQLStreamer
    | | * | 379bbed HoodieSQLStreamer improvements
    | | * | 22bf816 Remove setJsonPayload() and other non-generic calls from HoodieRecordPayload
    | | * | 4cacde6 Remove setJsonPayload() and other non-generic calls from HoodieRecordPayload
    | | * | 5f985f3 Refactor of AvroParquetIO and create proper abstraction for StorageWriter
    | | * | 6b90bb0 Refactor to introduce proper abstractions for RawTripPayload and implement HoodieSQLStreamer
    | | * | ff24ce8 Implementation of HoodieSQLStreamer
    | | * | abae08a Implementation of HoodieSQLStreamer
    | * | | c2d306d Fixes to HoodieSQLStreamer
    | | |/
    | |/|
    | * | 70bad72 Minor Fixes
    | * | 8da6abf Minor Fixes
    | * | 6b9d16b Minor fixed to HoodieSQLStreamer
    | * | f76f5b8 HoodieSQLStreamer improvements
    | * | 5f1425e Remove setJsonPayload() and other non-generic calls from HoodieRecordPayload
    | * | 616e2ee Remove setJsonPayload() and other non-generic calls from HoodieRecordPayload
    | * | 9e77ef9 Refactor of AvroParquetIO and create proper abstraction for StorageWriter
    | * | 14e4812 Refactor to introduce proper abstractions for RawTripPayload and implement HoodieSQLStreamer
    | * | 3b05f04 Implementation of HoodieSQLStreamer
    | * | 1484c34 Implementation of HoodieSQLStreamer
    * | | b3b9754 Standardize UTF-8 for getBytes() calls
    | |/
    |/|
    * | 8cde079 Add graphite metrics to HoodieClient
    * | b94afad Add testcase for the snapshot copy
    |/
    * 8567225 T417977. WriteStatus for failed records
    * 11d7cd2 Add code to deflate the HoodieRecord after writing it to storage
    * 9edafb4 Add a daily snapshot job
    * 2962bf6 Fix the last file non-closed issue
    * d995b6b SizeAwareParquetWriter will now have a fixed compression ratio
    * 6b5f67f HoodieWrapperFileSystem should initialize the underlying filesystem with default uri
    * 2a607c2 Merging conflicts with master
    * ac9852d Auto size parquet files to just under block size based on incoming records size
    * 3c4c0d0 Remove client code leaks & add parallelism config for sorting
    * 1e51e30 Add UpsertHandle
    * 685ca1f Add hoodie cli
    * ded7f6c CR feedback incorporated
    * d532089 Change the return type to a RDD
    * 22533c1 Fix bug in cleanup logic by using TaskContext.getPartitionId() in place of unitNumber
    * 86532fb Implement insert() using sorting, to align file sizes easily
    * 0967e1c Add hook to compare old record with new incoming record
    *   f48b048 Merge branch 'sort-based-dag'
    |\
    | * 3614cec Rename write() -> upsert() and load() -> insert()
    * | 65cf631 Parquet version mismatch in HoodieInputFormat
    * | 160303b Formatting change
    * | 2c079c8 Formatting change
    |/
    * e4eb658 Fix formatting
    * 025114a Add test for HoodieAvroWriteSupport
    * 6fd11ef Fix small bug in HoodieCommits & correct doc to reflect exclusivity of findCommitsInRange  - Added simple unit test
    * 05659c9 Add tests around HoodieClient apis
    * 8d3f73e Fix some small bugs
    * 7f1c4bc Modify HoodieInputFormatTest to make it certain that incremental pull is only pulling the required records
    * 2b73ba0 Remove direct versioning in pom
    * dd5695f Comment change
    * f62eef7 Unit test for predicate pushdown
    * 9941dad Fixing an issue which results in unsorted commits
    * 5e71506 Update README
    * 219e103 InputFormat unit tests
    * 8f1c7ba Enable cobertura coverage to be run with mvn test
    * 01f76e3 Call out self-join limitation in README
    * 4284a73 Defaulting to Google Java Style and reformatting existing code
    * de2cbda Making sure that incremental does not send duplicate records
    * f6a3833 Implement Review comments
    * 1de5025 Refactor in HoodieTableMetadata, HoodieInputFormat
    * 549ad9a Fixing broken test schemas
    * fbb2190 update the unit number
    * 9353ba9 Change the io number to 1 for old load data
    * e28f0cf Add commit metadata fields to create_table.sql
    * d06e93d Pull avroFn & dedupeFn into a single HoodieClientHooks class
    * b6d387f Changes to sequence_no/commit metadata addition
    * 212d237 Add some benchmark results to the code
    * 70d7715 Add commit rollback logic
    * 54a4d0f Use FSUtils helper to detemine fileId
    * 4b672ad Core classes refactoring
    * f705fab Move partitionPath back into HoodieKey
    * 39b3ff3 Cleanup Sample job & add a detailed quickstart
    * 981c6f7 fix the hoodie-query-meta pom
    * 371ab34 Publish hoodie to uber internal artifactory
    * b4e83bc improvement on the bloom index tag job
    * 779b502 Change to use hadoop's bloom filter
    * cfbd9e6 Add bloom filter indexing mechanism
    * f519c47 Initial Implementation of storing the client metadata for hoodie queries
    * d5eccea Initial Implementation of storing the client metadata for hoodie queries
    * ef34482 Pass on the HDrone configuration profile as an argument
    * 5578cd3 Implement initial incremental tailing support in InputFormat and provide a seperate module for Hdrone registration to be created as a oozie trigger
    * b08e5ff Merge branch 'master' into AddBloomFilterWriteSupport
    * 20b7e8e fix a typo
    * 4c39407 Quick fix for the HBASE indx duplicates records issue
    * 6dca38f Adding code to sync to hive using hdrone
    * 55a1d44 Fixes to InputFormat. Created a placeholder OutputFormat.
    * beda7ed Revise the globPartitions to avoid the bad partition paths
    * 5d889c0 Fix a wrong config
    * a60fbdf First version to add load function
    * 4b90944 Adding detailed metadata to each commit
    * 4a97a6c Changes to backfill script + enabling spark event log
    * ada2b79 Discard records without partition path & move parquet writer to snappy
    * 954c933 Adding backfill script  - Cleanups & additional cmd line options to job  - Changed iounit logic to special case 2010-2014 again
    * 8b5e288 Breaking apart backfill job & single run into two classes
    * ebdcbea Handle partial failures in update()
    * 4bf6ffe Fixing an issue where file name is not present
    * e468bff Fix couple of issues with Hbase indexing and commit ts checks
    * 17da30c Changing de-dupe implementation to be a Spark reduceByKey
    * 248c725 removed coalescing which was put in there for testing
    * 1b3f929 Implement compression when storing large json strings in memory
    * 5bada98 Changes to accomodate task failure handling, on top of cleaner
    * 66f895a Clean out files generated by previous failed attempts
    * 9cbe370 Implementing a rudimentary cleaner & avro conversion rewrite
    * 3606658 Adding configs for iounits & reduce parallelism
    * 066c2f5 Registering the Hoodie classes with Kryo
    * 342eed1 Implementing a rudimentary cleaner
    *   0d20d1d Merge branch 'trip-test-run'
    |\
    | * 6eafdbb Adding de-dupe step before writing/shuffling
    * | 34baba7 Packaging hadoop-common with the hadoop-mr InputFormat JAR
    |/
    * d5856db Merge HoodieInputFormat with existing code. Factor out common logic into hadoop-common. Tune the partitions, spark executors, parquet parameters to be able to run on a single day of input data
    * e8885ce Introduce IOUnit to split parallelize inserts
    * ab1977a Pushing in a real Spark job that works off real data
    * 0c86645 HoodirInputFormat with TestDataSimulator
    * 6af483c Initial checkin for HoodieInputFormat
    * 99c58f2 Implementing HBase backed index
    * 4177529 First major chunk of Hoodie Spark Client Impl
    * 29fad70 Benchmark bloom filter file read performance
    * 18f52a4 Checking in the simulation code, measuring cost of trip's file-level updates
    * 885f444 Adding basic datastructures for Client, key & record.
    * 72e7b4d Initial commit

70	0	.gitignore
614	0	LICENSE.txt
205	0	README.md
0	10	hoodie-cli/pom.xml
1	1	hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala
142	0	hoodie-client/pom.xml
299	0	hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java
556	0	hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java
133	0	hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java
49	0	hoodie-client/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java
175	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java
107	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java
112	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java
85	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java
308	0	hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java
32	0	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCommitException.java
35	0	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieDependentSystemUnavailableException.java
30	0	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieInsertException.java
28	0	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieRollbackException.java
32	0	hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieUpsertException.java
52	0	hoodie-client/src/main/java/com/uber/hoodie/func/InsertMapFunction.java
114	0	hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java
128	0	hoodie-client/src/main/java/com/uber/hoodie/func/LazyIterableIterator.java
229	0	hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java
422	0	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java
193	0	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndexCheckFunction.java
101	0	hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java
109	0	hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java
43	0	hoodie-client/src/main/java/com/uber/hoodie/index/IndexLookupResult.java
224	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java
144	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java
92	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java
125	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java
193	0	hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java
66	0	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java
107	0	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java
29	0	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriter.java
56	0	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java
677	0	hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java
59	0	hoodie-client/src/main/java/com/uber/hoodie/io/storage/SizeAwareFSDataOutputStream.java
148	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java
37	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/InMemoryMetricsReporter.java
87	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java
95	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsGraphiteReporter.java
36	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporter.java
48	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterFactory.java
26	0	hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterType.java
451	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java
98	0	hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java
115	0	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java
67	0	hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java
23	0	hoodie-client/src/main/resources/log4j.properties
81	0	hoodie-client/src/test/java/HoodieClientExample.java
634	0	hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java
81	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java
169	0	hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java
107	0	hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java
119	0	hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java
439	0	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieBloomIndex.java
44	0	hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java
175	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java
164	0	hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java
45	0	hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java
431	0	hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java
23	0	hoodie-client/src/test/resources/exampleEvolvedSchema.txt
19	0	hoodie-client/src/test/resources/exampleSchema.txt
23	0	hoodie-client/src/test/resources/log4j.properties
108	0	hoodie-common/src/main/java/com/uber/hoodie/common/GenericHoodiePayload.java
395	0	pom.xml

commit 0512da094bad2f3bcd2ddddc29e8abfec175dcfe
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   2016-12-16 14:03:59 -0800

    Import from Hoodie private repo: Part 1

4	0	hoodie-cli/hoodie-cli.sh
-	-	hoodie-cli/lib/dnl/utils/textutils/0.3.3/textutils-0.3.3.jar
208	0	hoodie-cli/pom.xml
54	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java
37	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieHistoryFileNameProvider.java
34	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java
49	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java
55	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieSplashScreen.java
33	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/Main.java
244	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java
42	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java
106	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java
78	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RecordsCommand.java
94	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java
136	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java
34	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/UtilsCommand.java
38	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java
125	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java
56	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/InputStreamConsumer.java
75	0	hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java
26	0	hoodie-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml
179	0	hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala
141	0	hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala
94	0	hoodie-common/pom.xml
54	0	hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java
166	0	hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java
100	0	hoodie-common/src/main/java/com/uber/hoodie/common/BloomFilter.java
3826	0	hoodie-common/src/main/java/com/uber/hoodie/common/file/HoodieAppendLog.java
190	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java
191	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommits.java
57	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFile.java
73	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java
153	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java
69	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java
57	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java
480	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableMetadata.java
35	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java
158	0	hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java
117	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java
140	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java
26	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/NumericUtils.java
138	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java
43	0	hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java
32	0	hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java
55	0	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieException.java
37	0	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIOException.java
34	0	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIndexException.java
35	0	hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRecordMissingException.java
32	0	hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidDatasetException.java
45	0	hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java
96	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java
48	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommits.java
242	0	hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieTableMetadata.java
70	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java
35	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestNumericUtils.java
92	0	hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java
